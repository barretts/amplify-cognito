/*! For license information please see build.js.LICENSE.txt */
(()=>{var e,t,n,r,o={15885:(e,t,n)=>{var r=n(18010),o=n(15705),i=o;i.v1=r,i.v4=o,e.exports=i},61901:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},54478:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},18010:(e,t,n)=>{var r,o,i=n(54478),a=n(61901),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=f;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=h/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},15705:(e,t,n)=>{var r=n(54478),o=n(61901);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},97301:(e,t,n)=>{"use strict";n.d(t,{xC:()=>de,wT:()=>ue});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var s=n(79800);function l(e,t,n){return new s._("Syntax Error: ".concat(n),void 0,e,[t])}var c=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function d(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,u&&(e.prototype[u]=t)}var f=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();d(f);var p=function(){function e(e,t,n,r,o,i,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=a,this.prev=i,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function h(e){return null!=e&&"string"==typeof e.kind}d(p);var m=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"}),g=n(99763);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e){return b(e,[])}function b(e,t){switch(v(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(u)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:b(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,o=[],i=0;i<n;++i)o.push(b(e[i],t));return 1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items")),"["+o.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+b(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function _(e,t){if(!Boolean(e))throw new Error(t)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||_(0,"Body must be a string. Received: ".concat(y(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||_(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||_(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:g.YF,get:function(){return"Source"}}])&&w(t.prototype,n),e}(),S=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function E(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,o=0,i=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,o=0;break;case 9:case 32:++o;break;default:r&&!n&&(null===i||o<i)&&(i=o),r=!1}return null!==(t=i)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var o=0;o<t.length&&C(t[o]);)++o;for(var i=t.length;i>o&&C(t[i-1]);)--i;return t.slice(o,i).join("\n")}function C(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var k=function(){function e(e){var t=new p(m.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==m.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=T(this,e)}while(e.kind===m.COMMENT);return e},e}();function A(e){return isNaN(e)?m.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function T(e,t){for(var n=e.source,r=n.body,o=r.length,i=t.end;i<o;){var a=r.charCodeAt(i),s=e.line,c=1+i-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 33:return new p(m.BANG,i,i+1,s,c,t);case 35:return P(n,i,s,c,t);case 36:return new p(m.DOLLAR,i,i+1,s,c,t);case 38:return new p(m.AMP,i,i+1,s,c,t);case 40:return new p(m.PAREN_L,i,i+1,s,c,t);case 41:return new p(m.PAREN_R,i,i+1,s,c,t);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return new p(m.SPREAD,i,i+3,s,c,t);break;case 58:return new p(m.COLON,i,i+1,s,c,t);case 61:return new p(m.EQUALS,i,i+1,s,c,t);case 64:return new p(m.AT,i,i+1,s,c,t);case 91:return new p(m.BRACKET_L,i,i+1,s,c,t);case 93:return new p(m.BRACKET_R,i,i+1,s,c,t);case 123:return new p(m.BRACE_L,i,i+1,s,c,t);case 124:return new p(m.PIPE,i,i+1,s,c,t);case 125:return new p(m.BRACE_R,i,i+1,s,c,t);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?L(n,i,s,c,t,e):N(n,i,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return O(n,i,a,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return D(n,i,s,c,t)}throw l(n,i,I(a))}var u=e.line,d=1+i-e.lineStart;return new p(m.EOF,o,o,u,d,t)}function I(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(A(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(A(e),".")}function P(e,t,n,r,o){var i,a=e.body,s=t;do{i=a.charCodeAt(++s)}while(!isNaN(i)&&(i>31||9===i));return new p(m.COMMENT,t,s,n,r,o,a.slice(t+1,s))}function O(e,t,n,r,o,i){var a=e.body,s=n,c=t,u=!1;if(45===s&&(s=a.charCodeAt(++c)),48===s){if((s=a.charCodeAt(++c))>=48&&s<=57)throw l(e,c,"Invalid number, unexpected digit after 0: ".concat(A(s),"."))}else c=M(e,c,s),s=a.charCodeAt(c);if(46===s&&(u=!0,s=a.charCodeAt(++c),c=M(e,c,s),s=a.charCodeAt(c)),69!==s&&101!==s||(u=!0,43!==(s=a.charCodeAt(++c))&&45!==s||(s=a.charCodeAt(++c)),c=M(e,c,s),s=a.charCodeAt(c)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw l(e,c,"Invalid number, expected digit but got: ".concat(A(s),"."));return new p(u?m.FLOAT:m.INT,t,c,r,o,i,a.slice(t,c))}function M(e,t,n){var r=e.body,o=t,i=n;if(i>=48&&i<=57){do{i=r.charCodeAt(++o)}while(i>=48&&i<=57);return o}throw l(e,o,"Invalid number, expected digit but got: ".concat(A(i),"."))}function N(e,t,n,r,o){for(var i,a,s,c,u=e.body,d=t+1,f=d,h=0,g="";d<u.length&&!isNaN(h=u.charCodeAt(d))&&10!==h&&13!==h;){if(34===h)return g+=u.slice(f,d),new p(m.STRING,t,d+1,n,r,o,g);if(h<32&&9!==h)throw l(e,d,"Invalid character within String: ".concat(A(h),"."));if(++d,92===h){switch(g+=u.slice(f,d-1),h=u.charCodeAt(d)){case 34:g+='"';break;case 47:g+="/";break;case 92:g+="\\";break;case 98:g+="\b";break;case 102:g+="\f";break;case 110:g+="\n";break;case 114:g+="\r";break;case 116:g+="\t";break;case 117:var v=(i=u.charCodeAt(d+1),a=u.charCodeAt(d+2),s=u.charCodeAt(d+3),c=u.charCodeAt(d+4),R(i)<<12|R(a)<<8|R(s)<<4|R(c));if(v<0){var y=u.slice(d+1,d+5);throw l(e,d,"Invalid character escape sequence: \\u".concat(y,"."))}g+=String.fromCharCode(v),d+=4;break;default:throw l(e,d,"Invalid character escape sequence: \\".concat(String.fromCharCode(h),"."))}f=++d}}throw l(e,d,"Unterminated string.")}function L(e,t,n,r,o,i){for(var a=e.body,s=t+3,c=s,u=0,d="";s<a.length&&!isNaN(u=a.charCodeAt(s));){if(34===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return d+=a.slice(c,s),new p(m.BLOCK_STRING,t,s+3,n,r,o,E(d));if(u<32&&9!==u&&10!==u&&13!==u)throw l(e,s,"Invalid character within String: ".concat(A(u),"."));10===u?(++s,++i.line,i.lineStart=s):13===u?(10===a.charCodeAt(s+1)?s+=2:++s,++i.line,i.lineStart=s):92===u&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(d+=a.slice(c,s)+'"""',c=s+=4):++s}throw l(e,s,"Unterminated string.")}function R(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function D(e,t,n,r,o){for(var i=e.body,a=i.length,s=t+1,l=0;s!==a&&!isNaN(l=i.charCodeAt(s))&&(95===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122);)++s;return new p(m.NAME,t,s,n,r,o,i.slice(t,s))}function z(e,t){return new F(e,t).parseDocument()}var F=function(){function e(e,t){var n=function(e){return e instanceof x}(e)?e:new x(e);this._lexer=new k(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(m.NAME);return{kind:c.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:c.DOCUMENT,definitions:this.many(m.SOF,this.parseDefinition,m.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(m.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(m.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(m.BRACE_L))return{kind:c.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(m.NAME)&&(t=this.parseName()),{kind:c.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(m.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(m.PAREN_L,this.parseVariableDefinition,m.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:c.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(m.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(m.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(m.DOLLAR),{kind:c.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:c.SELECTION_SET,selections:this.many(m.BRACE_L,this.parseSelection,m.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(m.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(m.COLON)?(e=r,t=this.parseName()):t=r,{kind:c.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(m.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(m.PAREN_L,t,m.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(m.COLON),{kind:c.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:c.ARGUMENT,name:this.parseName(),value:(this.expectToken(m.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(m.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(m.NAME)?{kind:c.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:c.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:c.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:c.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case m.BRACKET_L:return this.parseList(e);case m.BRACE_L:return this.parseObject(e);case m.INT:return this._lexer.advance(),{kind:c.INT,value:t.value,loc:this.loc(t)};case m.FLOAT:return this._lexer.advance(),{kind:c.FLOAT,value:t.value,loc:this.loc(t)};case m.STRING:case m.BLOCK_STRING:return this.parseStringLiteral();case m.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:c.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:c.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:c.NULL,loc:this.loc(t)};default:return{kind:c.ENUM,value:t.value,loc:this.loc(t)}}case m.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:c.STRING,value:e.value,block:e.kind===m.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:c.LIST,values:this.any(m.BRACKET_L,(function(){return t.parseValueLiteral(e)}),m.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:c.OBJECT,fields:this.any(m.BRACE_L,(function(){return t.parseObjectField(e)}),m.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(m.COLON),{kind:c.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(m.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(m.AT),{kind:c.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(m.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(m.BRACKET_R),e={kind:c.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(m.BANG)?{kind:c.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:c.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===m.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(m.STRING)||this.peek(m.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(m.BRACE_L,this.parseOperationTypeDefinition,m.BRACE_R);return{kind:c.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(m.COLON);var n=this.parseNamedType();return{kind:c.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:c.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:c.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(m.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(m.AMP)||this.peek(m.NAME));return t}return this.delimitedMany(m.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(m.BRACE_L)&&this._lexer.lookahead().kind===m.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(m.BRACE_L,this.parseFieldDefinition,m.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(m.COLON);var o=this.parseTypeReference(),i=this.parseDirectives(!0);return{kind:c.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:i,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(m.PAREN_L,this.parseInputValueDef,m.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(m.COLON);var r,o=this.parseTypeReference();this.expectOptionalToken(m.EQUALS)&&(r=this.parseValueLiteral(!0));var i=this.parseDirectives(!0);return{kind:c.INPUT_VALUE_DEFINITION,description:t,name:n,type:o,defaultValue:r,directives:i,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:c.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:c.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(m.EQUALS)?this.delimitedMany(m.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:c.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(m.BRACE_L,this.parseEnumValueDefinition,m.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:c.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:c.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(m.BRACE_L,this.parseInputValueDef,m.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===m.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(m.BRACE_L,this.parseOperationTypeDefinition,m.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:c.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:c.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:c.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return{kind:c.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:c.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:c.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:c.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(m.AT);var n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var i=this.parseDirectiveLocations();return{kind:c.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:i,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(m.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==S[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new f(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw l(this._lexer.source,t.start,"Expected ".concat(j(e),", found ").concat(U(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==m.NAME||t.value!==e)throw l(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(U(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===m.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return l(this._lexer.source,t.start,"Unexpected ".concat(U(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function U(e){var t=e.value;return j(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function j(e){return function(e){return e===m.BANG||e===m.DOLLAR||e===m.AMP||e===m.PAREN_L||e===m.PAREN_R||e===m.SPREAD||e===m.COLON||e===m.EQUALS||e===m.AT||e===m.BRACKET_L||e===m.BRACKET_R||e===m.BRACE_L||e===m.PIPE||e===m.BRACE_R}(e)?'"'.concat(e,'"'):e}var B={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},V=Object.freeze({});function G(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var o=n?r.leave:r.enter;if("function"==typeof o)return o}else{var i=n?e.leave:e.enter;if(i){if("function"==typeof i)return i;var a=i[t];if("function"==typeof a)return a}}}function q(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B,r=void 0,o=Array.isArray(e),i=[e],a=-1,s=[],l=void 0,c=void 0,u=void 0,d=[],f=[],p=e;do{var m=++a===i.length,g=m&&0!==s.length;if(m){if(c=0===f.length?void 0:d[d.length-1],l=u,u=f.pop(),g){if(o)l=l.slice();else{for(var v={},b=0,_=Object.keys(l);b<_.length;b++){var w=_[b];v[w]=l[w]}l=v}for(var x=0,S=0;S<s.length;S++){var E=s[S][0],C=s[S][1];o&&(E-=x),o&&null===C?(l.splice(E,1),x++):l[E]=C}}a=r.index,i=r.keys,s=r.edits,o=r.inArray,r=r.prev}else{if(c=u?o?a:i[a]:void 0,null==(l=u?u[c]:p))continue;u&&d.push(c)}var k,A=void 0;if(!Array.isArray(l)){if(!h(l))throw new Error("Invalid AST Node: ".concat(y(l),"."));var T=G(t,l.kind,m);if(T){if((A=T.call(t,l,c,u,d,f))===V)break;if(!1===A){if(!m){d.pop();continue}}else if(void 0!==A&&(s.push([c,A]),!m)){if(!h(A)){d.pop();continue}l=A}}}void 0===A&&g&&s.push([c,l]),m?d.pop():(r={inArray:o,index:a,keys:i,edits:s,prev:r},i=(o=Array.isArray(l))?l:null!==(k=n[l.kind])&&void 0!==k?k:[],a=-1,s=[],u&&f.push(u),u=l)}while(void 0!==r);return 0!==s.length&&(p=s[s.length-1][1]),p}(e,{leave:H})}var H={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return K(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=Z("(",K(e.variableDefinitions,", "),")"),o=K(e.directives," "),i=e.selectionSet;return n||o||r||"query"!==t?K([t,K([n,r]),o,i]," "):i},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,o=e.directives;return t+": "+n+Z(" = ",r)+Z(" ",K(o," "))},SelectionSet:function(e){return $(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,o=e.directives,i=e.selectionSet,a=Z("",t,": ")+n,s=a+Z("(",K(r,", "),")");return s.length>80&&(s=a+Z("(\n",Y(K(r,"\n")),"\n)")),K([s,K(o," "),i]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+Z(" ",K(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return K(["...",Z("on ",t),K(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,o=e.directives,i=e.selectionSet;return"fragment ".concat(t).concat(Z("(",K(r,", "),")")," ")+"on ".concat(n," ").concat(Z("",K(o," ")," "))+i},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),o=" "===e[0]||"\t"===e[0],i='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||i||a||n,l="";return!s||r&&o||(l+="\n"+t),l+=t?e.replace(/\n/g,"\n"+t):e,s&&(l+="\n"),'"""'+l.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+K(e.values,", ")+"]"},ObjectValue:function(e){return"{"+K(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+Z("(",K(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:W((function(e){var t=e.directives,n=e.operationTypes;return K(["schema",K(t," "),$(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:W((function(e){return K(["scalar",e.name,K(e.directives," ")]," ")})),ObjectTypeDefinition:W((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return K(["type",t,Z("implements ",K(n," & ")),K(r," "),$(o)]," ")})),FieldDefinition:W((function(e){var t=e.name,n=e.arguments,r=e.type,o=e.directives;return t+(X(n)?Z("(\n",Y(K(n,"\n")),"\n)"):Z("(",K(n,", "),")"))+": "+r+Z(" ",K(o," "))})),InputValueDefinition:W((function(e){var t=e.name,n=e.type,r=e.defaultValue,o=e.directives;return K([t+": "+n,Z("= ",r),K(o," ")]," ")})),InterfaceTypeDefinition:W((function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return K(["interface",t,Z("implements ",K(n," & ")),K(r," "),$(o)]," ")})),UnionTypeDefinition:W((function(e){var t=e.name,n=e.directives,r=e.types;return K(["union",t,K(n," "),r&&0!==r.length?"= "+K(r," | "):""]," ")})),EnumTypeDefinition:W((function(e){var t=e.name,n=e.directives,r=e.values;return K(["enum",t,K(n," "),$(r)]," ")})),EnumValueDefinition:W((function(e){return K([e.name,K(e.directives," ")]," ")})),InputObjectTypeDefinition:W((function(e){var t=e.name,n=e.directives,r=e.fields;return K(["input",t,K(n," "),$(r)]," ")})),DirectiveDefinition:W((function(e){var t=e.name,n=e.arguments,r=e.repeatable,o=e.locations;return"directive @"+t+(X(n)?Z("(\n",Y(K(n,"\n")),"\n)"):Z("(",K(n,", "),")"))+(r?" repeatable":"")+" on "+K(o," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return K(["extend schema",K(t," "),$(n)]," ")},ScalarTypeExtension:function(e){return K(["extend scalar",e.name,K(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return K(["extend type",t,Z("implements ",K(n," & ")),K(r," "),$(o)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,o=e.fields;return K(["extend interface",t,Z("implements ",K(n," & ")),K(r," "),$(o)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return K(["extend union",t,K(n," "),r&&0!==r.length?"= "+K(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return K(["extend enum",t,K(n," "),$(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return K(["extend input",t,K(n," "),$(r)]," ")}};function W(e){return function(t){return K([t.description,e(t)],"\n")}}function K(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function $(e){return Z("{\n",Y(K(e,"\n")),"\n}")}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function Y(e){return Z("  ",e.replace(/\n/g,"\n  "))}function J(e){return-1!==e.indexOf("\n")}function X(e){return null!=e&&e.some(J)}var Q=n(35069),ee=n(40611),te=n(9270),ne=n(88229),re=n(25387),oe=n(33658),ie=n(91021),ae=n(81282),se=n(68006),le=n(11445),ce=new Q.k("GraphQLAPI"),ue=function(e,t,n,r){return void 0===t&&(t={}),{query:e,variables:t,authToken:n,userAgentSuffix:r}},de=function(){function e(e){this._api=null,this.Auth=ie.g,this.Cache=ae._,this.Credentials=ee.c,this._options=e,ce.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,o=void 0===n?{}:n,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["API"]),a=r(r({},i),o);return ce.debug("configure GraphQL API",{opt:a}),a.aws_project_region&&(a=Object.assign({},a,{region:a.aws_project_region,header:{}})),void 0!==a.graphql_headers&&"function"!=typeof a.graphql_headers&&(ce.warn("graphql_headers should be a function"),a.graphql_headers=void 0),this._options=Object.assign({},this._options,a),this.createInstance(),this._options},e.prototype.createInstance=function(){return ce.debug("create Rest instance"),this._options?(this._api=new le.H(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var n,r,o,a,s,l,c,u;return i(this,(function(i){switch(i.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,a={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(se.j.NO_API_KEY);return a={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!i.sent())throw new Error(se.j.NO_CREDENTIALS);return[3,17];case 4:return i.trys.push([4,9,,10]),s=void 0,[4,ae._.getItem("federatedInfo")];case 5:return(l=i.sent())?(s=l.token,[3,8]):[3,6];case 6:return[4,ie.g.currentAuthenticatedUser()];case 7:(c=i.sent())&&(s=c.token),i.label=8;case 8:if(!s)throw new Error(se.j.NO_FEDERATED_JWT);return a={Authorization:s},[3,10];case 9:throw i.sent(),new Error(se.j.NO_CURRENT_USER);case 10:return[3,17];case 11:return i.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return u=i.sent(),a={Authorization:u.getAccessToken().getJwtToken()},[3,14];case 13:throw i.sent(),new Error(se.j.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(se.j.NO_AUTH_TOKEN);return a={Authorization:t.Authorization},[3,17];case 16:return a={Authorization:null},[3,17];case 17:return[2,a]}}))}))},e.prototype.getGraphqlOperationType=function(e){return a(z(e).definitions,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,o=void 0===r?{}:r,i=e.authMode,s=e.authToken,l=e.userAgentSuffix,c=z("string"==typeof n?n:q(n)),u=a(c.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],d=(void 0===u?{}:u).operation,f=t||{};switch(s&&(f.Authorization=s),d){case"query":case"mutation":this.createInstanceIfNotCreated();var p=this._api.getCancellableToken(),h={cancellableToken:p,withCredentials:this._options.withCredentials},m=this._graphql({query:c,variables:o,authMode:i,userAgentSuffix:l},f,h);return this._api.updateRequestToBeCancellable(m,p),m;case"subscription":return this._graphqlSubscribe({query:c,variables:o,authMode:i},f);default:throw new Error("invalid operation type: "+d)}},e.prototype._graphql=function(e,t,n){var a=e.query,l=e.variables,c=e.authMode,u=e.userAgentSuffix;return void 0===t&&(t={}),void 0===n&&(n={}),o(this,void 0,void 0,(function(){var e,o,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T,I;return i(this,(function(i){switch(i.label){case 0:return this.createInstanceIfNotCreated(),e=this._options,o=e.aws_appsync_region,d=e.aws_appsync_graphqlEndpoint,f=e.graphql_headers,p=void 0===f?function(){return{}}:f,h=e.graphql_endpoint,m=e.graphql_endpoint_iam_region,v=[{}],(y=!h)?[4,this._headerBasedAuth(c,t)]:[3,2];case 1:y=i.sent(),i.label=2;case 2:return b=[r.apply(void 0,v.concat([y]))],(_=h)?m?[4,this._headerBasedAuth(c,t)]:[3,4]:[3,6];case 3:return w=i.sent(),[3,5];case 4:w={Authorization:null},i.label=5;case 5:_=w,i.label=6;case 6:return x=[r.apply(void 0,b.concat([_]))],[4,p({query:a,variables:l})];case 7:if(g=r.apply(void 0,[r.apply(void 0,[r.apply(void 0,x.concat([i.sent()])),t]),!h&&(I={},I["x-amz-user-agent"]=(0,te.Z)(u),I)]),S={query:q(a),variables:l},E=Object.assign({headers:g,body:S,signerServiceInfo:{service:h?"execute-api":"appsync",region:h?m:o}},n),!(C=h||d))throw{data:{},errors:[new s._("No graphql endpoint provided.")]};i.label=8;case 8:return i.trys.push([8,10,,11]),[4,this._api.post(C,E)];case 9:return k=i.sent(),[3,11];case 10:if(A=i.sent(),this._api.isCancel(A))throw A;return k={data:{},errors:[new s._(A.message,null,null,null,null,A)]},[3,11];case 11:if((T=k.errors)&&T.length)throw k;return[2,k]}}))}))},e.prototype.createInstanceIfNotCreated=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,o=e.authMode,i=e.authToken;void 0===t&&(t={});var a=this._options,s=a.aws_appsync_region,l=a.aws_appsync_graphqlEndpoint,c=a.aws_appsync_authenticationType,u=a.aws_appsync_apiKey,d=a.graphql_headers,f=void 0===d?function(){return{}}:d,p=o||c||"AWS_IAM";if(oe.p&&"function"==typeof oe.p.subscribe)return oe.p.subscribe("",{provider:ne.om,appSyncGraphqlEndpoint:l,authenticationType:p,apiKey:u,query:q(n),region:s,variables:r,graphql_headers:f,additionalHeaders:t,authToken:i});throw ce.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return ce.debug("set credentials for api",n),!0})).catch((function(e){return ce.warn("ensure credentials error",e),!1}))},e}(),fe=new de(null);re.d.register(fe)},68006:(e,t,n)=>{"use strict";var r;n.d(t,{j:()=>r}),function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(r||(r={}))},11445:(e,t,n)=>{"use strict";n.d(t,{H:()=>p});var r=n(73119),o=n(35069),i=n(40611),a=n(9270),s=n(74018),l=n(90633),c=n(731),u=n.n(c),d=n(8575),f=new o.k("RestClient"),p=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=i.c,this._options=e,f.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var o,i,l,c,u,p,h,m,g,v,y,b,_,w,x=this;return(0,r.Jh)(this,(function(S){switch(S.label){case 0:return f.debug(t,e),l="us-east-1",c="execute-api",u=void 0,"string"==typeof e?(o=this._parseUrl(e),i=e):(i=e.endpoint,u=e.custom_header,l=e.region,c=e.service,o=this._parseUrl(e.endpoint)),p={method:t,url:i,host:o.host,path:o.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},h={},a.t.isReactNative&&(m=a.t.userAgent||"aws-amplify/0.1.x",h={"User-Agent":m}),g=Object.assign({},n),v=g.response,g.body&&("function"==typeof FormData&&g.body instanceof FormData?(h["Content-Type"]="multipart/form-data",p.data=g.body):(h["Content-Type"]="application/json; charset=UTF-8",p.data=JSON.stringify(g.body))),g.responseType&&(p.responseType=g.responseType),g.withCredentials&&(p.withCredentials=g.withCredentials),g.timeout&&(p.timeout=g.timeout),g.cancellableToken&&(p.cancelToken=g.cancellableToken.token),p.signerServiceInfo=g.signerServiceInfo,"function"!=typeof u?[3,2]:[4,u()];case 1:return b=S.sent(),[3,3];case 2:b=void 0,S.label=3;case 3:return y=b,p.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},h),y),g.headers),(_=(0,d.Qc)(i,!0,!0)).search,w=(0,r._T)(_,["search"]),p.url=(0,d.WU)((0,r.pi)((0,r.pi)({},w),{query:(0,r.pi)((0,r.pi)({},w.query),g.queryStringParameters||{})})),void 0!==p.headers.Authorization?(p.headers=Object.keys(p.headers).reduce((function(e,t){return p.headers[t]&&(e[t]=p.headers[t]),e}),{}),[2,this._request(p,v)]):[2,this.Credentials.get().then((function(o){return x._signed((0,r.pi)({},p),o,v,{region:l,service:c}).catch((function(r){if(s.E.isClockSkewError(r)){var o=r.response.headers,i=o&&(o.date||o.Date),a=new Date(i),l=s.E.getDateFromHeaderString(p.headers["x-amz-date"]);if(s.E.isClockSkewed(a))return s.E.setClockOffset(a.getTime()-l.getTime()),x.ajax(e,t,n)}throw r}))}),(function(e){return f.debug("No credentials available, the request will be unsigned"),x._request(p,v)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return!!n&&(n.cancel(t),!0)},e.prototype.hasCancelToken=function(e){return this._cancelTokenMap.has(e)},e.prototype.isCancel=function(e){return u().isCancel(e)},e.prototype.getCancellableToken=function(){return u().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,o){var i=o.service,a=o.region,s=e.signerServiceInfo,c=(0,r._T)(e,["signerServiceInfo"]),d=a||this._region||this._options.region,p=i||this._service||this._options.service,h={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},m={region:d,service:p},g=Object.assign(m,s),v=l.E.sign(c,h,g);return v.data&&(v.body=v.data),f.debug("Signed Request: ",v),delete v.headers.host,u()(v).then((function(e){return n?e:e.data})).catch((function(e){throw f.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),u()(e).then((function(e){return t?e:e.data})).catch((function(e){throw f.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}()},731:(e,t,n)=>{e.exports=n(30317)},85660:(e,t,n)=>{"use strict";var r=n(90606),o=n(4813),i=n(78218),a=n(61283),s=n(49238),l=n(67318),c=n(52975),u=n(45709),d=n(91940),f=n(82446);e.exports=function(e){return new Promise((function(t,n){var p,h=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(h)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+_)}var w=s(e.baseURL,e.url);function x(){if(y){var r="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};o((function(e){t(e),v()}),(function(e){n(e),v()}),i),y=null}}if(y.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(x)},y.onabort=function(){y&&(n(u("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(u("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(w))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){y&&(n(!e||e&&e.type?new f("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),y.send(h)}))}},30317:(e,t,n)=>{"use strict";var r=n(90606),o=n(6574),i=n(86527),a=n(1988),s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(91940));s.Axios=i,s.Cancel=n(82446),s.CancelToken=n(79),s.isCancel=n(72710),s.VERSION=n(36641).version,s.all=function(e){return Promise.all(e)},s.spread=n(68433),s.isAxiosError=n(81323),e.exports=s,e.exports.default=s},82446:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},79:(e,t,n)=>{"use strict";var r=n(82446);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},72710:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},86527:(e,t,n)=>{"use strict";var r=n(90606),o=n(61283),i=n(72683),a=n(47092),s=n(1988),l=n(7406),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!o){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var f=t;r.length;){var p=r.shift(),h=r.shift();try{f=p(f)}catch(e){h(e);break}}try{i=a(f)}catch(e){return Promise.reject(e)}for(;u.length;)i=i.then(u.shift(),u.shift());return i},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},72683:(e,t,n)=>{"use strict";var r=n(90606);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},49238:(e,t,n)=>{"use strict";var r=n(80589),o=n(67110);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},45709:(e,t,n)=>{"use strict";var r=n(6546);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},47092:(e,t,n)=>{"use strict";var r=n(90606),o=n(6755),i=n(72710),a=n(91940),s=n(82446);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6546:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},1988:(e,t,n)=>{"use strict";var r=n(90606);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function l(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);r.isUndefined(o)&&t!==l||(n[e]=o)})),n}},4813:(e,t,n)=>{"use strict";var r=n(45709);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},6755:(e,t,n)=>{"use strict";var r=n(90606),o=n(91940);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},91940:(e,t,n)=>{"use strict";var r=n(90606),o=n(83613),i=n(6546),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(85660)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c},36641:e=>{e.exports={version:"0.26.0"}},6574:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},61283:(e,t,n)=>{"use strict";var r=n(90606);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},67110:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},78218:(e,t,n)=>{"use strict";var r=n(90606);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},80589:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},81323:(e,t,n)=>{"use strict";var r=n(90606);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},52975:(e,t,n)=>{"use strict";var r=n(90606);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},83613:(e,t,n)=>{"use strict";var r=n(90606);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},67318:(e,t,n)=>{"use strict";var r=n(90606),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},68433:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7406:(e,t,n)=>{"use strict";var r=n(36641).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],l=void 0===s||a(s,i,e);if(!0!==l)throw new TypeError("option "+i+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},90606:(e,t,n)=>{"use strict";var r=n(6574),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===o.call(e)}function l(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return l(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},73119:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>a,_T:()=>o,mG:()=>i,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}},36619:(e,t,n)=>{"use strict";n.d(t,{b:()=>v,Y:()=>g});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};var o=n(91021),i=n(81282),a=n(73119),s=n(11445),l=n(35069),c=n(40611),u=n(25387),d=new l.k("RestAPI"),f=function(){function e(e){this._api=null,this.Credentials=c.c,this._options=e,d.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,o=(0,a._T)(t,["API"]),i=(0,a.pi)((0,a.pi)({},o),r);if(d.debug("configure Rest API",{opt:i}),i.aws_project_region){if(i.aws_cloud_logic_custom){var s=i.aws_cloud_logic_custom;i.endpoints="string"==typeof s?JSON.parse(s):s}i=Object.assign({},i,{region:i.aws_project_region,header:{}})}return Array.isArray(i.endpoints)?i.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(d.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?i.endpoints=this._options.endpoints:i.endpoints=[],this._options=Object.assign({},this._options,i),this.createInstance(),this._options},e.prototype.createInstance=function(){return d.debug("create Rest API instance"),this._api=new s.H(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.get(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.post(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.put(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.patch(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.del(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),o=this._api.getCancellableToken(),i=Object.assign({},n);i.cancellableToken=o;var a=this._api.head(r,i);return this._api.updateRequestToBeCancellable(a,o),a}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.hasCancelToken=function(e){return this._api.hasCancelToken(e)},e.prototype.endpoint=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var o={endpoint:r.endpoint+t};return"string"==typeof r.region?o.region=r.region:"string"==typeof this._options.region&&(o.region=this._options.region),"string"==typeof r.service?o.service=r.service||"execute-api":o.service="execute-api","function"==typeof r.custom_header?o.custom_header=r.custom_header:o.custom_header=void 0,o},e}(),p=new f(null);u.d.register(p);var h=n(97301),m=new l.k("API"),g=function(){function e(e){this.Auth=o.g,this.Cache=i._,this.Credentials=c.c,this._options=e,this._restApi=new f(e),this._graphqlApi=new h.xC(e),m.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return r(r({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.hasCancelToken(e)?this._restApi.cancel(e,t):!!this._graphqlApi.hasCancelToken(e)&&this._graphqlApi.cancel(e,t)},e.prototype.endpoint=function(e){return t=this,n=void 0,o=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){return[2,this._restApi.endpoint(e)]}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}(),v=new g(null);u.d.register(v)},91021:(e,t,n)=>{"use strict";n.d(t,{g:()=>z});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var c=n(71672),u=n(35069),d=n(20490),f=n(40611),p=n(99820),h=n(11058),m=n(6648),g=n(59222),v=n(37439),y=n(25387),b=n(58243),_=n(8575),w=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},x=n(48764),S=n(41938),E="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",C=function(e,t,n){d.X.dispatch("auth",{event:e,data:t,message:n},"Auth",E)},k=new u.k("OAuth");const A=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,o=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||w,this._config=t,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,o,a){void 0===e&&(e="code"),void 0===o&&(o=c.JG.Cognito);var s=this._generateState(32),u=a?s+"-"+(0,v.T)(a):s;!function(e){window.sessionStorage.setItem("oauth_state",e)}(u);var d,f=this._generateRandom(128);d=f,window.sessionStorage.setItem("ouath_pkce_key",d);var p=this._generateChallenge(f),h=this._scopes.join(" "),m="https://"+t+"/oauth2/authorize?"+Object.entries(i(i({redirect_uri:n,response_type:e,client_id:r,identity_provider:o,scope:h,state:u},"code"===e?{code_challenge:p}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=l(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");k.debug("Redirecting to "+m),this._urlOpener(m,n)},e.prototype._handleCodeFlow=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,a,u,d,f,p,h,m,g,v,y;return s(this,(function(s){switch(s.label){case 0:return t=((0,_.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=l(t,2),o=r[0],a=r[1];return i(i({},e),((n={})[o]=a,n))}),{code:void 0}).code,n=(0,_.Qc)(e).pathname||"/",r=(0,_.Qc)(this._config.redirectSignIn).pathname||"/",t&&n===r?(o="https://"+this._config.domain+"/oauth2/token",C("codeFlow",{},"Retrieving tokens from "+o),a=(0,c.ic)(this._config)?this._cognitoClientId:this._config.clientID,u=(0,c.ic)(this._config)?this._config.redirectSignIn:this._config.redirectUri,b=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),f=i({grant_type:"authorization_code",code:t,client_id:a,redirect_uri:u},(d=b)?{code_verifier:d}:{}),k.debug("Calling token endpoint: "+o+" with",f),p=Object.entries(f).map((function(e){var t=l(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:p})]):[2];case 1:return[4,s.sent().json()];case 2:if(h=s.sent(),m=h.access_token,g=h.refresh_token,v=h.id_token,y=h.error)throw new Error(y);return[2,{accessToken:m,refreshToken:g,idToken:v}]}var b}))}))},e.prototype._handleImplicitFlow=function(e){return a(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(o){return t=((0,_.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=l(t,2),o=r[0],a=r[1];return i(i({},e),((n={})[o]=a,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,C("implicitFlow",{},"Got tokens from "+e),k.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,a,c,u;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,5,,6]),t=e?i(i({},((0,_.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=l(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})),((0,_.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=l(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return o=this._validateState(t),k.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(a=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,i.apply(void 0,[i.apply(void 0,a.concat([s.sent()])),{state:o}])];case 2:return c=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,i.apply(void 0,[i.apply(void 0,c.concat([s.sent()])),{state:o}])];case 4:return[3,6];case 5:throw u=s.sent(),k.error("Error handling auth response.",u),u;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return a(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=(0,c.ic)(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=(0,c.ic)(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=l(e,2);return t[0]+"="+t[1]})).join("&"),C("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),k.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){var t=new S.Sha256;t.update(e);var n=t.digestSync(),r=x.lW.from(n).toString("base64");return this._base64URL(r)},e.prototype._base64URL=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var o=e[r]%t.length;n.push(t[o])}return n.join("")},e}();var T=n(73926),I=new u.k("AuthError"),P=function(e){function t(n){var r=this,o=M[n],i=o.message,a=o.log;return(r=e.call(this,i)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||i,I.error(r.log),r}return o(t,e),t}(Error),O=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return o(t,e),t}(P),M={noConfig:{message:T.A.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:T.A.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:T.A.EMPTY_USERNAME},invalidUsername:{message:T.A.INVALID_USERNAME},emptyPassword:{message:T.A.EMPTY_PASSWORD},emptyCode:{message:T.A.EMPTY_CODE},signUpError:{message:T.A.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:T.A.NO_MFA},invalidMFA:{message:T.A.INVALID_MFA},emptyChallengeResponse:{message:T.A.EMPTY_CHALLENGE},noUserSession:{message:T.A.NO_USER_SESSION},deviceConfig:{message:T.A.DEVICE_CONFIG},networkError:{message:T.A.NETWORK_ERROR},autoSignInError:{message:T.A.AUTOSIGNIN_ERROR},default:{message:T.A.DEFAULT_MSG}},N=new u.k("AuthClass"),L="aws.cognito.signin.user.admin",R="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",D=function(e,t,n){d.X.dispatch("auth",{event:e,data:t,message:n},"Auth",R)},z=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.inflightSessionPromise=null,this.inflightSessionPromiseCounter=0,this.Credentials=f.c,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?D("tokenRefresh",void 0,"New token retrieved"):D("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),d.X.listen("auth",(function(e){switch(e.payload.event){case"verify":case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};N.debug("configure Auth");var n=Object.assign({},this._config,(0,p.h)(e).Auth,e);this._config=n;var r=this._config,o=r.userPoolId,i=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,l=r.region,u=r.identityPoolId,d=r.mandatorySignIn,f=r.refreshHandlers,v=r.identityPoolRegion,y=r.clientMetadata,_=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw N.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new b.eR(a):e.ssr?new h.N:(new m.c).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var w={UserPoolId:o,ClientId:i,endpoint:_};w.Storage=this._storage,this.userPool=new b.AM(w,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:d,region:l,userPoolId:o,identityPoolId:u,refreshHandlers:f,storage:this._storage,identityPoolRegion:v});var x=s?(0,c.ic)(this._config.oauth)?s:s.awsCognito:void 0;if(x){var S=Object.assign({cognitoClientId:i,UserPoolId:o,domain:x.domain,scopes:x.scope,redirectSignIn:x.redirectSignIn,redirectSignOut:x.redirectSignOut,responseType:x.responseType,Storage:this._storage,urlOpener:x.urlOpener,clientMetadata:y},x.options);this._oAuthHandler=new A({scopes:S.scopes,config:S,cognitoClientId:S.cognitoClientId});var E={};!function(e){if((0,g.lC)().isBrowser&&window.location)!function(e){var n=e.url;E[n]||(E[n]=!0,t._handleAuthResponse(n))}({url:window.location.href});else if(!(0,g.lC)().isNode)throw new Error("Not supported")}()}return D("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(D("autoSignIn_failure",null,c.Qg.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,n,r,o=this,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var s,l=null,u=null,d=[],f=null,p={enabled:!1},h={},m={};if(e&&"string"==typeof e){l=e,u=i?i[0]:null;var g=i?i[1]:null,v=i?i[2]:null;g&&d.push(new b.KC({Name:"email",Value:g})),v&&d.push(new b.KC({Name:"phone_number",Value:v}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(c.Qg.SignUpError);l=e.username,u=e.password,e&&e.clientMetadata?s=e.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata);var y=e.attributes;y&&Object.keys(y).map((function(e){d.push(new b.KC({Name:e,Value:y[e]}))}));var _=e.validationData;_&&(f=[],Object.keys(_).map((function(e){f.push(new b.KC({Name:e,Value:_[e]}))}))),(p=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),h=null!==(n=p.validationData)&&void 0!==n?n:{},m=null!==(r=p.clientMetaData)&&void 0!==r?r:{})}return l?u?(N.debug("signUp attrs:",d),N.debug("signUp validation data:",f),new Promise((function(e,t){o.userPool.signUp(l,u,d,f,(function(n,r){n?(D("signUp_failure",n,l+" failed to signup"),t(n)):(D("signUp",r,l+" has signed up successfully"),p.enabled&&o.handleAutoSignIn(l,u,h,m,r),e(r))}),s)}))):this.rejectAuthError(c.Qg.EmptyPassword):this.rejectAuthError(c.Qg.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,n,r,o){this.autoSignInInitiated=!0;var i=new b.sD({Username:e,Password:t,ValidationData:n,ClientMetadata:r});o.userConfirmed?this.signInAfterUserConfirmed(i):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(i):this.handleCodeAutoSignIn(i)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};d.X.listen("auth",n)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),D("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,n){return a(this,void 0,void 0,(function(){var r,o,i=this;return s(this,(function(a){switch(a.label){case 0:r=this.createCognitoUser(e.getUsername()),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){D("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&d.X.remove("auth",t),n&&(clearInterval(n),i._storage.removeItem("amplify-polling-started")),i._storage.removeItem("amplify-auto-sign-in")}),(function(e){N.error(e),i._storage.removeItem("amplify-auto-sign-in")})))];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),N.error(o),[3,4];case 4:return[2]}}))}))},e.prototype.confirmSignUp=function(e,t,n){var r=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(c.Qg.EmptyUsername);if(!t)return this.rejectAuthError(c.Qg.EmptyCode);var o,i=this.createCognitoUser(e),a=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise((function(n,s){i.confirmRegistration(t,a,(function(t,o){t?s(t):(D("confirmSignUp",o,e+" has been confirmed successfully"),r.isTrueStorageValue("amplify-auto-sign-in")&&!r.autoSignInInitiated&&(D("autoSignIn_failure",null,c.Qg.AutoSignInError),r._storage.removeItem("amplify-auto-sign-in")),n(o))}),o)}))},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(c.Qg.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,o=null,i={};if("string"==typeof e)r=e,o=t;else{if(!(0,c.lg)(e))return this.rejectAuthError(c.Qg.InvalidUsername);void 0!==t&&N.warn("The password should be defined under the first parameter object!"),r=e.username,o=e.password,i=e.validationData}if(!r)return this.rejectAuthError(c.Qg.EmptyUsername);var a=new b.sD({Username:r,Password:o,ValidationData:i,ClientMetadata:n});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,o=this;return{onSuccess:function(i){return a(r,void 0,void 0,(function(){var r,a,l,c;return s(this,(function(s){switch(s.label){case 0:N.debug(i),delete e.challengeName,delete e.challengeParam,s.label=1;case 1:return s.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return s.sent(),[4,this.Credentials.set(i,"session")];case 3:return r=s.sent(),N.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=s.sent(),N.debug("cannot get cognito credentials",a),[3,9];case 5:return s.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return l=s.sent(),o.user=l,D("signIn",l,"A user "+e.getUsername()+" has been signed in"),t(l),[3,8];case 7:return c=s.sent(),N.error("Failed to get the signed in user",c),n(c),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){N.debug("signIn failure",t),D("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){N.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){N.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){N.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){N.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){N.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){N.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,o){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,o(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,o){n.initiateAuth(e,t.authCallbacks(n,r,o))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return N.debug("get MFA Options failed",e),void n(e);N.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(o,i){var l=n._config.clientMetadata,c=!!t&&t.bypassCache;e.getUserData((function(t,l){return a(n,void 0,void 0,(function(){var n,a;return s(this,(function(s){switch(s.label){case 0:if(!t)return[3,5];if(N.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:return(a=r._getMfaTypeFromUserData(l))?(o(a),[2]):(i("invalid MFA Type"),[2])}}))}))}),{bypassCache:c,clientMetadata:l})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;r?0===r.length?t="NOMFA":N.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,o){e.getUserData((function(t,i){return a(n,void 0,void 0,(function(){var n;return s(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(N.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:r(i),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return a(this,void 0,void 0,(function(){var n,r,o,i,l,u,d=this;return s(this,(function(f){switch(f.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=f.sent(),o=null,i=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return l=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(u=f.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(c.Qg.InvalidMFA)];i={PreferredMfa:!1,Enabled:!1}}return l&&0!==l.length&&l.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(i={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return N.debug("no validmfa method provided"),[2,this.rejectAuthError(c.Qg.NoMFA)];case 7:return[2,new Promise((function(t,r){e.setUserMfaPreference(o,i,(function(o,i){if(o)return N.debug("Set user mfa preference error",o),r(o);N.debug("Set user mfa success",i),N.debug("Caching the latest user data into local"),e.getUserData((function(n,o){return a(d,void 0,void 0,(function(){var o;return s(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(N.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return o=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(i)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return N.debug("disable mfa failed",e),void n(e);N.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return N.debug("enable mfa failed",e),void n(e);N.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){N.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){N.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return N.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){N.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){D("signIn",e,"A user "+e.getUsername()+" has been signed in"),D("verify",e,"A user "+e.getUsername()+" has been verified"),N.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var o=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(c.Qg.EmptyCode);var i=this;return new Promise((function(l,c){e.sendMFACode(t,{onSuccess:function(t){return a(o,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:N.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),N.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),N.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,D("signIn",e,"A user "+e.getUsername()+" has been signed in"),l(e),[7];case 6:return[2]}}))}))},onFailure:function(e){N.debug("confirm signIn failure",e),c(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var o=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(c.Qg.EmptyPassword);var i=this;return new Promise((function(l,c){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return a(o,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:N.debug(t),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=o.sent(),N.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=o.sent(),N.debug("cannot get cognito credentials",r),[3,6];case 5:return i.user=e,D("signIn",e,"A user "+e.getUsername()+" has been signed in"),l(e),[7];case 6:return[2]}}))}))},onFailure:function(e){N.debug("completeNewPassword failure",e),D("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),c(e)},mfaRequired:function(t,n){N.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,l(e)},mfaSetup:function(t,n){N.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,l(e)},totpRequired:function(t,n){N.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,l(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise((function(o,i){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,o,i),n)})):this.rejectAuthError(c.Qg.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,o){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?o(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return a(this,void 0,void 0,(function(){var e,t,n=this;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),N.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return a(n,void 0,void 0,(function(){var n,o=this;return s(this,(function(i){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return N.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(i,l){return a(o,void 0,void 0,(function(){var o,a=this;return s(this,(function(s){switch(s.label){case 0:if(!i)return[3,5];if(N.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,r(i)];case 5:n.deleteUser((function(o,i){if(o)r(o);else{D("userDeleted",i,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(e){N.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(D("signOut",a.user,"A user has been signed out"),e(i))}})),s.label=6;case 6:return[2]}}))}))}))}else N.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){var r=this;void 0===n&&(n=this._config.clientMetadata);var o=[],i=this;return new Promise((function(a,s){i.userSession(e).then((function(i){for(var l in t)if("sub"!==l&&l.indexOf("_verified")<0){var c={Name:l,Value:t[l]};o.push(c)}e.updateAttributes(o,(function(e,n,o){if(e)return D("updateUserAttributes_failure",e,"Failed to update attributes"),s(e);var i=r.createUpdateAttributesResultList(t,null==o?void 0:o.CodeDeliveryDetailsList);return D("updateUserAttributes",i,"Attributes successfully updated"),a(n)}),n)}))}))},e.prototype.createUpdateAttributesResultList=function(e,t){var n={};return Object.keys(e).forEach((function(e){n[e]={isUpdated:!0};var r=null==t?void 0:t.find((function(t){return t.AttributeName===e}));r&&(n[e].isUpdated=!1,n[e].codeDeliveryDetails=r)})),n},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},o={};return n.email&&(n.email_verified?o.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?o.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:o,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),N.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(D("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return a(t,void 0,void 0,(function(){var t,o,i,l,c,u,f=this;return s(this,(function(p){switch(p.label){case 0:return this.isOAuthInProgress()?(N.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){N.debug("OAuth signIn in progress timeout"),d.X.remove("auth",n),e()}),1e4);function n(r){var o=r.payload.event;"cognitoHostedUI"!==o&&"cognitoHostedUI_failure"!==o||(N.debug("OAuth signIn resolved: "+o),clearTimeout(t),d.X.remove("auth",n),e())}d.X.listen("auth",n)}))]):[3,2];case 1:p.sent(),p.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return N.debug("Failed to get user from user pool"),r("No current user"),[2];p.label=3;case 3:return p.trys.push([3,7,,8]),[4,this._userSession(t)];case 4:return o=p.sent(),(i=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,6];case 5:p.sent(),p.label=6;case 6:return l=this._config.clientMetadata,(void 0===(c=o.getAccessToken().decodePayload().scope)?"":c).split(" ").includes(L)?(t.getUserData((function(e,o){return a(f,void 0,void 0,(function(){var i,a,l,c,u,d,f;return s(this,(function(s){switch(s.label){case 0:if(!e)return[3,7];if(N.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return r(e),[3,6];case 5:n(t),s.label=6;case 6:return[2];case 7:for(a=o.PreferredMfaSetting||"NOMFA",l=[],c=0;c<o.UserAttributes.length;c++)u={Name:o.UserAttributes[c].Name,Value:o.UserAttributes[c].Value},d=new b.KC(u),l.push(d);return f=this.attributesToObject(l),Object.assign(t,{attributes:f,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:i,clientMetadata:l}),[3,8]):(N.debug("Unable to get the user data because the "+L+" is not in the scopes of the access token"),[2,n(t)]);case 7:return u=p.sent(),r(u),[3,8];case 8:return[2]}}))}))})).catch((function(e){return N.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:N.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),N.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=i(i({},r.user),{token:r.token}))}catch(e){N.debug("cannot load federated user from auth storage")}return t?(this.user=t,N.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:N.debug("get current authenticated userpool user"),o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return o=s.sent(),[3,9];case 8:return"No userPool"===(a=s.sent())&&N.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),N.debug("The user is not authenticated by the error",a),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return N.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){N.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){N.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},e.prototype._userSession=function(e){return a(this,void 0,void 0,(function(){var t,n,r=this;return s(this,(function(o){switch(o.label){case 0:if(!e)return N.debug("the user is null"),[2,this.rejectAuthError(c.Qg.NoUserSession)];t=this._config.clientMetadata,0===this.inflightSessionPromiseCounter&&(this.inflightSessionPromise=new Promise((function(n,o){e.getSession((function(t,i){return a(r,void 0,void 0,(function(){var r;return s(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(N.debug("Failed to get the session from user",e),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return r=a.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return o(t),[2];case 5:return N.debug("Succeed to get the user session",i),n(i),[2]}}))}))}),{clientMetadata:t})}))),this.inflightSessionPromiseCounter++,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.inflightSessionPromise];case 2:return n=o.sent(),e.signInUserSession=n,[2,n];case 3:return this.inflightSessionPromiseCounter--,[7];case 4:return[2]}}))}))},e.prototype.userSession=function(e){return this._userSession(e)},e.prototype.currentUserCredentials=function(){return a(this,void 0,void 0,(function(){var e,t,n=this;return s(this,(function(r){switch(r.label){case 0:N.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),N.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){N.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return N.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return N.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return N.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,o){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return o(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,o){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){o(e)}})})):this.rejectAuthError(c.Qg.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return a(this,void 0,void 0,(function(){var n,r,o=this;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),N.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,i){if(e&&e.global){N.debug("user global sign out",t);var l=o._config.clientMetadata;t.getSession((function(e,l){return a(o,void 0,void 0,(function(){var o,a=this;return s(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(N.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),i(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return[2,i(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(N.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,i)},onFailure:function(e){return N.debug("global sign out failed",e),i(e)}}),[2]}}))}))}),{clientMetadata:l})}else N.debug("user sign out",t),t.signOut((function(){if(!r)return n();o.oAuthSignOutRedirect(n,i)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){(0,g.lC)().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),N.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:N.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:N.debug("no Cognito User pool"),n.label=8;case 8:return D("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var o=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(i,a){o.userSession(e).then((function(o){e.changePassword(t,n,(function(e,t){return e?(N.debug("change password failure",e),a(e)):i(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(c.Qg.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,o){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){N.debug("forgot password failure",t),D("forgotPassword_failure",t,e+" forgotPassword failed"),o(t)},inputVerificationCode:function(t){D("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(c.Qg.EmptyUsername);if(!t)return this.rejectAuthError(c.Qg.EmptyCode);if(!n)return this.rejectAuthError(c.Qg.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(i,a){o.confirmPassword(t,n,{onSuccess:function(t){D("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),i(t)},onFailure:function(t){D("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return s(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return N.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return o=s.sent(),N.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return i=s.sent(),N.error("currentUserInfo error",i),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return a(this,void 0,void 0,(function(){var r,o,i,a,l,u,d,f,p,h,m;return s(this,(function(s){switch(s.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return(0,c.SU)(e)||(0,c.zB)(e)||(0,c.Ay)(e)||void 0===e?(r=e||{provider:c.JG.Cognito},l=(0,c.SU)(r)?r.provider:r.customProvider,(0,c.SU)(r),o=r.customState,this._config.userPoolId&&(i=(0,c.ic)(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=(0,c.ic)(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,i,l,o)),[3,4]):[3,1];case 1:l=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&N.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return d=t.token,f=t.identity_id,p=t.expires_at,[4,this.Credentials.set({provider:l,token:d,identity_id:f,user:n,expires_at:p},"federation")];case 2:return h=s.sent(),[4,this.currentAuthenticatedUser()];case 3:return m=s.sent(),D("signIn",m,"A user "+m.username+" has been signed in"),N.debug("federated sign in credentials",h),[2,h];case 4:return[2]}}))}))},e.prototype._handleAuthResponse=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,i,a,c,u,d,f,p,h,m,y;return s(this,(function(s){switch(s.label){case 0:if(this.oAuthFlowInProgress)return N.debug("Skipping URL "+e+" current flow in progress"),[2];s.label=1;case 1:if(s.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(D("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||((0,g.lC)().isBrowser?window.location.href:""),n=!!((0,_.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=l(e,1)[0];return"code"===t||"error"===t})),r=!!((0,_.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=l(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),s.label=2;case 2:return s.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return o=s.sent(),i=o.accessToken,a=o.idToken,c=o.refreshToken,u=o.state,d=new b.MZ({IdToken:new b.xk({IdToken:a}),RefreshToken:new b.bR({RefreshToken:c}),AccessToken:new b.ZA({AccessToken:i})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(d,"session")]:[3,5];case 4:f=s.sent(),N.debug("AWS credentials",f),s.label=5;case 5:return p=/-/.test(u),(h=this.createCognitoUser(d.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(d),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),D("signIn",h,"A user "+h.getUsername()+" has been signed in"),D("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),p&&(m=u.split("-").splice(1).join("-"),D("customOAuthState",(0,v.q)(m),"State for user "+h.getUsername())),[2,f];case 6:return y=s.sent(),N.debug("Error in cognito hosted auth response",y),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),D("signIn_failure",y,"The OAuth response flow failed"),D("cognitoHostedUI_failure",y,"A failure occurred when returning to the Cognito Hosted UI"),D("customState_failure",y,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new b.ws(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?c.Qg.NoConfig:c.Qg.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new P(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new O(e))},e.prototype.rememberDevice=function(){return a(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),N.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new P(c.Qg.DeviceConfig)):"NetworkError"===e.code?n(new P(c.Qg.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return a(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),N.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new P(c.Qg.DeviceConfig)):"NetworkError"===e.code?n(new P(c.Qg.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return a(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),N.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new P(c.Qg.DeviceConfig)):"NetworkError"===e.code?n(new P(c.Qg.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}())(null);y.d.register(z)},73926:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>r}),function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(r||(r={}))},3550:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Auth:()=>r.g,AuthErrorStrings:()=>a.A,CognitoHostedUIIdentityProvider:()=>o.JG,CognitoUser:()=>i.ws,CookieStorage:()=>i.eR,GRAPHQL_AUTH_MODE:()=>o.si,appendToCognitoUserAgent:()=>i.Ib,default:()=>s});var r=n(91021),o=n(71672),i=n(58243),a=n(73926);const s=r.g},71672:(e,t,n)=>{"use strict";var r,o,i;function a(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function s(e){return e&&!!["customProvider"].find((function(t){return e.hasOwnProperty(t)}))}function l(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}function c(e){return void 0!==e.redirectSignIn}function u(e){return!!e.username}n.d(t,{Ay:()=>l,JG:()=>r,Qg:()=>o,SU:()=>a,ic:()=>c,lg:()=>u,si:()=>i,zB:()=>s}),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(r||(r={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(o||(o={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(i||(i={}))},81282:(e,t,n)=>{"use strict";n.d(t,{_:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},o=n(35069),i=n(25387),a={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new(n(6648).c)).getStorage()};function s(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function l(){return(new Date).getTime()}function c(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var u={},d=(function(){function e(){}e.clear=function(){u={}},e.getItem=function(e){return u[e]||null},e.setItem=function(e,t){u[e]=t},e.removeItem=function(e){delete u[e]}}(),new o.k("StorageCache")),f=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){c(this.config.capacityInBytes)||(d.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=a.capacityInBytes),c(this.config.itemMaxSize)||(d.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=a.itemMaxSize),c(this.config.defaultTTL)||(d.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=a.defaultTTL),c(this.config.defaultPriority)||(d.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=a.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(d.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=a.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(d.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=a.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(d.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=a.warningThreshold),this.config.capacityInBytes>5242880&&(d.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=a.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:l(),visitedTime:l(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=s(JSON.stringify(r)),r.byteSize=s(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&d.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),p=new o.k("Cache"),h=new(function(e){function t(t){var n=this,r=t?Object.assign({},a,t):a;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=l(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return l()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),p.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,o=0;o<e.length;o+=1){var i=this.config.storage.getItem(e[o]);if(null!=i){var a=JSON.parse(i);n.push(a)}}for(n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1})),o=0;o<n.length;o+=1)if(this._removeItem(n[o].key,n[o].byteSize),(r-=n[o].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){p.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var o={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+l()};if(o.priority<1||o.priority>5)p.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var i=this.fillCacheItem(r,t,o);if(i.byteSize>this.config.itemMaxSize)p.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var a=this.config.storage.getItem(r);if(a&&this._removeItem(r,JSON.parse(a).byteSize),this._isCacheFull(i.byteSize)){var s=this._findValidKeys();if(this._isCacheFull(i.byteSize)){var c=this._sizeToPop(i.byteSize);this._popOutItems(s,c)}}this._setItem(r,i)}catch(e){p.warn("setItem failed! "+e)}}}else p.warn("The value of item should not be undefined!");else p.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){p.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return p.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var o=JSON.parse(n);return(o=this._refreshItem(o,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var i=t.callback();return null!==i&&this.setItem(e,i,t),i}return null}catch(e){return p.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){p.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){p.warn("removeItem failed! "+e)}},t.prototype.clear=function(){p.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){p.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==a.keyPrefix||(p.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=l.toString()),new t(e)},t}(f));i.d.register(h)},25387:(e,t,n)=>{"use strict";n.d(t,{b:()=>a,d:()=>s});var r=n(28008),o=n(35069),i=new o.k("Amplify"),a=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Notifications=null,this.Logger=o.k,this.ServiceWorker=null}return e.prototype.register=function(e){i.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):i.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),i.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=(0,r.CR)(e,2),o=(n[0],n[1]);Object.keys(o).forEach((function(e){t._modules[e]&&(o[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}(),s=new a},9733:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=new(n(35069).k)("ClientDevice_Browser");var o=function(){function e(){}return e.clientInfo=function(){return"undefined"==typeof window?{}:function(){if("undefined"==typeof window)return r.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return r.warn("No navigator object available to get browser client info"),{};var t,n=e.platform,o=e.product,i=e.vendor,a=e.userAgent,s=e.language,l=function(e){var t=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var n=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var r=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(r)return{type:r[1],version:r[2]};var o=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(o)return{type:o[1],version:o[2]};var i=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(i)return{type:i[1],version:i[2]};var a=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);return a?{type:a[1],version:a[2]}:{type:"",version:""}}(a),c=(t=/\(([A-Za-z\s].*)\)/.exec((new Date).toString()))&&t[1]||"";return{platform:n,make:o||i,model:l.type,version:l.version,appVersion:[l.type,l.version].join("/"),language:s,timezone:c}}()},e.dimension=function(){return"undefined"==typeof window?(r.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}},e}()},40611:(e,t,n)=>{"use strict";n.d(t,{c:()=>It,v:()=>Tt});var r=n(28008),o=n(35069),i=n(6648),a=n(59222),s=n(51550),l=n(7262),c=n(25387);function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T,I,P,O,M,N,L,R,D,z,F,U,j,B,V,G,q,H,W,K,$,Z,Y,J,X,Q,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,fe,pe,he,me=n(70655);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(x||(x={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(F||(F={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(B||(B={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,me.__assign)({},e)}}(he||(he={}));var ge=n(75882),ve=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,g;return(0,me.__generator)(this,(function(v){switch(v.label){case 0:return r=[(0,me.__assign)({},e)],g={},[4,Be(e.body,t)];case 1:switch(n=me.__assign.apply(void 0,r.concat([(g.body=v.sent(),g)])),i="UnknownError",i=Ve(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,be(n,t)];case 3:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,a.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 4:return s=[{}],[4,_e(n,t)];case 5:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,s.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 6:return l=[{}],[4,we(n,t)];case 7:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,l.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 8:return c=[{}],[4,xe(n,t)];case 9:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,c.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 10:return u=[{}],[4,Ee(n,t)];case 11:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,u.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 12:return d=[{}],[4,Ce(n,t)];case 13:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,d.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 14:return f=[{}],[4,ke(n,t)];case 15:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,f.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 16:return p=[{}],[4,Ae(n,t)];case 17:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,p.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 18:h=n.body,i=h.code||h.Code||i,o=(0,me.__assign)((0,me.__assign)({},h),{name:""+i,message:h.message||h.Message||i,$fault:"client",$metadata:Ue(e)}),v.label=19;case 19:return m=o.message||o.Message||i,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},ye=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,g;return(0,me.__generator)(this,(function(v){switch(v.label){case 0:return r=[(0,me.__assign)({},e)],g={},[4,Be(e.body,t)];case 1:switch(n=me.__assign.apply(void 0,r.concat([(g.body=v.sent(),g)])),i="UnknownError",i=Ve(e,n.body)){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,be(n,t)];case 3:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,a.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 4:return s=[{}],[4,_e(n,t)];case 5:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,s.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 6:return l=[{}],[4,xe(n,t)];case 7:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,l.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 8:return c=[{}],[4,Se(n,t)];case 9:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,c.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 10:return u=[{}],[4,Ee(n,t)];case 11:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,u.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 12:return d=[{}],[4,Ce(n,t)];case 13:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,d.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 14:return f=[{}],[4,ke(n,t)];case 15:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,f.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 16:return p=[{}],[4,Ae(n,t)];case 17:return o=me.__assign.apply(void 0,[me.__assign.apply(void 0,p.concat([v.sent()])),{name:i,$metadata:Ue(e)}]),[3,19];case 18:h=n.body,i=h.code||h.Code||i,o=(0,me.__assign)((0,me.__assign)({},h),{name:""+i,message:h.message||h.Message||i,$fault:"client",$metadata:Ue(e)}),v.label=19;case 19:return m=o.message||o.Message||i,o.message=m,delete o.Message,[2,Promise.reject(Object.assign(new Error(m),o))]}}))}))},be=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=Pe(n,t),[2,(0,me.__assign)({name:"ExternalServiceException",$fault:"client",$metadata:Ue(e)},r)]}))}))},_e=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=Oe(n,t),[2,(0,me.__assign)({name:"InternalErrorException",$fault:"server",$metadata:Ue(e)},r)]}))}))},we=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=Me(n,t),[2,(0,me.__assign)({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ue(e)},r)]}))}))},xe=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=Ne(n,t),[2,(0,me.__assign)({name:"InvalidParameterException",$fault:"client",$metadata:Ue(e)},r)]}))}))},Se=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=Le(n,t),[2,(0,me.__assign)({name:"LimitExceededException",$fault:"client",$metadata:Ue(e)},r)]}))}))},Ee=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=Re(n,t),[2,(0,me.__assign)({name:"NotAuthorizedException",$fault:"client",$metadata:Ue(e)},r)]}))}))},Ce=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=De(n,t),[2,(0,me.__assign)({name:"ResourceConflictException",$fault:"client",$metadata:Ue(e)},r)]}))}))},ke=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=ze(n,t),[2,(0,me.__assign)({name:"ResourceNotFoundException",$fault:"client",$metadata:Ue(e)},r)]}))}))},Ae=function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n=e.body,r=Fe(n,t),[2,(0,me.__assign)({name:"TooManyRequestsException",$fault:"client",$metadata:Ue(e)},r)]}))}))},Te=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,me.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,me.__assign)((0,me.__assign)({},e),((n={})[o]=i,n))}),{})},Ie=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},Pe=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Oe=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Me=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ne=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Le=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Re=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},De=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ze=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Fe=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ue=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},je=function(e,t,n,r,o){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,l,c,u;return(0,me.__generator)(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return i=d.sent(),a=i.hostname,s=i.protocol,l=void 0===s?"https":s,c=i.port,u={protocol:l,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(u.hostname=r),void 0!==o&&(u.body=o),[2,new ge.aW(u)]}}))}))},Be=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Ve=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},Ge=n(22593),qe=n(82254),He=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,me.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,Ge.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:M.filterSensitiveLog,outputFilterSensitiveLog:L.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(function(e,t){return(0,me.__assign)((0,me.__assign)((0,me.__assign)({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Te(e.Logins,t)})}(e,t)),[2,je(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,me.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,ve(e,t)]:[4,Be(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?Ie(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),o=(0,me.__assign)({$metadata:Ue(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(qe.mY),We=function(e,t){return We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},We(e,t)},Ke=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return function(e,t){function n(){this.constructor=e}We(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error);function $e(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),r=n[0],o=n[1];return e[r]=o,e}),{})}))}function Ze(e){var t=this;return function(){return u(t,void 0,void 0,(function(){var t,n,r,o,i,a,s,l,c,u,f,p,h;return d(this,(function(d){switch(d.label){case 0:return u=(c=e.client).send,f=He.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,$e(e.logins)]:[3,2];case 1:return p=d.sent(),[3,3];case 2:p=void 0,d.label=3;case 3:return[4,u.apply(c,[new(f.apply(He,[void 0,(h.Logins=p,h)]))])];case 4:return t=d.sent().Credentials,n=void 0===t?function(){throw new Ke("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,o=void 0===r?function(){throw new Ke("Response from Amazon Cognito contained no access key ID")}():r,i=n.Expiration,a=n.SecretKey,s=void 0===a?function(){throw new Ke("Response from Amazon Cognito contained no secret key")}():a,l=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:s,sessionToken:l,expiration:i}]}}))}))}}var Ye=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,me.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,Ge.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:D.filterSensitiveLog,outputFilterSensitiveLog:z.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,me.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(function(e,t){return(0,me.__assign)((0,me.__assign)((0,me.__assign)({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Te(e.Logins,t)})}(e,t)),[2,je(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,me.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,me.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,ye(e,t)]:[4,Be(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}}(n),o=(0,me.__assign)({$metadata:Ue(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(qe.mY),Je="IdentityIds",Xe=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Je,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Je,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Je)))})).catch((function(e){throw n.close(),e}))}))},e}(),Qe=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());var et=n(99820),tt=n(20490),nt=n(77643),rt=n(16776),ot=n(35749),it=n(57224),at=n(67157),st=n(22795),lt=n(81784),ct="cognito-identity.{region}.amazonaws.com",ut=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),dt=new Set(["cn-north-1","cn-northwest-1"]),ft=new Set(["us-iso-east-1"]),pt=new Set(["us-isob-east-1"]),ht=new Set(["us-gov-east-1","us-gov-west-1"]),mt={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:ut.has(e)&&(n={hostname:ct.replace("{region}",e),partition:"aws"}),dt.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ft.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),pt.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),ht.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:ct.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,me.__assign)({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:n(87897).e},gt=(0,me.__assign)((0,me.__assign)({},mt),{runtime:"browser",base64Decoder:at.G,base64Encoder:at.s,bodyLengthChecker:st.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,lt.f)({serviceId:mt.serviceId,clientVersion:"3.6.1"}),maxAttempts:it.J,region:(0,ot.n)("Region is missing"),requestHandler:new rt.B,sha256:nt.Sha256,streamCollector:rt.C,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),vt=n(36118),yt=n(43488),bt=n(73775),_t=n(30379),wt=n(89722),xt=n(8384),St=function(e){function t(t){var n=this,r=(0,me.__assign)((0,me.__assign)({},gt),t),o=(0,vt.Xb)(r),i=(0,vt.g4)(o),a=(0,wt.A$)(i),s=(0,it.BC)(a),l=(0,bt.S8)(s),c=(0,xt.er)(l);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,it.NQ)(n.config)),n.middlewareStack.use((0,yt.VG)(n.config)),n.middlewareStack.use((0,bt.G2)(n.config)),n.middlewareStack.use((0,_t.cV)(n.config)),n.middlewareStack.use((0,xt.XJ)(n.config)),n}return(0,me.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(qe.KU),Et=n(9270);function Ct(e){var t=new St({region:e.region,customUserAgent:(0,Et.Z)()});return t.middlewareStack.add((function(e,t){return function(t){return e(function(e){return(0,r.pi)((0,r.pi)({},e),{request:(0,r.pi)((0,r.pi)({},e.request),{headers:(0,r.pi)((0,r.pi)({},e.request.headers),{"cache-control":"no-store"})})})}(t))}}),{step:"build",name:"cacheControlMiddleWare"}),t}var kt=new o.k("Credentials"),At="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Tt=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=s.W.refreshGoogleToken,this._refreshHandlers.facebook=s.r.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=(0,r.pi)((0,r.pi)({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new i.c).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),tt.X.dispatch("core",{event:"credentials_configured",data:null,message:"Credentials has been configured successfully"},"Credentials",At),this._config},e.prototype.get=function(){return kt.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return kt.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?kt.debug("getting old cred promise"):(kt.debug("getting new cred promise"),this._gettingCredPromise=(0,a.ML)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n,o,i,a,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(kt.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return kt.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(kt.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?c.d.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,this._setCredentialsForGuest()];if(this._isExpired(e)||!this._isPastTTL())return[3,6];kt.debug("ttl has passed but token is not yet expired"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return o=r.sent(),[4,n.currentSession()];case 3:return i=r.sent(),a=i.refreshToken,[4,new Promise((function(e,t){o.refreshSession(a,(function(n,r){return n?t(n):e(r)}))}))];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),kt.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){kt.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,o=e.identity_id,i=e.expires_at;i=1970===new Date(i).getFullYear()?1e3*i:i;var a=this;return kt.debug("checking if federated jwt token expired"),i>(new Date).getTime()?(kt.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:o,expires_at:i})):a._refreshHandlers[t]&&"function"==typeof a._refreshHandlers[t]?(kt.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(kt.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,o=e.user;return(0,l.Xm)(n,[],1e4).then((function(e){return kt.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:o,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),kt.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return kt.debug("no credentials for expiration check"),!0;kt.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){var e;return(0,r.mG)(this,void 0,void 0,(function(){var t,n,o,i,a,s,l,c,u,d,f=this;return(0,r.Jh)(this,(function(p){switch(p.label){case 0:return kt.debug("setting credentials for guest"),(null===(e=this._config)||void 0===e?void 0:e.identityPoolId)||(this._config=Object.assign({},this._config,(0,et.h)(this._config||{}).Auth)),t=this._config,n=t.identityPoolId,o=t.region,i=t.mandatorySignIn,a=t.identityPoolRegion,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:n?a||o?(l=this,[4,this._getGuestIdentityId()]):(kt.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(kt.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return s=l._identityId=p.sent(),c=Ct({region:a||o}),u=void 0,s?u=Ze({identityId:s,client:c})():(d=function(){return(0,r.mG)(f,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,c.send(new Ye({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Ze({client:c,identityId:e})()]}}))}))},u=d().catch((function(e){return(0,r.mG)(f,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(u,"guest",!1,null).then((function(e){return e})).catch((function(e){return(0,r.mG)(f,void 0,void 0,(function(){var t,o=this;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+s+"' not found."?[3,2]:(kt.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return i.sent(),t=function(){return(0,r.mG)(o,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,c.send(new Ye({IdentityPoolId:n}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,Ze({client:c,identityId:e})()]}}))}))},u=t().catch((function(e){return(0,r.mG)(o,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){throw e}))}))})),[2,this._loadCredentials(u,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!o)return Promise.reject("You must specify a federated provider");var i={};i[o]=n;var a=this._config,s=a.identityPoolId,l=a.region,c=a.identityPoolRegion;if(!s)return kt.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!c&&!l)return kt.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var f=Ct({region:c||l}),p=void 0;return p=r?Ze({identityId:r,logins:i,client:f})():function(e){var t=this,n=e.accountId,r=e.cache,o=void 0===r?"object"==typeof self&&self.indexedDB?new Xe:"object"==typeof window&&window.localStorage?window.localStorage:Qe:r,i=e.client,a=e.customRoleArn,s=e.identityPoolId,l=e.logins,c=e.userIdentifier,f=void 0===c?l&&0!==Object.keys(l).length?void 0:"ANONYMOUS":c,p=f?"aws:cognito-identity-credentials:"+s+":"+f:void 0,h=function(){return u(t,void 0,void 0,(function(){var e,t,r,c,u,f,m,g,v;return d(this,(function(d){switch(d.label){case 0:return(t=p)?[4,o.getItem(p)]:[3,2];case 1:t=d.sent(),d.label=2;case 2:return(e=t)?[3,7]:(f=(u=i).send,m=Ye.bind,v={AccountId:n,IdentityPoolId:s},l?[4,$e(l)]:[3,4]);case 3:return g=d.sent(),[3,5];case 4:g=void 0,d.label=5;case 5:return[4,f.apply(u,[new(m.apply(Ye,[void 0,(v.Logins=g,v)]))])];case 6:r=d.sent().IdentityId,c=void 0===r?function(){throw new Ke("Response from Amazon Cognito contained no identity ID")}():r,e=c,p&&Promise.resolve(o.setItem(p,e)).catch((function(){})),d.label=7;case 7:return[2,(h=Ze({client:i,customRoleArn:a,logins:l,identityId:e}))()]}}))}))};return function(){return h().catch((function(e){return u(t,void 0,void 0,(function(){return d(this,(function(t){throw p&&Promise.resolve(o.removeItem(p)).catch((function(){})),e}))}))}))}}({logins:i,identityPoolId:s,client:f})(),this._loadCredentials(p,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;kt.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),o=this._config,i=o.region,a=o.userPoolId,s=o.identityPoolId,l=o.identityPoolRegion;if(!s)return kt.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!l&&!i)return kt.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c={};c["cognito-idp."+i+".amazonaws.com/"+a]=n;var u=Ct({region:l||i}),d=(0,r.mG)(t,void 0,void 0,(function(){var e,t,n,o,i,a,l,d,f,p;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=r.sent())?[3,3]:[4,u.send(new Ye({IdentityPoolId:s,Logins:c}))];case 2:n=r.sent().IdentityId,t=n,r.label=3;case 3:return[4,u.send(new He({IdentityId:e||t,Logins:c}))];case 4:return o=r.sent(),i=o.Credentials,a=i.AccessKeyId,l=i.Expiration,d=i.SecretKey,f=i.SessionToken,p=o.IdentityId,this._identityId=p,e?(kt.debug("The guest identity "+e+" has been successfully linked to the logins"),e===p&&kt.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:r.sent(),r.label=6;case 6:return[2,{accessKeyId:a,secretAccessKey:d,sessionToken:f,expiration:l,identityId:p}]}}))})).catch((function(e){return(0,r.mG)(t,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){throw e}))}))}));return this._loadCredentials(d,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,o){var i=this,a=this;return new Promise((function(s,l){e.then((function(e){return(0,r.mG)(i,void 0,void 0,(function(){var i,l,c,u,d;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(kt.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),a._credentials=e,a._credentials.authenticated=n,a._credentials_source=t,a._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},o.user),l=o.provider,c=o.token,u=o.expires_at,d=o.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:l,token:c,user:i,expires_at:u,identity_id:d}))}catch(e){kt.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:r.sent(),r.label=2;case 2:return s(a._credentials),[2]}}))}))})).catch((function(t){if(t)return kt.debug("Failed to load credentials",e),kt.debug("Error loading credentials",t),void l(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(kt.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return this._credentials=null,this._credentials_source=null,kt.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),kt.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),kt.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){return e=this._config.identityPoolId,kt.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),It=new Tt(null);c.d.register(It)},20490:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(28008),o=new(n(35069).k)("Hub"),i="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",a=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype._remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void o.warn("No listeners for "+e);this.patterns=(0,r.fl)(this.patterns.filter((function(e){return e!==n})))}else{var i=this.listeners[e];if(!i)return void o.warn("No listeners for "+e);this.listeners[e]=(0,r.fl)(i.filter((function(e){return e.callback!==t})))}},e.prototype.remove=function(e,t){this._remove(e,t)},e.prototype.dispatch=function(e,t,n,a){void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1&&(a===i||o.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var s={channel:e,payload:(0,r.pi)({},t),source:n,patternInfo:[]};try{this._toListeners(s)}catch(e){o.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))o.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var a=this.listeners[e];a||(a=[],this.listeners[e]=a),a.push({name:n,callback:r})}return function(){i._remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,i=this.listeners[t];if(i&&i.forEach((function(r){o.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){o.error(e)}})),this.patterns.length>0){if(!n.message)return void o.warn("Cannot perform pattern matching without a message key");var a=n.message;this.patterns.forEach((function(t){var n=a.match(t.pattern);if(n){var i=(0,r.CR)(n).slice(1),s=(0,r.pi)((0,r.pi)({},e),{patternInfo:i});try{t.callback(s)}catch(e){o.error(e)}}}))}},e}())("__default__")},23139:(e,t,n)=>{"use strict";n.d(t,{o:()=>u});var r=n(35069),o=new r.k("I18n"),i=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),o.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),a=n(25387),s=new r.k("I18n"),l=null,c=null,u=function(){function e(){}return e.configure=function(t){return s.debug("configure I18n"),t?(l=Object.assign({},l,t.I18n||t),e.createInstance(),l):l},e.getModuleName=function(){return"I18n"},e.createInstance=function(){s.debug("create I18n instance"),c||(c=new i(l))},e.setLanguage=function(t){return e.checkConfig(),c.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?c.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),c.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),c.putVocabularies(t)},e.checkConfig=function(){return c||(c=new i(l)),!0},e}();a.d.register(u)},59222:(e,t,n)=>{"use strict";n.d(t,{I:()=>h,L1:()=>i,ML:()=>u,QB:()=>p,aq:()=>l,ho:()=>a,lC:()=>f,mx:()=>m,n2:()=>d,rI:()=>s,xb:()=>o,zs:()=>c});var r=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],o=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},i=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var o=e[t],i=n[t];return void 0===i?void 0===o?0:1*r:void 0===o||o<i?-1*r:o>i?1*r:0})),!0},a=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},s=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),o=r.filter((function(e){return n.endsWith("."+e.ext)}));return o.length>0?o[0].type:t},l=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||"application/json"===t||"application/xml"===t||"application/sh"===t},c=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},u=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,o=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return o.isFullfilled=function(){return r},o.isPending=function(){return t},o.isRejected=function(){return n},o},d=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},f=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},p=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!m(e))return e;var r={};for(var o in e)e.hasOwnProperty(o)&&(r[t.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=n.includes(o)?e[o]:p(e[o],t,n));return r},h=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!m(e))return e;var r={};for(var o in e)e.hasOwnProperty(o)&&(r[t.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=n.includes(o)?e[o]:h(e[o],t,n));return r},m=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)}},35069:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r,o=n(28008),i=n(17439),a={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(r||(r={}));var s=function(){function e(e,t){void 0===t&&(t=r.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,i,s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];var c=this.level;e.LOG_LEVEL&&(c=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(c=window.LOG_LEVEL);var u=a[c],d=a[t];if(d>=u){var f=console.log.bind(console);t===r.ERROR&&console.error&&(f=console.error.bind(console)),t===r.WARN&&console.warn&&(f=console.warn.bind(console));var p="["+t+"] "+this._ts()+" "+this.name,h="";if(1===s.length&&"string"==typeof s[0])f(h=p+" - "+s[0]);else if(1===s.length)h=p+" "+s[0],f(p,s[0]);else if("string"==typeof s[0]){var m=s.slice(1);1===m.length&&(m=m[0]),h=p+" - "+s[0]+" "+m,f(p+" - "+s[0],m)}else h=p+" "+s,f(p,s);try{for(var g=(0,o.XA)(this._pluggables),v=g.next();!v.done;v=g.next()){var y=v.value,b={message:h,timestamp:Date.now()};y.pushLogs([b])}}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.fl)([r.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.fl)([r.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.fl)([r.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.fl)([r.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.fl)([r.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,(0,o.fl)([r.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&e.getCategoryName()===i.YG&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}()},51550:(e,t,n)=>{"use strict";n.d(t,{r:()=>h,W:()=>p});var r=n(28008),o=n(35069),i=n(59222),a=n(7262),s=new o.k("CognitoCredentials"),l=new Promise((function(e,t){return(0,i.lC)().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(s.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(s.debug("not in the browser, directly resolved"),e())})),c=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(s.debug("need to wait for the Google SDK loaded"),[4,l]);case 1:e.sent(),this.initialized=!0,s.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return(0,i.lC)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(s.debug("google Auth undefined"),n(new a.V2("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(s.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new a.V2("Failed to reload google auth response"))}))):n(new a.V2("User is not signed in with Google"))})).catch((function(e){s.debug("Failed to refresh google token",e),n(new a.V2("Failed to refresh google token"))}))})):(s.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),u=new o.k("CognitoCredentials"),d=new Promise((function(e,t){return(0,i.lC)().isBrowser?window.FB?(u.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(u.debug("not in the browser, directly resolved"),e())})),f=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(u.debug("need to wait for the Facebook SDK loaded"),[4,d]);case 1:e.sent(),this.initialized=!0,u.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if((0,i.lC)().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return u.debug(t),Promise.reject(new a.V2(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,o=r.accessToken,i=1e3*r.expiresIn+(new Date).getTime();o||(s="the jwtToken is undefined",u.debug(s),n(new a.V2(s))),t({token:o,expires_at:i})}else{var s="no response from facebook when refreshing the jwt token";u.debug(s),n(new a.V2(s))}}),{scope:"public_profile,email"})}))},e}(),p=new c,h=new f},9270:(e,t,n)=>{"use strict";n.d(t,{t:()=>o,Z:()=>i});var r="aws-amplify/5.0.12",o={userAgent:r+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&(o.product=navigator.product||"",o.navigator=navigator||null,"ReactNative"===navigator.product?(o.userAgent=r+" react-native",o.isReactNative=!0):(o.userAgent=r+" js",o.isReactNative=!1));var i=function(e){return""+o.userAgent+(e||"")}},31911:(e,t,n)=>{"use strict";n.d(t,{P:()=>_n});var r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T,I,P,O,M,N,L,R,D,z,F,U,j,B,V,G,q,H,W,K,$,Z,Y,J,X,Q,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,fe,pe,he,me,ge,ve,ye,be,_e,we,xe,Se,Ee,Ce,ke,Ae,Te,Ie,Pe,Oe,Me,Ne,Le,Re,De,ze,Fe,Ue,je,Be,Ve,Ge,qe,He,We,Ke,$e,Ze,Ye,Je,Xe,Qe=n(28008),et=n(70655);!function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(s||(s={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(T||(T={})),function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PENDING="PENDING",e.PENDING_CANCEL="PENDING_CANCEL",e.RUNNING="RUNNING"}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(z||(z={})),function(e){e.LastEventTime="LastEventTime",e.LogStreamName="LogStreamName"}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(H||(H={})),function(e){e.Cancelled="Cancelled",e.Complete="Complete",e.Failed="Failed",e.Running="Running",e.Scheduled="Scheduled"}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ne||(ne={})),function(e){e.ByLogStream="ByLogStream",e.Random="Random"}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return(0,et.__assign)({},e)}}(Xe||(Xe={}));var tt=n(75882),nt=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p;return(0,et.__generator)(this,(function(h){switch(h.label){case 0:return r=[(0,et.__assign)({},e)],p={},[4,Rt(e.body,t)];case 1:switch(n=et.__assign.apply(void 0,r.concat([(p.body=h.sent(),p)])),i="UnknownError",i=Dt(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return a=[{}],[4,ct(n,t)];case 3:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,a.concat([h.sent()])),{name:i,$metadata:Mt(e)}]),[3,13];case 4:return s=[{}],[4,dt(n,t)];case 5:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,s.concat([h.sent()])),{name:i,$metadata:Mt(e)}]),[3,13];case 6:return l=[{}],[4,ft(n,t)];case 7:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,l.concat([h.sent()])),{name:i,$metadata:Mt(e)}]),[3,13];case 8:return c=[{}],[4,pt(n,t)];case 9:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,c.concat([h.sent()])),{name:i,$metadata:Mt(e)}]),[3,13];case 10:return u=[{}],[4,mt(n,t)];case 11:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,u.concat([h.sent()])),{name:i,$metadata:Mt(e)}]),[3,13];case 12:d=n.body,i=d.code||d.Code||i,o=(0,et.__assign)((0,et.__assign)({},d),{name:""+i,message:d.message||d.Message||i,$fault:"client",$metadata:Mt(e)}),h.label=13;case 13:return f=o.message||o.Message||i,o.message=f,delete o.Message,[2,Promise.reject(Object.assign(new Error(f),o))]}}))}))},rt=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f;return(0,et.__generator)(this,(function(p){switch(p.label){case 0:return r=[(0,et.__assign)({},e)],f={},[4,Rt(e.body,t)];case 1:switch(n=et.__assign.apply(void 0,r.concat([(f.body=p.sent(),f)])),i="UnknownError",i=Dt(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,ct(n,t)];case 3:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,a.concat([p.sent()])),{name:i,$metadata:Mt(e)}]),[3,11];case 4:return s=[{}],[4,pt(n,t)];case 5:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,s.concat([p.sent()])),{name:i,$metadata:Mt(e)}]),[3,11];case 6:return l=[{}],[4,ht(n,t)];case 7:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,l.concat([p.sent()])),{name:i,$metadata:Mt(e)}]),[3,11];case 8:return c=[{}],[4,mt(n,t)];case 9:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,c.concat([p.sent()])),{name:i,$metadata:Mt(e)}]),[3,11];case 10:u=n.body,i=u.code||u.Code||i,o=(0,et.__assign)((0,et.__assign)({},u),{name:""+i,message:u.message||u.Message||i,$fault:"client",$metadata:Mt(e)}),p.label=11;case 11:return d=o.message||o.Message||i,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},ot=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,et.__generator)(this,(function(d){switch(d.label){case 0:return r=[(0,et.__assign)({},e)],u={},[4,Rt(e.body,t)];case 1:switch(n=et.__assign.apply(void 0,r.concat([(u.body=d.sent(),u)])),i="UnknownError",i=Dt(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return a=[{}],[4,ct(n,t)];case 3:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,a.concat([d.sent()])),{name:i,$metadata:Mt(e)}]),[3,7];case 4:return s=[{}],[4,mt(n,t)];case 5:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,s.concat([d.sent()])),{name:i,$metadata:Mt(e)}]),[3,7];case 6:l=n.body,i=l.code||l.Code||i,o=(0,et.__assign)((0,et.__assign)({},l),{name:""+i,message:l.message||l.Message||i,$fault:"client",$metadata:Mt(e)}),d.label=7;case 7:return c=o.message||o.Message||i,o.message=c,delete o.Message,[2,Promise.reject(Object.assign(new Error(c),o))]}}))}))},it=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d;return(0,et.__generator)(this,(function(f){switch(f.label){case 0:return r=[(0,et.__assign)({},e)],d={},[4,Rt(e.body,t)];case 1:switch(n=et.__assign.apply(void 0,r.concat([(d.body=f.sent(),d)])),i="UnknownError",i=Dt(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,ct(n,t)];case 3:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,a.concat([f.sent()])),{name:i,$metadata:Mt(e)}]),[3,9];case 4:return s=[{}],[4,ht(n,t)];case 5:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,s.concat([f.sent()])),{name:i,$metadata:Mt(e)}]),[3,9];case 6:return l=[{}],[4,mt(n,t)];case 7:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,l.concat([f.sent()])),{name:i,$metadata:Mt(e)}]),[3,9];case 8:c=n.body,i=c.code||c.Code||i,o=(0,et.__assign)((0,et.__assign)({},c),{name:""+i,message:c.message||c.Message||i,$fault:"client",$metadata:Mt(e)}),f.label=9;case 9:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},at=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d;return(0,et.__generator)(this,(function(f){switch(f.label){case 0:return r=[(0,et.__assign)({},e)],d={},[4,Rt(e.body,t)];case 1:switch(n=et.__assign.apply(void 0,r.concat([(d.body=f.sent(),d)])),i="UnknownError",i=Dt(e,n.body)){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return a=[{}],[4,ct(n,t)];case 3:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,a.concat([f.sent()])),{name:i,$metadata:Mt(e)}]),[3,9];case 4:return s=[{}],[4,ht(n,t)];case 5:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,s.concat([f.sent()])),{name:i,$metadata:Mt(e)}]),[3,9];case 6:return l=[{}],[4,mt(n,t)];case 7:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,l.concat([f.sent()])),{name:i,$metadata:Mt(e)}]),[3,9];case 8:c=n.body,i=c.code||c.Code||i,o=(0,et.__assign)((0,et.__assign)({},c),{name:""+i,message:c.message||c.Message||i,$fault:"client",$metadata:Mt(e)}),f.label=9;case 9:return u=o.message||o.Message||i,o.message=u,delete o.Message,[2,Promise.reject(Object.assign(new Error(u),o))]}}))}))},st=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h;return(0,et.__generator)(this,(function(m){switch(m.label){case 0:return r=[(0,et.__assign)({},e)],h={},[4,Rt(e.body,t)];case 1:switch(n=et.__assign.apply(void 0,r.concat([(h.body=m.sent(),h)])),i="UnknownError",i=Dt(e,n.body)){case"DataAlreadyAcceptedException":case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return a=[{}],[4,lt(n,t)];case 3:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,a.concat([m.sent()])),{name:i,$metadata:Mt(e)}]),[3,15];case 4:return s=[{}],[4,ct(n,t)];case 5:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,s.concat([m.sent()])),{name:i,$metadata:Mt(e)}]),[3,15];case 6:return l=[{}],[4,ut(n,t)];case 7:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,l.concat([m.sent()])),{name:i,$metadata:Mt(e)}]),[3,15];case 8:return c=[{}],[4,ht(n,t)];case 9:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,c.concat([m.sent()])),{name:i,$metadata:Mt(e)}]),[3,15];case 10:return u=[{}],[4,mt(n,t)];case 11:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,u.concat([m.sent()])),{name:i,$metadata:Mt(e)}]),[3,15];case 12:return d=[{}],[4,gt(n,t)];case 13:return o=et.__assign.apply(void 0,[et.__assign.apply(void 0,d.concat([m.sent()])),{name:i,$metadata:Mt(e)}]),[3,15];case 14:f=n.body,i=f.code||f.Code||i,o=(0,et.__assign)((0,et.__assign)({},f),{name:""+i,message:f.message||f.Message||i,$fault:"client",$metadata:Mt(e)}),m.label=15;case 15:return p=o.message||o.Message||i,o.message=p,delete o.Message,[2,Promise.reject(Object.assign(new Error(p),o))]}}))}))},lt=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=bt(n,t),[2,(0,et.__assign)({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:Mt(e)},r)]}))}))},ct=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=_t(n,t),[2,(0,et.__assign)({name:"InvalidParameterException",$fault:"client",$metadata:Mt(e)},r)]}))}))},ut=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=wt(n,t),[2,(0,et.__assign)({name:"InvalidSequenceTokenException",$fault:"client",$metadata:Mt(e)},r)]}))}))},dt=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=xt(n,t),[2,(0,et.__assign)({name:"LimitExceededException",$fault:"client",$metadata:Mt(e)},r)]}))}))},ft=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=Ct(n,t),[2,(0,et.__assign)({name:"OperationAbortedException",$fault:"client",$metadata:Mt(e)},r)]}))}))},pt=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=Tt(n,t),[2,(0,et.__assign)({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:Mt(e)},r)]}))}))},ht=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=It(n,t),[2,(0,et.__assign)({name:"ResourceNotFoundException",$fault:"client",$metadata:Mt(e)},r)]}))}))},mt=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=Pt(n,t),[2,(0,et.__assign)({name:"ServiceUnavailableException",$fault:"server",$metadata:Mt(e)},r)]}))}))},gt=function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n=e.body,r=Ot(n,t),[2,(0,et.__assign)({name:"UnrecognizedClientException",$fault:"client",$metadata:Mt(e)},r)]}))}))},vt=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return(0,et.__assign)((0,et.__assign)({},void 0!==e.message&&null!==e.message&&{message:e.message}),void 0!==e.timestamp&&null!==e.timestamp&&{timestamp:e.timestamp})}(e)}))},yt=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,et.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,et.__assign)((0,et.__assign)({},e),((n={})[o]=i,n))}),{})},bt=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},_t=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},wt=function(e,t){return{expectedSequenceToken:void 0!==e.expectedSequenceToken&&null!==e.expectedSequenceToken?e.expectedSequenceToken:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},xt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},St=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,kmsKeyId:void 0!==e.kmsKeyId&&null!==e.kmsKeyId?e.kmsKeyId:void 0,logGroupName:void 0!==e.logGroupName&&null!==e.logGroupName?e.logGroupName:void 0,metricFilterCount:void 0!==e.metricFilterCount&&null!==e.metricFilterCount?e.metricFilterCount:void 0,retentionInDays:void 0!==e.retentionInDays&&null!==e.retentionInDays?e.retentionInDays:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0}}(e)}))},Et=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{arn:void 0!==e.arn&&null!==e.arn?e.arn:void 0,creationTime:void 0!==e.creationTime&&null!==e.creationTime?e.creationTime:void 0,firstEventTimestamp:void 0!==e.firstEventTimestamp&&null!==e.firstEventTimestamp?e.firstEventTimestamp:void 0,lastEventTimestamp:void 0!==e.lastEventTimestamp&&null!==e.lastEventTimestamp?e.lastEventTimestamp:void 0,lastIngestionTime:void 0!==e.lastIngestionTime&&null!==e.lastIngestionTime?e.lastIngestionTime:void 0,logStreamName:void 0!==e.logStreamName&&null!==e.logStreamName?e.logStreamName:void 0,storedBytes:void 0!==e.storedBytes&&null!==e.storedBytes?e.storedBytes:void 0,uploadSequenceToken:void 0!==e.uploadSequenceToken&&null!==e.uploadSequenceToken?e.uploadSequenceToken:void 0}}(e)}))},Ct=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},kt=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ingestionTime:void 0!==e.ingestionTime&&null!==e.ingestionTime?e.ingestionTime:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0,timestamp:void 0!==e.timestamp&&null!==e.timestamp?e.timestamp:void 0}}(e)}))},At=function(e,t){return{expiredLogEventEndIndex:void 0!==e.expiredLogEventEndIndex&&null!==e.expiredLogEventEndIndex?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:void 0!==e.tooNewLogEventStartIndex&&null!==e.tooNewLogEventStartIndex?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:void 0!==e.tooOldLogEventEndIndex&&null!==e.tooOldLogEventEndIndex?e.tooOldLogEventEndIndex:void 0}},Tt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},It=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Pt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ot=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Mt=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Nt=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Lt=function(e,t,n,r,o){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,l,c,u;return(0,et.__generator)(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return i=d.sent(),a=i.hostname,s=i.protocol,l=void 0===s?"https":s,c=i.port,u={protocol:l,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(u.hostname=r),void 0!==o&&(u.body=o),[2,new tt.aW(u)]}}))}))},Rt=function(e,t){return function(e,t){return Nt(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Dt=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},zt=n(22593),Ft=n(82254),Ut=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,et.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,zt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogGroupCommand",inputFilterSensitiveLog:h.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},r=JSON.stringify(function(e,t){return(0,et.__assign)((0,et.__assign)((0,et.__assign)({},void 0!==e.kmsKeyId&&null!==e.kmsKeyId&&{kmsKeyId:e.kmsKeyId}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.tags&&null!==e.tags&&{tags:yt(e.tags,t)})}(e,t)),[2,Lt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,et.__generator)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,nt(e,t)]:[4,Nt(e.body,t)];case 1:return r.sent(),n={$metadata:Mt(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ft.mY),jt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,et.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,zt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:R.filterSensitiveLog,outputFilterSensitiveLog:z.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},r=JSON.stringify(function(e,t){return(0,et.__assign)((0,et.__assign)((0,et.__assign)({},void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupNamePrefix&&null!==e.logGroupNamePrefix&&{logGroupNamePrefix:e.logGroupNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken})}(e)),[2,Lt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,et.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,ot(e,t)]:[4,Rt(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{logGroups:void 0!==e.logGroups&&null!==e.logGroups?St(e.logGroups,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}}(n,t),o=(0,et.__assign)({$metadata:Mt(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Ft.mY),Bt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,et.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,zt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"CreateLogStreamCommand",inputFilterSensitiveLog:m.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},r=JSON.stringify(function(e,t){return(0,et.__assign)((0,et.__assign)({},void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName})}(e)),[2,Lt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,et.__generator)(this,(function(r){switch(r.label){case 0:return e.statusCode>=300?[2,rt(e,t)]:[4,Nt(e.body,t)];case 1:return r.sent(),n={$metadata:Mt(e)},[2,Promise.resolve(n)]}}))}))}(e,t)},t}(Ft.mY),Vt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,et.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,zt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"DescribeLogStreamsCommand",inputFilterSensitiveLog:U.filterSensitiveLog,outputFilterSensitiveLog:B.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},r=JSON.stringify(function(e,t){return(0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)({},void 0!==e.descending&&null!==e.descending&&{descending:e.descending}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamNamePrefix&&null!==e.logStreamNamePrefix&&{logStreamNamePrefix:e.logStreamNamePrefix}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.orderBy&&null!==e.orderBy&&{orderBy:e.orderBy})}(e)),[2,Lt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,et.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,it(e,t)]:[4,Rt(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{logStreams:void 0!==e.logStreams&&null!==e.logStreams?Et(e.logStreams,t):void 0,nextToken:void 0!==e.nextToken&&null!==e.nextToken?e.nextToken:void 0}}(n,t),o=(0,et.__assign)({$metadata:Mt(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Ft.mY),Gt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,et.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,zt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"GetLogEventsCommand",inputFilterSensitiveLog:de.filterSensitiveLog,outputFilterSensitiveLog:pe.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},r=JSON.stringify(function(e,t){return(0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)({},void 0!==e.endTime&&null!==e.endTime&&{endTime:e.endTime}),void 0!==e.limit&&null!==e.limit&&{limit:e.limit}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.nextToken&&null!==e.nextToken&&{nextToken:e.nextToken}),void 0!==e.startFromHead&&null!==e.startFromHead&&{startFromHead:e.startFromHead}),void 0!==e.startTime&&null!==e.startTime&&{startTime:e.startTime})}(e)),[2,Lt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,et.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,at(e,t)]:[4,Rt(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{events:void 0!==e.events&&null!==e.events?kt(e.events,t):void 0,nextBackwardToken:void 0!==e.nextBackwardToken&&null!==e.nextBackwardToken?e.nextBackwardToken:void 0,nextForwardToken:void 0!==e.nextForwardToken&&null!==e.nextForwardToken?e.nextForwardToken:void 0}}(n,t),o=(0,et.__assign)({$metadata:Mt(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Ft.mY),qt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,et.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,zt.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"CloudWatchLogsClient",commandName:"PutLogEventsCommand",inputFilterSensitiveLog:Pe.filterSensitiveLog,outputFilterSensitiveLog:Me.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,et.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},r=JSON.stringify(function(e,t){return(0,et.__assign)((0,et.__assign)((0,et.__assign)((0,et.__assign)({},void 0!==e.logEvents&&null!==e.logEvents&&{logEvents:vt(e.logEvents)}),void 0!==e.logGroupName&&null!==e.logGroupName&&{logGroupName:e.logGroupName}),void 0!==e.logStreamName&&null!==e.logStreamName&&{logStreamName:e.logStreamName}),void 0!==e.sequenceToken&&null!==e.sequenceToken&&{sequenceToken:e.sequenceToken})}(e)),[2,Lt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,et.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,et.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,st(e,t)]:[4,Rt(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{nextSequenceToken:void 0!==e.nextSequenceToken&&null!==e.nextSequenceToken?e.nextSequenceToken:void 0,rejectedLogEventsInfo:void 0!==e.rejectedLogEventsInfo&&null!==e.rejectedLogEventsInfo?At(e.rejectedLogEventsInfo,t):void 0}}(n,t),o=(0,et.__assign)({$metadata:Mt(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(Ft.mY),Ht=n(77643),Wt=n(16776),Kt=n(35749),$t=n(57224),Zt=n(67157),Yt=n(22795),Jt=n(81784),Xt="logs.{region}.amazonaws.com",Qt=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),en=new Set(["cn-north-1","cn-northwest-1"]),tn=new Set(["us-iso-east-1"]),nn=new Set(["us-isob-east-1"]),rn=new Set(["us-gov-east-1","us-gov-west-1"]),on={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:Qt.has(e)&&(n={hostname:Xt.replace("{region}",e),partition:"aws"}),en.has(e)&&(n={hostname:"logs.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),tn.has(e)&&(n={hostname:"logs.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),nn.has(e)&&(n={hostname:"logs.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),rn.has(e)&&(n={hostname:"logs.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Xt.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,et.__assign)({signingService:"logs"},n))},serviceId:"CloudWatch Logs",urlParser:n(87897).e},an=(0,et.__assign)((0,et.__assign)({},on),{runtime:"browser",base64Decoder:Zt.G,base64Encoder:Zt.s,bodyLengthChecker:Yt.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,Jt.f)({serviceId:on.serviceId,clientVersion:"3.6.1"}),maxAttempts:$t.J,region:(0,Kt.n)("Region is missing"),requestHandler:new Wt.B,sha256:Ht.Sha256,streamCollector:Wt.C,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),sn=n(36118),ln=n(43488),cn=n(73775),un=n(30379),dn=n(89722),fn=n(8384),pn=function(e){function t(t){var n=this,r=(0,et.__assign)((0,et.__assign)({},an),t),o=(0,sn.Xb)(r),i=(0,sn.g4)(o),a=(0,dn.A$)(i),s=(0,$t.BC)(a),l=(0,cn.S8)(s),c=(0,fn.er)(l);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,dn.yt)(n.config)),n.middlewareStack.use((0,$t.NQ)(n.config)),n.middlewareStack.use((0,ln.VG)(n.config)),n.middlewareStack.use((0,cn.G2)(n.config)),n.middlewareStack.use((0,un.cV)(n.config)),n.middlewareStack.use((0,fn.XJ)(n.config)),n}return(0,et.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ft.KU),hn=n(40611),mn=n(35069),gn=n(9270),vn=n(99820),yn=n(17439),bn=new mn.k("AWSCloudWatch"),_n=function(){function e(e){this.configure(e),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}return e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(e){if(!e)return this._config||{};var t=Object.assign({},this._config,(0,vn.h)(e).Logging,e);return this._config=t,this._config},e.prototype.createLogGroup=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n;return(0,Qe.Jh)(this,(function(r){switch(r.label){case 0:bn.debug("creating new log group in CloudWatch - ",e.logGroupName),t=new Ut(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(yn.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),bn.error("error creating log group - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogGroups=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n;return(0,Qe.Jh)(this,(function(r){switch(r.label){case 0:bn.debug("getting list of log groups"),t=new jt(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(yn.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),bn.error("error getting log group - "+n),n;case 5:return[2]}}))}))},e.prototype.createLogStream=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n;return(0,Qe.Jh)(this,(function(r){switch(r.label){case 0:bn.debug("creating new log stream in CloudWatch - ",e.logStreamName),t=new Bt(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(yn.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),bn.error("error creating log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogStreams=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n;return(0,Qe.Jh)(this,(function(r){switch(r.label){case 0:bn.debug("getting list of log streams"),t=new Vt(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(yn.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),bn.error("error getting log stream - "+n),n;case 5:return[2]}}))}))},e.prototype.getLogEvents=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n;return(0,Qe.Jh)(this,(function(r){switch(r.label){case 0:bn.debug("getting log events from stream - ",e.logStreamName),t=new Gt(e),r.label=1;case 1:return r.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(!r.sent())throw new Error(yn.I6);return[4,this._initCloudWatchLogs().send(t)];case 3:return[2,r.sent()];case 4:throw n=r.sent(),bn.error("error getting log events - "+n),n;case 5:return[2]}}))}))},e.prototype.pushLogs=function(e){bn.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=(0,Qe.fl)(this._dataTracker.logEvents,e)},e.prototype._validateLogGroupExistsAndCreate=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n,r,o;return(0,Qe.Jh)(this,(function(i){switch(i.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(!i.sent())throw new Error(yn.I6);return[4,this.getLogGroups({logGroupNamePrefix:e})];case 3:return"string"!=typeof(t=i.sent())&&t.logGroups&&(n=t.logGroups.filter((function(t){return t.logGroupName===e}))).length>0?(this._dataTracker.verifiedLogGroup=n[0],[2,n[0]]):[4,this.createLogGroup({logGroupName:e})];case 4:return i.sent(),[2,null];case 5:throw r=i.sent(),o="failure during log group search: "+r,bn.error(o),r;case 6:return[2]}}))}))},e.prototype._validateLogStreamExists=function(e,t){return(0,Qe.mG)(this,void 0,void 0,(function(){var n,r,o,i;return(0,Qe.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error(yn.I6);return[4,this.getLogStreams({logGroupName:e,logStreamNamePrefix:t})];case 2:return(n=a.sent()).logStreams&&(r=n.logStreams.filter((function(e){return e.logStreamName===t}))).length>0?(this._nextSequenceToken=r[0].uploadSequenceToken,[2,r[0]]):[4,this.createLogStream({logGroupName:e,logStreamName:t})];case 3:return a.sent(),[2,null];case 4:throw o=a.sent(),i="failure during log stream search: "+o,bn.error(i),o;case 5:return[2]}}))}))},e.prototype._sendLogEvents=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,Qe.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(!o.sent())throw new Error(yn.I6);return bn.debug("sending log events to stream - ",e.logStreamName),t=new qt(e),[4,this._initCloudWatchLogs().send(t)];case 2:return[2,o.sent()];case 3:return n=o.sent(),r="failure during log push: "+n,bn.error(r),[3,4];case 4:return[2]}}))}))},e.prototype._initCloudWatchLogs=function(){return new pn({region:this._config.region,credentials:this._config.credentials,customUserAgent:(0,gn.Z)(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return(0,Qe.mG)(this,void 0,void 0,(function(){var e=this;return(0,Qe.Jh)(this,(function(t){switch(t.label){case 0:return[4,hn.c.get().then((function(t){if(!t)return!1;var n=hn.c.shear(t);return bn.debug("set credentials for logging",n),e._config.credentials=n,!0})).catch((function(e){return bn.warn("ensure credentials error",e),!1}))];case 1:return[2,t.sent()]}}))}))},e.prototype._getNextSequenceToken=function(){return(0,Qe.mG)(this,void 0,void 0,(function(){var e,t;return(0,Qe.Jh)(this,(function(n){switch(n.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return n.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return(e=n.sent())&&(this._nextSequenceToken=e.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw t=n.sent(),bn.error("failure while getting next sequence token: "+t),t;case 5:return[2]}}))}))},e.prototype._safeUploadLogEvents=function(){return(0,Qe.mG)(this,void 0,void 0,(function(){var e,t,n,r,o;return(0,Qe.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return e=i.sent(),t=0===this._currentLogBatch.length?this._getBufferedBatchOfLogs():this._currentLogBatch,n={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:t,sequenceToken:e},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(n)];case 2:return r=i.sent(),this._nextSequenceToken=r.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,r];case 3:if(o=i.sent(),bn.error("error during _safeUploadLogEvents: "+o),!yn.PZ.includes(o.name))throw this._dataTracker.eventUploadInProgress=!1,o;return this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName}),[3,4];case 4:return[2]}}))}))},e.prototype._getBufferedBatchOfLogs=function(){for(var e=0,t=0;e<this._dataTracker.logEvents.length;){var n=this._dataTracker.logEvents[e],r=n?(new TextEncoder).encode(n.message).length+yn.x7:0;if(r>yn.HF){var o="Log entry exceeds maximum size for CloudWatch logs. Log size: "+r+". Truncating log message.";bn.warn(o),n.message=n.message.substring(0,r)}if(t+r>yn.CO)break;t+=r,e++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,e),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(e){return(0,Qe.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,Qe.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return t=o.sent(),e.sequenceToken=t,[4,this._sendLogEvents(e)];case 2:return n=o.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,n];case 3:throw r=o.sent(),bn.error("error when retrying log submission with new sequence token: "+r),this._dataTracker.eventUploadInProgress=!1,r;case 4:return[2]}}))}))},e.prototype._initiateLogPushInterval=function(){var e=this;this._timer&&clearInterval(this._timer),this._timer=setInterval((function(){return(0,Qe.mG)(e,void 0,void 0,(function(){var e;return(0,Qe.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),bn.error("error when calling _safeUploadLogEvents in the timer interval - "+e),[3,4];case 4:return[2]}}))}))}),2e3)},e.prototype._getDocUploadPermissibility=function(){return(0!==this._dataTracker.logEvents.length||0!==this._currentLogBatch.length)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME=yn.yB,e.CATEGORY=yn.YG,e}()},21195:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});var r=n(35069),o=n(59222),i=n(25387),a=function(){function e(){this._logger=new r.k("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(r,o){if(!navigator||!("serviceWorker"in navigator))return o(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),o(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!(0,o.lC)().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),i.d.Analytics&&"function"==typeof i.d.Analytics.record&&i.d.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}()},90633:(e,t,n)=>{"use strict";n.d(t,{E:()=>_});var r=n(28008),o=n(35069),i=n(41938),a=n(25644),s=n(8575),l=n(74018),c=new o.k("Signer"),u="AWS4-HMAC-SHA256",d=function(e,t){var n=new i.Sha256(e);return n.update(t),n.digestSync()},f=function(e){var t=e||"",n=new i.Sha256;return n.update(t),(0,a.N)(n.digestSync())},p=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},h=function(e){var t,n,r=(0,s.Qc)(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),p(e.headers),f(e.data)].join("\n")},m=function(e){var t=((0,s.Qc)(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},g=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},v=function(e,t,n,r){return[e,n,r,f(t)].join("\n")},y=function(e,t,n){c.debug(n);var r=d("AWS4"+e,t),o=d(r,n.region),i=d(o,n.service);return d(i,"aws4_request")},b=function(e,t){return(0,a.N)(d(e,t))},_=function(){function e(){}return e.sign=function(e,t,n){if(void 0===n&&(n=null),e.headers=e.headers||{},e.body&&!e.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var r=l.E.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),o=r.substr(0,8),i=(0,s.Qc)(e.url);e.headers.host=i.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var a=h(e);c.debug(a);var d=n||m(e),f=g(o,d.region,d.service),_=v(u,a,r,f),w=y(t.secret_key,o,d),x=b(w,_),S=function(e,t,n,r,o){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+o].join(", ")}(u,t.access_key,f,p(e.headers),x);return e.headers.Authorization=S,e},e.signUrl=function(e,t,n,o){var i="object"==typeof e?e.url:e,a="object"==typeof e?e.method:"GET",c="object"==typeof e?e.body:void 0,d=l.E.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),f=d.substr(0,8),p=(0,s.Qc)(i,!0,!0),_=(p.search,(0,r._T)(p,["search"])),w={host:_.host},x=n||m({url:(0,s.WU)(_)}),S=x.region,E=x.service,C=g(f,S,E),k=t.session_token&&"iotdevicegateway"!==E,A=(0,r.pi)((0,r.pi)((0,r.pi)({"X-Amz-Algorithm":u,"X-Amz-Credential":[t.access_key,C].join("/"),"X-Amz-Date":d.substr(0,16)},k?{"X-Amz-Security-Token":""+t.session_token}:{}),o?{"X-Amz-Expires":""+o}:{}),{"X-Amz-SignedHeaders":Object.keys(w).join(",")}),T=h({method:a,url:(0,s.WU)((0,r.pi)((0,r.pi)({},_),{query:(0,r.pi)((0,r.pi)({},_.query),A)})),headers:w,data:c}),I=v(u,T,d,C),P=y(t.secret_key,f,{region:S,service:E}),O=b(P,I),M=(0,r.pi)({"X-Amz-Signature":O},t.session_token&&{"X-Amz-Security-Token":t.session_token});return(0,s.WU)({protocol:_.protocol,slashes:!0,hostname:_.hostname,port:_.port,pathname:_.pathname,query:(0,r.pi)((0,r.pi)((0,r.pi)({},_.query),A),M)})},e}()},6648:(e,t,n)=>{"use strict";n.d(t,{c:()=>i,k:()=>o});var r={},o=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={}},e}(),i=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=o}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},11058:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var r=n(28008),o=n(38087);function i(e,t){void 0===t&&(t={});var n=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};const s=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?o.Q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=o.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),i(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=i(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=a(a({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=o.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=a(a({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=a({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=o.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();var l=(0,n(59222).lC)().isBrowser,c=function(){function e(e){void 0===e&&(e={}),this.cookies=new s,this.store=l?window.localStorage:Object.create(null),this.cookies=e.req?new s(e.req.headers.cookie):new s,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){this.setLocalItem(e,t);var n=e.split(".").pop();["LastAuthUser","accessToken","refreshToken","idToken"].includes(null!=n?n:"")&&this.setUniversalItem(e,t,{expires:new Date(Date.now()+31536e6)})},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t,n){void 0===n&&(n={}),this.cookies.set(e,t,(0,r.pi)((0,r.pi)({},n),{path:"/",sameSite:!0,secure:!l||"localhost"!==window.location.hostname}))},e}()},84987:(e,t,n)=>{"use strict";n.d(t,{Si:()=>r,UP:()=>a,XL:()=>i});var r,o=n(28008),i=function(){function e(){this._state=r.Open,this.jobs=new Set}return e.prototype.add=function(t,n){var r,o;"string"==typeof t?(r=void 0,o=t):(r=t,o=n);var i=this.closedFailure(o);if(i)return i;if(void 0===r)return this.addHook(o);if("function"==typeof r)return this.addFunction(r,o);if(r instanceof e)return this.addManager(r,o);throw new Error("If `job` is provided, it must be an Observable, Function, or BackgroundProcessManager.")},e.prototype.addCleaner=function(e,t){var n=this,r=this.addHook(t),i=r.resolve,a=function(){return(0,o.mG)(n,void 0,void 0,(function(){return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,e()];case 1:return t.sent(),i(),[2]}}))}))};return r.onTerminate.then(a),a},e.prototype.addFunction=function(e,t){var n,r=e(new Promise((function(e){n=e})));return"function"==typeof(null==r?void 0:r.then)&&this.registerPromise(r,n,t),r},e.prototype.addManager=function(e,t){var n=this;this.addCleaner((function(){return(0,o.mG)(n,void 0,void 0,(function(){return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,e.close()];case 1:return[2,t.sent()]}}))}))}),t)},e.prototype.addHook=function(e){var t,n,r,o=new Promise((function(e,r){t=e,n=r})),i=new Promise((function(e){r=e}));return this.registerPromise(o,r,e),{resolve:t,reject:n,onTerminate:i}},e.prototype.registerPromise=function(e,t,n){var r=this,o={promise:e,terminate:t,description:n};this.jobs.add(o),e.then((function(){r.jobs.delete(o)})).catch((function(){r.jobs.delete(o)}))},Object.defineProperty(e.prototype,"length",{get:function(){return this.jobs.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return Array.from(this.jobs).map((function(e){return e.description}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._state===r.Open},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosing",{get:function(){return this._state===r.Closing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClosed",{get:function(){return this._state===r.Closed},enumerable:!0,configurable:!0}),e.prototype.closedFailure=function(e){if(!this.isOpen)return Promise.reject(new a(["The manager is "+this.state+".",'You tried to add "'+e+'".',"Pending jobs: [\n"+this.pending.map((function(e){return"    "+e})).join(",\n")+"\n]"].join("\n")))},e.prototype.close=function(){return(0,o.mG)(this,void 0,void 0,(function(){var e,t,n,i,a;return(0,o.Jh)(this,(function(s){switch(s.label){case 0:if(!this.isOpen)return[3,2];this._state=r.Closing;try{for(e=(0,o.XA)(Array.from(this.jobs)),t=e.next();!t.done;t=e.next()){n=t.value;try{n.terminate()}catch(e){console.warn("Failed to send termination signal to job. Error: "+e.message,n)}}}catch(e){i={error:e}}finally{try{t&&!t.done&&(a=e.return)&&a.call(e)}finally{if(i)throw i.error}}return this._closingPromise=Promise.allSettled(Array.from(this.jobs).map((function(e){return e.promise}))),[4,this._closingPromise];case 1:s.sent(),this._state=r.Closed,s.label=2;case 2:return[2,this._closingPromise]}}))}))},e.prototype.open=function(){return(0,o.mG)(this,void 0,void 0,(function(){return(0,o.Jh)(this,(function(e){switch(e.label){case 0:return this.isClosing?[4,this.close()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._state=r.Open,[2]}}))}))},e}(),a=function(e){function t(t){return e.call(this,"BackgroundManagerNotOpenError: "+t)||this}return(0,o.ZT)(t,e),t}(Error);!function(e){e.Open="Open",e.Closing="Closing",e.Closed="Closed"}(r||(r={}))},17439:(e,t,n)=>{"use strict";n.d(t,{CO:()=>o,HF:()=>i,I6:()=>l,PZ:()=>c,YG:()=>a,x7:()=>r,yB:()=>s});var r=26,o=1048576,i=256e3,a="Logging",s="AWSCloudWatch",l="No credentials",c=["ResourceNotFoundException","InvalidSequenceTokenException"]},74018:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(28008),o={clockOffset:0,getDateWithClockOffset:function(){return o.clockOffset?new Date((new Date).getTime()+o.clockOffset):new Date},getClockOffset:function(){return o.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=o.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=(0,r.CR)(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=t[6];return new Date(Date.UTC(Number(n),Number(o)-1,Number(i),Number(a),Number(s),Number(l)))},isClockSkewed:function(e){return Math.abs(e.getTime()-o.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){o.clockOffset=e}}},59297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(e){throw t(),e}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}()},26968:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(28008),o=n(59222),i=n(99904);const a=function(){function e(){}return e.prototype.networkMonitor=function(t){if((0,o.lC)().isNode)return i.Z.from([{online:!0}]);var n=(0,o.n2)()?self:window;return new i.Z((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},o=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",o),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",o),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,o,i=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var a=(0,r.XA)(e._observers),s=a.next();!s.done;s=a.next())i(s.value)}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},e._observers=[],e}()},7262:(e,t,n)=>{"use strict";n.d(t,{V2:()=>i,XD:()=>s,Xm:()=>u,kD:()=>c,m0:()=>a});var r=n(28008),o=new(n(35069).k)("Util"),i=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return(0,r.ZT)(t,e),t}(Error),a=function(e){return e&&e.nonRetryable};function s(e,t,n,i){return(0,r.mG)(this,void 0,void 0,(function(){var s=this;return(0,r.Jh)(this,(function(l){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(l,c){return(0,r.mG)(s,void 0,void 0,(function(){var s,u,d,f,p,h,m;return(0,r.Jh)(this,(function(g){switch(g.label){case 0:s=0,u=!1,f=function(){},i&&i.then((function(){u=!0,clearTimeout(d),f()})),h=function(){var i,h,m,g;return(0,r.Jh)(this,(function(v){switch(v.label){case 0:s++,o.debug(e.name+" attempt #"+s+" with this vars: "+JSON.stringify(t)),v.label=1;case 1:return v.trys.push([1,3,,7]),i={},h=l,[4,e.apply(void 0,(0,r.fl)(t))];case 2:return[2,(i.value=h.apply(void 0,[v.sent()]),i)];case 3:return m=v.sent(),p=m,o.debug("error on "+e.name,m),a(m)?(o.debug(e.name+" non retryable error",m),[2,{value:c(m)}]):(g=n(s,t,m),o.debug(e.name+" retrying in "+g+" ms"),!1===g||u?[2,{value:c(m)}]:[3,4]);case 4:return[4,new Promise((function(e){f=e,d=setTimeout(f,g)}))];case 5:v.sent(),v.label=6;case 6:return[3,7];case 7:return[2]}}))},g.label=1;case 1:return u?[3,3]:[5,h()];case 2:return"object"==typeof(m=g.sent())?[2,m.value]:[3,1];case 3:return c(p),[2]}}))}))}))]}))}))}var l=3e5;function c(e){return void 0===e&&(e=l),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var u=function(e,t,n,r){return void 0===n&&(n=l),s(e,t,c(n),r)}},37439:(e,t,n)=>{"use strict";function r(e){return e.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join("")}function o(e){return e.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join("")}n.d(t,{T:()=>r,q:()=>o})},88229:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>a,om:()=>i,yL:()=>o});var r="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,o=r?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",i=r?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",a="x-amz-user-agent"},41547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AWSCloudWatchProvider:()=>h.P,AWS_CLOUDWATCH_BASE_BUFFER_SIZE:()=>E.x7,AWS_CLOUDWATCH_CATEGORY:()=>E.YG,AWS_CLOUDWATCH_MAX_BATCH_EVENT_SIZE:()=>E.CO,AWS_CLOUDWATCH_MAX_EVENT_SIZE:()=>E.HF,AWS_CLOUDWATCH_PROVIDER_NAME:()=>E.yB,Amplify:()=>r.d,AmplifyClass:()=>r.b,AppState:()=>y,AsyncStorage:()=>b,BackgroundManagerNotOpenError:()=>C.UP,BackgroundProcessManager:()=>C.XL,BackgroundProcessManagerState:()=>C.Si,ClientDevice:()=>i._,ConsoleLogger:()=>a.k,Constants:()=>O,Credentials:()=>_.c,CredentialsClass:()=>_.v,DateUtils:()=>k.E,FacebookOAuth:()=>m.r,GoogleOAuth:()=>m.W,Hub:()=>c.X,I18n:()=>u.o,INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER:()=>S.yL,INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER:()=>S.om,Linking:()=>v,Logger:()=>a.k,MemoryStorage:()=>g.k,Mutex:()=>A.Z,NO_CREDS_ERROR_STRING:()=>E.I6,NonRetryableError:()=>T.V2,Platform:()=>o.t,RETRY_ERROR_CODES:()=>E.PZ,Reachability:()=>I.Z,ServiceWorker:()=>w.f,Signer:()=>f.E,StorageHelper:()=>g.c,USER_AGENT_HEADER:()=>S.Mt,UniversalStorage:()=>x.N,browserOrNode:()=>d.lC,default:()=>M,filenameToContentType:()=>d.rI,generateRandomString:()=>d.zs,getAmplifyUserAgent:()=>o.Z,invalidParameter:()=>l,isEmpty:()=>d.xb,isNonRetryableError:()=>T.m0,isStrictObject:()=>d.mx,isTextFile:()=>d.aq,isWebWorker:()=>d.n2,jitteredBackoff:()=>T.kD,jitteredExponentialRetry:()=>T.Xm,makeQuerablePromise:()=>d.ML,missingConfig:()=>s,objectLessAttributes:()=>d.ho,parseAWSExports:()=>p.h,retry:()=>T.XD,sortByField:()=>d.L1,transferKeyToLowerCase:()=>d.QB,transferKeyToUpperCase:()=>d.I,urlSafeDecode:()=>P.q,urlSafeEncode:()=>P.T});var r=n(25387),o=n(9270),i=n(9733),a=n(35069);function s(e){return new Error("Missing config value of "+e)}function l(e){return new Error("Invalid parameter value of "+e)}var c=n(20490),u=n(23139),d=n(59222),f=n(90633),p=n(99820),h=n(31911),m=n(51550),g=n(6648),v={},y={addEventListener:function(e,t){}},b=(0,d.lC)().isBrowser?(new g.c).getStorage():void 0,_=n(40611),w=n(21195),x=n(11058),S=n(88229),E=n(17439),C=n(84987),k=n(74018),A=n(59297),T=n(7262),I=n(26968),P=n(37439),O={userAgent:o.t.userAgent};const M=r.d},99820:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(28008),o=new(n(35069).k)("Parser"),i=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var i={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=i}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=(0,r.pi)((0,r.pi)({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),o.debug("parse config",e,"to amplifyconfig",n),n}},28008:(e,t,n)=>{"use strict";n.d(t,{CR:()=>u,Jh:()=>l,XA:()=>c,ZT:()=>o,_T:()=>a,fl:()=>d,mG:()=>s,pi:()=>i});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},64314:(e,t,n)=>{"use strict";n.d(t,{ZO:()=>Ht,DK:()=>qt,KT:()=>tn,xh:()=>en,yb:()=>Mt});var r=n(70655),o=n(36619),i=n(91021),a=n(81282),s=n(35069),l=n(59222),c=n(84987),u=n(20490),d=n(25387),f=n(18172),p=n(98029),h=n(99904),m=n(71672),g=n(86471);function v(e){return"private"!==e.allow||e.provider?"public"!==e.allow||e.provider?e.provider:g.j6.API_KEY:g.j6.USER_POOLS}function y(e){var t=e.rules,n=e.currentUser,r=new Set;return t.forEach((function(e){switch(e.allow){case g.Yq.CUSTOM:e.provider&&e.provider!==g.j6.FUNCTION||r.add(m.si.AWS_LAMBDA);break;case g.Yq.GROUPS:case g.Yq.OWNER:n&&(e.provider===g.j6.USER_POOLS?r.add(m.si.AMAZON_COGNITO_USER_POOLS):e.provider===g.j6.OIDC&&r.add(m.si.OPENID_CONNECT));break;case g.Yq.PRIVATE:n&&(e.provider&&e.provider!==g.j6.USER_POOLS?e.provider===g.j6.IAM&&r.add(m.si.AWS_IAM):r.add(m.si.AMAZON_COGNITO_USER_POOLS));break;case g.Yq.PUBLIC:e.provider===g.j6.IAM?r.add(m.si.AWS_IAM):e.provider&&e.provider!==g.j6.API_KEY||r.add(m.si.API_KEY)}})),Array.from(r)}var b,_,w=function(){return[]},x=n(36460),S=n(3581),E=n(59297),C=n(71404),k=n.n(C),A=n(70591),T=n(68006),I=new s.k("DataStore");!function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"}(b||(b={})),function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"}(_||(_={}));var P=Object.keys({_version:void 0,_lastChangedAt:void 0,_deleted:void 0});function O(e,t){var n=M(t),o=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,o=t.type;if((0,g.$v)(o)){var i=e.nonModels[o.nonModel],a=Object.values(M(i)).map((function(e){return e.name})),s=[];Object.values(i.fields).forEach((function(t){var n=t.type,r=t.name;if((0,g.$v)(n)){var o=e.nonModels[n.nonModel];s.push(r+" { "+O(e,o)+" }")}})),n.push(r+" { "+a.join(" ")+" "+s.join(" ")+" }")}})),n}(e,t),i=function(e,t){var n=function(e){var t=[];return(0,g.sN)(e)&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}})),t}(e);return!t.owner&&n.includes("owner")?["owner"]:[]}(t,n),a=Object.values(n).map((function(e){return e.name})).concat(i).concat(o);return(0,g.aQ)(t)&&(a=a.concat(P).concat(function(e,t){var n=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(o){var i=o.name,a=o.association,s=(a||{}).connectionType;switch(s){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":if((0,g.Fr)(a))if(a.targetNames&&a.targetNames.length>0){var l=(0,r.__read)((0,A.__)(t),1)[0][e.fields[i].type.model].indexes.find((function(e){return"byPk"===(0,r.__read)(e,1)[0]})),c=l&&l[1],u=null==c?void 0:c.join(" ");n.push(i+" { "+u+" _deleted }")}else n.push(i+" { id _deleted }");break;default:throw new Error("Invalid connection type "+s)}})),n}(t,e))),a.join("\n")}function M(e){var t=e.fields;return Object.values(t).filter((function(e){return!(!(0,g.BV)(e.type)&&!(0,g.g5)(e.type))})).reduce((function(e,t){return e[t.name]=t,e}),{})}function N(e,t,n){var r,o,i,a,s=O(e,t),l=t.name,c=t.pluralName;switch(n){case"LIST":r="sync"+c,o="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+l+"FilterInput)",i="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",s="items {\n\t\t\t\t\t\t\t"+s+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+l,o="($input: Create"+l+"Input!)",i="(input: $input)",a=_.CREATE;break;case"UPDATE":r="update"+l,o="($input: Update"+l+"Input!, $condition: Model"+l+"ConditionInput)",i="(input: $input, condition: $condition)",a=_.UPDATE;break;case"DELETE":r="delete"+l,o="($input: Delete"+l+"Input!, $condition: Model"+l+"ConditionInput)",i="(input: $input, condition: $condition)",a=_.DELETE;break;case"GET":r="get"+l,o="($id: ID!)",i="(id: $id)",a=_.GET;break;default:throw new Error("Invalid graphQlOpType "+n)}return[[a,r,b[n]+" operation"+o+"{\n\t\t"+r+i+"{\n\t\t\t"+s+"\n\t\t}\n\t}"]]}function L(e,t,n,o,i,a,s,l,c){var u;switch(n){case g.HP.INSERT:u=_.CREATE;break;case g.HP.UPDATE:u=_.UPDATE;break;case g.HP.DELETE:u=_.DELETE;break;default:throw new Error("Invalid opType "+n)}var d=B(t,i),f=g.HP.INSERT&&c?{id:c}:{};return l(s,(0,r.__assign)((0,r.__assign)({},f),{data:JSON.stringify(i,(function(e,n){return e&&null!==n&&"object"==typeof n&&t.fields[e]&&"AWSJSON"===t.fields[e].type?JSON.stringify(n):n})),modelId:d,model:o.name,operation:u,condition:JSON.stringify(a)}))}function R(e,t){void 0===t&&(t=[]);var n={};if(!e||!Array.isArray(e.predicates))return n;var r=e.type,o=e.predicates,i="and"===r||"or"===r;n[r]=i?[]:{};var a=function(e){return i?n[r].push(e):n[r]=e};if(o.forEach((function(e){var n,r;if((0,g.w5)(e)){var o=e.field,i=e.operator,s=e.operand;if(t.includes(o))return;var l=((n={})[o]=((r={})[i]=s,r),n);a(l)}else{var c=R(e,t);Object.keys(c).length>0&&a(c)}})),i){if(0===n[r].length)return{}}else if(0===Object.keys(n[r]).length)return{};return n}function D(e,t){var n=e[t.groupClaim]||[];if("string"==typeof n){var r=void 0;try{r=JSON.parse(n)}catch(e){r=n}n=[].concat(r)}return n}function z(e){var t=e.authModeStrategy,n=e.defaultAuthMode,o=e.modelName,i=e.schema;return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,a,s,l=this;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:e=Object.values(g.Z1),a={CREATE:[],READ:[],UPDATE:[],DELETE:[]},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(e.map((function(e){return(0,r.__awaiter)(l,void 0,void 0,(function(){var s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t({schema:i,modelName:o,operation:e})];case 1:return"string"==typeof(s=r.sent())?a[e]=[s]:Array.isArray(s)&&s.length?a[e]=s:a[e]=[n],[2]}}))}))})))];case 2:return c.sent(),[3,4];case 3:return s=c.sent(),I.debug("Error getting auth modes for model: "+o,s),[3,4];case 4:return[2,a]}}))}))}function F(e){var t,n=["Request failed with status code 401","Request failed with status code 403"];return e&&e.errors?t=e.errors.find((function(e){return n.includes(e.message)})):e&&e.message&&(t=e),t?t.message:null}function U(e){var t=Object.values(T.j);return e&&e.message&&t.find((function(t){return e.message.includes(t)}))||null}function j(e,t){return void 0===t&&(t={}),(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(e!==m.si.AWS_LAMBDA)return[3,6];if(n=t.authProviders,!(o=(void 0===n?{functionAuthProvider:null}:n).functionAuthProvider)||"function"!=typeof o)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o()];case 2:return[2,r.sent().token];case 3:throw i=r.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+i);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+m.si.AWS_LAMBDA);case 6:return[2]}}))}))}function B(e,t){return(0,A.lm)(e).map((function(e){return t[e]})).join(A.lk)}let V,G;const q=new WeakMap,H=new WeakMap,W=new WeakMap,K=new WeakMap,$=new WeakMap;let Z={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return H.get(e);if("objectStoreNames"===t)return e.objectStoreNames||W.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return J(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Y(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(X(this),e),J(q.get(this))}:function(...e){return J(t.apply(X(this),e))}:function(e,...n){const r=t.call(X(this),e,...n);return W.set(r,e.sort?e.sort():[e]),J(r)}:(e instanceof IDBTransaction&&function(e){if(H.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)}));H.set(e,t)}(e),n=e,(V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,Z):e);var t,n}function J(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(J(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)}));return t.then((t=>{t instanceof IDBCursor&&q.set(t,e)})).catch((()=>{})),$.set(t,e),t}(e);if(K.has(e))return K.get(e);const t=Y(e);return t!==e&&(K.set(e,t),$.set(t,e)),t}const X=e=>$.get(e);function Q(e,t,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(e,t),s=J(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(J(a.result),e.oldVersion,e.newVersion,J(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{i&&e.addEventListener("close",(()=>i())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),s}function ee(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),J(n).then((()=>{}))}const te=["get","getKey","getAll","getAllKeys","count"],ne=["put","add","delete","clear"],re=new Map;function oe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(re.get(t))return re.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=ne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!te.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;r&&(a=a.index(t.shift()));const s=await a[n](...t);return o&&await i.done,s};return re.set(t,i),i}var ie;ie=Z,Z={...ie,get:(e,t,n)=>oe(e,t)||ie.get(e,t,n),has:(e,t)=>!!oe(e,t)||ie.has(e,t)};var ae=new s.k("DataStore"),se="amplify-datastore",le=function(){function e(){var e=this;this.dbName=se,this.safariCompatabilityMode=!1,this.canonicalKeyPath=function(t){return e.safariCompatabilityMode?t.length>1?t:t[0]:t}}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return(0,A.cZ)(t,n)},e.prototype.getIndexKeyValuesFromModel=function(e){var t=Object.getPrototypeOf(e).constructor,n=this.namespaceResolver(t),r=(0,A.dV)(this.schema.namespaces[n],t.name);return(0,A.Eq)(e,r)},e.prototype.checkPrivate=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,A.D0)().then((function(e){return e}))];case 1:return e.sent()?(ae.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},e.prototype.setSafariCompatabilityMode=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=this,[4,(0,A.D1)()];case 1:return e.safariCompatabilityMode=t.sent(),!0===this.safariCompatabilityMode&&ae.debug("IndexedDB Adapter is running in Safari Compatability Mode"),[2]}}))}))},e.prototype.getNamespaceAndModelFromStorename=function(e){var t=(0,r.__read)(e.split("_"));return{namespaceName:t[0],modelName:t.slice(1).join("_")}},e.prototype.setUp=function(e,t,n,o,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,s,l=this;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.checkPrivate()];case 1:return c.sent(),[4,this.setSafariCompatabilityMode()];case 2:return c.sent(),this.initPromise?[3,3]:(this.initPromise=new Promise((function(e,t){l.resolve=e,l.reject=t})),[3,5]);case 3:return[4,this.initPromise];case 4:c.sent(),c.label=5;case 5:i&&(this.dbName=se+"-"+i),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=o,c.label=6;case 6:return c.trys.push([6,9,,10]),this.db?[3,8]:(a=this,[4,Q(this.dbName,3,{upgrade:function(t,n,o,i){return(0,r.__awaiter)(l,void 0,void 0,(function(){var a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w=this;return(0,r.__generator)(this,(function(x){switch(x.label){case 0:if(0===n)return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n];Object.keys(r.models).forEach((function(e){var r=(0,A.cZ)(n,e);w.createObjectStoreForModel(t,n,r,e)}))})),[2];if(1!==n&&2!==n||3!==o)return[3,16];x.label=1;case 1:x.trys.push([1,14,,15]),x.label=2;case 2:x.trys.push([2,11,12,13]),a=(0,r.__values)(i.objectStoreNames),s=a.next(),x.label=3;case 3:return s.done?[3,10]:(l=s.value,c=i.objectStore(l),u="tmp_"+l,c.name=u,d=this.getNamespaceAndModelFromStorename(l),f=d.namespaceName,(p=d.modelName)in this.schema.namespaces[f].models?(h=this.createObjectStoreForModel(t,f,l,p),[4,c.openCursor()]):(t.deleteObjectStore(u),[3,9]));case 4:m=x.sent(),g=0,x.label=5;case 5:return m&&m.value?[4,h.put(m.value)]:[3,8];case 6:return x.sent(),[4,m.continue()];case 7:return m=x.sent(),g++,[3,5];case 8:t.deleteObjectStore(u),ae.debug(g+" "+l+" records migrated"),x.label=9;case 9:return s=a.next(),[3,3];case 10:return[3,13];case 11:return v=x.sent(),b={error:v},[3,13];case 12:try{s&&!s.done&&(_=a.return)&&_.call(a)}finally{if(b)throw b.error}return[7];case 13:return Object.keys(e.namespaces).forEach((function(n){var o=e.namespaces[n],a=new Set(i.objectStoreNames);Object.keys(o.models).map((function(e){return[e,(0,A.cZ)(n,e)]})).filter((function(e){var t=(0,r.__read)(e,2)[1];return!a.has(t)})).forEach((function(e){var o=(0,r.__read)(e,2),i=o[0],a=o[1];w.createObjectStoreForModel(t,n,a,i)}))})),[3,15];case 14:throw y=x.sent(),ae.error("Error migrating IndexedDB data",y),i.abort(),y;case 15:case 16:return[2]}}))}))}})]);case 7:a.db=c.sent(),this.resolve(),c.label=8;case 8:return[3,10];case 9:return s=c.sent(),this.reject(s),[3,10];case 10:return[2]}}))}))},e.prototype._get=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return"string"==typeof e?(o=e,n=this.db.transaction(o,"readonly").store.index("byPk")):n=e.index("byPk"),[4,n.get(this.canonicalKeyPath(t))];case 1:return[2,r.sent()]}}))}))},e.prototype.save=function(e,t){var n,o;return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,l,c,u,d,f,p,h,m,v,y,b,_,w,S,E,C,k,T,I,P,O,M,N,L,R,D,z,F=this;return(0,r.__generator)(this,(function(U){switch(U.label){case 0:return[4,this.checkPrivate()];case 1:return U.sent(),i=Object.getPrototypeOf(e).constructor,a=this.getStorenameForModel(i),s=this.namespaceResolver(i),l=(0,A.jl)(i.name,e,this.schema.namespaces[s],this.modelInstanceCreator,this.getModelConstructorByModelName),c=new Set,u=Object.values(l).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=(0,A.cZ)(s,t);return c.add(o),{storeName:o,item:n,instance:r,keys:(0,A.dV)(F.schema.namespaces[s],t)}})),d=this.db.transaction((0,r.__spread)([a],Array.from(c.values())),"readwrite"),f=d.objectStore(a),p=this.getIndexKeyValuesFromModel(e),[4,this._get(f,p)];case 2:if(h=U.sent(),t&&h&&(m=x.OY.getPredicates(t),y=(v=m||{}).predicates,b=v.type,!(0,A.u8)(h,b,y)))throw _="Conditional update failed",ae.error(_,{model:h,condition:y}),new Error(_);w=[],U.label=3;case 3:U.trys.push([3,11,12,17]),S=(0,r.__asyncValues)(u),U.label=4;case 4:return[4,S.next()];case 5:return(E=U.sent()).done?[3,10]:(C=E.value,k=C.storeName,T=C.item,I=C.instance,P=C.keys,O=d.objectStore(k),M=P.map((function(e){return T[e]})),[4,this._get(O,M)]);case 6:return N=U.sent(),L=void 0===N?g.HP.INSERT:g.HP.UPDATE,R=this.getIndexKeyValuesFromModel(e),(0,A.OI)(M,R)||L===g.HP.INSERT?[4,O.index("byPk").getKey(this.canonicalKeyPath(M))]:[3,9];case 7:return D=U.sent(),[4,O.put(T,D)];case 8:U.sent(),w.push([I,L]),U.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return z=U.sent(),n={error:z},[3,17];case 12:return U.trys.push([12,,15,16]),E&&!E.done&&(o=S.return)?[4,o.call(S)]:[3,14];case 13:U.sent(),U.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,d.done];case 18:return U.sent(),[2,w]}}))}))},e.prototype.load=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l=this;return(0,r.__generator)(this,(function(r){return o=this.schema.namespaces[e],i=o.relationships[t].relationTypes,a=i.map((function(t){var n=t.modelName;return(0,A.cZ)(e,n)})),s=this.getModelConstructorByModelName(e,t),a.length,[2,n.map((function(e){return l.modelInstanceCreator(s,e)}))]}))}))},e.prototype.query=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f=this;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:return[4,this.checkPrivate()];case 1:return p.sent(),o=this.getStorenameForModel(e),i=this.namespaceResolver(e),a=t&&x.OY.getPredicates(t),s=(0,A.dV)(this.schema.namespaces[i],e.name),l=a&&this.keyValueFromPredicate(a,s),c=n&&n.sort,u=n&&n.limit,[4,(0,r.__awaiter)(f,void 0,void 0,(function(){var e,t,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return l?[4,this.getByKey(o,l)]:[3,2];case 1:return[2,(e=r.sent())?[e]:[]];case 2:return a?[4,this.filterOnPredicate(o,a)]:[3,4];case 3:return t=r.sent(),[2,this.inMemoryPagination(t,n)];case 4:return c?[4,this.getAll(o)]:[3,6];case 5:return i=r.sent(),[2,this.inMemoryPagination(i,n)];case 6:return u?[2,this.enginePagination(o,n)]:[2,this.getAll(o)]}}))}))];case 2:return d=p.sent(),[4,this.load(i,e.name,d)];case 3:return[2,p.sent()]}}))}))},e.prototype.getByKey=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.keyValueFromPredicate=function(e,t){var n,o,i=e.predicates;if(i.length===t.length){var a=[],s=function(e){var t=i.find((function(t){return(0,g.w5)(t)&&t.field===e&&"eq"===t.operator}));t&&a.push(t.operand)};try{for(var l=(0,r.__values)(t),c=l.next();!c.done;c=l.next())s(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return a.length===t.length?a:void 0}},e.prototype.matchingIndexQueries=function(e,t,n){var o,i,a,s,l=this,c=[],u=new Map;try{for(var d=(0,r.__values)(t),f=d.next();!f.done;f=d.next()){var p=f.value;u.set(String(p.field),p)}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}var h=n.objectStore(e),m=function(t){var n,o,i=h.index(t),a=Array.isArray(i.keyPath)?i.keyPath:[i.keyPath],s=[];try{for(var d=(n=void 0,(0,r.__values)(a)),f=d.next();!f.done;f=d.next()){var p=f.value,m=u.get(p);if(!m)break;s.push(String(m.operand))}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}s.length===a.length&&c.push((function(){return l.db.transaction(e).objectStore(e).index(t).getAll(l.canonicalKeyPath(s))}))};try{for(var g=(0,r.__values)(h.indexNames),v=g.next();!v.done;v=g.next())m(v.value)}catch(e){a={error:e}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}return c},e.prototype.baseQueryIndex=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f=this;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:for(o=t.predicates,i=t.type;1===o.length&&(0,g.G9)(o[0])&&"not"!==o[0].type;)i=o[0].type,o=o[0].predicates;return a=o.filter((function(e){return(0,g.w5)(e)&&"eq"===e.operator})),s=n||this.db.transaction(e),l={},"or"!==i?[3,2]:[4,Promise.all(o.filter((function(e){return(0,g.G9)(e)&&"and"===e.type})).map((function(t){return f.baseQueryIndex(e,t,s)}))).then((function(e){return e.filter((function(e){return 1===e.indexedQueries.length})).map((function(e){return e.indexedQueries}))}))];case 1:return c=p.sent(),u=o.filter((function(e){return(0,g.w5)(e)})).map((function(t){return f.matchingIndexQueries(e,[t],s)})),d=(0,r.__spread)(c,u).map((function(e){return e[0]})).filter((function(e){return e})),l=o.length>d.length?{groupType:null,indexedQueries:[]}:{groupType:"or",indexedQueries:d},[3,3];case 2:l="and"===i?{groupType:i,indexedQueries:this.matchingIndexQueries(e,a,s)}:{groupType:null,indexedQueries:[]},p.label=3;case 3:return n?[3,5]:[4,s.done];case 4:p.sent(),p.label=5;case 5:return[2,l]}}))}))},e.prototype.filterOnPredicate=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w;return(0,r.__generator)(this,(function(x){switch(x.label){case 0:return n=t.predicates,o=t.type,[4,this.baseQueryIndex(e,t)];case 1:return i=x.sent(),a=i.groupType,s=i.indexedQueries,"and"===a&&s.length>0?[4,s[0]()]:[3,3];case 2:return l=x.sent(),[3,14];case 3:if(!("or"===a&&s.length>0&&s.length<=7))return[3,12];c=new Map,x.label=4;case 4:x.trys.push([4,9,10,11]),u=(0,r.__values)(s),d=u.next(),x.label=5;case 5:return d.done?[3,8]:[4,(0,d.value)()];case 6:f=x.sent();try{for(_=void 0,p=(0,r.__values)(f),h=p.next();!h.done;h=p.next())m=h.value,g=JSON.stringify(m),c.set(g,m)}catch(e){_={error:e}}finally{try{h&&!h.done&&(w=p.return)&&w.call(p)}finally{if(_)throw _.error}}x.label=7;case 7:return d=u.next(),[3,5];case 8:return[3,11];case 9:return v=x.sent(),y={error:v},[3,11];case 10:try{d&&!d.done&&(b=u.return)&&b.call(u)}finally{if(y)throw y.error}return[7];case 11:return l=Array.from(c.values()),[3,14];case 12:return[4,this.getAll(e)];case 13:l=x.sent(),x.label=14;case 14:return[2,n?l.filter((function(e){return(0,A.u8)(e,o,n)})):l]}}))}))},e.prototype.inMemoryPagination=function(e,t){return(0,A.Un)(e,t)},e.prototype.enginePagination=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t?(o=t.page,i=void 0===o?0:o,a=t.limit,s=void 0===a?0:a,l=Math.max(0,i*s)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(c=r.sent())&&l>0?[4,c.advance(l)]:[3,3];case 2:r.sent(),r.label=3;case 3:u=[],d="number"==typeof s&&s>0,r.label=4;case 4:return c&&c.value?(u.push(c.value),d&&u.length===s?[3,6]:[4,c.continue()]):[3,6];case 5:return c=r.sent(),[3,4];case 6:return n=u,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=r.sent(),r.label=9;case 9:return[2,n]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=g.fI.FIRST),(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.checkPrivate()];case 1:return r.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===g.fI.FIRST?"next":"prev")];case 2:return o=r.sent(),[2,(i=o?o.value:void 0)&&this.modelInstanceCreator(e,i)]}}))}))},e.prototype.delete=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.checkPrivate()];case 1:return r.sent(),n=[],(0,A.hK)(e)?(s=e,o=this.namespaceResolver(s),c=this.getStorenameForModel(s),[4,this.query(s,t)]):[3,9];case 2:return i=r.sent(),b=this.schema.namespaces[o].relationships[s.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(b,i,s.name,o,n)];case 3:return r.sent(),[4,this.deleteItem(n)];case 4:return r.sent(),_=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[i,_]];case 5:return[4,this.deleteTraverse(b,i,s.name,o,n)];case 6:return r.sent(),[4,this.db.transaction([c],"readwrite").objectStore(c).clear()];case 7:return r.sent(),_=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[i,_]];case 8:return[3,17];case 9:return a=e,s=Object.getPrototypeOf(a).constructor,l=this.namespaceResolver(s),c=this.getStorenameForModel(s),t?(u=this.db.transaction([c],"readwrite"),d=u.objectStore(c),f=this.getIndexKeyValuesFromModel(a),[4,this._get(d,f)]):[3,13];case 10:if(void 0===(p=r.sent()))return y="Model instance not found in storage",ae.warn(y,{model:a}),[2,[[a],[]]];if(h=x.OY.getPredicates(t),g=(m=h).predicates,v=m.type,!(0,A.u8)(p,v,g))throw y="Conditional update failed",ae.error(y,{model:p,condition:g}),new Error(y);return[4,u.done];case 11:return r.sent(),b=this.schema.namespaces[l].relationships[s.name].relationTypes,[4,this.deleteTraverse(b,[a],s.name,l,n)];case 12:return r.sent(),[3,15];case 13:return b=this.schema.namespaces[l].relationships[s.name].relationTypes,[4,this.deleteTraverse(b,[a],s.name,l,n)];case 14:r.sent(),r.label=15;case 15:return[4,this.deleteItem(n)];case 16:return r.sent(),_=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[a],_]];case 17:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,o,i;return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w;return(0,r.__generator)(this,(function(x){switch(x.label){case 0:a=e.map((function(e){return e.storeName})),s=this.db.transaction((0,r.__spread)(a),"readwrite"),x.label=1;case 1:x.trys.push([1,22,23,28]),l=(0,r.__asyncValues)(e),x.label=2;case 2:return[4,l.next()];case 3:if((c=x.sent()).done)return[3,21];u=c.value,d=u.storeName,f=u.items,p=s.objectStore(d),x.label=4;case 4:x.trys.push([4,14,15,20]),h=(0,r.__asyncValues)(f),x.label=5;case 5:return[4,h.next()];case 6:return(m=x.sent()).done?[3,13]:(g=m.value)?(v=void 0,"object"!=typeof g?[3,8]:(y=this.getIndexKeyValuesFromModel(g),[4,p.index("byPk").getKey(this.canonicalKeyPath(y))])):[3,12];case 7:return v=x.sent(),[3,10];case 8:return b=g.toString(),[4,p.index("byPk").getKey(b)];case 9:v=x.sent(),x.label=10;case 10:return void 0===v?[3,12]:[4,p.delete(v)];case 11:x.sent(),x.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return _=x.sent(),o={error:_},[3,20];case 15:return x.trys.push([15,,18,19]),m&&!m.done&&(i=h.return)?[4,i.call(h)]:[3,17];case 16:x.sent(),x.label=17;case 17:return[3,19];case 18:if(o)throw o.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return w=x.sent(),t={error:w},[3,28];case 23:return x.trys.push([23,,26,27]),c&&!c.done&&(n=l.return)?[4,n.call(l)]:[3,25];case 24:x.sent(),x.label=25;case 25:return[3,27];case 26:if(t)throw t.error;return[7];case 27:return[7];case 28:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,o,i){var a,s,l,c,u,d,f,p,h,m,g,v;return(0,r.__awaiter)(this,void 0,void 0,(function(){var y,b,_,w,x,S,E,C,k,T,I,P,O,M,N,L,R,D,z,F,U,j=this;return(0,r.__generator)(this,(function(B){switch(B.label){case 0:B.trys.push([0,42,43,48]),a=(0,r.__asyncValues)(e),B.label=1;case 1:return[4,a.next()];case 2:if((s=B.sent()).done)return[3,41];switch(y=s.value,b=y.relationType,_=y.modelName,w=y.targetName,x=y.targetNames,S=y.associatedWith,E=(0,A.cZ)(o,_),b){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,23];case"BELONGS_TO":return[3,38]}return[3,39];case 3:B.trys.push([3,16,17,22]),l=(0,r.__asyncValues)(t),B.label=4;case 4:return[4,l.next()];case 5:return(c=B.sent()).done?[3,15]:(N=c.value,C="byPk",(null==x?void 0:x.length)?(k=x.filter((function(e){var t;return null!==(t=N[e])&&void 0!==t&&t})).map((function(e){return N[e]})),0===k.length?[3,15]:[4,this.db.transaction(E,"readwrite").objectStore(E).index(C).get(this.canonicalKeyPath(k))]):[3,8]);case 6:return I=B.sent(),[4,this.deleteTraverse(this.schema.namespaces[o].relationships[_].relationTypes,I?[I]:[],_,o,i)];case 7:return B.sent(),[3,15];case 8:if(L=void 0,k=void 0,w&&w in N){if(L=C,null===(T=N[w]))return[3,15];k=[T]}else L=(0,A.rw)(this.schema.namespaces[o].relationships[_].relationTypes,n),k=this.getIndexKeyValuesFromModel(N);return k&&L?[4,this.db.transaction(E,"readwrite").objectStore(E).index(L).get(this.canonicalKeyPath(k))]:[3,15];case 9:return(I=B.sent())?[4,this.load(o,_,[I])]:[3,11];case 10:return O=B.sent(),[3,12];case 11:O=[],B.label=12;case 12:return P=O,[4,this.deleteTraverse(this.schema.namespaces[o].relationships[_].relationTypes,P,_,o,i)];case 13:B.sent(),B.label=14;case 14:return[3,4];case 15:return[3,22];case 16:return M=B.sent(),h={error:M},[3,22];case 17:return B.trys.push([17,,20,21]),c&&!c.done&&(m=l.return)?[4,m.call(l)]:[3,19];case 18:B.sent(),B.label=19;case 19:return[3,21];case 20:if(h)throw h.error;return[7];case 21:return[7];case 22:return[3,40];case 23:B.trys.push([23,31,32,37]),u=(0,r.__asyncValues)(t),B.label=24;case 24:return[4,u.next()];case 25:return(d=B.sent()).done?[3,30]:(N=d.value,L=(0,A.rw)(this.schema.namespaces[o].relationships[_].relationTypes,n)||(0,A.NA)(this.schema.namespaces[o].relationships[_].indexes,S),R=this.getIndexKeyValuesFromModel(N),[4,this.db.transaction(E,"readwrite").objectStore(E).index(L).getAll(this.canonicalKeyPath(R))]);case 26:return D=B.sent(),[4,this.load(o,_,D)];case 27:return z=B.sent(),[4,this.deleteTraverse(this.schema.namespaces[o].relationships[_].relationTypes,z,_,o,i)];case 28:B.sent(),B.label=29;case 29:return[3,24];case 30:return[3,37];case 31:return F=B.sent(),g={error:F},[3,37];case 32:return B.trys.push([32,,35,36]),d&&!d.done&&(v=u.return)?[4,v.call(u)]:[3,34];case 33:B.sent(),B.label=34;case 34:return[3,36];case 35:if(g)throw g.error;return[7];case 36:return[7];case 37:case 38:return[3,40];case 39:throw new Error("Invalid relation type "+b);case 40:return[3,1];case 41:return[3,48];case 42:return U=B.sent(),f={error:U},[3,48];case 43:return B.trys.push([43,,46,47]),s&&!s.done&&(p=a.return)?[4,p.call(a)]:[3,45];case 44:B.sent(),B.label=45;case 45:return[3,47];case 46:if(f)throw f.error;return[7];case 47:return[7];case 48:return i.push({storeName:(0,A.cZ)(o,n),items:t.map((function(e){return j.modelInstanceCreator(j.getModelConstructorByModelName(o,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){var e;return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.checkPrivate()];case 1:return t.sent(),null===(e=this.db)||void 0===e||e.close(),[4,ee(this.dbName)];case 2:return t.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m=this;return(0,r.__generator)(this,(function(v){switch(v.label){case 0:return 0===t.length?[2,[]]:[4,this.checkPrivate()];case 1:v.sent(),n=[],o=this.getStorenameForModel(e),i=this.db.transaction(o,"readwrite"),a=i.store,s=function(t){var o,i,s,c,u,d,f,p;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return o=l.namespaceResolver(e),i=e.name,s=l.modelInstanceCreator(e,t),c=(0,A.jl)(i,s,l.schema.namespaces[o],l.modelInstanceCreator,l.getModelConstructorByModelName),u=l.getIndexKeyValuesFromModel(s),d=t._deleted,[4,a.index("byPk").getKey(l.canonicalKeyPath(u))];case 1:return f=r.sent(),d?[3,3]:(p=c.find((function(e){var t=e.instance,n=m.getIndexKeyValuesFromModel(t);return(0,A.OI)(n,u)})).instance,n.push([p,f?g.HP.UPDATE:g.HP.INSERT]),[4,a.put(p,f)]);case 2:return r.sent(),[3,5];case 3:return n.push([t,g.HP.DELETE]),f?[4,a.delete(f)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))},l=this,v.label=2;case 2:v.trys.push([2,7,8,9]),c=(0,r.__values)(t),u=c.next(),v.label=3;case 3:return u.done?[3,6]:(d=u.value,[5,s(d)]);case 4:v.sent(),v.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return f=v.sent(),p={error:f},[3,9];case 8:try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(p)throw p.error}return[7];case 9:return[4,i.done];case 10:return v.sent(),[2,n]}}))}))},e.prototype.createObjectStoreForModel=function(e,t,n,o){var i=e.createObjectStore(n,{autoIncrement:!0});return this.schema.namespaces[t].relationships[o].indexes.forEach((function(e){var t=(0,r.__read)(e,3),n=t[0],o=t[1],a=t[2];i.createIndex(n,o,a)})),i},e}();const ce=new le;var ue=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),"function"==typeof n&&n(),[2]}))}))},this.multiSet=function(t,n){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(o){return t.forEach((function(t){var n=(0,r.__read)(t,2),o=n[0],i=n[1];e.setItem(o,i)})),"function"==typeof n&&n(),[2]}))}))},this.setItem=function(t,n){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.db.get(t)]}))}))}},de="@AmplifyDatastore",fe="Data",pe=new Map,he=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=new ue}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return pe.has(e)||pe.set(e,(0,A.c6)()),pe.get(e)},e.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_;return(0,r.__generator)(this,(function(w){switch(w.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=w.sent(),t=[],w.label=2;case 2:w.trys.push([2,12,13,14]),n=(0,r.__values)(e),o=n.next(),w.label=3;case 3:return o.done?[3,11]:(i=o.value,a=(0,r.__read)(i.split("::"),5),s=a[0],l=a[1],c=a[2],u=a[3],d=a[4],s!==de?[3,10]:c!==fe?[3,9]:(f=void 0,void 0!==d?[3,7]:(p=u,h=this.getMonotonicFactory(l)(),m=this.getLegacyKeyForItem(l,p),g=this.getKeyForItem(l,p,h),[4,this.storage.getItem(m)])));case 4:return v=w.sent(),[4,this.storage.setItem(g,v)];case 5:return w.sent(),[4,this.storage.removeItem(m)];case 6:return w.sent(),f=h,[3,8];case 7:f=u,w.label=8;case 8:return this.getCollectionIndex(l).set(d,f),[3,10];case 9:"Collection"===c&&t.push(i),w.label=10;case 10:return o=n.next(),[3,3];case 11:return[3,14];case 12:return y=w.sent(),b={error:y},[3,14];case 13:try{o&&!o.done&&(_=n.return)&&_.call(n)}finally{if(b)throw b.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:w.sent(),w.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t,n,o){var i,a;return(0,r.__awaiter)(this,void 0,void 0,(function(){var s,l,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return s=(0,A.hn)(n),l=(null===(i=this.getCollectionIndex(t))||void 0===i?void 0:i.get(s))||this.getMonotonicFactory(t)(),c=this.getKeyForItem(t,o,l),null===(a=this.getCollectionIndex(t))||void 0===a||a.set(o,l),[4,this.storage.setItem(c,JSON.stringify(e))];case 1:return r.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f,p,h,m,v,y,b,_,w,x,S,E,C=this;return(0,r.__generator)(this,(function(k){switch(k.label){case 0:if(0===t.length)return[2,[]];o=[],i=this.getCollectionIndex(e),a=new Set,s=new Set,l=[],c={},u=function(t){var r=n.map((function(e){return t[e]})),o=t._deleted,u=i.get(r.join(A.h2))||d.getMonotonicFactory(e)(),f=d.getKeyForItem(e,r.join(A.h2),u);l.push(f),c[f]={ulid:u,model:t},o?a.add(f):s.add(f)},d=this;try{for(f=(0,r.__values)(t),p=f.next();!p.done;p=f.next())h=p.value,u(h)}catch(e){w={error:e}}finally{try{p&&!p.done&&(x=f.return)&&x.call(f)}finally{if(w)throw w.error}}return[4,this.storage.multiGet(l)];case 1:return m=k.sent(),v=m.filter((function(e){return!!(0,r.__read)(e,2)[1]})).reduce((function(e,t){var n=(0,r.__read)(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==a.size){var r=Array.from(a);r.forEach((function(e){var t=n.map((function(t){return c[e].model[t]})).join(A.h2);i.delete(t)})),C.storage.multiRemove(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return k.sent(),[4,new Promise((function(e,t){if(0!==s.size){var r=Array.from(s).map((function(e){return[e,JSON.stringify(c[e].model)]}));s.forEach((function(e){var t=c[e],r=t.model,o=t.ulid,a=n.map((function(e){return r[e]})).join(A.h2);i.set(a,o)})),C.storage.multiSet(r,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:k.sent();try{for(y=(0,r.__values)(l),b=y.next();!b.done;b=y.next())_=b.value,a.has(_)&&v.has(_)?o.push([c[_].model,g.HP.DELETE]):s.has(_)&&o.push([c[_].model,v.has(_)?g.HP.UPDATE:g.HP.INSERT])}catch(e){S={error:e}}finally{try{b&&!b.done&&(E=y.return)&&E.call(y)}finally{if(S)throw S.error}}return[2,o]}}))}))},e.prototype.get=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=this.getCollectionIndex(t).get(e),o=this.getKeyForItem(t,e,n),[4,this.storage.getItem(o)];case 1:return[2,(i=r.sent())&&JSON.parse(i)]}}))}))},e.prototype.getOne=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return n=this.getCollectionIndex(t),o=(0,r.__read)(e===g.fI.FIRST?function(){var e,t,o,i,a;try{for(var s=(0,r.__values)(n),l=s.next();!l.done;l=s.next()){i=(o=(0,r.__read)(l.value,2))[0],a=o[1];break}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[i,a]}():function(){var e,t,o,i,a;try{for(var s=(0,r.__values)(n),l=s.next();!l.done;l=s.next())i=(o=(0,r.__read)(l.value,2))[0],a=o[1]}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[i,a]}(),2),i=o[0],a=o[1],s=this.getKeyForItem(t,i,a),(c=s)?[4,this.storage.getItem(s)]:[3,2];case 1:c=u.sent(),u.label=2;case 2:return[2,(l=c)&&JSON.parse(l)||void 0]}}))}))},e.prototype.getAll=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w;return(0,r.__generator)(this,(function(x){switch(x.label){case 0:n=this.getCollectionIndex(e),i=(o=t||{}).page,a=void 0===i?0:i,s=o.limit,l=void 0===s?0:s,c=Math.max(0,a*l)||0,u=l>0?c+l:void 0,d=[],f=0;try{for(p=(0,r.__values)(n),h=p.next();!h.done&&(m=(0,r.__read)(h.value,2),g=m[0],v=m[1],++f<=c||(d.push(this.getKeyForItem(e,g,v)),f!==u));h=p.next());}catch(e){_={error:e}}finally{try{h&&!h.done&&(w=p.return)&&w.call(p)}finally{if(_)throw _.error}}return[4,this.storage.multiGet(d)];case 1:return y=x.sent(),b=y.filter((function(e){return(0,r.__read)(e,2)[1]})).map((function(e){var t=(0,r.__read)(e,2)[1];return JSON.parse(t)})),[2,b]}}))}))},e.prototype.delete=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=this.getCollectionIndex(t).get(e),o=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(o)];case 1:return r.sent(),[2]}}))}))},e.prototype.clear=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith(de)})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return de+"::"+e+"::"+fe},e}();const me=he;var ge=new s.k("DataStore"),ve=function(){function e(){}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return(0,A.cZ)(t,n)},e.prototype.getIndexKeyValuesFromModel=function(e){var t=Object.getPrototypeOf(e).constructor,n=this.namespaceResolver(t),r=(0,A.dV)(this.schema.namespaces[n],t.name);return(0,A.Eq)(e,r)},e.prototype.getIndexKeyValuesPath=function(e){return this.getIndexKeyValuesFromModel(e).join(A.h2)},e.prototype.setUp=function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){a.resolve=e,a.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return r.sent(),[2];case 3:this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=o,r.label=4;case 4:return r.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new me,[4,this.db.init()]);case 5:r.sent(),this.resolve(),r.label=6;case 6:return[3,8];case 7:return i=r.sent(),this.reject(i),[3,8];case 8:return[2]}}))}))},e.prototype.save=function(e,t){var n,o;return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,l,c,u,d,f,p,h,m,v,y,b,_,w,S,E,C,k,T,I,P,O,M,N,L,R=this;return(0,r.__generator)(this,(function(D){switch(D.label){case 0:return i=Object.getPrototypeOf(e).constructor,a=this.getStorenameForModel(i),s=this.namespaceResolver(i),l=(0,A.jl)(i.name,e,this.schema.namespaces[s],this.modelInstanceCreator,this.getModelConstructorByModelName),c=new Set,u=Object.values(l).map((function(e){var t=e.modelName,n=e.item,r=e.instance,o=(0,A.cZ)(s,t);return c.add(o),{storeName:o,item:n,instance:r,keys:(0,A.dV)(R.schema.namespaces[s],t)}})),d=this.getIndexKeyValuesPath(e),[4,this.db.get(d,a)];case 1:if(f=D.sent(),t&&f&&(p=x.OY.getPredicates(t),m=(h=p).predicates,v=h.type,!(0,A.u8)(f,v,m)))throw y="Conditional update failed",ge.error(y,{model:f,condition:m}),new Error(y);b=[],D.label=2;case 2:D.trys.push([2,9,10,15]),_=(0,r.__asyncValues)(u),D.label=3;case 3:return[4,_.next()];case 4:return(w=D.sent()).done?[3,8]:(S=w.value,E=S.storeName,C=S.item,k=S.instance,T=S.keys,I=T.map((function(e){return C[e]})),P=I.join(A.h2),[4,this.db.get(P,E)]);case 5:return O=D.sent(),M=O?g.HP.UPDATE:g.HP.INSERT,N=this.getIndexKeyValuesFromModel(e),(0,A.OI)(I,N)||M===g.HP.INSERT?[4,this.db.save(C,E,T,P)]:[3,7];case 6:D.sent(),b.push([k,M]),D.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return L=D.sent(),n={error:L},[3,15];case 10:return D.trys.push([10,,13,14]),w&&!w.done&&(o=_.return)?[4,o.call(_)]:[3,12];case 11:D.sent(),D.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,b]}}))}))},e.prototype.load=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l=this;return(0,r.__generator)(this,(function(r){return o=this.schema.namespaces[e],i=o.relationships[t].relationTypes,a=i.map((function(t){var n=t.modelName;return(0,A.cZ)(e,n)})),s=this.getModelConstructorByModelName(e,t),a.length,[2,n.map((function(e){return l.modelInstanceCreator(s,e)}))]}))}))},e.prototype.query=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f=this;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:return o=this.getStorenameForModel(e),i=this.namespaceResolver(e),a=t&&x.OY.getPredicates(t),s=(0,A.dV)(this.schema.namespaces[i],e.name),l=a&&this.keyValueFromPredicate(a,s),c=n&&n.sort,u=n&&n.limit,[4,(0,r.__awaiter)(f,void 0,void 0,(function(){var e,t,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return l?[4,this.getByKey(o,l)]:[3,2];case 1:return[2,(e=r.sent())?[e]:[]];case 2:return a?[4,this.filterOnPredicate(o,a)]:[3,4];case 3:return t=r.sent(),[2,this.inMemoryPagination(t,n)];case 4:return c||u?[4,this.getAll(o)]:[3,6];case 5:return i=r.sent(),[2,this.inMemoryPagination(i,n)];case 6:return[2,this.getAll(o)]}}))}))];case 1:return d=p.sent(),[4,this.load(i,e.name,d)];case 2:return[2,p.sent()]}}))}))},e.prototype.getByKey=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.keyValueFromPredicate=function(e,t){var n,o,i=e.predicates;if(i.length===t.length){var a=[],s=function(e){var t=i.find((function(t){return(0,g.w5)(t)&&t.field===e&&"eq"===t.operator}));t&&a.push(t.operand)};try{for(var l=(0,r.__values)(t),c=l.next();!c.done;c=l.next())s(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return a.length===t.length?a.join(A.h2):void 0}},e.prototype.filterOnPredicate=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=t.predicates,o=t.type,[4,this.getAll(e)];case 1:return i=r.sent(),[2,n?i.filter((function(e){return(0,A.u8)(e,o,n)})):i]}}))}))},e.prototype.inMemoryPagination=function(e,t){return(0,A.Un)(e,t)},e.prototype.queryOne=function(e,t){return void 0===t&&(t=g.fI.FIRST),(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(o=r.sent())&&this.modelInstanceCreator(e,o)]}}))}))},e.prototype.delete=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m,g,v;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=[],(0,A.hK)(e)?(a=e,s=this.namespaceResolver(a),[4,this.query(a,t)]):[3,8];case 1:return o=r.sent(),g=this.schema.namespaces[s].relationships[a.name].relationTypes,void 0===t?[3,4]:[4,this.deleteTraverse(g,o,a.name,s,n)];case 2:return r.sent(),[4,this.deleteItem(n)];case 3:return r.sent(),v=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[o,v]];case 4:return[4,this.deleteTraverse(g,o,a.name,s,n)];case 5:return r.sent(),[4,this.deleteItem(n)];case 6:return r.sent(),v=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[o,v]];case 7:return[3,15];case 8:return i=e,a=Object.getPrototypeOf(i).constructor,s=this.namespaceResolver(a),l=this.getStorenameForModel(a),t?(c=this.getIndexKeyValuesPath(i),[4,this.db.get(c,l)]):[3,11];case 9:if(void 0===(u=r.sent()))return m="Model instance not found in storage",ge.warn(m,{model:i}),[2,[[i],[]]];if(d=x.OY.getPredicates(t),p=(f=d).predicates,h=f.type,!(0,A.u8)(u,h,p))throw m="Conditional update failed",ge.error(m,{model:u,condition:p}),new Error(m);return g=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(g,[i],a.name,s,n)];case 10:return r.sent(),[3,13];case 11:return g=this.schema.namespaces[s].relationships[a.name].relationTypes,[4,this.deleteTraverse(g,[i],a.name,s,n)];case 12:r.sent(),r.label=13;case 13:return[4,this.deleteItem(n)];case 14:return r.sent(),v=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[i],v]];case 15:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,o,i;return(0,r.__awaiter)(this,void 0,void 0,(function(){var a,s,l,c,u,d,f,p,h,m,g;return(0,r.__generator)(this,(function(v){switch(v.label){case 0:v.trys.push([0,17,18,23]),a=(0,r.__asyncValues)(e),v.label=1;case 1:return[4,a.next()];case 2:if((s=v.sent()).done)return[3,16];l=s.value,c=l.storeName,u=l.items,v.label=3;case 3:v.trys.push([3,9,10,15]),d=(0,r.__asyncValues)(u),v.label=4;case 4:return[4,d.next()];case 5:return(f=v.sent()).done?[3,8]:(p=f.value)?"object"!=typeof p?[3,7]:(h=this.getIndexKeyValuesPath(p),[4,this.db.delete(h,c)]):[3,7];case 6:v.sent(),v.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return m=v.sent(),o={error:m},[3,15];case 10:return v.trys.push([10,,13,14]),f&&!f.done&&(i=d.return)?[4,i.call(d)]:[3,12];case 11:v.sent(),v.label=12;case 12:return[3,14];case 13:if(o)throw o.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return g=v.sent(),t={error:g},[3,23];case 18:return v.trys.push([18,,21,22]),s&&!s.done&&(n=a.return)?[4,n.call(a)]:[3,20];case 19:v.sent(),v.label=20;case 20:return[3,22];case 21:if(t)throw t.error;return[7];case 22:return[7];case 23:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,o,i){var a,s,l,c,u,d,f,p,h,m,g,v;return(0,r.__awaiter)(this,void 0,void 0,(function(){var y,b,_,w,x,S,E,C,k,T,I,P,O,M,N,L,R,D,z,F,U,j,B,V,G,q,H,W,K,$=this;return(0,r.__generator)(this,(function(Z){switch(Z.label){case 0:Z.trys.push([0,42,43,48]),a=(0,r.__asyncValues)(e),Z.label=1;case 1:return[4,a.next()];case 2:if((s=Z.sent()).done)return[3,41];switch(y=s.value,b=y.relationType,_=y.modelName,w=y.targetName,x=y.targetNames,S=y.associatedWith,E=(0,A.cZ)(o,_),C=(0,A.rw)(this.schema.namespaces[o].relationships[_].relationTypes,n)||(0,A.NA)(this.schema.namespaces[o].relationships[_].indexes,y.associatedWith),b){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,23];case"BELONGS_TO":return[3,38]}return[3,39];case 3:Z.trys.push([3,16,17,22]),l=(0,r.__asyncValues)(t),Z.label=4;case 4:return[4,l.next()];case 5:return(c=Z.sent()).done?[3,15]:(j=c.value,x&&(null==x?void 0:x.length)?(C?k=C.split(A.lk):S&&(k=Array.isArray(S)?S:[S]),T=x.every((function(e){return j.hasOwnProperty(e)})),L=this.getIndexKeyValuesPath(j),P=k===S,I=T&&P?x.filter((function(e){var t;return null!==(t=j[e])&&void 0!==t&&t})).map((function(e){return j[e]})):L.split(A.h2),0===I.length?[3,15]:[4,this.db.getAll(E)]):[3,8]);case 6:return V=Z.sent(),void 0,O=T?V.filter((function(e){return k.every((function(t){return I.includes(e[t])}))})):V.filter((function(e){return e[k]===I})),[4,this.deleteTraverse(this.schema.namespaces[o].relationships[_].relationTypes,O,_,o,i)];case 7:return Z.sent(),[3,14];case 8:return M=C||S,N=w in j,L=this.getIndexKeyValuesPath(j),(R=N?j[w]:L)?[4,this.db.getAll(E)]:[3,15];case 9:return V=Z.sent(),(D=V.filter((function(e){return e[M]===R}))).length?[4,this.load(o,_,D)]:[3,11];case 10:return F=Z.sent(),[3,12];case 11:F=[],Z.label=12;case 12:return z=F,[4,this.deleteTraverse(this.schema.namespaces[o].relationships[_].relationTypes,z,_,o,i)];case 13:Z.sent(),Z.label=14;case 14:return[3,4];case 15:return[3,22];case 16:return U=Z.sent(),h={error:U},[3,22];case 17:return Z.trys.push([17,,20,21]),c&&!c.done&&(m=l.return)?[4,m.call(l)]:[3,19];case 18:Z.sent(),Z.label=19;case 19:return[3,21];case 20:if(h)throw h.error;return[7];case 21:return[7];case 22:return[3,40];case 23:Z.trys.push([23,31,32,37]),u=(0,r.__asyncValues)(t),Z.label=24;case 24:return[4,u.next()];case 25:return(d=Z.sent()).done?[3,30]:(j=d.value,B=this.getIndexKeyValuesFromModel(j),[4,this.db.getAll(E)]);case 26:return V=Z.sent(),G=C.split(A.lk),q=V.filter((function(e){return G.every((function(t){return B.includes(e[t])}))})),[4,this.load(o,_,q)];case 27:return H=Z.sent(),[4,this.deleteTraverse(this.schema.namespaces[o].relationships[_].relationTypes,H,_,o,i)];case 28:Z.sent(),Z.label=29;case 29:return[3,24];case 30:return[3,37];case 31:return W=Z.sent(),g={error:W},[3,37];case 32:return Z.trys.push([32,,35,36]),d&&!d.done&&(v=u.return)?[4,v.call(u)]:[3,34];case 33:Z.sent(),Z.label=34;case 34:return[3,36];case 35:if(g)throw g.error;return[7];case 36:return[7];case 37:case 38:return[3,40];case 39:throw new Error("Invalid relationType "+b);case 40:return[3,1];case 41:return[3,48];case 42:return K=Z.sent(),f={error:K},[3,48];case 43:return Z.trys.push([43,,46,47]),s&&!s.done&&(p=a.return)?[4,p.call(a)]:[3,45];case 44:Z.sent(),Z.label=45;case 45:return[3,47];case 46:if(f)throw f.error;return[7];case 47:return[7];case 48:return i.push({storeName:(0,A.cZ)(o,n),items:t.map((function(e){return $.modelInstanceCreator($.getModelConstructorByModelName(o,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m=this;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:n=e.name,o=this.namespaceResolver(e),i=(0,A.cZ)(o,n),a=(0,A.dV)(this.schema.namespaces[o],n),s=[],l=function(t){var r=c.modelInstanceCreator(e,t),i=(0,A.jl)(n,r,c.schema.namespaces[o],c.modelInstanceCreator,c.getModelConstructorByModelName),a=c.getIndexKeyValuesPath(r),l=i.find((function(e){var t=e.instance,n=m.getIndexKeyValuesPath(t);return(0,A.OI)([n],[a])})).instance;s.push(l)},c=this;try{for(u=(0,r.__values)(t),d=u.next();!d.done;d=u.next())f=d.value,l(f)}catch(e){p={error:e}}finally{try{d&&!d.done&&(h=u.return)&&h.call(u)}finally{if(p)throw p.error}}return[4,this.db.batchSave(i,s,a)];case 1:return[2,g.sent()]}}))}))},e}();const ye=new ve;var be=new s.k("DataStore"),_e=function(){function e(e,t,n,r,o,i){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=r,this.adapter=o,this.sessionId=i,this.adapter=this.adapter||((0,l.lC)().isBrowser&&window.indexedDB||(0,l.n2)()&&self.indexedDB?ce:ye),this.pushStream=new(k())}return e.getNamespace=function(){return{name:A.P_,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:case 3:return n.sent(),[2];case 2:return be.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized]}}))}))},e.prototype.save=function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a=this;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return[4,this.init()];case 1:if(s.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.save(e,t)];case 2:return(i=s.sent()).forEach((function(s){var l,c=(0,r.__read)(s,2),u=c[0],d=c[1],f=!!n;if(d===g.HP.UPDATE&&!f&&null===(l=a.getUpdateMutationInput(e,u,o)))return i;var p=l||u,h=Object.getPrototypeOf(u).constructor;a.pushStream.next({model:h,opType:d,element:p,mutator:n,condition:t&&x.OY.getPredicates(t,!1)||null,savedElement:u})})),[2,i]}}))}))},e.prototype.delete=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d=this;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.init()];case 1:if(f.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.delete(e,t)];case 2:return u=r.__read.apply(void 0,[f.sent(),2]),o=u[0],i=u[1],a=(0,A.hK)(e)?e:Object.getPrototypeOf(e||{}).constructor,s=this.namespaceResolver(a),l=this.schema.namespaces[s].models[a.name],c=new Set(o.map((function(e){return B(l,e)}))),(0,A.hK)(e)||Array.isArray(i)||(i=[i]),i.forEach((function(r){var o,i=Object.getPrototypeOf(r).constructor;if(!(0,A.hK)(e)){var a=B(l,r);o=c.has(a)?x.OY.getPredicates(t,!1):void 0}d.pushStream.next({model:i,opType:g.HP.DELETE,element:r,mutator:n,condition:o||null})})),[2,[o,i]]}}))}))},e.prototype.query=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:if(r.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=g.fI.FIRST),(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:if(n.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var o=!e,i=t&&x.OY.getPredicates(t,!1)||{},a=i.predicates,s=i.type,l=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){return e.mutator,(0,r.__rest)(e,["mutator"])}));return o||(l=l.filter((function(t){var n=t.model,r=t.element;return e===n&&(!a||!s||(0,A.u8)(r,s,a))}))),l},e.prototype.clear=function(e){return void 0===e&&(e=!0),(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:if(this.initialized=void 0,!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i=this;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.init()];case 1:if(a.sent(),!this.adapter)throw new Error("Storage adapter is missing");return[4,this.adapter.batchSave(e,t)];case 2:return(o=a.sent()).forEach((function(t){var o=(0,r.__read)(t,2),a=o[0],s=o[1];i.pushStream.next({model:e,opType:s,element:a,mutator:n,condition:null})})),[2,o]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){var o,i,a;if(!n||!n.length)return null;var s=(0,r.__read)(n,2),l=s[0],c=s[1],u={},d=l.map((function(e){return e.path&&e.path[0]})),f=Object.getPrototypeOf(e).constructor,p=this.namespaceResolver(f),h=this.schema.namespaces[p].models[f.name].fields,m=(null===(a=this.schema.namespaces[p].keys)||void 0===a?void 0:a[f.name])||{},v=m.primaryKey,y=m.compositeKeys,b=void 0===y?[]:y;if(d.forEach((function(e){var n,o,i,a,s,l,d,f,p,m,v,y=(0,g.Fr)(null===(v=h[e])||void 0===v?void 0:v.association);if(Array.isArray(y))try{for(var _=(0,r.__values)(y),w=_.next();!w.done;w=_.next()){var x=w.value;if(!(0,A.Vg)(c[x],t[x])){u[x]=void 0===t[x]?null:t[x];try{for(var S=(i=void 0,(0,r.__values)(b)),E=S.next();!E.done;E=S.next())if((M=E.value).has(x))try{for(var C=(s=void 0,(0,r.__values)(M)),k=C.next();!k.done;k=C.next()){var T=k.value;u[T]=t[T]}}catch(e){s={error:e}}finally{try{k&&!k.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}}catch(e){i={error:e}}finally{try{E&&!E.done&&(a=S.return)&&a.call(S)}finally{if(i)throw i.error}}}}}catch(e){n={error:e}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(n)throw n.error}}else{var I=y||e;if(!(0,A.Vg)(c[I],t[I])){u[I]=void 0===t[I]?null:t[I];try{for(var P=(0,r.__values)(b),O=P.next();!O.done;O=P.next()){var M;if((M=O.value).has(I))try{for(var N=(p=void 0,(0,r.__values)(M)),L=N.next();!L.done;L=N.next())T=L.value,u[T]=t[T]}catch(e){p={error:e}}finally{try{L&&!L.done&&(m=N.return)&&m.call(N)}finally{if(p)throw p.error}}}}catch(e){d={error:e}}finally{try{O&&!O.done&&(f=P.return)&&f.call(P)}finally{if(d)throw d.error}}}}})),0===Object.keys(u).length)return null;if(v&&v.length)try{for(var _=(0,r.__values)(v),w=_.next();!w.done;w=_.next()){var x=w.value;u[x]=t[x]}}catch(e){o={error:e}}finally{try{w&&!w.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}var S=t.id,E=t._version,C=t._lastChangedAt,k=t._deleted;return(0,r.__assign)((0,r.__assign)({},u),{id:S,_version:E,_lastChangedAt:C,_deleted:k})},e}(),we=function(){function e(e,t,n,r,o,i){this.mutex=new E.Z,this.storage=new _e(e,t,n,r,o,i)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.runExclusive((function(r){return r.save(e,t,n,o)}))]}))}))},e.prototype.delete=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.runExclusive((function(r){if((0,A.hK)(e)){var o=e;return r.delete(o,t,n)}var i=e;return r.delete(i,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=g.fI.FIRST),(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return _e.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.runExclusive((function(e){return e.clear()}))];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.storage.init()]}))}))},e}(),xe=function(){function e(e,t){if(!(0,g.es)(e.schema,t))throw new Error(e.schema.name+"."+t+" is not a relationship.");this.localModel=e,this._field=t}return e.from=function(e,t){return(0,g.es)(e.schema,t)?new this(e,t):null},e.allFrom=function(t){var n,o,i=[];try{for(var a=(0,r.__values)(Object.keys(t.schema.fields)),s=a.next();!s.done;s=a.next()){var l=s.value,c=e.from(t,l);c&&i.push(c)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i},Object.defineProperty(e.prototype,"localDefinition",{get:function(){return this.localModel.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localConstructor",{get:function(){return this.localModel.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.localAssocation.connectionType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssocation",{get:function(){return this.localDefinition.fields[this.field].association},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localJoinFields",{get:function(){return this.localAssocation.targetName?[this.localAssocation.targetName]:this.localAssocation.targetNames?this.localAssocation.targetNames:this.localPKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localPKFields",{get:function(){return this.localModel.pkField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteDefinition",{get:function(){var e;return null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelType",{get:function(){return this.localDefinition.fields[this.field].type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteModelConstructor",{get:function(){return this.remoteModelType.modelConstructor.builder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remotePKFields",{get:function(){var e;return(null===(e=this.remoteModelType.modelConstructor)||void 0===e?void 0:e.pkField)||["id"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localAssociatedWith",{get:function(){return"HAS_MANY"===this.localAssocation.connectionType||"HAS_ONE"===this.localAssocation.connectionType?Array.isArray(this.localAssocation.associatedWith)?this.localAssocation.associatedWith:[this.localAssocation.associatedWith]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"explicitRemoteAssociation",{get:function(){var e;if(this.localAssociatedWith)return 1===this.localAssociatedWith.length?null===(e=this.remoteDefinition.fields[this.localAssociatedWith[0]])||void 0===e?void 0:e.association:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteJoinFields",{get:function(){var e,t,n;return(null===(e=this.explicitRemoteAssociation)||void 0===e?void 0:e.targetName)?[this.explicitRemoteAssociation.targetName]:(null===(t=this.explicitRemoteAssociation)||void 0===t?void 0:t.targetNames)?null===(n=this.explicitRemoteAssociation)||void 0===n?void 0:n.targetNames:this.localAssociatedWith?this.localAssociatedWith:this.remotePKFields},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this.localJoinFields.length>0&&this.remoteJoinFields.length>0},enumerable:!0,configurable:!0}),e.prototype.createLocalFKObject=function(e){for(var t={},n=0;n<this.localJoinFields.length;n++)t[this.localJoinFields[n]]=e[this.remoteJoinFields[n]];return t},e.prototype.createRemoteQueryObject=function(e){for(var t={},n=0;n<this.remoteJoinFields.length;n++){if(null==e[this.localJoinFields[n]])return null;t[this.remoteJoinFields[n]]=e[this.localJoinFields[n]]}return t},e}(),Se=n(79586),Ee=(new(n(26968).Z)).networkMonitor();new s.k("DataStore");const Ce=function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new h.Z((function(t){return e.observer=t,e.subscription=Ee.subscribe((function(n){var o=n.online;e.connectionStatus.online=o;var i=(0,r.__assign)({},e.connectionStatus);t.next(i)})),function(){clearTimeout(e.timeout),e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return this.unsubscribe(),[2]}))}))},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"==typeof this.observer.next&&(this.observer.next({online:!1}),this.timeout=setTimeout((function(){var t=(0,r.__assign)({},e.connectionStatus);e.observer.next(t)}),5e3))},e}();var ke=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.outbox.getForModel(e,t,n)];case 1:return i=c.sent(),a=t._deleted,0!==i.length?[3,5]:a?(o=g.HP.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return c.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:s=r.__read.apply(void 0,[c.sent(),1]),l=(0,r.__read)(s[0],2),o=l[1],c.label=5;case 5:return[2,o]}}))}))},e.prototype.mergePage=function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,l,c,u,d,f;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:i=new Map;try{for(a=(0,r.__values)(n),s=a.next();!s.done;s=a.next())l=s.value,c=B(o,l),i.set(c,l)}catch(e){d={error:e}}finally{try{s&&!s.done&&(f=a.return)&&f.call(a)}finally{if(d)throw d.error}}return u=(0,r.__spread)(i.values()),[4,e.batchSave(t,u,this.ownSymbol)];case 1:return[2,p.sent()]}}))}))},e}(),Ae=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.runExclusive((function(e){return(0,r.__awaiter)(n,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f=this;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:return n=this.schema.namespaces[A.J3].models.MutationEvent,o=x.OY.createFromExisting(n,(function(e){return e.modelId("eq",t.modelId).id("ne",f.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,o)];case 1:return i=r.__read.apply(void 0,[p.sent(),1]),void 0!==(a=i[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return p.sent(),[2];case 3:return s=t.operation,a.operation!==_.CREATE?[3,8]:s!==_.DELETE?[3,5]:[4,e.delete(this.MutationEvent,o)];case 4:return p.sent(),[3,7];case 5:return l=this.mergeUserFields(a,t),[4,e.save(this.MutationEvent.copyOf(a,(function(e){e.data=l.data})),void 0,this.ownSymbol)];case 6:p.sent(),p.label=7;case 7:return[3,12];case 8:return c=t.condition,u=JSON.parse(c),d=void 0,0!==Object.keys(u).length?[3,10]:(d=this.mergeUserFields(a,t),[4,e.delete(this.MutationEvent,o)]);case 9:p.sent(),p.label=10;case 10:return d=d||t,[4,e.save(d,void 0,this.ownSymbol)];case 11:p.sent(),p.label=12;case 12:return[2]}}))}))}))];case 1:return o.sent(),[2]}}))}))},e.prototype.dequeue=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.peek(e)];case 1:return o=r.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,o,n)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[4,e.delete(o)];case 4:return r.sent(),this.inProgressMutationEventId=void 0,[2,o]}}))}))},e.prototype.peek=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,g.fI.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return o=this.schema.namespaces[A.J3].models.MutationEvent,i=B(n,t),[4,e.query(this.MutationEvent,x.OY.createFromExisting(o,(function(e){return e.modelId("eq",i)})))];case 1:return[2,r.sent()]}}))}))},e.prototype.getModelIds=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,l,c,u,d,f,p,h,m,g,v,y=this;return(0,r.__generator)(this,(function(b){switch(b.label){case 0:return n.operation!==o?[2]:(i=t._version,a=t._lastChangedAt,t._deleted,s=(0,r.__rest)(t,["_version","_lastChangedAt","_deleted"]),l=this.removeTimestampFields(n.model,s),(c=JSON.parse(n.data))?(c._version,c._lastChangedAt,c._deleted,u=(0,r.__rest)(c,["_version","_lastChangedAt","_deleted"]),d=this.removeTimestampFields(n.model,u),(0,A.Vg)(l,d,!0)?(f=this.schema.namespaces[A.J3].models.MutationEvent,p=this.schema.namespaces.user.models[n.model],h=B(p,t),m=x.OY.createFromExisting(f,(function(e){return e.modelId("eq",h).id("ne",y.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,m)]):[2]):[2]);case 1:return(g=b.sent()).length?(v=g.map((function(e){var t=JSON.parse(e.data),n=(0,r.__assign)((0,r.__assign)({},t),{_version:i,_lastChangedAt:a});return y.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,m)]):[2];case 2:return b.sent(),[4,Promise.all(v.map((function(t){return(0,r.__awaiter)(y,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return b.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),o=n._version,i=n._lastChangedAt,a=n._deleted,s=(0,r.__rest)(n,["_version","_lastChangedAt","_deleted"]),l=JSON.parse(t.data),c=(l._version,l._lastChangedAt,l._deleted,(0,r.__rest)(l,["_version","_lastChangedAt","_deleted"])),u=JSON.stringify((0,r.__assign)((0,r.__assign)({_version:o,_lastChangedAt:i,_deleted:a},s),c));return this.modelInstanceCreator(this.MutationEvent,(0,r.__assign)((0,r.__assign)({},t),{data:u}))},e.prototype.removeTimestampFields=function(e,t){var n,r,o="createdAt",i="updatedAt",a=o,s=i,l=null===(n=this.schema.namespaces[A.xR].models[e].attributes)||void 0===n?void 0:n.find((function(e){return"model"===e.type})),c=null===(r=null==l?void 0:l.properties)||void 0===r?void 0:r.timestamps;return c&&(a=c[o],s=c[i]),delete t[a],delete t[s],t},e}(),Te=n(7262),Ie=function(e){return/^Connection failed: Connection Timeout/.test(e.message)},Pe=function(e){return/^Error: Request failed with status code 5\d\d/.test(e.message)},Oe={BadModel:function(){return!1},BadRecord:function(e){var t=e.message;return/^Cannot return \w+ for [\w-_]+ type/.test(t)||/^Variable '.+' has coerced Null value for NonNull type/.test(t)},ConfigError:function(){return!1},Transient:function(e){return Ie(e)||Pe(e)},Unauthorized:function(e){return/^Request failed with status code 401/.test(e.message)}},Me={BadModel:function(){return!1},BadRecord:function(){return!1},ConfigError:function(){return!1},Transient:function(e){var t=Le(e);return Ie(t)||Pe(t)},Unauthorized:function(e){var t=Le(e);return/Connection failed.+Unauthorized/.test(t.message)}},Ne={BadModel:function(){return!1},BadRecord:function(e){return/^Cannot return \w+ for [\w-_]+ type/.test(e.message)},ConfigError:function(){return!1},Transient:function(e){return Ie(e)||Pe(e)},Unauthorized:function(){return!1}};function Le(e){var t=e.error;return(0,r.__read)((void 0===t?{errors:[]}:t).errors,1)[0]}function Re(e){return De(Oe,e)}function De(e,t){var n,o,i=(0,r.__spread)(Object.keys(e));try{for(var a=(0,r.__values)(i),s=a.next();!s.done;s=a.next()){var l=s.value,c=e[l];if(null==c?void 0:c(t))return l}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return"Unknown"}var ze,Fe,Ue=new s.k("DataStore"),je=function(){function e(e,t,n,r,i,a,s,l,u,d,f){void 0===s&&(s={}),this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=i,this.MutationEvent=a,this.amplifyConfig=s,this.authModeStrategy=l,this.errorHandler=u,this.conflictHandler=d,this.amplifyContext=f,this.typeQuery=new WeakMap,this.processing=!1,this.runningProcesses=new c.XL,this.amplifyContext.API=this.amplifyContext.API||o.b,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var o=(0,r.__read)(N(t,n,"CREATE"),1)[0],i=(0,r.__read)(N(t,n,"UPDATE"),1)[0],a=(0,r.__read)(N(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[o,i,a])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return this.runningProcesses=new c.XL,new h.Z((function(t){e.observer=t;try{e.resume()}catch(e){throw Ue.error("mutations processor start error",e),e}return e.runningProcesses.addCleaner((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return this.pause(),[2]}))}))}))}))},e.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.resume=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.runningProcesses.isOpen&&this.runningProcesses.add((function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,n,o,i,a,s=this;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:if(this.processing||!this.isReady()||!this.runningProcesses.isOpen)return[2];this.processing=!0,n=A.xR,o=function(){var o,a,l,c,u,d,f,p,h,m,g,v,y,b,_,w;return(0,r.__generator)(this,(function(x){switch(x.label){case 0:o=e.model,a=e.operation,l=e.data,c=e.condition,u=i.userClasses[o],d=void 0,f=void 0,p=void 0,x.label=1;case 1:return x.trys.push([1,4,,5]),[4,z({authModeStrategy:i.authModeStrategy,defaultAuthMode:i.amplifyConfig.aws_appsync_authenticationType,modelName:o,schema:i.schema})];case 2:return h=x.sent(),m=h[a.toUpperCase()],g=0,v=function(){return(0,r.__awaiter)(s,void 0,void 0,(function(){var i,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),Ue.debug("Attempting mutation with authMode: "+m[g]),[4,this.jitteredRetry(n,o,a,l,c,u,this.MutationEvent,e,m[g],t)];case 1:return i=r.sent(),Ue.debug("Mutation sent successfully with authMode: "+m[g]),[2,i];case 2:if(s=r.sent(),++g>=m.length)throw Ue.debug("Mutation failed with authMode: "+m[g-1]),s;return Ue.debug("Mutation failed with authMode: "+m[g-1]+". Retrying with authMode: "+m[g]),[4,v()];case 3:return[2,r.sent()];case 4:return[2]}}))}))},[4,v()];case 3:return w=r.__read.apply(void 0,[x.sent(),3]),d=w[0],f=w[1],p=w[2],[3,5];case 4:return"Offline"===(y=x.sent()).message||"RetryMutation"===y.message?[2,"continue"]:[3,5];case 5:return void 0!==d?[3,7]:(Ue.debug("done retrying"),[4,i.storage.runExclusive((function(e){return(0,r.__awaiter)(s,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 6:return x.sent(),[2,"continue"];case 7:return b=d.data[f],_=!1,[4,i.storage.runExclusive((function(e){return(0,r.__awaiter)(s,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,b,a)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return _=void 0!==t.sent(),[2]}}))}))}))];case 8:return x.sent(),i.observer.next({operation:a,modelDefinition:p,model:b,hasMore:_}),[2]}}))},i=this,l.label=1;case 1:return(a=this.processing&&this.runningProcesses.isOpen)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:a=void 0!==(e=l.sent()),l.label=3;case 3:return a?[5,o()]:[3,5];case 4:return l.sent(),[3,1];case 5:return this.pause(),[2]}}))}))}),"mutation resume loop")];case 1:return t.sent(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,o,i,a,s,l,c,u){return(0,r.__awaiter)(this,void 0,void 0,(function(){var d=this;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return[4,(0,Te.XD)((function(t,n,o,i,a,s,l){return(0,r.__awaiter)(d,void 0,void 0,(function(){var u,d,f,p,h,m,v,y,b,_,w,x,S,E,C,k,T,I,P,O,M,R,D,z,F,U;return(0,r.__generator)(this,(function(B){switch(B.label){case 0:return u=(0,r.__read)(this.createQueryVariables(e,t,n,o,i),5),d=u[0],f=u[1],p=u[2],h=u[3],m=u[4],[4,j(c,this.amplifyConfig)];case 1:v=B.sent(),y={query:d,variables:f,authMode:c,authToken:v,userAgentSuffix:A.N6},b=0,_=this.opTypeFromTransformerOperation(n),B.label=2;case 2:return B.trys.push([2,4,,17]),[4,this.amplifyContext.API.graphql(y)];case 3:return[2,[B.sent(),h,m]];case 4:if(!((w=B.sent()).errors&&w.errors.length>0))return[3,15];if(x=(0,r.__read)(w.errors,1),S=x[0],E=S.originalError,C=(void 0===E?{}:E).code,k=void 0===C?null:C,"Unauthorized"===S.errorType)throw new Te.V2("Unauthorized");if("Network Error"===S.message||"ECONNABORTED"===k){if(!this.processing)throw new Te.V2("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==S.errorType?[3,13]:(b++,T=void 0,b>10?(T=g.K5,[3,8]):[3,5]);case 5:return B.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:a,localModel:this.modelInstanceCreator(a,f.input),remoteModel:this.modelInstanceCreator(a,S.data),operation:_,attempts:b})];case 6:return T=B.sent(),[3,8];case 7:return I=B.sent(),Ue.warn("conflict trycatch",I),[3,17];case 8:return T!==g.K5?[3,11]:(P=(0,r.__read)(N(this.schema.namespaces[e],m,"GET"),1),O=(0,r.__read)(P[0],3),M=O[1],R=O[2],[4,j(c,this.amplifyConfig)]);case 9:return D=B.sent(),[4,this.amplifyContext.API.graphql({query:R,variables:{id:f.input.id},authMode:c,authToken:D,userAgentSuffix:A.N6})];case 10:return[2,[B.sent(),M,m]];case 11:return z=this.schema.namespaces[e],F=L(z.relationships,m,_,a,T,p,s,this.modelInstanceCreator,l.id),[4,this.storage.save(F)];case 12:throw B.sent(),new Te.V2("RetryMutation");case 13:try{this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:f.input,message:S.message,operation:n,errorType:Re(S),errorInfo:S.errorInfo,process:g.tv.mutate,cause:S,remoteModel:S.data?this.modelInstanceCreator(a,S.data):null})}catch(e){Ue.warn("Mutation error handler failed with:",e)}finally{return[2,S.data?[{data:(U={},U[h]=S.data,U)},h,m]:[]]}B.label=14;case 14:return[3,16];case 15:throw new Te.V2(w);case 16:return[3,17];case 17:if(y)return[3,2];B.label=18;case 18:return[2]}}))}))}),[t,n,o,i,a,s,l],Ge,u)];case 1:return[2,f.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,o,i){var a,s,l,c,u,d,f,p=this.schema.namespaces[e].models[t],h=this.schema.namespaces[e].keys[t].primaryKey,m=this.typeQuery.get(p),v=(0,r.__read)(m.find((function(e){return(0,r.__read)(e,1)[0]===n})),3),y=v[1],b=v[2],w=JSON.parse(o),x=w._version,S=(0,r.__rest)(w,["_version"]),E={};if(null==h?void 0:h.length)try{for(var C=(0,r.__values)(h),k=C.next();!k.done;k=C.next()){var T=k.value;E[T]=S[T]}}catch(e){a={error:e}}finally{try{k&&!k.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}else E[A.ID]=S.id;if(n===_.DELETE)f=E;else{f={};var I=Object.values(p.fields);try{for(var P=(0,r.__values)(I),O=P.next();!O.done;O=P.next()){var M=O.value,N=M.name,L=M.type,R=M.association;if((0,g.I7)(L)){if((0,g.Fr)(R)&&"BELONGS_TO"===R.connectionType){var D=(0,A.w2)(R);if(D)try{for(var z=(u=void 0,(0,r.__values)(D)),F=z.next();!F.done;F=z.next()){var U=F.value;f[U]=S[U]}}catch(e){u={error:e}}finally{try{F&&!F.done&&(d=z.return)&&d.call(z)}finally{if(u)throw u.error}}}}else(n!==_.UPDATE||S.hasOwnProperty(N))&&(f[N]=S[N])}}catch(e){l={error:e}}finally{try{O&&!O.done&&(c=P.return)&&c.call(P)}finally{if(l)throw l.error}}}var j=(0,r.__assign)((0,r.__assign)({},f),{_version:x}),B=JSON.parse(i);return[b,(0,r.__assign)({input:j},n===_.CREATE?{}:{condition:Object.keys(B).length>0?B:null}),B,y,p]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case _.CREATE:return g.HP.INSERT;case _.DELETE:return g.HP.DELETE;case _.UPDATE:return g.HP.UPDATE;case _.GET:break;default:throw new Error("Invalid operation "+e)}},e.prototype.pause=function(){this.processing=!1},e}(),Be=3e5,Ve=(0,Te.kD)(Be),Ge=function(e,t,n){var r=Ve(e);return!1===r&&"Network Error"===(null==n?void 0:n.message)?Be:r},qe=new s.k("DataStore");!function(e){e.CONNECTED="CONNECTED"}(ze||(ze={})),function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"}(Fe||(Fe={}));var He,We=function(){function e(e,t,n,r,s,l){void 0===n&&(n={}),void 0===l&&(l={Auth:i.g,API:o.b,Cache:a._}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=s,this.amplifyContext=l,this.typeQuery=new WeakMap,this.buffer=[],this.runningProcesses=new c.XL}return e.prototype.buildSubscription=function(e,t,n,o,i,a,s){var l=this.amplifyConfig.aws_appsync_authenticationType,c=this.getAuthorizationInfo(t,o,l,i,a,s)||{},u=c.isOwner,d=c.ownerField,f=c.ownerValue,p=(0,r.__read)(function(e,t,n,r,o){var i=O(e,t),a=t.name,s=(t.pluralName,"on"+n+a),l="",c="";return r&&(l="($"+o+": String!)",c="("+o+": $"+o+")"),[n,s,"subscription operation"+l+"{\n\t\t\t"+s+c+"{\n\t\t\t\t"+i+"\n\t\t\t}\n\t\t}"]}(e,t,n,u,d),3);return{authMode:s,opType:p[0],opName:p[1],query:p[2],isOwner:u,ownerField:d,ownerValue:f}},e.prototype.getAuthorizationInfo=function(e,t,n,o,i,a){void 0===o&&(o={}),void 0===i&&(i={});var s,l,c,u,d=(c=(void 0===(l=([].concat((s=e).attributes||[]).find((function(e){return e&&"auth"===e.type}))||{}).properties)?{}:l).rules,u=[],(void 0===c?[]:c).forEach((function(e){var t=e.identityClaim,n=void 0===t?"cognito:username":t,r=e.ownerField,o=void 0===r?"owner":r,i=e.operations,a=void 0===i?["create","update","delete","read"]:i,l=e.provider,c=void 0===l?"userPools":l,d=e.groupClaim,f=void 0===d?"cognito:groups":d,p=e.allow,h=void 0===p?"iam":p,m=e.groups,g=void 0===m?[]:m,v="owner"===h;if(a.includes("read")||v){var y={identityClaim:n,ownerField:o,provider:c,groupClaim:f,authStrategy:h,groups:g,areSubscriptionsPublic:!1};if(v){var b=([].concat(s.attributes||[]).find((function(e){return e&&"model"===e.type}))||{}).properties,_=(void 0===b?{}:b).subscriptions,w=(void 0===_?{}:_).level,x=void 0===w?"on":w;y.areSubscriptionsPublic=!a.includes("read")||"public"===x}v?u.push(y):u.unshift(y)}})),u);if(a===m.si.AWS_IAM&&d.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===Fe.unauth)return null;var f,p=d.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return a!==m.si.AMAZON_COGNITO_USER_POOLS&&a!==m.si.OPENID_CONNECT||!p.find((function(e){var t=D(o,e),n=D(i,e);return(0,r.__spread)(t,n).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((a===m.si.AMAZON_COGNITO_USER_POOLS?d.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(e){var t=o[e.identityClaim];t&&(f={authMode:m.si.AMAZON_COGNITO_USER_POOLS,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),f||((a===m.si.OPENID_CONNECT?d.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(e){var t=i[e.identityClaim];t&&(f={authMode:m.si.OPENID_CONNECT,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),f||{authMode:a||n,isOwner:!1})):{authMode:a,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===Se.u.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this;this.runningProcesses=this.runningProcesses||new c.XL;var t=new h.Z((function(t){var n,o,i=[],a={},s=Fe.none;return e.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,l,c,d,f,p,h,m,v,y,b=this;return(0,r.__generator)(this,(function(w){switch(w.label){case 0:return w.trys.push([0,2,,3]),[4,this.amplifyContext.Auth.currentCredentials()];case 1:return e=w.sent(),s=e.authenticated?Fe.auth:Fe.unauth,[3,3];case 2:return w.sent(),[3,3];case 3:return w.trys.push([3,5,,6]),[4,this.amplifyContext.Auth.currentSession()];case 4:return l=w.sent(),n=l.getIdToken().decodePayload(),[3,6];case 5:return w.sent(),[3,6];case 6:if(w.trys.push([6,11,,12]),c=this.amplifyConfig,d=c.aws_cognito_region,f=c.Auth,!d||f&&!f.region)throw"Auth is not configured";return p=void 0,[4,this.amplifyContext.Cache.getItem("federatedInfo")];case 7:return(h=w.sent())?(p=h.token,[3,10]):[3,8];case 8:return[4,this.amplifyContext.Auth.currentAuthenticatedUser()];case 9:(m=w.sent())&&(p=m.token),w.label=10;case 10:return p&&(v=p.split(".")[1],o=JSON.parse(Buffer.from(v,"base64").toString("utf8"))),[3,12];case 11:return y=w.sent(),qe.debug("error getting OIDC JWT",y),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(l){return b.runningProcesses.isOpen&&b.runningProcesses.add((function(){return(0,r.__awaiter)(b,void 0,void 0,(function(){var c,d,f,p,h,m,v,y,b=this;return(0,r.__generator)(this,(function(w){switch(w.label){case 0:return[4,z({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:l.name,schema:this.schema})];case 1:return c=w.sent(),d=c.READ,a=(0,r.__assign)((0,r.__assign)({},a),((m={})[l.name]=((v={})[_.CREATE]=[],v[_.UPDATE]=[],v[_.DELETE]=[],v),m)),f=[_.CREATE,_.UPDATE,_.DELETE],(y={})[_.CREATE]=0,y[_.UPDATE]=0,y[_.DELETE]=0,p=y,h=function(c){return(0,r.__awaiter)(b,void 0,void 0,(function(){var f,m,v,y,b,_,w,S,E,C,k,T,I,P=this;return(0,r.__generator)(this,(function(O){switch(O.label){case 0:return f=this.buildSubscription(e,l,c,s,n,o,d[p[c]]),m=f.opType,v=f.opName,y=f.query,b=f.isOwner,_=f.ownerField,w=f.ownerValue,[4,j(S=f.authMode,this.amplifyConfig)];case 1:if(E=O.sent(),C={},b){if(!w)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];C[_]=w}return qe.debug("Attempting "+c+" subscription with authMode: "+d[p[c]]),k=A.N6,T=this.amplifyContext.API.graphql((0,r.__assign)((0,r.__assign)({query:y,variables:C},{authMode:S}),{authToken:E,userAgentSuffix:k})),a[l.name][m].push(T.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,n=e.errors;if(Array.isArray(n)&&n.length>0){var r=n.map((function(e){return e.message}));return qe.warn("Skipping incoming subscription. Messages: "+r.join("\n")),void P.drainBuffer()}var o=x.OY.getPredicates(P.syncPredicates.get(l),!1),i=t[v];P.passesPredicateValidation(i,o)&&P.pushToBuffer(m,l,i),P.drainBuffer()},error:function(e){return(0,r.__awaiter)(P,void 0,void 0,(function(){var n,o,i,s,u,f;return(0,r.__generator)(this,(function(v){switch(v.label){case 0:if(n=e.error,o=(0,r.__read)((void 0===n?{errors:[]}:n).errors,1),i=o[0],s=(void 0===i?{}:i).message,(u=void 0===s?"":s).includes(Se.u.REALTIME_SUBSCRIPTION_INIT_ERROR)||u.includes(Se.u.CONNECTION_FAILED)){if(a[l.name][m].forEach((function(e){return e.unsubscribe()})),a[l.name][m]=[],p[c]++,!(p[c]>=d.length))return qe.debug(c+" subscription failed with authMode: "+d[p[c]-1]+". Retrying with authMode: "+d[p[c]]),h(c),[2];qe.debug(c+" subscription failed with authMode: "+d[p[c]-1])}qe.warn("subscriptionError",u),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:u,model:l.name,operation:c,errorType:(y=e,De(Me,y)),process:g.tv.subscribe,remoteModel:null,cause:e})];case 2:return v.sent(),[3,4];case 3:return f=v.sent(),qe.error("Subscription error handler failed with:",f),[3,4];case 4:return"function"==typeof I&&I(),u.includes('"errorType":"Unauthorized"')||u.includes('"errorType":"OperationDisabled"')||t.error(u),[2]}var y}))}))}})),i.push((0,r.__awaiter)(P,void 0,void 0,(function(){var e,t=this;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){I=n,e=t.hubQueryCompletionListener.bind(t,n),u.X.listen("api",e)}))];case 1:return n.sent(),u.X.remove("api",e),[2]}}))}))),[2]}}))}))},f.forEach((function(e){return h(e)})),[2]}}))}))}))}))})),this.runningProcesses.isOpen&&this.runningProcesses.add((function(){return Promise.all(i).then((function(){t.next(ze.CONNECTED)}))})),[2]}}))}))}),"subscription processor new subscriber"),e.runningProcesses.addCleaner((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return Object.keys(a).forEach((function(e){a[e][_.CREATE].forEach((function(e){return e.unsubscribe()})),a[e][_.UPDATE].forEach((function(e){return e.unsubscribe()})),a[e][_.DELETE].forEach((function(e){return e.unsubscribe()}))})),[2]}))}))}))}));return[t,new h.Z((function(t){return e.dataObserver=t,e.drainBuffer(),e.runningProcesses.addCleaner((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return this.dataObserver=null,[2]}))}))}))}))]},e.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),[2]}}))}))},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return(0,A.u8)(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e}(),Ke={items:[],nextToken:null,startedAt:null},$e=new s.k("DataStore"),Ze=function(){function e(e,t,n,r,i,a){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.errorHandler=i,this.amplifyContext=a,this.typeQuery=new WeakMap,this.runningProcesses=new c.XL,a.API=a.API||o.b,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var o=(0,r.__read)(N(t,n,"LIST"),1),i=(0,r.__read)(o[0]).slice(1);e.typeQuery.set(n,i)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=x.OY.getPredicates(this.syncPredicates.get(e),!1);return t?R(t):null},e.prototype.retrievePage=function(e,t,n,o,i,a){return void 0===o&&(o=null),(0,r.__awaiter)(this,void 0,void 0,(function(){var s,l,c,u,d,f,p,h,m,g,v,y,b,_=this;return(0,r.__generator)(this,(function(w){switch(w.label){case 0:return s=(0,r.__read)(this.typeQuery.get(e),2),l=s[0],c=s[1],u={limit:o,nextToken:n,lastSync:t,filter:i},[4,z({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:e.name,schema:this.schema})];case 1:return d=w.sent(),f=d.READ,p=0,h=function(){return(0,r.__awaiter)(_,void 0,void 0,(function(){var t,n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(!this.runningProcesses.isOpen)throw new Error("sync.retreievePage termination was requested. Exiting.");r.label=1;case 1:return r.trys.push([1,3,,5]),$e.debug("Attempting sync with authMode: "+f[p]),[4,this.jitteredRetry({query:c,variables:u,opName:l,modelDefinition:e,authMode:f[p],onTerminate:a})];case 2:return t=r.sent(),$e.debug("Sync successful with authMode: "+f[p]),[2,t];case 3:if(n=r.sent(),++p>=f.length){if(o=f[p-1],$e.debug("Sync failed with authMode: "+o,n),U(n)||F(n))return $e.warn("User is unauthorized to query "+l+" with auth mode "+o+". No data could be returned."),[2,{data:(i={},i[l]=Ke,i)}];throw n}return $e.debug("Sync failed with authMode: "+f[p-1]+". Retrying with authMode: "+f[p]),[4,h()];case 4:return[2,r.sent()];case 5:return[2]}}))}))},[4,h()];case 2:return m=w.sent().data,g=m[l],v=g.items,y=g.nextToken,b=g.startedAt,[2,{nextToken:y,startedAt:b,items:v}]}}))}))},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,o=e.opName,i=e.modelDefinition,a=e.authMode,s=e.onTerminate;return(0,r.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return[4,(0,Te.Xm)((function(t,n){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,s,l,c,d,f,p,h,m,v,y,b=this;return(0,r.__generator)(this,(function(_){switch(_.label){case 0:return _.trys.push([0,3,,6]),[4,j(a,this.amplifyConfig)];case 1:return e=_.sent(),[4,this.amplifyContext.API.graphql({query:t,variables:n,authMode:a,authToken:e,userAgentSuffix:A.N6})];case 2:return[2,_.sent()];case 3:if(s=_.sent(),l=U(s)||F(s))throw new Te.V2(l);return c=Boolean(null===(m=null===(h=null==s?void 0:s.data)||void 0===h?void 0:h[o])||void 0===m?void 0:m.items),d=(null==s?void 0:s.errors)&&s.errors.some((function(e){return"Unauthorized"===e.errorType})),f=(null==s?void 0:s.errors)&&s.errors.filter((function(e){return"Unauthorized"!==e.errorType})),p=s,c&&(p.data[o].items=p.data[o].items.filter((function(e){return null!==e}))),c&&(null==f?void 0:f.length)?[4,Promise.all(f.map((function(e){return(0,r.__awaiter)(b,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.errorHandler({recoverySuggestion:"Ensure app code is up to date, auth directives exist and are correct on each model, and that server-side data has not been invalidated by a schema change. If the problem persists, search for or create an issue: https://github.com/aws-amplify/amplify-js/issues",localModel:null,message:e.message,model:i.name,operation:o,errorType:(r=e,De(Ne,r)),process:g.tv.sync,remoteModel:null,cause:e})];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),$e.error("Sync error handler failed with:",t),[3,3];case 3:return[2]}var r}))}))})))]:[3,5];case 4:_.sent(),u.X.dispatch("datastore",{event:"nonApplicableDataReceived",data:{errors:f,modelName:i.name}}),_.label=5;case 5:if(d)return $e.warn("queryError","User is unauthorized to query "+o+", some items could not be returned."),p.data=p.data||{},p.data[o]=(0,r.__assign)((0,r.__assign)({},Ke),p.data[o]),[2,p];if(null===(y=null===(v=p.data)||void 0===v?void 0:v[o].items)||void 0===y?void 0:y.length)return[2,p];throw s;case 6:return[2]}}))}))}),[t,n],void 0,s)];case 1:return[2,l.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=this.amplifyConfig,o=n.maxRecordsToSync,i=n.syncPageSize,a=new Map,s=new h.Z((function(n){var s=Object.values(t.schema.namespaces).reduce((function(t,n){var o,i;try{for(var a=(0,r.__values)(Array.from(n.modelTopologicalOrdering.keys())),s=a.next();!s.done;s=a.next()){var l=s.value,c=e.get(n.models[l]);t.set(n.models[l],c)}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return t}),new Map),l=Array.from(s.entries()).filter((function(e){return(0,r.__read)(e,1)[0].syncable})).map((function(e){var s=(0,r.__read)(e,2),l=s[0],c=(0,r.__read)(s[1],2),u=c[0],d=c[1];return t.runningProcesses.isOpen&&t.runningProcesses.add((function(e){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,s,c,f,p,h,m,g,v,y=this;return(0,r.__generator)(this,(function(b){switch(b.label){case 0:return t=!1,s=null,c=null,f=null,p=0,h=this.graphqlFilterFromPredicate(l),m=this.schema.namespaces[u].modelTopologicalOrdering.get(l.name),g=m.map((function(e){return a.get(u+"_"+e)})),v=new Promise((function(a){return(0,r.__awaiter)(y,void 0,void 0,(function(){var m,v;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all(g)];case 1:r.sent(),r.label=2;case 2:return this.runningProcesses.isOpen?(m=Math.min(o-p,i),[4,this.retrievePage(l,d,s,m,h,e)]):[2];case 3:v=r.sent(),f=v.items,s=v.nextToken,c=v.startedAt,p+=f.length,t=null===s||p>=o,n.next({namespace:u,modelDefinition:l,items:f,done:t,startedAt:c,isFullSync:!d}),r.label=4;case 4:if(!t)return[3,2];r.label=5;case 5:return a(),[2]}}))}))})),a.set(u+"_"+l.name,v),[4,v];case 1:return b.sent(),[2]}}))}))}),"adding model "+l.name)}));Promise.all(l).then((function(){n.complete()}))}));return s},e.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return $e.debug("stopping sync processor"),[4,this.runningProcesses.close()];case 1:return e.sent(),[4,this.runningProcesses.open()];case 2:return e.sent(),$e.debug("sync processor stopped"),[2]}}))}))},e}(),Ye=(0,l.lC)().isNode,Je=new s.k("DataStore"),Xe=Symbol("sync");!function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"}(He||(He={}));var Qe,et=function(){function e(e,t,n,r,o,i,a,s,l,u,d,f,p){void 0===u&&(u={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=o,this.modelInstanceCreator=i,this.syncPredicates=l,this.amplifyConfig=u,this.authModeStrategy=d,this.amplifyContext=f,this.connectivityMonitor=p,this.online=!1,this.modelSyncedStatus=new WeakMap,this.runningProcesses=new c.XL;var h=this.modelClasses.MutationEvent;this.outbox=new Ae(this.schema,h,i,Xe),this.modelMerger=new ke(this.outbox,Xe),this.syncQueriesProcessor=new Ze(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.subscriptionsProcessor=new We(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,s,this.amplifyContext),this.mutationsProcessor=new je(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,h,this.amplifyConfig,this.authModeStrategy,s,a,this.amplifyContext),this.datastoreConnectivity=this.connectivityMonitor||new Ce}return e.prototype.getModelSyncedStatus=function(e){return this.modelSyncedStatus.get(e)},e.prototype.start=function(e){var t=this;return new h.Z((function(n){Je.log("starting sync engine...");var o=[];t.runningProcesses.add((function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,i,a,s=this;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return l.sent(),[3,3];case 2:return t=l.sent(),n.error(t),[2];case 3:return i=new Promise((function(e,t){s.datastoreConnectivity.status().subscribe((function(i){var a=i.online;return(0,r.__awaiter)(s,void 0,void 0,(function(){var i=this;return(0,r.__generator)(this,(function(s){return[2,this.runningProcesses.isOpen&&this.runningProcesses.add((function(s){return(0,r.__awaiter)(i,void 0,void 0,(function(){var i,l,c,u,d,f=this;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:return!a||this.online?[3,10]:(this.online=a,n.next({type:He.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),l=void 0,Ye?(Je.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:d=(0,r.__read)(this.subscriptionsProcessor.start(),2),i=d[0],l=d[1],p.label=2;case 2:return p.trys.push([2,4,,5]),[4,new Promise((function(e,t){s.then(t);var n=i.subscribe({next:function(t){t===ze.CONNECTED&&e()},error:function(e){t(e),f.disconnectionHandler()(e)}});o.push(n)}))];case 3:return p.sent(),[3,5];case 4:return c=p.sent(),n.error(c),t(),[2];case 5:Je.log("Realtime ready"),n.next({type:He.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),p.label=6;case 6:return p.trys.push([6,8,,9]),[4,new Promise((function(e,t){var r=f.syncQueriesObservable().subscribe({next:function(t){t.type===He.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});r&&o.push(r)}))];case 7:return p.sent(),[3,9];case 8:return u=p.sent(),n.error(u),t(),[2];case 9:return o.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,o=e.model,i=e.hasMore;return f.runningProcesses.add((function(){return(0,r.__awaiter)(f,void 0,void 0,(function(){var e,a,s=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=this.userModelClasses[t.name],a=this.modelInstanceCreator(e,o),[4,this.storage.runExclusive((function(e){return s.modelMerger.merge(e,a,t)}))];case 1:return r.sent(),n.next({type:He.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:e,element:a}}),n.next({type:He.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!i}}),[2]}}))}))}),"mutation processor event")}))),Ye||o.push(l.subscribe((function(e){var t=(0,r.__read)(e,3),n=(t[0],t[1]),o=t[2];return f.runningProcesses.add((function(){return(0,r.__awaiter)(f,void 0,void 0,(function(){var e,t,i=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=this.userModelClasses[n.name],t=this.modelInstanceCreator(e,o),[4,this.storage.runExclusive((function(e){return i.modelMerger.merge(e,t,n)}))];case 1:return r.sent(),[2]}}))}))}),"subscription dataSubsObservable event")}))),[3,11];case 10:a||(this.online=a,n.next({type:He.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),o.forEach((function(e){return e.unsubscribe()})),o=[]),p.label=11;case 11:return e(),[2]}}))}))}),"datastore connectivity event")]}))}))}))})),this.storage.observe(null,null,Xe).filter((function(e){var t=e.model;return!0===s.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,o=e.model,a=e.element,l=e.condition;return(0,r.__awaiter)(s,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(s){return[2,this.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,s,c,u,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(o)],s=this.modelClasses.MutationEvent,c=this.getModelDefinition(o),u=function(e,t){return e&&Array.isArray(e.predicates)?R(e,(0,A.lm)(t)):{}}(l,c),d=L(e.relationships,this.getModelDefinition(o),t,o,a,u,s,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,d)];case 1:return r.sent(),n.next({type:He.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:o,element:a}}),n.next({type:He.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,i];case 2:return r.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}),"storage event")]}))}))}}),n.next({type:He.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return a=void 0===l.sent(),n.next({type:He.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:a}}),[4,i];case 5:return l.sent(),n.next({type:He.SYNC_ENGINE_READY}),[2]}}))}))}),"sync start")}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.runningProcesses.add((function(){return n.getModelsMetadata()}),"sync/index getModelsMetadataWithNextFullSync")];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,o=t.model,i=t.lastSync,a=t.lastFullSync,s=t.fullSyncInterval,l=(t.lastSyncPredicate,!a||a+s<e?0:i);return[n.schema.namespaces[r].models[o],[r,l]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new h.Z((function(t){var n;e.runningProcesses.isOpen&&e.runningProcesses.add((function(o){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,i,a,s=this;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:e=!1,i=function(){var i,l,c,u,d,f,p,h,m;return(0,r.__generator)(this,(function(v){switch(v.label){case 0:return i=new WeakMap,[4,a.getModelsMetadataWithNextFullSync(Date.now())];case 1:return l=v.sent(),c=new Set(l.keys()),[4,new Promise((function(e,a){s.runningProcesses.isOpen||e(),o.then((function(){return e()})),n=s.syncQueriesProcessor.start(l).subscribe({next:function(o){var a=o.namespace,l=o.modelDefinition,m=o.items,v=o.done,y=o.startedAt,b=o.isFullSync;return(0,r.__awaiter)(s,void 0,void 0,(function(){var o,s,_,w,x,S,E=this;return(0,r.__generator)(this,(function(C){switch(C.label){case 0:return o=this.userModelClasses[l.name],i.has(o)||(i.set(o,{new:0,updated:0,deleted:0}),f=(0,A.Iz)(),h=void 0===h?y:Math.max(h,y)),[4,this.storage.runExclusive((function(e){return(0,r.__awaiter)(E,void 0,void 0,(function(){var t,n,a,s,c,u,d,f,p,h,v,y,b,_,w;return(0,r.__generator)(this,(function(x){switch(x.label){case 0:return[4,this.outbox.getModelIds(e)];case 1:t=x.sent(),n=[],a=m.filter((function(e){var r=B(l,e);return!t.has(r)||(n.push(e),!1)})),s=[],x.label=2;case 2:x.trys.push([2,7,8,9]),c=(0,r.__values)(n),u=c.next(),x.label=3;case 3:return u.done?[3,6]:(d=u.value,[4,this.modelMerger.merge(e,d,l)]);case 4:void 0!==(f=x.sent())&&s.push([d,f]),x.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return p=x.sent(),_={error:p},[3,9];case 8:try{u&&!u.done&&(w=c.return)&&w.call(c)}finally{if(_)throw _.error}return[7];case 9:return v=(h=s.push).apply,y=[s],[4,this.modelMerger.mergePage(e,o,a,l)];case 10:return v.apply(h,y.concat([r.__spread.apply(void 0,[x.sent()])])),b=i.get(o),s.forEach((function(e){var t=(0,r.__read)(e,2)[1];switch(t){case g.HP.INSERT:b.new++;break;case g.HP.UPDATE:b.updated++;break;case g.HP.DELETE:b.deleted++;break;default:throw new Error("Invalid opType "+t)}})),[2]}}))}))}))];case 1:return C.sent(),v?(s=l.name,[4,this.getModelMetadata(a,s)]):[3,4];case 2:return _=C.sent(),w=_.lastFullSync,x=_.fullSyncInterval,d=x,u=void 0===u?w:Math.max(u,b?y:w),_=this.modelClasses.ModelMetadata.copyOf(_,(function(e){e.lastSync=y,e.lastFullSync=b?y:_.lastFullSync})),[4,this.storage.save(_,void 0,Xe)];case 3:C.sent(),S=i.get(o),this.modelSyncedStatus.set(o,!0),t.next({type:He.SYNC_ENGINE_MODEL_SYNCED,data:{model:o,isFullSync:b,isDeltaSync:!b,counts:S}}),c.delete(l),0===c.size&&(p=(0,A.Iz)()-f,e(),t.next({type:He.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),C.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:He.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(c).map((function(e){return e.name}))}})}))];case 2:return v.sent(),m=u+d-(h+p),Je.debug("Next fullSync in "+m/1e3+" seconds. ("+new Date(Date.now()+m)+")"),[4,a.runningProcesses.add((function(t){return(0,r.__awaiter)(s,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){return o=new Promise((function(e){n=e,setTimeout(n,m)})),t.then((function(){e=!0,n()})),[2,o]}))}))}),"syncQueriesObservable sleep")];case 3:return v.sent(),[2]}}))},a=this,l.label=1;case 1:return t.closed||e?[3,3]:[5,i()];case 2:return l.sent(),[3,1];case 3:return[2]}}))}))}),"syncQueriesObservable main")})):h.Z.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){Se.u.CONNECTION_CLOSED!==t&&Se.u.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return Je.debug("stopping sync engine"),this.unsubscribeConnectivity(),[4,this.mutationsProcessor.stop()];case 1:return e.sent(),[4,this.subscriptionsProcessor.stop()];case 2:return e.sent(),[4,this.datastoreConnectivity.stop()];case 3:return e.sent(),[4,this.syncQueriesProcessor.stop()];case 4:return e.sent(),[4,this.runningProcesses.close()];case 5:return e.sent(),[4,this.runningProcesses.open()];case 6:return e.sent(),Je.debug("sync engine stopped and ready to restart"),[2]}}))}))},e.prototype.setupModels=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,i,a,s,l,c,u,d,f,p,h,m=this;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,o=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){if(o.push([e.name,t]),e.name===A.xR){var n=m.userModelClasses[t.name];m.modelSyncedStatus.set(n,!1)}}))})),a=o.map((function(e){var o=(0,r.__read)(e,2),a=o[0],s=o[1];return(0,r.__awaiter)(m,void 0,void 0,(function(){var e,o,l,c,u,d,f,p,h;return(0,r.__generator)(this,(function(m){switch(m.label){case 0:return[4,this.getModelMetadata(a,s.name)];case 1:return e=m.sent(),o=x.OY.getPredicates(this.syncPredicates.get(s),!1),l=o?JSON.stringify(o):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:s.name,namespace:a,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:l}),void 0,Xe)];case 2:return d=r.__read.apply(void 0,[m.sent(),1]),f=(0,r.__read)(d[0],1),i=f[0],[3,5];case 3:return c=e.lastSyncPredicate?e.lastSyncPredicate:null,u=c!==l,[4,this.storage.save(n.copyOf(e,(function(e){e.fullSyncInterval=t,u&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=l)})))];case 4:p=r.__read.apply(void 0,[m.sent(),1]),h=(0,r.__read)(p[0],1),i=h[0],m.label=5;case 5:return[2,i]}}))}))})),s={},g.label=1;case 1:return g.trys.push([1,6,7,8]),[4,Promise.all(a)];case 2:l=r.__values.apply(void 0,[g.sent()]),c=l.next(),g.label=3;case 3:if(c.done)return[3,5];u=c.value,d=u.model,s[d]=u,g.label=4;case 4:return c=l.next(),[3,3];case 5:return[3,8];case 6:return f=g.sent(),p={error:f},[3,8];case 7:try{c&&!c.done&&(h=l.return)&&h.call(l)}finally{if(p)throw p.error}return[7];case 8:return[2,s]}}))}))},e.prototype.getModelsMetadata=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return n=this.modelClasses.ModelMetadata,o=x.OY.createFromExisting(this.schema.namespaces[A.J3].models[n.name],(function(n){return n.namespace("eq",e).model("eq",t)})),[4,this.storage.query(n,o,{page:0,limit:1})];case 1:return[2,r.__read.apply(void 0,[i.sent(),1])[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:A.J3,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}}},e}(),tt=(0,r.__spread)(x.ns),nt=new Map,rt=function(e,t){var n=t||new g.hl;return nt.set(n,e),n},ot=function(e){if(!nt.has(e))throw new Error("Invalid predicate. Terminate your predicate with a valid condition (e.g., `p => p.field.eq('value')`) or pass `Predicates.ALL`.");return nt.get(e)},it={and:"or",or:"and",not:"and",eq:"ne",ne:"eq",gt:"le",ge:"lt",lt:"ge",le:"gt",contains:"notContains",notContains:"contains"},at=function(){function e(e,t,n){this.field=e,this.operator=t,this.operands=n,this.validate()}return e.prototype.copy=function(t){return[new e(this.field,this.operator,(0,r.__spread)(this.operands)),void 0]},e.prototype.toAST=function(){var e,t;return(e={})[this.field]=((t={})[this.operator]="between"===this.operator?[this.operands[0],this.operands[1]]:this.operands[0],t),e},e.prototype.fetch=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,Promise.reject("No implementation needed [yet].")]}))}))},e.prototype.matches=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o=this;return(0,r.__generator)(this,(function(r){if(t=e[this.field],n={eq:function(){return t===o.operands[0]},ne:function(){return t!==o.operands[0]},gt:function(){return t>o.operands[0]},ge:function(){return t>=o.operands[0]},lt:function(){return t<o.operands[0]},le:function(){return t<=o.operands[0]},contains:function(){return t.indexOf(o.operands[0])>-1},notContains:function(){return-1===t.indexOf(o.operands[0])},beginsWith:function(){return t.startsWith(o.operands[0])},between:function(){return t>=o.operands[0]&&t<=o.operands[1]}}[this.operator])return[2,n()];throw new Error("Invalid operator given: "+this.operator)}))}))},e.prototype.validate=function(){var e=this,t=function(t){var n=1===t?"argument is":"arguments are";return function(){if(e.operands.length!==t)return"Exactly "+t+" "+n+" required."}},n={eq:t(1),ne:t(1),gt:t(1),ge:t(1),lt:t(1),le:t(1),contains:t(1),notContains:t(1),beginsWith:t(1),between:function(){return t(2)()||(e.operands[0]>e.operands[1]?"The first argument must be less than or equal to the second argument.":null)}}[this.operator];if(!n)throw new Error("Non-existent operator: `"+this.operator+"()`");var r=n();if("string"==typeof r)throw new Error("Incorrect usage of `"+this.operator+"()`: "+r)},e}(),st=(Qe=1,function(){return"group_"+Qe++}),lt=function(){function e(e,t,n,r,o,i){void 0===i&&(i=!1),this.model=e,this.field=t,this.relationshipType=n,this.operator=r,this.operands=o,this.isOptimized=i,this.groupId=st()}return e.prototype.copy=function(t){var n=new e(this.model,this.field,this.relationshipType,this.operator,[]),o=t===this?n:void 0;return this.operands.forEach((function(e){var i=(0,r.__read)(e.copy(t),2),a=i[0],s=i[1];n.operands.push(a),o=o||s})),[n,o]},e.prototype.optimized=function(t){var n=this;void 0===t&&(t=!0);var r=this.operands.map((function(t){return t instanceof e?t.optimized("not"===n.operator):t}));if(!t&&["and","or"].includes(this.operator)&&!this.field&&1===r.length){var o=r[0];if(!(o instanceof at))return o;if("between"!==o.operator)return o}return new e(this.model,this.field,this.relationshipType,this.operator,r,!0)},e.prototype.fetch=function(t,n,o){return void 0===n&&(n=[]),void 0===o&&(o=!1),(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,S,E,C,k,A,T,I,P,O,M,N,L,R,D,z,F,U,j,B,V,G,q,H,W,K,$,Z,Y,J,X,Q,ee,te,ne,re=this;return(0,r.__generator)(this,(function(oe){switch(oe.label){case 0:if(!this.isOptimized)return[2,this.optimized().fetch(t)];i=[],a=o?it[this.operator]:this.operator,s=o!==("not"===this.operator),l=this.operands.filter((function(t){return t instanceof e})),c=this.operands.filter((function(e){return e instanceof at})),oe.label=1;case 1:oe.trys.push([1,10,11,12]),u=(0,r.__values)(l),d=u.next(),oe.label=2;case 2:return d.done?[3,9]:[4,(f=d.value).fetch(t,(0,r.__spread)(n,[this.groupId]),s)];case 3:if(0===(p=oe.sent()).length)return"and"===a?[2,[]]:(i.push([]),[3,8]);if(!f.field)return[3,7];if(!(h=xe.from(this.model,f.field)))return[3,5];m=[];try{for(W=void 0,g=(0,r.__values)(p),v=g.next();!v.done;v=g.next()){for(y=v.value,b=[],_=0;_<h.localJoinFields.length;_++)b.push((($={})[h.localJoinFields[_]]={eq:y[h.remoteJoinFields[_]]},$));m.push({and:b})}}catch(e){W={error:e}}finally{try{v&&!v.done&&(K=g.return)&&K.call(g)}finally{if(W)throw W.error}}return C=x.OY.createFromAST(this.model.schema,{or:m}),S=(w=i).push,[4,t.query(this.model.builder,C)];case 4:return S.apply(w,[oe.sent()]),[3,6];case 5:throw new Error("Missing field metadata.");case 6:return[3,8];case 7:i.push(p),oe.label=8;case 8:return d=u.next(),[3,2];case 9:return[3,12];case 10:return E=oe.sent(),q={error:E},[3,12];case 11:try{d&&!d.done&&(H=u.return)&&H.call(u)}finally{if(q)throw q.error}return[7];case 12:return c.length>0?(C=x.OY.createFromExisting(this.model.schema,(function(e){return e[a]((function(e){return function(e,t,n){var o,i,a,s,l=e,c=[];try{for(var u=(0,r.__values)(t),d=u.next();!d.done;d=u.next()){var f=d.value;n?"between"===f.operator?c.push(new at(f.field,"lt",[f.operands[0]]),new at(f.field,"gt",[f.operands[1]])):c.push(new at(f.field,it[f.operator],f.operands)):c.push(f)}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}try{for(var p=(0,r.__values)(c),h=p.next();!h.done;h=p.next())l=l[(f=h.value).field](f.operator,"between"===f.operator?f.operands:f.operands[0])}catch(e){a={error:e}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}return l}(e,c,s)}))})),A=(k=i).push,[4,t.query(this.model.builder,C)]):[3,14];case 13:return A.apply(k,[oe.sent()]),[3,16];case 14:return 0!==c.length||0!==i.length?[3,16]:(I=(T=i).push,[4,t.query(this.model.builder)]);case 15:I.apply(T,[oe.sent()]),oe.label=16;case 16:if(P=function(e){return JSON.stringify(re.model.pkField.map((function(t){return e[t]})))},"and"===a){if(0===i.length)return[2,[]];try{for(M=(0,r.__values)(i),N=M.next();!N.done;N=M.next())if(j=N.value,void 0===O)O=new Map(j.map((function(e){return[P(e),e]})));else{L=new Map(j.map((function(e){return[P(e),e]})));try{for(J=void 0,R=(0,r.__values)(O.keys()),D=R.next();!D.done;D=R.next())z=D.value,L.has(z)||O.delete(z)}catch(e){J={error:e}}finally{try{D&&!D.done&&(X=R.return)&&X.call(R)}finally{if(J)throw J.error}}}}catch(e){Z={error:e}}finally{try{N&&!N.done&&(Y=M.return)&&Y.call(M)}finally{if(Z)throw Z.error}}}else if("or"===a||"not"===a){O=new Map;try{for(F=(0,r.__values)(i),U=F.next();!U.done;U=F.next()){j=U.value;try{for(te=void 0,B=(0,r.__values)(j),V=B.next();!V.done;V=B.next())G=V.value,O.set(P(G),G)}catch(e){te={error:e}}finally{try{V&&!V.done&&(ne=B.return)&&ne.call(B)}finally{if(te)throw te.error}}}}catch(e){Q={error:e}}finally{try{U&&!U.done&&(ee=F.return)&&ee.call(F)}finally{if(Q)throw Q.error}}}return[2,Array.from((null==O?void 0:O.values())||[])]}}))}))},e.prototype.matches=function(e,t){var n,o;return void 0===t&&(t=!1),(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,l,c,u;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:return!this.field||t?[3,2]:[4,e[this.field]];case 1:return a=d.sent(),[3,3];case 2:a=e,d.label=3;case 3:if(!(i=a))return[2,!1];if("HAS_MANY"!==this.relationshipType||"function"!=typeof i[Symbol.asyncIterator])return[3,17];d.label=4;case 4:d.trys.push([4,10,11,16]),s=(0,r.__asyncValues)(i),d.label=5;case 5:return[4,s.next()];case 6:return(l=d.sent()).done?[3,9]:(c=l.value,[4,this.matches(c,!0)]);case 7:if(d.sent())return[2,!0];d.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return u=d.sent(),n={error:u},[3,16];case 11:return d.trys.push([11,,14,15]),l&&!l.done&&(o=s.return)?[4,o.call(s)]:[3,13];case 12:d.sent(),d.label=13;case 13:return[3,15];case 14:if(n)throw n.error;return[7];case 15:return[7];case 16:return[2,!1];case 17:return"or"!==this.operator?[3,18]:[2,(0,A.De)(this.operands,(function(e){return e.matches(i)}))];case 18:return"and"!==this.operator?[3,19]:[2,(0,A.Z_)(this.operands,(function(e){return e.matches(i)}))];case 19:if("not"!==this.operator)return[3,21];if(1!==this.operands.length)throw new Error("Invalid arguments! `not()` accepts exactly one predicate expression.");return[4,this.operands[0].matches(i)];case 20:return[2,!d.sent()];case 21:throw new Error("Invalid group operator!")}}))}))},e.prototype.toAST=function(){var e;if(this.field)throw new Error("Nested type conditions are not supported!");return(e={})[this.operator]=this.operands.map((function(e){return e.toAST()})),e},e.prototype.toStoragePredicate=function(e){return x.OY.createFromAST(this.model.schema,this.toAST())},e.prototype.toJSON=function(){return(0,r.__assign)((0,r.__assign)({},this),{model:this.model.schema.name})},e}();function ct(e,t,n,o,i){void 0===t&&(t=!0);var a=new lt(e,n,void 0,"and",[]),s=o&&i?o:a,l=o&&i?i:a,c={};rt(s,c);var u=function(){var n=(0,r.__read)(s.copy(l),2),o=n[0],i=n[1];return{query:o,newTail:i,newLink:ct(e,t,void 0,o,i)}};["and","or"].forEach((function(r){c[r]=function(o){var i=u(),a=i.query,s=i.newTail,l=o(ct(e,t));if(!Array.isArray(l))throw new Error("Invalid predicate. `"+r+"` groups must return an array of child conditions.");return null==s||s.operands.push(new lt(e,n,void 0,r,l.map((function(e){return ot(e)})))),rt(a)}})),c.not=function(r){var o=u(),i=o.query,a=o.newTail;return null==a||a.operands.push(new lt(e,n,void 0,"not",[ot(r(ct(e,t)))])),rt(i)};var d=function(n){Object.defineProperty(c,n,{enumerable:!0,get:function(){var o=e.schema.fields[n];if(o.association){if(t){if("BELONGS_TO"===o.association.connectionType||"HAS_ONE"===o.association.connectionType||"HAS_MANY"===o.association.connectionType){var i=o.type.modelConstructor;if(!i)throw new Error("Related model metadata is missing. This is a bug! Please report it.");var a=(0,r.__read)(s.copy(l),2),c=a[0],d=a[1],f=new lt(i,n,o.association.connectionType,"and",[]);return d.operands.push(f),ct(i,t,void 0,c,f)}throw new Error("Related model definition doesn't have a typedef. This is a bug! Please report it.")}throw new Error("Predication on releated models is not supported in this context.")}return tt.reduce((function(e,t){var o;return(0,r.__assign)((0,r.__assign)({},e),((o={})[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=u(),i=o.query,a=o.newTail;return null==a||a.operands.push(new at(n,t,e)),rt(i)},o))}),{})}})};for(var f in e.schema.fields)d(f);return c}function ut(e){return ct(e,!1)}(0,f.Fl)(!0),(0,f.vI)();var dt,ft,pt,ht,mt,gt,vt=new s.k("DataStore"),yt=(0,A.c6)(Date.now()),bt=(0,l.lC)().isNode,_t="schemaVersion",wt=new WeakMap,xt=new WeakMap,St=function(e){var t,n,o,i,a=wt.get(e),s=a?dt.namespaces[a].models[e.name]:void 0;if(s){var l=dt.namespaces[a].relationships[e.name].indexes,c=new Set;try{for(var u=(0,r.__values)(l),d=u.next();!d.done;d=u.next()){var f=d.value;try{for(var p=(o=void 0,(0,r.__values)(f[1])),h=p.next();!h.done;h=p.next()){var m=h.value;c.add(m)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}s.fields=(0,r.__assign)((0,r.__assign)({},Object.fromEntries((0,r.__spread)(c.values()).map((function(e){return[e,{name:e,type:"ID",isArray:!1}]}),[]))),s.fields)}return s},Et=function(e){var t,n,r,o=wt.get(e);return o&&(null===(r=null===(n=null===(t=dt.namespaces)||void 0===t?void 0:t[o])||void 0===n?void 0:n.keys)||void 0===r?void 0:r[e.name].primaryKey)||["id"]},Ct=function(e){return!(!(0,A.hK)(e)||!wt.has(e))},kt=function(e){var t=wt.get(e);if(!t)throw new Error("Namespace Resolver for '"+e.name+"' not found! This is probably a bug in '@amplify-js/datastore'.");return t},At=function(e){if(!e)throw new Error("Missing modelConstructor");var t=St(e);if(!t)throw new Error("Missing modelSchema");var n=Et(e);if(!n)throw new Error("Could not determine PK");return ct({builder:e,schema:t,pkField:n})},Tt=new WeakMap;!function(e){e.Detached="Detached",e.DataStore="DataStore",e.API="API"}(gt||(gt={}));var It=new WeakMap;function Pt(e,t){return Array.isArray(e)?e.map((function(e){return Pt(e,t)})):e&&It.set(e,t),e}var Ot=function(e){return It.has(e)?It.get(e):gt.Detached},Mt=function(e){var t;if(void 0!==dt)return console.warn("The schema has already been initialized"),pt;vt.log("validating schema",{schema:e}),Lt(e.codegenVersion);var n=(0,r.__assign)({name:A.xR},e);vt.log("DataStore","Init models"),pt=Rt(n),vt.log("DataStore","Models initialized");var o={name:A.cG,relationships:{},enums:{},nonModels:{},models:{Setting:{name:"Setting",pluralName:"Settings",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},key:{name:"key",type:"String",isRequired:!0,isArray:!1},value:{name:"value",type:"String",isRequired:!0,isArray:!1}}}}},i=we.getNamespace(),a=et.getNamespace();return ht=Rt(o),mt=Rt(i),ft=Rt(a),dt={namespaces:(t={},t[o.name]=o,t[n.name]=n,t[i.name]=i,t[a.name]=a,t),version:e.version,codegenVersion:e.codegenVersion},Object.keys(dt.namespaces).forEach((function(e){var t,n,o=(0,r.__read)((0,A.__)(dt.namespaces[e]),2),i=o[0],a=o[1];dt.namespaces[e].relationships=i,dt.namespaces[e].keys=a;var s=new Map;Object.values(dt.namespaces[e].models).forEach((function(t){var n=[];Object.values(t.fields).filter((function(e){return e.association&&"BELONGS_TO"===e.association.connectionType&&e.type.model!==t.name})).forEach((function(e){return n.push(e.type.model)})),s.set(t.name,n),Object.values(t.fields).forEach((function(t){"object"!=typeof t.type||Object.getOwnPropertyDescriptor(t.type,"modelConstructor")||Object.defineProperty(t.type,"modelConstructor",{get:function(){return{builder:pt[t.type.model],schema:dt.namespaces[e].models[t.type.model],pkField:Et(pt[t.type.model])}}})}))}));for(var l=new Map,c=1e3;c>0&&0!==s.size;){if(0==--c)throw new Error("Models are not topologically sortable. Please verify your schema.");try{for(var u=(t=void 0,(0,r.__values)(Array.from(s.keys()))),d=u.next();!d.done;d=u.next()){var f=d.value,p=s.get(f);(null==p?void 0:p.every((function(e){return l.has(e)})))&&l.set(f,p)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}Array.from(l.keys()).forEach((function(e){return s.delete(e)}))}dt.namespaces[e].modelTopologicalOrdering=l})),pt},Nt=function(){if(void 0===dt){var e="Schema is not initialized. DataStore will not function as expected. This could happen if you have multiple versions of DataStore installed. Please see https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js/#check-for-duplicate-versions";throw vt.error(e),new Error(e)}},Lt=function(e){var t=!1;try{var n=e.split("."),o=(0,r.__read)(n,4),i=o[0],a=o[1];o[2],o[3],t=3===Number(i)&&Number(a)>=2}catch(t){console.log("Error parsing codegen version: "+e+"\n"+t)}if(!t){var s="Models were generated with an unsupported version of codegen. Codegen artifacts are from "+(e||"an unknown version")+", whereas ^3.2.0 is required. Update to the latest CLI and run 'amplify codegen models'.";throw vt.error(s),new Error(s)}},Rt=function(e){var t={};return Object.entries(e.models).forEach((function(n){var o=(0,r.__read)(n,2),i=o[0],a=o[1],s=Gt(a);t[i]=s,wt.set(s,e.name)})),Object.entries(e.nonModels||{}).forEach((function(e){var n=(0,r.__read)(e,2),o=n[0],i=n[1],a=$t(i);t[o]=a})),t},Dt=new WeakSet;function zt(e,t){return Dt.add(t),new e(t)}var Ft,Ut,jt=function(e){return function(t,n){var r=e.fields[t];if(void 0!==r){var o=r.type,i=r.isRequired,a=r.isArrayNullable,s=r.name,l=r.isArray;if((!l&&i||l&&!a)&&null==n)throw new Error("Field "+s+" is required");if((0,g.sN)(e)&&!(0,A.lp)(e)&&(0,A.lm)(e).includes(t)&&""===n)throw vt.error(A.Qj.idEmptyString,{k:t,value:n}),new Error(A.Qj.idEmptyString);if((0,g.BV)(o)){var c=g.n2.getJSType(o),u=g.n2.getValidationFunction(o);if("AWSJSON"===o){if(typeof n===c)return;if("string"==typeof n)try{return void JSON.parse(n)}catch(e){throw new Error("Field "+s+" is an invalid JSON object. "+n)}}if(l){var d=c;if(i||(d=c+" | null | undefined"),!Array.isArray(n)&&!a)throw new Error("Field "+s+" should be of type ["+d+"], "+typeof n+" received. "+n);if(!(0,A.le)(n)&&n.some((function(e){return(0,A.le)(e)?i:typeof e!==c}))){var f=n.map((function(e){return null===e?"null":typeof e})).join(",");throw new Error("All elements in the "+s+" array should be of type "+d+", ["+f+"] received. "+n)}if(u&&!(0,A.le)(n)&&!n.map((function(e){return(0,A.le)(e)?!(!(0,A.le)(e)||i):u(e)})).every((function(e){return e})))throw new Error("All elements in the "+s+" array should be of type "+o+", validation failed for one or more elements. "+n)}else{if(!i&&void 0===n)return;if(typeof n!==c&&null!==n)throw new Error("Field "+s+" should be of type "+c+", "+typeof n+" received. "+n);if(!(0,A.le)(n)&&u&&!u(n))throw new Error("Field "+s+" should be of type "+o+", validation failed. "+n)}}else if((0,g.$v)(o)&&!(0,A.le)(n)){var p=dt.namespaces.user.nonModels[o.nonModel],h=jt(p);if(l){if(d=o.nonModel,i||(d=o.nonModel+" | null | undefined"),!Array.isArray(n))throw new Error("Field "+s+" should be of type ["+d+"], "+typeof n+" received. "+n);n.forEach((function(e){if((0,A.le)(e)&&i||"object"!=typeof e&&void 0!==e)throw new Error("All elements in the "+s+" array should be of type "+o.nonModel+", ["+typeof e+"] received. "+e);(0,A.le)(e)||Object.keys(p.fields).forEach((function(t){h(t,e[t])}))}))}else{if("object"!=typeof n)throw new Error("Field "+s+" should be of type "+o.nonModel+", "+typeof n+" recieved. "+n);Object.keys(p.fields).forEach((function(e){h(e,n[e])}))}}}}},Bt=function(e,t,n){var r=e.fields[t]||{},o=r.isArray,i=r.type;if("string"==typeof n&&(o||"AWSJSON"===i||(0,g.$v)(i)||(0,g.I7)(i)))try{return JSON.parse(n)}catch(e){}return"number"==typeof n&&"Boolean"===i?Boolean(n):n},Vt=function(e,t,n){var o=jt(t);Object.entries(e).forEach((function(e){var i=(0,r.__read)(e,2),a=i[0],s=i[1],l=Bt(t,a,s);o(a,l),n[a]=l}))},Gt=function(e){var t=function(){function n(t){return(0,f.Uy)(this,(function(n){Vt(t,e,n);var r=Dt.has(t),o=r?t:{},i=o.id;if((0,A.lp)(e)){var a=null!=i?i:e.syncable?(0,p.v4)():yt();n.id=a}else(0,A.Zo)(e)&&(n.id=n.id||(0,p.v4)());r||Wt(n,e);var s=o._version,l=o._lastChangedAt,c=o._deleted;e.syncable&&(n._version=s,n._lastChangedAt=l,n._deleted=c)}))}return n.copyOf=function(t,n){var o=Object.getPrototypeOf(t||{}).constructor;if(!Ct(o)){var i="The source object is not a valid model";throw vt.error(i,{source:t}),new Error(i)}var a=[],s=(0,f.Uy)(t,(function(o){n(o),(0,A.lm)(e).forEach((function(e){o[e]!==t[e]&&vt.warn("copyOf() does not update PK fields. The '"+e+"' update is being ignored.",{source:t}),o[e]=t[e]}));var i=jt(e);Object.entries(o).forEach((function(t){var n=(0,r.__read)(t,2),o=n[0],a=n[1],s=Bt(e,o,a);i(o,s)}))}),(function(e){return a=e})),l=xt.has(t);if(a.length||l)if(l){var c=(0,r.__read)(xt.get(t),2),u=c[0],d=c[1],p=(0,A.IX)(d,u,a);xt.set(s,[p,d]),Kt(p,e)}else xt.set(s,[a,t]),Kt(a,e);return Pt(s,gt.DataStore)},n.fromJSON=function(n){var o=this;if(Array.isArray(n))return n.map((function(e){return o.fromJSON(e)}));var i=zt(t,n),a=jt(e);return Object.entries(i).forEach((function(e){var t=(0,r.__read)(e,2),n=t[0],o=t[1];a(n,o)})),Pt(i,gt.DataStore)},n}();t[f.sc]=!0,Object.defineProperty(t,"name",{value:e.name});var n=function(n){if(!(0,g.es)(e,n))return"continue";var r=e.fields[n],o=(r.type,r.association,r.association),i=(o.targetName,o.targetNames,new xe({builder:t,schema:e,pkField:(0,A.lm)(e)},n));Object.defineProperty(t.prototype,e.fields[n].name,{set:function(t){if(t&&"object"==typeof t){if(t.hasOwnProperty("_version")){var r=Object.getPrototypeOf(t||{}).constructor;if(!Ct(r)){var o="Value passed to "+e.name+"."+n+" is not a valid instance of a model";throw vt.error(o,{model:t}),new Error(o)}if(r.name.toLowerCase()!==i.remoteModelConstructor.name.toLowerCase())throw o="Value passed to "+e.name+"."+n+" is not an instance of "+i.remoteModelConstructor.name,vt.error(o,{model:t}),new Error(o)}if(i.isComplete){for(var a=0;a<i.localJoinFields.length;a++)this[i.localJoinFields[a]]=t[i.remoteJoinFields[a]];(Tt.has(this)?Tt.get(this):Tt.set(this,{}).get(this))[n]=t}}},get:function(){var t=this,r=Tt.has(this)?Tt.get(this):Tt.set(this,{}).get(this);if(!r.hasOwnProperty(n)){if(Ot(this)!==gt.DataStore){if(Ot(this)===gt.API)throw new Error("Lazy loading from API is not yet supported!");return"HAS_MANY"===i.type?new Ht([]):Promise.resolve(void 0)}var o=tn.query(i.remoteModelConstructor,(function(e){return e.and((function(e){return i.remoteJoinFields.map((function(n,r){return e[n].eq(t[i.localJoinFields[r]])}))}))}));"HAS_MANY"===i.type?r[n]=new Ht(o):r[n]=o.then((function(t){if(t.length>1){var r=new Error("\n\t\t\t\t\t\t\t\t\tData integrity error.\n\t\t\t\t\t\t\t\t\tToo many records found for a HAS_ONE/BELONGS_TO field '"+e.name+"."+n+"'\n\t\t\t\t\t\t\t\t");throw console.error(r),r}return t[0]}))}return r[n]}})};for(var o in e.fields)n(o);return t},qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t}(Promise),Ht=function(){function e(e){this.values=e}return e.prototype[Symbol.asyncIterator]=function(){var e,t=this,n=0;return{next:function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e?[3,2]:[4,this.values];case 1:e=r.sent(),r.label=2;case 2:return n<e.length?(t={value:e[n],done:!1},n++,[2,t]):[2,{value:null,done:!0}]}}))}))}}},e.prototype.toArray=function(e){var t,n,o=(void 0===e?{}:e).max,i=void 0===o?Number.MAX_SAFE_INTEGER:o;return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,o,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:e=[],o=0,u.label=1;case 1:u.trys.push([1,6,7,12]),a=(0,r.__asyncValues)(this),u.label=2;case 2:return[4,a.next()];case 3:if((s=u.sent()).done)return[3,5];if(l=s.value,!(o<i))return[3,5];e.push(l),o++,u.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=u.sent(),t={error:c},[3,12];case 7:return u.trys.push([7,,10,11]),s&&!s.done&&(n=a.return)?[4,n.call(a)]:[3,9];case 8:u.sent(),u.label=9;case 9:return[3,11];case 10:if(t)throw t.error;return[7];case 11:return[7];case 12:return[2,e]}}))}))},e}(),Wt=function(e,t){var n=Object.keys(e),r=t.fields;n.forEach((function(e){if(r[e]&&r[e].isReadOnly)throw new Error(e+" is read-only.")}))},Kt=function(e,t){var n=e.map((function(e){return[e.path[0],e.value]})),o=t.fields;n.forEach((function(e){var t=(0,r.__read)(e,2),n=t[0];if(t[1]&&o[n]&&o[n].isReadOnly)throw new Error(n+" is read-only.")}))},$t=function(e){var t=function(t){return(0,f.Uy)(this,(function(n){Vt(t,e,n)}))};return t[f.sc]=!0,Object.defineProperty(t,"name",{value:e.name}),(0,A.Jl)(t),t};function Zt(e){return"string"==typeof e}function Yt(e){var t=e.localModel,n=e.modelConstructor,o=e.remoteModel._version;return zt(n,(0,r.__assign)((0,r.__assign)({},t),{_version:o}))}function Jt(e){vt.warn(e)}function Xt(e,t){var n;switch(e){case A.cG:n=ht[t];break;case A.xR:n=pt[t];break;case A.J3:n=ft[t];break;case A.P_:n=mt[t];break;default:throw new Error("Invalid namespace: "+e)}if(Ct(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw vt.error(r),new Error(r)}function Qt(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i=this;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return n=ht.Setting,o=dt.namespaces[A.cG].models.Setting,[4,e.runExclusive((function(e){return(0,r.__awaiter)(i,void 0,void 0,(function(){var i,a;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return[4,e.query(n,x.OY.createFromExisting(o,(function(e){return e.key("eq",_t)})),{page:0,limit:1})];case 1:return i=r.__read.apply(void 0,[s.sent(),1]),void 0===(a=i[0])||void 0===a.value?[3,4]:JSON.parse(a.value)===t?[3,3]:[4,e.clear(!1)];case 2:s.sent(),s.label=3;case 3:return[3,6];case 4:return[4,e.save(zt(n,{key:_t,value:JSON.stringify(t)}))];case 5:s.sent(),s.label=6;case 6:return[2]}}))}))}))];case 1:return a.sent(),[2]}}))}))}!function(e){e.NotRunning="Not Running",e.Starting="Starting",e.Running="Running",e.Stopping="Stopping",e.Clearing="Clearing"}(Ut||(Ut={}));var en=function(){function e(){var e=this;this.Auth=i.g,this.API=o.b,this.Cache=a._,this.amplifyConfig={},this.syncPredicates=new WeakMap,this.amplifyContext={Auth:this.Auth,API:this.API,Cache:this.Cache},this.runningProcesses=new c.XL,this.state=Ut.NotRunning,this.start=function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(t){return[2,this.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,t,n,o=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this.state=Ut.Starting,void 0!==this.initialized?[3,1]:(vt.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){o.initResolve=e,o.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return r.sent(),[2];case 3:return this.storage=new we(dt,kt,Xt,zt,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return r.sent(),Nt(),[4,Qt(this.storage,dt.version)];case 5:return r.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(vt.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=r.sent(),this.sync=new et(dt,kt,ft,pt,this.storage,zt,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy,this.amplifyContext,this.connectivityMonitor),n=1e3*this.fullSyncInterval*60,Ft=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(bt?He.SYNC_ENGINE_SYNC_QUERIES_READY:He.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&o.initResolve(),u.X.dispatch("datastore",{event:t,data:n})},error:function(e){vt.warn("Sync error",e),o.initReject()}}),[3,8];case 7:vt.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),r.label=8;case 8:return[4,this.initialized];case 9:return r.sent(),this.state=Ut.Running,[2]}}))}))}),"datastore start").catch(this.handleAddProcError("DataStore.start()"))]}))}))},this.query=function(t,n,o){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(i){return[2,this.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,i,a,s,l,c,u,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.start()];case 1:if(r.sent(),!this.storage)throw new Error("No storage to query");if(!Ct(t))throw l="Constructor is not for a valid model",vt.error(l,{modelConstructor:t}),new Error(l);if("string"==typeof n&&void 0!==o&&vt.warn("Pagination is ignored when querying by id"),!(i=St(t)))throw new Error("Invalid model definition provided!");if(a=this.processPagination(i,o),s=(0,A.lm)(i),!Zt(n))return[3,3];if(s.length>1)throw l=A.Qj.queryByPkWithCompositeKeyPresent,vt.error(l,{keyFields:s}),new Error(l);return u=x.OY.createForSingleField(i,s[0],n),[4,this.storage.query(t,u,a)];case 2:return e=r.sent(),[3,9];case 3:return(0,g.ve)(n,i)?(u=x.OY.createForPk(i,n),[4,this.storage.query(t,u,a)]):[3,5];case 4:return e=r.sent(),[3,9];case 5:return n&&!(0,x.i)(n)?[3,7]:[4,null===(d=this.storage)||void 0===d?void 0:d.query(t,void 0,a)];case 6:return e=r.sent(),[3,9];case 7:return c=ct({builder:t,schema:i,pkField:Et(t)}),[4,(u=ot(n(c))).fetch(this.storage)];case 8:e=r.sent(),e=(0,A.Un)(e,a),r.label=9;case 9:return[2,Pt(Zt(n)||(0,g.ve)(n,i)?e[0]:e,gt.DataStore)]}}))}))}),"datastore query").catch(this.handleAddProcError("DataStore.query()"))]}))}))},this.save=function(t,n){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(o){return[2,this.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,o,i,a,s,l,c=this;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return[4,this.start()];case 1:if(u.sent(),!this.storage)throw new Error("No storage to save to");if(e=xt.get(t),o=t?t.constructor:void 0,!Ct(o))throw i="Object is not an instance of a valid model",vt.error(i,{model:t}),new Error(i);if(!(a=St(o)))throw new Error("Model Definition could not be found for model");return s={builder:o,schema:a,pkField:(0,A.lm)(a)},[4,this.storage.runExclusive((function(e){return(0,r.__awaiter)(c,void 0,void 0,(function(){var n,o,i,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:n=xe.allFrom(s).filter((function(e){return"BELONGS_TO"===e.type})),h.label=1;case 1:h.trys.push([1,6,7,8]),o=(0,r.__values)(n),i=o.next(),h.label=2;case 2:return i.done?[3,5]:(l=i.value,null===(c=l.createRemoteQueryObject(t))?[3,4]:[4,e.query(l.remoteModelConstructor,x.OY.createFromFlatEqualities(l.remoteDefinition,c))]);case 3:if(0===h.sent().length)throw new Error(["Data integrity error. You tried to save a "+a.name+" ("+JSON.stringify(t)+")",'but the instance assigned to the "'+l.field+'" property',"does not exist in the local database. If you're trying to create the related",'"'+(null===(p=l.remoteDefinition)||void 0===p?void 0:p.name)+'", you must save it independently first.'].join(" "));h.label=4;case 4:return i=o.next(),[3,2];case 5:return[3,8];case 6:return u=h.sent(),d={error:u},[3,8];case 7:try{i&&!i.done&&(f=o.return)&&f.call(o)}finally{if(d)throw d.error}return[7];case 8:return[2]}}))}))}))];case 2:return u.sent(),l=n?ot(n(ut(s))).toStoragePredicate():void 0,[4,this.storage.runExclusive((function(n){return(0,r.__awaiter)(c,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.save(t,l,void 0,e)];case 1:return r.sent(),[2,n.query(o,x.OY.createForPk(a,t))]}}))}))}))];case 3:return[2,Pt(r.__read.apply(void 0,[u.sent(),1])[0],gt.DataStore)]}}))}))}),"datastore save").catch(this.handleAddProcError("DataStore.save()"))]}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n&&n.conflictHandler?n.conflictHandler:e.conflictHandler===Yt&&t.conflictHandler?t.conflictHandler:e.conflictHandler||Yt},this.setErrorHandler=function(t){var n=t.DataStore;return n&&n.errorHandler?n.errorHandler:e.errorHandler===Jt&&t.errorHandler?t.errorHandler:e.errorHandler||Jt},this.delete=function(t,n){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(o){return[2,this.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,o,i,a,s,l,c,u;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.start()];case 1:if(d.sent(),!this.storage)throw new Error("No storage to delete from");if(!t)throw c="Model or Model Constructor required",vt.error(c,{modelOrConstructor:t}),new Error(c);if(!Ct(t))return[3,3];if(a=t,!n)throw c="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",vt.error(c,{identifierOrCriteria:n}),new Error(c);if(!(s=St(a)))throw new Error("Could not find model definition for modelConstructor.");if("string"==typeof n){if((o=(0,A.lm)(s)).length>1)throw c=A.Qj.deleteByPkWithCompositeKeyPresent,vt.error(c,{keyFields:o}),new Error(c);e=x.OY.createForSingleField(s,o[0],n)}else if(!(e=(0,g.ve)(n,s)?x.OY.createForPk(s,n):ot(n(ut({builder:a,schema:s,pkField:(0,A.lm)(s)}))).toStoragePredicate())||!x.OY.isValidPredicate(e))throw c="Criteria required. Do you want to delete all? Pass Predicates.ALL",vt.error(c,{condition:e}),new Error(c);return[4,this.storage.delete(a,e)];case 2:return[2,Pt(r.__read.apply(void 0,[d.sent(),1])[0],gt.DataStore)];case 3:if(i=t,a=Object.getPrototypeOf(i||{}).constructor,!Ct(a))throw c="Object is not an instance of a valid model",vt.error(c,{model:i}),new Error(c);if(!(s=St(a)))throw new Error("Could not find model definition for modelConstructor.");if(l=x.OY.createForPk(s,i),n){if("function"!=typeof n)throw c="Invalid criteria",vt.error(c,{identifierOrCriteria:n}),new Error(c);e=ot(n(ut({builder:a,schema:s,pkField:(0,A.lm)(s)}))).toStoragePredicate(l)}else e=l;return[4,this.storage.delete(i,e)];case 4:return u=r.__read.apply(void 0,[d.sent(),1]),[2,Pt((0,r.__read)(u[0],1)[0],gt.DataStore)]}}))}))}),"datastore delete").catch(this.handleAddProcError("DataStore.delete()"))]}))}))},this.observe=function(t,n){var o,i=t&&Ct(t)?t:void 0;if(t&&void 0===i){var a=t,s=a&&Object.getPrototypeOf(a).constructor;if(Ct(s))return n&&vt.warn("idOrCriteria is ignored when using a model instance",{model:a,identifierOrCriteria:n}),e.observe(s,a.id);var l="The model is not an instance of a PersistentModelConstructor";throw vt.error(l,{model:a}),new Error(l)}if(n&&i&&(0,g.ve)(n,St(i)))throw l=A.Qj.observeWithObjectLiteral,vt.error(l,{objectLiteral:n}),new Error(l);if(void 0!==n&&void 0===i)throw l="Cannot provide criteria without a modelConstructor",vt.error(l,n),new Error(l);if(i&&!Ct(i))throw l="Constructor is not for a valid model",vt.error(l,{modelConstructor:i}),new Error(l);return i&&"string"==typeof n?o=ot(function(e){return e.id.eq(n)}(At(i))):i&&"function"==typeof n&&(o=ot(n(At(i)))),new h.Z((function(t){var n;return e.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e=this;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.start()];case 1:return a.sent(),n=this.storage.observe(i).filter((function(e){var t=e.model;return kt(t)===A.xR})).subscribe({next:function(n){return e.runningProcesses.isOpen&&e.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return e=n,"DELETE"===n.opType?[3,2]:(i=St(n.model),a=(0,A.lm)(i),s=(0,A.G8)(n.element,a),[4,this.query(n.model,s)]);case 1:l=u.sent(),e=(0,r.__assign)((0,r.__assign)({},e),{element:l}),u.label=2;case 2:return(c=!o)?[3,4]:[4,o.matches(e.element)];case 3:c=u.sent(),u.label=4;case 4:return c&&t.next(e),[2]}}))}))}),"datastore observe message handler")},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),[2]}}))}))}),"datastore observe observable initialization").catch(e.handleAddProcError("DataStore.observe()")).catch((function(e){t.error(e)})),e.runningProcesses.addCleaner((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return n&&n.unsubscribe(),[2]}))}))}),"DataStore.observe() cleanup")}))},this.observeQuery=function(t,n,o){return new h.Z((function(i){var a,s,l=new Map,c=new Map,d=[],f=function(){var e=g();v(e)},p=new A.Dm({callback:f,errorHandler:i.error,maxInterval:2e3}),h=(o||{}).sort,m=h?{sort:h}:void 0;if(!St(t))throw new Error("Could not find model definition.");t&&"function"==typeof n?s=ot(n(At(t))):(0,x.i)(n)&&(s=void 0),e.runningProcesses.add((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,o=this;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.query(t,n,m)];case 1:return u.sent().forEach((function(e){var n=B(St(t),e);l.set(n,e)})),a=this.observe(t).subscribe((function(e){var t=e.element,n=e.model,i=e.opType;return o.runningProcesses.isOpen&&o.runningProcesses.add((function(){return(0,r.__awaiter)(o,void 0,void 0,(function(){var e,o,a,u,f,h;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=St(n),o=B(e,t),(a=s)?[4,s.matches(t)]:[3,2];case 1:a=!r.sent(),r.label=2;case 2:if(a){if("UPDATE"!==i||!l.has(o)&&!c.has(o))return[2];d.push(o)}return"DELETE"===i?d.push(o):c.set(o,t),u=null!==(h=null===(f=this.sync)||void 0===f?void 0:f.getModelSyncedStatus(n))&&void 0!==h&&h,(c.size-d.length>=this.syncPageSize||u)&&p.resolve(),p.start(),[2]}}))}))}),"handle observeQuery observed event")})),f(),[3,3];case 2:return e=u.sent(),i.error(e),[3,3];case 3:return[2]}}))}))}),"datastore observequery startup").catch(e.handleAddProcError("DataStore.observeQuery()")).catch((function(e){i.error(e)}));var g=function(){var n,i,a=null!==(i=null===(n=e.sync)||void 0===n?void 0:n.getModelSyncedStatus(t))&&void 0!==i&&i,s=(0,r.__spread)(Array.from(l.values()),Array.from(c.values()));return(null==o?void 0:o.sort)&&y(s),l.clear(),s.forEach((function(e){var n=B(St(t),e);l.set(n,e)})),d.forEach((function(e){return l.delete(e)})),{items:Array.from(l.values()),isSynced:a}},v=function(e){i.next(e),c.clear(),d=[]},y=function(n){var r=St(t),i=e.processPagination(r,o),a=S.c.getPredicates(i.sort);if(a.length){var s=(0,A.z8)(a);n.sort(s)}},b=function(e){var n,r=e.payload,o=r.event,i=r.data;o===He.SYNC_ENGINE_MODEL_SYNCED&&(null===(n=null==i?void 0:i.model)||void 0===n?void 0:n.name)===t.name&&(f(),u.X.remove("datastore",b))};return u.X.listen("datastore",b),e.runningProcesses.addCleaner((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return a&&a.unsubscribe(),[2]}))}))}),"datastore observequery cleaner")}))},this.configure=function(t){void 0===t&&(t={}),e.amplifyContext.Auth=e.Auth,e.amplifyContext.API=e.API,e.amplifyContext.Cache=e.Cache;var n,o=t.DataStore,a=t.authModeStrategyType,s=(t.conflictHandler,t.errorHandler,t.maxRecordsToSync),l=t.syncPageSize,c=t.fullSyncInterval,u=t.syncExpressions,d=t.authProviders,f=t.storageAdapter,p=(0,r.__rest)(t,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);switch(e.amplifyConfig=(0,r.__assign)((0,r.__assign)({},p),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),o&&o.authModeStrategyType||a||g.sE.DEFAULT){case g.sE.MULTI_AUTH:e.authModeStrategy=(n=e.amplifyContext,function(e){var t=e.schema,o=e.modelName;return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:n.Auth=n.Auth||i.g,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Auth.currentAuthenticatedUser()];case 2:return e=u.sent(),[3,4];case 3:return u.sent(),[3,4];case 4:return(a=t.namespaces.user.models[o].attributes)&&(s=a.find((function(e){return"auth"===e.type})),null===(c=null==s?void 0:s.properties)||void 0===c?void 0:c.rules)?(d=s.properties.rules,f=[g.Yq.CUSTOM,g.Yq.OWNER,g.Yq.GROUPS,g.Yq.PRIVATE,g.Yq.PUBLIC],p=[g.j6.FUNCTION,g.j6.USER_POOLS,g.j6.OIDC,g.j6.IAM,g.j6.API_KEY],l=(0,r.__spread)(d).sort((function(e,t){return e.allow===t.allow?p.indexOf(v(e))-p.indexOf(v(t)):f.indexOf(e.allow)-f.indexOf(t.allow)})),[2,y({currentUser:e,rules:l})]):[2,[]]}var d,f,p}))}))});break;case g.sE.DEFAULT:default:e.authModeStrategy=w}e.amplifyConfig.authProviders=o&&o.authProviders||d,e.syncExpressions=o&&o.syncExpressions||u||e.syncExpressions,e.maxRecordsToSync=o&&o.maxRecordsToSync||s||e.maxRecordsToSync||1e4,e.amplifyConfig.maxRecordsToSync=e.maxRecordsToSync,e.syncPageSize=o&&o.syncPageSize||l||e.syncPageSize||1e3,e.amplifyConfig.syncPageSize=e.syncPageSize,e.fullSyncInterval=o&&o.fullSyncInterval||c||e.fullSyncInterval||1440,e.storageAdapter=o&&o.storageAdapter||f||e.storageAdapter||void 0,e.sessionId=e.retrieveSessionId()}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.handleAddProcError=function(e){var t=this;return function(n){throw n.message.startsWith("BackgroundManagerNotOpenError")?new Error(["DataStoreStateError: Tried to execute `"+e+'` while DataStore was "'+t.state+'".','This can only be done while DataStore is "Started" or "Stopped". To remedy:',"Ensure all calls to `stop()` and `clear()` have completed first.","If this is not possible, retry the operation until it succeeds."].join("\n")):n}},e.prototype.clear=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return Nt(),this.state=Ut.Clearing,[4,this.runningProcesses.close()];case 1:return e.sent(),void 0!==this.storage?[3,3]:(this.storage=new we(dt,kt,Xt,zt,this.storageAdapter,this.sessionId),[4,this.storage.init()]);case 2:e.sent(),e.label=3;case 3:return Ft&&!Ft.closed&&Ft.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,5];case 4:e.sent(),e.label=5;case 5:return[4,this.storage.clear()];case 6:return e.sent(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[4,this.runningProcesses.open()];case 7:return e.sent(),this.state=Ut.NotRunning,[2]}}))}))},e.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return this.state=Ut.Stopping,[4,this.runningProcesses.close()];case 1:return e.sent(),Ft&&!Ft.closed&&Ft.unsubscribe(),this.sync?[4,this.sync.stop()]:[3,3];case 2:e.sent(),e.label=3;case 3:return this.initialized=void 0,this.sync=void 0,[4,this.runningProcesses.open()];case 4:return e.sent(),this.state=Ut.NotRunning,[2]}}))}))},e.prototype.processPagination=function(e,t){var n,r=t||{},o=r.limit,i=r.page,a=r.sort;if(void 0!==o||void 0!==i||void 0!==a){if(void 0!==i&&void 0===o)throw new Error("Limit is required when requesting a page");if(void 0!==i){if("number"!=typeof i)throw new Error("Page should be a number");if(i<0)throw new Error("Page can't be negative")}if(void 0!==o){if("number"!=typeof o)throw new Error("Limit should be a number");if(o<0)throw new Error("Limit can't be negative")}return a&&(n=S.c.createFromExisting(e,a)),{limit:o,page:i,sort:n}}},e.prototype.processSyncExpressions=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,n,o,i,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return t=r.sent(),n=t.modelConstructor,o=t.conditionProducer,i=St(n),[4,this.unwrapPromise(o)];case 2:return a=r.sent(),(0,x.i)(a)?[2,[i,null]]:(s=ot(a(ut({builder:n,schema:i,pkField:(0,A.lm)(i)}))).toStoragePredicate(),[2,[i,s]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.createFromCondition=function(e,t){try{return x.OY.createFromExisting(e,t)}catch(e){throw vt.error("Error creating Sync Predicate"),e}},e.prototype.unwrapPromise=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()||e];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=(0,r.__read)(t,2),o=n[0],i=n[1];if(e.has(o)){var a=o.name;return vt.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+a+" model will be ignored."),e}return i&&e.set(o,i),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e){var t=this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2];return e+"-"+(0,r.__read)(t.split("."),1)[0]}}catch(e){}},e}(),tn=new en;d.d.register(tn)},52152:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AsyncCollection:()=>r.ZO,AsyncItem:()=>r.DK,AuthModeStrategyType:()=>s.sE,DISCARD:()=>s.K5,DataStore:()=>r.KT,DataStoreClass:()=>r.xh,GraphQLScalarType:()=>s.n2,LimitTimerRaceResolvedValues:()=>s.V9,ModelAttributeAuthAllow:()=>s.Yq,ModelAttributeAuthProvider:()=>s.j6,ModelOperation:()=>s.Z1,ModelPredicateCreator:()=>o.OY,ModelSortPredicateCreator:()=>i.c,NAMESPACES:()=>a.s2,OpType:()=>s.HP,PredicateInternalsKey:()=>s.hl,Predicates:()=>o.gA,ProcessName:()=>s.tv,QueryOne:()=>s.fI,SortDirection:()=>s.Sr,initSchema:()=>r.yb,isAssociatedWith:()=>s.eo,isEnumFieldType:()=>s.g5,isFieldAssociation:()=>s.es,isGraphQLScalarType:()=>s.BV,isIdentifierObject:()=>s.ve,isModelAttributeAuth:()=>s.$6,isModelAttributeCompositeKey:()=>s.HO,isModelAttributeKey:()=>s.f7,isModelAttributePrimaryKey:()=>s.TY,isModelFieldType:()=>s.I7,isNonModelFieldType:()=>s.$v,isPredicateGroup:()=>s.G9,isPredicateObj:()=>s.w5,isSchemaModel:()=>s.aQ,isSchemaModelWithAttributes:()=>s.sN,isTargetNameAssociation:()=>s.Fr,syncExpression:()=>s.S6,utils:()=>l});var r=n(64314),o=n(36460),i=n(3581),a=n(70591),s=n(86471),l={USER:a.xR,traverseModel:a.jl,validatePredicate:a.u8,isNonModelConstructor:a.Mp,isModelConstructor:a.hK}},36460:(e,t,n)=>{"use strict";n.d(t,{OY:()=>d,gA:()=>u,i:()=>a,ns:()=>l});var r=n(70655),o=n(70591),i=new WeakSet;function a(e){return i.has(e)}var s=new Set(["and","or","not"]),l=new Set(["eq","ne","gt","lt","ge","le","contains","notContains","beginsWith","between"]),c=function(e){return Array.isArray(e)?e.every((function(e){return c(e)})):1===Object.keys(e).length},u=(Symbol("A predicate that matches all records"),function(){function e(){}return Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return i.add(e),e},enumerable:!0,configurable:!0}),e}()),d=function(){function e(){}return e.createPredicateBuilder=function(t){var n,r=t.name,o=new Set(Object.keys(t.fields)),i=new Proxy({},n={get:function(t,i,a){var s=i;switch(s){case"and":case"or":case"not":return function(t){var r={type:s,predicates:[]},o=new Proxy({},n);return e.predicateGroupsMap.set(o,r),t(o),e.predicateGroupsMap.get(a).predicates.push(r),a}}var l=i;if(!o.has(l))throw new Error("Invalid field for model. field: "+l+", model: "+r);return function(t,n){return e.predicateGroupsMap.get(a).predicates.push({field:l,operator:t,operand:n}),a}}});return e.predicateGroupsMap.set(i,{type:"and",predicates:[]}),i},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.createForSingleField=function(t,n,r){return e.createPredicateBuilder(t)[n]("eq",r)},e.createForPk=function(t,n){var r=(0,o.lm)(t),i=(0,o.Eq)(n,r),a=e.createPredicateBuilder(t);return r.forEach((function(e,t){var n=i[t];a=a[e]("eq",n)})),a},e.createFromFlatEqualities=function(t,n){var o,i,a=e.createPredicateBuilder(t);try{for(var s=(0,r.__values)(Object.entries(n)),l=s.next();!l.done;l=s.next()){var c=(0,r.__read)(l.value,2),u=c[0],d=c[1];a=a[u]("eq",d)}}catch(e){o={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return a},e.createGroupFromExisting=function(t,n,o){var i=e.createPredicateBuilder(t);return i[n]((function(t){var n,i,a,s=t;try{for(var l=(0,r.__values)(o),c=l.next();!c.done;c=l.next()){var u=c.value;"function"==typeof u?s=u(s):null===(a=e.predicateGroupsMap.get(s))||void 0===a||a.predicates.push(e.predicateGroupsMap.get(u))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return s}))},e.transformGraphQLtoPredicateAST=function(e){var t=this;if(!c(e))throw new Error("Invalid QGL AST: "+e);if(a=e,1===(u=(0,r.__spread)(Object.keys(a))).length&&s.has(u[0])){var n=Object.keys(e)[0],o=this.transformGraphQLtoPredicateAST(e[n]);return{type:n,predicates:Array.isArray(o)?o:[o]}}if(function(e){var t=(0,r.__spread)(Object.keys(e));return!Array.isArray(e)&&1===t.length&&l.has(t[0])}(e)){var i=Object.keys(e)[0];return{operator:i,operand:e[i]}}if(Array.isArray(e))return e.map((function(e){return t.transformGraphQLtoPredicateAST(e)}));var a,u,d=Object.keys(e)[0];return(0,r.__assign)({field:d},this.transformGraphQLtoPredicateAST(e[d]))},e.createFromAST=function(t,n){var r=e.createPredicateBuilder(t);return e.predicateGroupsMap.set(r,this.transformGraphQLtoPredicateAST(n)),r},e.predicateGroupsMap=new WeakMap,e}()},3581:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var r=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),o=new Proxy({},{get:function(t,o,i){var a=o;if(!r.has(a))throw new Error("Invalid field for model. field: "+a+", model: "+n);return function(t){var n;return null===(n=e.sortPredicateGroupsMap.get(i))||void 0===n||n.push({field:a,sortDirection:t}),i}}});return e.sortPredicateGroupsMap.set(o,[]),o},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");var r=e.sortPredicateGroupsMap.get(t);if(r)return r;throw new Error("Predicate group not found")},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}()},86471:(e,t,n)=>{"use strict";n.d(t,{$6:()=>b,$v:()=>C,BV:()=>S,Fr:()=>v,G9:()=>I,HO:()=>x,HP:()=>a,I7:()=>E,K5:()=>M,S6:()=>P,Sr:()=>l,TY:()=>w,V9:()=>O,Yq:()=>r,Z1:()=>u,aQ:()=>h,eo:()=>g,es:()=>y,f7:()=>_,fI:()=>s,g5:()=>k,hl:()=>N,j6:()=>o,n2:()=>i,sE:()=>c,sN:()=>m,tv:()=>d,ve:()=>A,w5:()=>T});var r,o,i,a,s,l,c,u,d,f=n(70655),p=n(70591);function h(e){return e&&void 0!==e.pluralName}function m(e){return h(e)&&void 0!==e.attributes}function g(e){return e&&e.associatedWith}function v(e){return(null==e?void 0:e.targetName)||(null==e?void 0:e.targetNames)}function y(e,t){var n,r;return null===(r=null===(n=null==e?void 0:e.fields[t])||void 0===n?void 0:n.association)||void 0===r?void 0:r.connectionType}function b(e){return"auth"===e.type&&e.properties&&e.properties.rules&&e.properties.rules.length>0}function _(e){return"key"===e.type&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function w(e){return _(e)&&void 0===e.properties.name}function x(e){return _(e)&&void 0!==e.properties.name&&e.properties.fields.length>2}function S(e){return e&&void 0!==i[e]}function E(e){return!(!e||!e.model)}function C(e){return!(!e||!e.nonModel)}function k(e){return!(!e||!e.enum)}function A(e,t){var n=(0,p.lm)(t);return"object"==typeof e&&e&&n.every((function(t){return void 0!==e[t]}))}function T(e){return e&&void 0!==e.field}function I(e){return e&&void 0!==e.type}function P(e,t){return(0,f.__awaiter)(this,void 0,void 0,(function(){return(0,f.__generator)(this,(function(n){return[2,{modelConstructor:e,conditionProducer:t}]}))}))}!function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"}(r||(r={})),function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"}(o||(o={})),function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"}(i||(i={})),function(e){e.getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:throw new Error("Invalid scalar type")}},e.getValidationFunction=function(e){switch(e){case"AWSDate":return p.pP;case"AWSTime":return p.Ro;case"AWSDateTime":return p.wp;case"AWSTimestamp":return p.D7;case"AWSEmail":return p.M9;case"AWSJSON":return p.nd;case"AWSURL":return p.Zu;case"AWSPhone":return p.iA;case"AWSIPAddress":return p.mY;default:return}}}(i||(i={})),function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(a||(a={})),function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"}(s||(s={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(l||(l={})),function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"}(c||(c={})),function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(u||(u={})),function(e){e.sync="sync",e.mutate="mutate",e.subscribe="subscribe"}(d||(d={}));var O,M=Symbol("DISCARD");!function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"}(O||(O={}));var N=function(){this.__isPredicateInternalsKeySentinel=!0}},70591:(e,t,n)=>{"use strict";n.d(t,{cG:()=>C,h2:()=>x,Dm:()=>se,ID:()=>w,lk:()=>S,s2:()=>m,P_:()=>T,J3:()=>A,xR:()=>k,N6:()=>I,Z_:()=>Y,De:()=>Z,Qj:()=>E,__:()=>ge,lm:()=>de,Eq:()=>fe,G8:()=>pe,w2:()=>be,rw:()=>ve,NA:()=>ye,dV:()=>xe,Iz:()=>H,cZ:()=>ce,Un:()=>$,hn:()=>_e,pP:()=>J,wp:()=>Q,M9:()=>te,mY:()=>ie,nd:()=>ne,iA:()=>oe,Ro:()=>X,D7:()=>ee,Zu:()=>re,lp:()=>he,Zo:()=>me,hK:()=>N,Mp:()=>F,le:()=>P,D0:()=>B,D1:()=>V,OI:()=>we,IX:()=>le,c6:()=>q,Jl:()=>R,z8:()=>W,jl:()=>j,u8:()=>O,Vg:()=>K});var r=n(70655),o=n(48764);function i(e){var t=new Error(e);return t.source="ulid",t}var a="0123456789ABCDEFGHJKMNPQRSTVWXYZ",s=a.length,l=Math.pow(2,48)-1;function c(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function u(e){var t=Math.floor(e()*s);return t===s&&(t=s-1),a.charAt(t)}function d(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>l)throw i("cannot encode time greater than "+l);if(e<0)throw i("time must be positive");if(!1===Number.isInteger(e))throw i("time must be an integer");for(var n=void 0,r="";t>0;t--)r=a.charAt(n=e%s)+r,e=(e-n)/s;return r}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var r=t&&(t.crypto||t.msCrypto);if(r)return function(){var e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};try{var o=n(94788);return function(){return o.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw i("secure crypto unusable, insecure Math.random not allowed")}function p(e){e||(e=f());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var o=n=function(e){for(var t=void 0,n=e.length,r=void 0,o=void 0,l=s-1;!t&&n-- >=0;){if(r=e[n],-1===(o=a.indexOf(r)))throw i("incorrectly encoded string");o!==l?t=c(e,n,a[o+1]):e=c(e,n,a[0])}if("string"==typeof t)return t;throw i("cannot increment this string")}(n);return d(t,10)+o}t=r;var l=n=function(e,t){for(var n="";e>0;e--)n=u(t)+n;return n}(16,e);return d(r,10)+l}}h||(h=f());var h,m,g=n(98029),v=n(18172),y=n(86471),b=n(58243),_=n(3581),w="id",x="#",S="-",E={idEmptyString:"An index field cannot contain an empty string value",queryByPkWithCompositeKeyPresent:"Models with composite primary keys cannot be queried by a single key value. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",deleteByPkWithCompositeKeyPresent:"Models with composite primary keys cannot be deleted by a single key value, unless using a predicate. Use object literal syntax for composite keys instead: https://docs.amplify.aws/lib/datastore/advanced-workflows/q/platform/js/#querying-records-with-custom-primary-keys",observeWithObjectLiteral:"Object literal syntax cannot be used with observe. Use a predicate instead: https://docs.amplify.aws/lib/datastore/data-access/q/platform/js/#predicates"};!function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"}(m||(m={}));var C=m.DATASTORE,k=m.USER,A=m.SYNC,T=m.STORAGE,I="/DataStore",P=function(e){return void 0===e||null==e},O=function(e,t,n){var r,o=!1;if(0===n.length)return!0;switch(t){case"not":r="every",o=!0;break;case"and":r="every";break;case"or":r="some";break;default:throw new Error("Invalid "+t)}var i=n[r]((function(t){if((0,y.w5)(t)){var n=t.field,r=t.operator,o=t.operand,i=e[n];return M(i,r,o)}if((0,y.G9)(t)){var a=t.type,s=t.predicates;return O(e,a,s)}throw new Error("Not a predicate or group")}));return o?!i:i},M=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var o=(0,r.__read)(n,2),i=o[0],a=o[1];return e>=i&&e<=a;case"beginsWith":return!P(e)&&e.startsWith(n);case"contains":return!P(e)&&e.indexOf(n)>-1;case"notContains":return P(e)||-1===e.indexOf(n);default:return!1}},N=function(e){return e&&"function"==typeof e.copyOf},L=new WeakSet;function R(e){L.add(e)}var D,z,F=function(e){return L.has(e)},U=new WeakMap,j=function(e,t,n,r,o){var i=[],a=o(n.name,e).copyOf(t,(function(){}));i.unshift({modelName:e,item:a,instance:a}),U.has(n)||U.set(n,Array.from(n.modelTopologicalOrdering.keys()));var s=U.get(n);return i.sort((function(e,t){return s.indexOf(e.modelName)-s.indexOf(t.modelName)})),i},B=function(){return new Promise((function(e){var t,n=(0,g.v4)(),o=function(){D=!1,e(!0)},i=function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"==typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),D=!0,[2,e(!1)]}}))}))};return!0===D?i():!1===D||null===indexedDB?o():((t=indexedDB.open(n)).onerror=o,void(t.onsuccess=i))}))},V=function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,o,i,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),e=(0,g.v4)(),t="indexedDBFeatureProbeStore",n="idx",null===indexedDB?[2,!1]:void 0!==z?[2,z]:[4,new Promise((function(r){var o=indexedDB.open(e);o.onerror=function(){return r(!1)},o.onsuccess=function(){var e=o.result;r(e)},o.onupgradeneeded=function(e){var o,i=null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.result;i.onerror=function(){return r(!1)},i.createObjectStore(t,{autoIncrement:!0}).createIndex(n,["id"])}}))];case 1:if(!(o=r.sent()))throw new Error("Could not open probe DB");return(i=o.transaction(t,"readwrite")).objectStore(t).add({id:1}),i.commit(),[4,new Promise((function(e){var r=o.transaction(t,"readonly").objectStore(t).index(n).get([1]);r.onerror=function(){return e(!1)},r.onsuccess=function(t){var n;e(null===(n=null==t?void 0:t.target)||void 0===n?void 0:n.result)}}))];case 2:return a=r.sent(),o&&"function"==typeof o.close?[4,o.close()]:[3,4];case 3:r.sent(),r.label=4;case 4:return[4,indexedDB.deleteDatabase(e)];case 5:return r.sent(),z=void 0===a,[3,7];case 6:return r.sent(),z=!1,[3,7];case 7:return[2,z]}}))}))},G=function(){return(1,o.lW.from((new b.Ic).random(1).toString(),"hex")).readUInt8(0)/255};function q(e){var t=p(G);return function(){return t(e)}}function H(){return"undefined"!=typeof performance&&performance&&"function"==typeof performance.now?0|performance.now():Date.now()}function W(e){return function(t,n){var o,i;try{for(var a=(0,r.__values)(e),s=a.next();!s.done;s=a.next()){var l=s.value,c=l.field,u=l.sortDirection===y.Sr.ASCENDING?1:-1;if(t[c]<n[c])return-1*u;if(t[c]>n[c])return 1*u}}catch(e){o={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return 0}}function K(e,t,n){var o,i;void 0===n&&(n=!1);var a,s,l=e,c=t;if(l instanceof Object&&!(c instanceof Object)||!(l instanceof Object)&&c instanceof Object)return!1;if(!(l instanceof Object))return!(!n||(a=l,s=c,null!=a||null!=s))||l===c;if(Array.isArray(l)&&!Array.isArray(c)||Array.isArray(c)&&!Array.isArray(l))return!1;l instanceof Set&&c instanceof Set&&(l=(0,r.__spread)(l),c=(0,r.__spread)(c)),l instanceof Map&&c instanceof Map&&(l=Object.fromEntries(l),c=Object.fromEntries(c));var u=Object.keys(l),d=Object.keys(c);if(u.length!==d.length&&(!n||Array.isArray(l)))return!1;var f=u.length>=d.length?u:d;try{for(var p=(0,r.__values)(f),h=p.next();!h.done;h=p.next()){var m=h.value;if(!K(l[m],c[m],n))return!1}}catch(e){o={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}return!0}function $(e,t){if(t&&e.length>1){if(t.sort){var n=_.c.getPredicates(t.sort);if(n.length){var r=W(n);e.sort(r)}}var o=t.page,i=void 0===o?0:o,a=t.limit,s=void 0===a?0:a,l=Math.max(0,i*s)||0,c=s>0?l+s:e.length;return e.slice(l,c)}return e}function Z(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),n=(0,r.__values)(e),o=n.next(),c.label=1;case 1:return o.done?[3,4]:(i=o.value,[4,t(i)]);case 2:if(c.sent())return[2,!0];c.label=3;case 3:return o=n.next(),[3,1];case 4:return[3,7];case 5:return a=c.sent(),s={error:a},[3,7];case 6:try{o&&!o.done&&(l=n.return)&&l.call(n)}finally{if(s)throw s.error}return[7];case 7:return[2,!1]}}))}))}function Y(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),n=(0,r.__values)(e),o=n.next(),c.label=1;case 1:return o.done?[3,4]:(i=o.value,[4,t(i)]);case 2:if(!c.sent())return[2,!1];c.label=3;case 3:return o=n.next(),[3,1];case 4:return[3,7];case 5:return a=c.sent(),s={error:a},[3,7];case 6:try{o&&!o.done&&(l=n.return)&&l.call(n)}finally{if(s)throw s.error}return[7];case 7:return[2,!0]}}))}))}var J=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},X=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},Q=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},ee=function(e){return!!/^\d+$/.exec(String(e))},te=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},ne=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},re=function(e){try{return!!new URL(e)}catch(e){return!1}},oe=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},ie=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},ae=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},se=function(){function e(e){this.limitPromise=new ae,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(e){throw void 0===e&&(e="DeferredCallbackResolver error"),new Error(e)},this.callback=e.callback,this.errorHandler=e.errorHandler||this.defaultErrorHandler,this.maxInterval=e.maxInterval||2e3}return e.prototype.startTimer=function(){var e=this;this.timerPromise=new Promise((function(t,n){e.timer=setTimeout((function(){t(y.V9.TIMER)}),e.maxInterval)}))},e.prototype.racePromises=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return e=n.sent(),this.callback(),[3,4];case 2:return t=n.sent(),this.errorHandler(t),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new ae,[2,e];case 4:return[2]}}))}))},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(y.V9.LIMIT)},e}();function le(e,t,n){var r,o=t.concat(n);return(0,v.Uy)(e,(function(e){(0,v.QE)(e,o)}),(function(e){r=e})),r}var ce=function(e,t){return e+"_"+t},ue=function(e){var t;return null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.find(y.f7)},de=function(e){var t=ue(e);return t&&(0,y.TY)(t)?t.properties.fields:[w]},fe=function(e,t){return t.map((function(t){return e[t]}))},pe=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},he=function(e){var t=ue(e);return!t||!(0,y.TY)(t)},me=function(e){var t=ue(e);return!(!t||!(0,y.TY)(t))&&t.properties.fields[0]===w},ge=function(e){var t={},n={};return Object.keys(e.models).forEach((function(o){var i,a;t[o]={indexes:[],relationTypes:[]},n[o]={};var s,l,c=e.models[o];if(Object.keys(c.fields).forEach((function(e){var n=c.fields[e];if("object"==typeof n.type&&"model"in n.type){var r=n.association.connectionType;if(t[o].relationTypes.push({fieldName:n.name,modelName:n.type.model,relationType:r,targetName:n.association.targetName,targetNames:n.association.targetNames,associatedWith:n.association.associatedWith}),"BELONGS_TO"===r){var i=be(n.association);if(i){var a=_e(i);t[o].indexes.push([a,i])}}}})),c.attributes){n[o].compositeKeys=(l=(s=function(e){return e.reduce((function(e,t){var n=new Set(t);if(0===e.length)return e.push(n),e;var o=e.findIndex((function(e){return(0,r.__spread)(e).some((function(e){return n.has(e)}))}));if(o>-1){var i=new Set((0,r.__spread)(e[o],n));e[o]=i}else e.push(n);return e}),[])})(c.attributes.filter(y.HO).map((function(e){return(0,r.__read)(e.properties.fields).slice(1)}))),s(l));var u=function(e){if(!(0,y.f7)(e))return"continue";var i=e.properties.fields;if((0,y.TY)(e))return n[o].primaryKey=i,"continue";var a=_e(i),s=t[o].indexes.find((function(e){return(0,r.__read)(e,1)[0]===a}));s||t[o].indexes.push([a,i])};try{for(var d=(0,r.__values)(c.attributes),f=d.next();!f.done;f=d.next())u(f.value)}catch(e){i={error:e}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}}n[o].primaryKey||(n[o].primaryKey=[w]),t[o].indexes.push(["byPk",n[o].primaryKey,{unique:!0}])})),[t,n]},ve=function(e,t){var n;return e.some((function(e){if(e.modelName===t){var r=be(e);return n=r&&_e(r),!0}})),n},ye=function(e,t){var n;n=Array.isArray(t)?_e(t):t;var o=e.find((function(e){return(0,r.__read)(e,1)[0]===n}));return o&&o[0]},be=function(e){var t=null==e?void 0:e.targetName,n=null==e?void 0:e.targetNames;return Array.isArray(n)?n:"string"==typeof t?[t]:void 0},_e=function(e){return e.reduce((function(e,t,n){return 0===n?t:""+e+S+t}),"")},we=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},xe=function(e,t){var n,r;return(null===(r=null===(n=null==e?void 0:e.keys)||void 0===n?void 0:n[t])||void 0===r?void 0:r.primaryKey)||[w]}},98029:(e,t,n)=>{var r=n(28144),o=n(27520),i=o;i.v1=r,i.v4=o,e.exports=i},3163:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},71831:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},28144:(e,t,n)=>{var r,o,i=n(71831),a=n(3163),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=f;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=h/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},27520:(e,t,n)=>{var r=n(71831),o=n(3163);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},21066:(e,t,n)=>{"use strict";n.d(t,{l:()=>kr});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var s=n(35069),l=n(99820),c=n(25387),u=n(12828),d=n.n(u),f=n(9270),p=n(40611),h=n(70655),m=(n(51891),n(57079)),g=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},v=function(e){return g(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},y=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,o=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&o===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},b=function(e,t){var n,r,o,i,a,s,l=t.useFipsEndpoint,c=void 0!==l&&l,u=t.useDualstackEndpoint,d=void 0!==u&&u,f=t.signingService,p=t.regionHash,m=t.partitionHash,g=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:m}),v=e in p?e:null!==(r=null===(n=m[g])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,b={useFipsEndpoint:c,useDualstackEndpoint:d},_=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(v,{regionHostname:y(null===(o=p[v])||void 0===o?void 0:o.variants,b),partitionHostname:y(null===(i=m[g])||void 0===i?void 0:i.variants,b)});if(void 0===_)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:v,useFipsEndpoint:c,useDualstackEndpoint:d}));var w=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(r);if(o)return o[0].slice(1,-1)}}(_,{signingRegion:null===(a=p[v])||void 0===a?void 0:a.signingRegion,regionRegex:m[g].regionRegex,useFipsEndpoint:c});return(0,h.__assign)((0,h.__assign)({partition:g,signingService:f,hostname:_},w&&{signingRegion:w}),(null===(s=p[v])||void 0===s?void 0:s.signingService)&&{signingService:p[v].signingService})},_=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,h.__assign)((0,h.__assign)({},this),{headers:(0,h.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return(0,h.__assign)((0,h.__assign)({},e),((r={})[n]=Array.isArray(o)?(0,h.__spreadArray)([],(0,h.__read)(o),!1):o,r))}),{}))),n},e}(),w=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}();function x(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}var S,E="content-length",C={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},k={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},A={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},T=n(48777);!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(S||(S={}));var I,P=S.STANDARD,O=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],M=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],N=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],L=[500,502,503,504],R=["ECONNRESET","EPIPE","ETIMEDOUT"],D=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||M.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},z=function(){function e(e){var t,n,r,o,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(o=null==e?void 0:e.scaleConstant)&&void 0!==o?o:.4,this.smooth=null!==(i=null==e?void 0:e.smooth)&&void 0!==i?i:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return(0,h.__awaiter)(this,void 0,void 0,(function(){return(0,h.__generator)(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return(0,h.__awaiter)(this,void 0,void 0,(function(){var t;return(0,h.__generator)(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),D(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),F=n(44586),U=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},j=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return O.includes(e.name)}(e)||D(e)||function(e){var t;return N.includes(e.name)||R.includes((null==e?void 0:e.code)||"")||L.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},B=function(){function e(e,t){var n,r,o,i,a,s,l,c,u;this.maxAttemptsProvider=e,this.mode=S.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:j,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:U,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=1,a=5,s=10,l=500,c=function(e){return"TimeoutError"===e.name?s:a},u=function(e){return c(e)<=l},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=c(e);return l-=t,t},releaseRetryTokens:function(e){l+=null!=e?e:i,l=Math.min(l,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,h.__awaiter)(this,void 0,void 0,(function(){var e;return(0,h.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return(0,h.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return o=0,i=0,[4,this.getMaxAttempts()];case 1:a=d.sent(),s=t.request,_.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,F.Z)()),l=function(){var l,u,d,f,p,m,g,v;return(0,h.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,7]),_.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(o+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[4,e(t)];case 3:return l=h.sent(),u=l.response,d=l.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(u),c.retryQuota.releaseRetryTokens(r),d.$metadata.attempts=o+1,d.$metadata.totalRetryDelay=i,[2,{value:{response:u,output:d}}];case 4:return f=h.sent(),p=G(f),o++,c.shouldRetry(p,o,a)?(r=c.retryQuota.retrieveRetryTokens(p),m=c.delayDecider(D(p)?500:100,o),g=V(p.$response),v=Math.max(g||0,m),i+=v,[4,new Promise((function(e){return setTimeout(e,v)}))]):[3,6];case 5:return h.sent(),[2,"continue"];case 6:throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=i,p;case 7:return[2]}}))},c=this,d.label=2;case 2:return[5,l()];case 3:return"object"==typeof(u=d.sent())?[2,u.value]:[3,2];case 4:return[2]}}))}))},e}(),V=function(e){if(w.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},G=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},q=function(e){function t(t,n){var r=this,o=null!=n?n:{},i=o.rateLimiter,a=(0,h.__rest)(o,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=i?i:new z,r.mode=S.ADAPTIVE,r}return(0,h.__extends)(t,e),t.prototype.retry=function(t,n){return(0,h.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,h.__generator)(this,(function(o){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return(0,h.__awaiter)(r,void 0,void 0,(function(){return(0,h.__generator)(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(B),H={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},W=function(e){function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n)||this;return o.tryNextLink=r,o.name="ProviderError",Object.setPrototypeOf(o,t.prototype),o}return(0,h.__extends)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);I=W,(0,h.__extends)((function e(t,n){void 0===n&&(n=!0);var r=I.call(this,t,n)||this;return r.tryNextLink=n,r.name="CredentialsProviderError",Object.setPrototypeOf(r,e.prototype),r}),I),function(e){(0,h.__extends)((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="TokenProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)}(W);for(var K={},$={},Z=0;Z<256;Z++){var Y=Z.toString(16).toLowerCase();1===Y.length&&(Y="0".concat(Y)),K[Z]=Y,$[Y]=Z}function J(e){for(var t="",n=0;n<e.byteLength;n++)t+=K[e[n]];return t}var X="X-Amz-Date",Q="X-Amz-Signature",ee="X-Amz-Security-Token",te="authorization",ne=X.toLowerCase(),re=[te,ne,"date"],oe=Q.toLowerCase(),ie="x-amz-content-sha256",ae=ee.toLowerCase(),se={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},le=/^proxy-/,ce=/^sec-/,ue="AWS4-HMAC-SHA256",de="AWS4-HMAC-SHA256-PAYLOAD",fe="aws4_request",pe={},he=[],me=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(fe)},ge=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},ve=function(e,t,n){var r,o,i=e.headers,a={};try{for(var s=(0,h.__values)(Object.keys(i).sort()),l=s.next();!l.done;l=s.next()){var c=l.value;if(null!=i[c]){var u=c.toLowerCase();(u in se||(null==t?void 0:t.has(u))||le.test(u)||ce.test(u))&&(!n||n&&!n.has(u))||(a[u]=i[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},ye=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,be)},be=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},_e=function(e,t){var n=e.headers,r=e.body;return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var e,o,i,a,s,l,c;return(0,h.__generator)(this,(function(u){switch(u.label){case 0:try{for(e=(0,h.__values)(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===ie)return[2,n[i]]}catch(e){l={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(l)throw l.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(d=r,"function"==typeof ArrayBuffer&&d instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(d))?((a=new t).update(r),s=J,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[u.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var d}))}))},we=function(e){var t=e.headers,n=e.query,r=(0,h.__rest)(e,["headers","query"]);return(0,h.__assign)((0,h.__assign)({},r),{headers:(0,h.__assign)({},t),query:n?xe(n):void 0})},xe=function(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return(0,h.__assign)((0,h.__assign)({},t),((r={})[n]=Array.isArray(o)?(0,h.__spreadArray)([],(0,h.__read)(o),!1):o,r))}),{})},Se=function(e){var t,n;e="function"==typeof e.clone?e.clone():we(e);try{for(var r=(0,h.__values)(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;re.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},Ee=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=(0,m.$)(r),this.credentialProvider=(0,m.$)(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,h.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,m,g,v,y,b,_,w,x,S,E,C,k;return(0,h.__generator)(this,(function(A){switch(A.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,l=t.signableHeaders,c=t.signingRegion,u=t.signingService,[4,this.credentialProvider()];case 1:return d=A.sent(),this.validateResolvedCredentials(d),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=A.sent(),A.label=4;case 4:return f=p,m=Ce(r),g=m.longDate,v=m.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(y=me(v,f,null!=u?u:this.service),b=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():we(e),a=i.headers,s=i.query,l=void 0===s?{}:s;try{for(var c=(0,h.__values)(Object.keys(a)),u=c.next();!u.done;u=c.next()){var d=u.value,f=d.toLowerCase();"x-amz-"!==f.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(f))||(l[d]=a[d],delete a[d])}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return(0,h.__assign)((0,h.__assign)({},e),{headers:a,query:l})}(Se(e),{unhoistableHeaders:s}),d.sessionToken&&(b.query[ee]=d.sessionToken),b.query["X-Amz-Algorithm"]=ue,b.query["X-Amz-Credential"]="".concat(d.accessKeyId,"/").concat(y),b.query[X]=g,b.query["X-Amz-Expires"]=i.toString(10),_=ve(b,a,l),b.query["X-Amz-SignedHeaders"]=ke(_),w=b.query,x=Q,S=this.getSignature,E=[g,y,this.getSigningKey(d,f,v,u)],C=this.createCanonicalRequest,k=[b,_],[4,_e(e,this.sha256)]);case 5:return[4,S.apply(this,E.concat([C.apply(this,k.concat([A.sent()]))]))];case 6:return w[x]=A.sent(),[2,b]}}))}))},e.prototype.sign=function(e,t){return(0,h.__awaiter)(this,void 0,void 0,(function(){return(0,h.__generator)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,l=t.signingService;return(0,h.__awaiter)(this,void 0,void 0,(function(){var e,t,o,c,u,d,f,p,m,g,v;return(0,h.__generator)(this,(function(h){switch(h.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=h.sent(),h.label=3;case 3:return e=t,o=Ce(i),c=o.shortDate,u=o.longDate,d=me(c,e,null!=l?l:this.service),[4,_e({headers:{},body:r},this.sha256)];case 4:return f=h.sent(),(p=new this.sha256).update(n),g=J,[4,p.digest()];case 5:return m=g.apply(void 0,[h.sent()]),v=[de,u,d,a,m,f].join("\n"),[2,this.signString(v,{signingDate:i,signingRegion:e,signingService:l})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return(0,h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,s,l,c,u,d;return(0,h.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.credentialProvider()];case 1:return t=f.sent(),this.validateResolvedCredentials(t),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=f.sent(),f.label=4;case 4:return n=r,s=Ce(o).shortDate,u=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(l=new(u.apply(c,[void 0,f.sent()]))).update(e),d=J,[4,l.digest()];case 6:return[2,d.apply(void 0,[f.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,l=n.signingService;return(0,h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,c,u,d,f,p,m,g,v;return(0,h.__generator)(this,(function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return t=y.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=y.sent(),y.label=4;case 4:return n=r,c=Se(e),u=Ce(o),d=u.longDate,f=u.shortDate,p=me(f,n,null!=l?l:this.service),c.headers[ne]=d,t.sessionToken&&(c.headers[ae]=t.sessionToken),[4,_e(c,this.sha256)];case 5:return m=y.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=(0,h.__values)(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(ie,c.headers)&&this.applyChecksum&&(c.headers[ie]=m),g=ve(c,a,i),[4,this.getSignature(d,p,this.getSigningKey(t,n,f,l),this.createCanonicalRequest(c,g,m))];case 6:return v=y.sent(),c.headers[te]="".concat(ue," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(ke(g),", ")+"Signature=".concat(v),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===oe)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]="".concat(ye(e),"=").concat(ye(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(ye(e),"=").concat(ye(n))])}),[]).join("&"))};try{for(var l=(0,h.__values)(Object.keys(o).sort()),c=l.next();!c.done;c=l.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return(0,h.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,h.__generator)(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"".concat(ue,"\n").concat(e,"\n").concat(t,"\n").concat(J(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var o=[];try{for(var i=(0,h.__values)(r.split("/")),a=i.next();!a.done;a=i.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?o.pop():o.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var l="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(l).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return(0,h.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l;return(0,h.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),l=J,[4,i.digest()];case 3:return[2,l.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,l,c,u,d,f,p;return(0,h.__generator)(this,(function(m){switch(m.label){case 0:return[4,ge(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=m.sent(),(a="".concat(n,":").concat(r,":").concat(o,":").concat(J(i),":").concat(t.sessionToken))in pe)return[2,pe[a]];for(he.push(a);he.length>50;)delete pe[he.shift()];s="AWS4".concat(t.secretAccessKey),m.label=2;case 2:m.trys.push([2,7,8,9]),l=(0,h.__values)([n,r,o,fe]),c=l.next(),m.label=3;case 3:return c.done?[3,6]:(u=c.value,[4,ge(e,s,u)]);case 4:s=m.sent(),m.label=5;case 5:return c=l.next(),[3,3];case 6:return[3,9];case 7:return d=m.sent(),f={error:d},[3,9];case 8:try{c&&!c.done&&(p=l.return)&&p.call(l)}finally{if(f)throw f.error}return[7];case 9:return[2,pe[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),Ce=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},ke=function(e){return Object.keys(e).sort().join(";")},Ae=function(e){return new Date(Date.now()+e)},Te=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(Ae(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},Ie=function(e){var t,n,r;return w.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},Pe={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Oe="user-agent",Me="x-amz-user-agent",Ne=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Le=function(e){var t=(0,h.__read)(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Ne,"_")})).join("/")},Re={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},De=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,(0,h.__assign)({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,(0,h.__assign)({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,h.__spreadArray)([],(0,h.__read)(o(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,h.__spreadArray)([],(0,h.__read)(o(e)),!1))})),t},i=function(n){void 0===n&&(n=!1);var r,i=[],a=[],s={};return e.forEach((function(e){var t=(0,h.__assign)((0,h.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),i.push(t)})),t.forEach((function(e){var t=(0,h.__assign)((0,h.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),a.push(t)})),a.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(r=i,r.sort((function(e,t){return ze[t.step]-ze[e.step]||Fe[t.priority||"normal"]-Fe[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,(0,h.__spreadArray)([],(0,h.__read)(t),!1)),e}),[])},a={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=(0,h.__assign)({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=e.findIndex((function(e){return e.name===o})),l=e[s];if(l.step!==a.step||l.priority!==a.priority)throw new Error('"'.concat(o,'" middleware with ').concat(l.priority," priority in ").concat(l.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=(0,h.__assign)({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=t.findIndex((function(e){return e.name===o})),l=t[s];if(l.toMiddleware!==a.toMiddleware||l.relation!==a.relation)throw new Error('"'.concat(o,'" middleware ').concat(l.relation,' "').concat(l.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(De())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(De());return t.use(e),t},applyToStack:r,identify:function(){return i(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var o=(0,h.__values)(i().map((function(e){return e.middleware})).reverse()),a=o.next();!a.done;a=o.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return a},ze={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Fe={high:3,normal:2,low:1},Ue=function(){function e(e){this.middlewareStack=De(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),je=function(){this.middlewareStack=De()},Be="***SensitiveInformation***",Ve=function(e){if(null!=e){if("number"==typeof e){if(0!==e&&1!==e||nt.warn(tt("Expected boolean, got ".concat(typeof e,": ").concat(e))),0===e)return!1;if(1===e)return!0}if("string"==typeof e){var t=e.toLowerCase();if("false"!==t&&"true"!==t||nt.warn(tt("Expected boolean, got ".concat(typeof e,": ").concat(e))),"false"===t)return!1;if("true"===t)return!0}if("boolean"==typeof e)return e;throw new TypeError("Expected boolean, got ".concat(typeof e,": ").concat(e))}},Ge=function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&nt.warn(tt("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}},qe=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),He=function(e){return We(e,32)},We=function(e,t){var n=function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}(e);if(void 0!==n&&Ke(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},Ke=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},$e=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},Ze=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},Ye=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return nt.warn(tt("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},Je=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Xe=function(e){var t=e.match(Je);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Qe=function(e){return"string"==typeof e?et(e):Ge(e)},et=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},tt=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},nt={warn:console.warn},rt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ot=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),it=function(e){if(null!=e){if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");var t=ot.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");var n=(0,h.__read)(t,8),r=(n[0],n[1]),o=n[2],i=n[3],a=n[4],s=n[5],l=n[6],c=n[7],u=function(e){return function(e){return We(e,16)}("string"==typeof e?Xe(e):e)}(ft(r)),d=ut(o,"month",1,12),f=ut(i,"day",1,31);return at(u,d,f,{hours:a,minutes:s,seconds:l,fractionalMilliseconds:c})}},at=function(e,t,n,r){var o=t-1;return lt(e,o,n),new Date(Date.UTC(e,o,n,ut(r.hours,"hour",0,23),ut(r.minutes,"minute",0,59),ut(r.seconds,"seconds",0,60),dt(r.fractionalMilliseconds)))},st=[31,28,31,30,31,30,31,31,30,31,30,31],lt=function(e,t,n){var r=st[t];if(1===t&&ct(e)&&(r=29),n>r)throw new TypeError("Invalid day for ".concat(rt[t]," in ").concat(e,": ").concat(n))},ct=function(e){return e%4==0&&(e%100!=0||e%400==0)},ut=function(e,t,n,r){var o=function(e){return function(e){return We(e,8)}("string"==typeof e?Xe(e):e)}(ft(e));if(o<n||o>r)throw new TypeError("".concat(t," must be between ").concat(n," and ").concat(r,", inclusive"));return o},dt=function(e){return null==e?0:1e3*function(e){return function(e){var t=Ge(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>qe)throw new TypeError("Expected 32-bit float, got ".concat(e));return t}("string"==typeof e?Xe(e):e)}("0."+e)},ft=function(e){for(var t=0;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)},pt=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return(0,h.__extends)(t,e),t}(Error),ht=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==(0,h.__read)(e,2)[1]})).forEach((function(t){var n=(0,h.__read)(t,2),r=n[0],o=n[1];null!=e[r]&&""!==e[r]||(e[r]=o)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},mt=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,o=e.errorCode,i=gt(t),a=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||o||a||"UnknowError",$fault:"client",$metadata:i});throw ht(s,n)},gt=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},vt=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},yt=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,h.__spreadArray)([null],(0,h.__read)(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};function bt(e,t,n){var r,o,i,a;if(void 0===t&&void 0===n)i={},a=e;else{if(i=e,"function"==typeof t)return _t(i,t,a=n);a=t}try{for(var s=(0,h.__values)(Object.keys(a)),l=s.next();!l.done;l=s.next()){var c=l.value;if(Array.isArray(a[c])){var u=(0,h.__read)(a[c],2),d=u[0],f=u[1];if("function"==typeof f){var p=void 0,m=void 0===d&&null!=(p=f()),g="function"==typeof d&&!!d(void 0)||"function"!=typeof d&&!!d;m?i[c]=p:g&&(i[c]=f())}else m=void 0===d&&null!=f,g="function"==typeof d&&!!d(f)||"function"!=typeof d&&!!d,(m||g)&&(i[c]=f)}else i[c]=a[c]}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}yt.prototype=Object.create(String.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(yt,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,h.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(yt);var _t=function(e,t,n){return bt(e,Object.entries(n).reduce((function(e,n){var r=(0,h.__read)(n,2),o=r[0],i=r[1];return Array.isArray(i)?e[o]=i:e[o]="function"==typeof i?[t,i()]:[t,i],e}),{}))};function wt(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var xt=function(e,t,n,r,o,i){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(o,i?a.split("/").map((function(e){return wt(e)})).join("/"):wt(a))},St=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};for(var Et=n(47546),Ct=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return(0,h.__awaiter)(this,void 0,void 0,(function(){var t,r,o,i,a,s,l,c,u,d,f,p;return(0,h.__generator)(this,(function(m){switch(m.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=m.sent(),m.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((o=new Error("Request aborted")).name="AbortError",[2,Promise.reject(o)]):(i=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var o=(0,h.__values)(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=ye(a),Array.isArray(s))for(var l=0,c=s.length;l<c;l++)r.push("".concat(a,"=").concat(ye(s[l])));else{var u=a;(s||"string"==typeof s)&&(u+="=".concat(ye(s))),r.push(u)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(i+="?".concat(a))),s=e.port,l=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(i),u="GET"===l||"HEAD"===l?void 0:e.body,d={body:u,headers:new Headers(e.headers),method:l},"undefined"!=typeof AbortController&&(d.signal=n),f=new Request(c,d),p=[fetch(f).then((function(e){var t,n,r=e.headers,o={};try{for(var i=(0,h.__values)(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new w({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new w({headers:o,statusCode:e.status,body:t})}}))})),(g=r,void 0===g&&(g=0),new Promise((function(e,t){g&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(g," ms"));e.name="TimeoutError",t(e)}),g)})))],n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(p)])}var g}))}))},e}(),kt={},At=new Array(64),Tt=0,It="A".charCodeAt(0),Pt="Z".charCodeAt(0);Tt+It<=Pt;Tt++){var Ot=String.fromCharCode(Tt+It);kt[Ot]=Tt,At[Tt]=Ot}for(Tt=0,It="a".charCodeAt(0),Pt="z".charCodeAt(0);Tt+It<=Pt;Tt++){Ot=String.fromCharCode(Tt+It);var Mt=Tt+26;kt[Ot]=Mt,At[Mt]=Ot}for(Tt=0;Tt<10;Tt++)kt[Tt.toString(10)]=Tt+52,Ot=Tt.toString(10),Mt=Tt+52,kt[Ot]=Mt,At[Mt]=Ot;function Nt(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,l=o+3;s<=l;s++)if("="!==e[s]){if(!(e[s]in kt))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));i|=kt[e[s]]<<6*(l-s),a+=6}else i>>=6;var c=o/4*3;i>>=a%8;for(var u=Math.floor(a/8),d=0;d<u;d++){var f=8*(u-d-1);r.setUint8(c+d,(i&255<<f)>>f)}}return new Uint8Array(n)}function Lt(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var l=1;l<=s;l++){var c=6*(s-l);t+=At[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}kt["+"]=62,At[62]="+",kt["/"]=63,At[63]="/";var Rt=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,h.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,h.__generator)(this,(function(r){switch(r.label){case 0:return[4,Dt(e)];case 1:return t=r.sent(),n=Nt(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return(0,h.__generator)(this,(function(l){switch(l.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,l.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=l.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)};function Dt(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var zt=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},Ft=n(51206),Ut=n.n(Ft),jt=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){return e="undefined"!=typeof window&&(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?Ut().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(l=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==l?l:"unknown","_").concat(null!==(u=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==u?u:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},Bt=n(28200),Vt=function(e){if("string"==typeof e)return Vt(new URL(e));var t,n=e,r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=(0,h.__values)(e.split("&")),i=o.next();!i.done;i=o.next()){var a=i.value,s=(0,h.__read)(a.split("="),2),l=s[0],c=s[1],u=void 0===c?null:c;l=decodeURIComponent(l),u&&(u=decodeURIComponent(u)),l in r?Array.isArray(r[l])?r[l].push(u):r[l]=[r[l],u]:r[l]=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}},Gt={},qt={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com.cn",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"geo-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.c2s.ic.gov",tags:[]},{hostname:"geo-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.sc2s.sgov.gov",tags:[]},{hostname:"geo-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]}},Ht=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(n){return[2,b(e,(0,h.__assign)((0,h.__assign)({},t),{signingService:"geo",regionHash:Gt,partitionHash:qt}))]}))}))},Wt=n(32924),Kt=function(e){function t(t){var n,r,o,i,a,s=this,l=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,h.__assign)((0,h.__assign)({},e),{region:function(){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,h.__generator)(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,v(t)]:[4,t()];case 1:return e=n.sent(),[2,v(e)]}}))}))},useFipsEndpoint:function(){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,h.__generator)(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return g(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,o,i,a,s,l,c,u,d,f,p,m,g,v=(0,Wt.j)(e),y=function(){return v().then(vt)},b=function(e){var t,n,r,o,i;return{apiVersion:"2020-11-19",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:Ht,serviceId:null!==(o=null==e?void 0:e.serviceId)&&void 0!==o?o:"Location",urlParser:null!==(i=null==e?void 0:e.urlParser)&&void 0!==i?i:Vt}}(e);return(0,h.__assign)((0,h.__assign)((0,h.__assign)({},b),e),{runtime:"browser",defaultsMode:v,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:Nt,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:Lt,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:zt,credentialDefaultProvider:null!==(o=null==e?void 0:e.credentialDefaultProvider)&&void 0!==o?o:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(i=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==i?i:jt({serviceId:b.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:function(){return Promise.reject("Region is missing")},requestHandler:null!==(l=null==e?void 0:e.requestHandler)&&void 0!==l?l:new Ct(y),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(e){switch(e.label){case 0:return[4,y()];case 1:return[2,e.sent().retryMode||P]}}))}))},sha256:null!==(u=null==e?void 0:e.sha256)&&void 0!==u?u:Et.Sha256,streamCollector:null!==(d=null==e?void 0:e.streamCollector)&&void 0!==d?d:Rt,useDualstackEndpoint:null!==(f=null==e?void 0:e.useDualstackEndpoint)&&void 0!==f?f:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(p=null==e?void 0:e.useFipsEndpoint)&&void 0!==p?p:function(){return Promise.resolve(!1)},utf8Decoder:null!==(m=null==e?void 0:e.utf8Decoder)&&void 0!==m?m:Bt.fromUtf8,utf8Encoder:null!==(g=null==e?void 0:e.utf8Encoder)&&void 0!==g?g:Bt.toUtf8})}(t)),c=function(e){var t,n=(0,m.$)(e.useDualstackEndpoint),r=e.endpoint,o=e.useFipsEndpoint,i=e.urlParser;return(0,h.__assign)((0,h.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?(0,m.$)("string"==typeof r?i(r):r):function(){return function(e){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s;return(0,h.__generator)(this,(function(l){switch(l.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=l.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return o=l.sent(),[4,e.useFipsEndpoint()];case 3:return i=l.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})];case 4:if(!(a=(null!==(s=l.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}((0,h.__assign)((0,h.__assign)({},e),{useDualstackEndpoint:n,useFipsEndpoint:o}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(l),u=function(e){return(0,h.__assign)((0,h.__assign)({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}(function(e){var t,n,r,o,i,a,s,l,c,u,d=e.credentials?"function"==typeof(n=e.credentials)?(r=n,i=function(e){return void 0!==e.expiration},c=!1,u=function(){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(e){switch(e.label){case 0:s||(s=r()),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,s];case 2:return a=e.sent(),l=!0,c=!1,[3,4];case 3:return s=void 0,[7];case 4:return[2,a]}}))}))},void 0===(o=function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5})?function(e){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(t){switch(t.label){case 0:return l&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,u()];case 1:a=t.sent(),t.label=2;case 2:return[2,a]}}))}))}:function(e){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(t){switch(t.label){case 0:return l&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,u()];case 1:a=t.sent(),t.label=2;case 2:return c?[2,a]:i&&!i(a)?(c=!0,[2,a]):o(a)?[4,u()]:[3,4];case 3:return t.sent(),[2,a];case 4:return[2,a]}}))}))}):(0,m.$)(n):e.credentialDefaultProvider(e),f=e.signingEscapePath,p=void 0===f||f,g=e.systemClockOffset,v=void 0===g?e.systemClockOffset||0:g,y=e.sha256;return t=e.signer?(0,m.$)(e.signer):e.regionInfoProvider?function(){return(0,m.$)(e.region)().then((function(t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,o=[t],i={},[4,e.useFipsEndpoint()];case 1:return i.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,o.concat([(i.useDualstackEndpoint=a.sent(),i)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=(0,h.__read)(t,2),r=n[0],o=n[1],i=r.signingRegion,a=r.signingService;e.signingRegion=e.signingRegion||i||o,e.signingName=e.signingName||a||e.serviceId;var s=(0,h.__assign)((0,h.__assign)({},e),{credentials:d,region:e.signingRegion,service:e.signingName,sha256:y,uriEscapePath:p});return new(e.signerConstructor||Ee)(s)}))}:function(t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,h.__generator)(this,(function(i){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,r=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||r||e.serviceId,o=(0,h.__assign)((0,h.__assign)({},e),{credentials:d,region:e.signingRegion,service:e.signingName,sha256:y,uriEscapePath:p}),[2,new(e.signerConstructor||Ee)(o)]}))}))},(0,h.__assign)((0,h.__assign)({},e),{systemClockOffset:v,signingEscapePath:p,credentials:d,signer:t})}((n=c,o=(0,m.$)(null!==(r=n.maxAttempts)&&void 0!==r?r:3),(0,h.__assign)((0,h.__assign)({},n),{maxAttempts:o,retryStrategy:function(){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(e){switch(e.label){case 0:return n.retryStrategy?[2,n.retryStrategy]:[4,(0,m.$)(n.retryMode)()];case 1:return e.sent()===S.ADAPTIVE?[2,new q(o)]:[2,new B(o)]}}))}))}}))));return(s=e.call(this,u)||this).config=u,s.middlewareStack.use((a=s.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var o;return(0,h.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(o=i.sent())?void 0:o.mode)&&(n.userAgent=(0,h.__spreadArray)((0,h.__spreadArray)([],(0,h.__read)(n.userAgent||[]),!1),[["cfg/retry-mode",o.mode]],!1)),[2,o.retry(t,r)]}}))}))}}}(a),H)}})),s.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,h.__awaiter)(t,void 0,void 0,(function(){var t,o,i,a,s;return(0,h.__generator)(this,(function(l){if(t=r.request,_.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(E)))try{a=e(o),t.headers=(0,h.__assign)((0,h.__assign)({},t.headers),((s={})[E]=String(a),s))}catch(e){}return[2,n((0,h.__assign)((0,h.__assign)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),C)}}}(s.config)),s.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var r,o;return(0,h.__generator)(this,(function(i){return _.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),k)}}}(s.config)),s.middlewareStack.use((s.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var r,o,i,a,s,l,c,u,d;return(0,h.__generator)(this,(function(f){switch(f.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return l=f.sent(),a?("function"==typeof a.info&&(c=l.output,u=c.$metadata,d=(0,h.__rest)(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(d),metadata:u})),[2,l]):[2,l]}}))}))}}),A)}})),s.middlewareStack.use((0,T.eV)(s.config)),s.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var o,i,a;return(0,h.__awaiter)(this,void 0,void 0,(function(){var s,l,c,u,d,f,p;return(0,h.__generator)(this,(function(m){switch(m.label){case 0:return _.isInstance(r.request)?(s=null===(a=null===(i=null===(o=n.endpointV2)||void 0===o?void 0:o.properties)||void 0===i?void 0:i.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return l=m.sent(),u=t,d=[(0,h.__assign)({},r)],p={},[4,l.sign(r.request,{signingDate:Ae(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,u.apply(void 0,[h.__assign.apply(void 0,d.concat([(p.request=m.sent(),p)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:Ie(t.$response);throw r&&(e.systemClockOffset=Te(r,e.systemClockOffset)),t}))];case 3:return c=m.sent(),(f=Ie(c.response))&&(e.systemClockOffset=Te(f,e.systemClockOffset)),[2,c]}}))}))}}}(e),Pe)}}}(s.config)),s.middlewareStack.use((i=s.config,{applyToStack:function(e){var t;e.add((t=i,function(e,n){return function(r){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f;return(0,h.__generator)(this,(function(p){switch(p.label){case 0:return o=r.request,_.isInstance(o)?(i=o.headers,a=(null===(d=null==n?void 0:n.userAgent)||void 0===d?void 0:d.map(Le))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=p.sent().map(Le),l=(null===(f=null==t?void 0:t.customUserAgent)||void 0===f?void 0:f.map(Le))||[],c=(0,h.__spreadArray)((0,h.__spreadArray)((0,h.__spreadArray)([],(0,h.__read)(s),!1),(0,h.__read)(a),!1),(0,h.__read)(l),!1).join(" "),u=(0,h.__spreadArray)((0,h.__spreadArray)([],(0,h.__read)(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),(0,h.__read)(l),!1).join(" "),"browser"!==t.runtime?(u&&(i[Me]=i[Me]?"".concat(i[Oe]," ").concat(u):u),i[Oe]=c):i[Me]=c,[2,e((0,h.__assign)((0,h.__assign)({},r),{request:o}))]}}))}))}}),Re)}})),s}return(0,h.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Ue),$t={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Zt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Yt(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:o=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(o,e)];case 3:return i=s.sent(),[2,{response:o,output:i}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:o}),a;case 5:return[2]}}))}))}}}(e,n),$t),r.add(function(e,t){return function(n,r){return function(o){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s;return(0,h.__generator)(this,(function(l){switch(l.label){case 0:if(!(i=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){return(0,h.__generator)(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(o.input,(0,h.__assign)((0,h.__assign)({},e),{endpoint:i}))];case 1:return a=l.sent(),[2,n((0,h.__assign)((0,h.__assign)({},o),{request:a}))]}}))}))}}}(e,t),Zt)}}}var Jt=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,h.__extends)(t,e),t}(pt),Xt=function(e){function t(n){var r=e.call(this,(0,h.__assign)({name:"AccessDeniedException",$fault:"client"},n))||this;return r.name="AccessDeniedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return(0,h.__extends)(t,e),t}(Jt),Qt=(function(e){(0,h.__extends)((function t(n){var r=e.call(this,(0,h.__assign)({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}),e)}(Jt),function(e){function t(n){var r=e.call(this,(0,h.__assign)({name:"InternalServerException",$fault:"server"},n))||this;return r.name="InternalServerException",r.$fault="server",r.$retryable={},Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return(0,h.__extends)(t,e),t}(Jt)),en=function(e){function t(n){var r=e.call(this,(0,h.__assign)({name:"ResourceNotFoundException",$fault:"client"},n))||this;return r.name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return(0,h.__extends)(t,e),t}(Jt),tn=(function(e){(0,h.__extends)((function t(n){var r=e.call(this,(0,h.__assign)({name:"ServiceQuotaExceededException",$fault:"client"},n))||this;return r.name="ServiceQuotaExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}),e)}(Jt),function(e){function t(n){var r=e.call(this,(0,h.__assign)({name:"ThrottlingException",$fault:"client"},n))||this;return r.name="ThrottlingException",r.$fault="client",r.$retryable={},Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return(0,h.__extends)(t,e),t}(Jt)),nn=function(e){function t(n){var r=e.call(this,(0,h.__assign)({name:"ValidationException",$fault:"client"},n))||this;return r.name="ValidationException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r.Reason=n.Reason,r.FieldList=n.FieldList,r}return(0,h.__extends)(t,e),t}(Jt),rn=function(e){return(0,h.__assign)({},e)},on=function(e){return(0,h.__assign)({},e)},an=function(e){return(0,h.__assign)((0,h.__assign)((0,h.__assign)({},e),e.Polygon&&{Polygon:e.Polygon.map((function(e){return Be}))}),e.Circle&&{Circle:Be})},sn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Entries&&{Entries:e.Entries.map((function(e){return function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Geometry&&{Geometry:an(e.Geometry)})}(e)}))})},ln=function(e){return(0,h.__assign)({},e)},cn=function(e){return(0,h.__assign)({},e)},un=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Geometry&&{Geometry:an(e.Geometry)})},dn=function(e){return(0,h.__assign)({},e)},fn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Entries&&{Entries:e.Entries.map((function(e){return function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Geometry&&{Geometry:an(e.Geometry)})}(e)}))})},pn=function(e){return(0,h.__assign)({},e)},hn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Point&&{Point:Be})},mn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Geometry&&{Geometry:hn(e.Geometry)})},gn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Place&&{Place:mn(e.Place)})},vn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Position&&{Position:Be})},yn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Position&&{Position:Be})},bn=function(e){return(0,h.__assign)((0,h.__assign)((0,h.__assign)({},e),e.Summary&&{Summary:yn(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Place&&{Place:mn(e.Place)})}(e)}))})},_n=function(e){return(0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)({},e),e.Text&&{Text:Be}),e.BiasPosition&&{BiasPosition:Be}),e.FilterBBox&&{FilterBBox:Be})},wn=function(e){return(0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)({},e),e.Text&&{Text:Be}),e.BiasPosition&&{BiasPosition:Be}),e.FilterBBox&&{FilterBBox:Be})},xn=function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Summary&&{Summary:wn(e.Summary)})},Sn=function(e){return(0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)({},e),e.Text&&{Text:Be}),e.BiasPosition&&{BiasPosition:Be}),e.FilterBBox&&{FilterBBox:Be})},En=function(e){return(0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)({},e),e.Text&&{Text:Be}),e.BiasPosition&&{BiasPosition:Be}),e.FilterBBox&&{FilterBBox:Be}),e.ResultBBox&&{ResultBBox:Be})},Cn=function(e){return(0,h.__assign)((0,h.__assign)((0,h.__assign)({},e),e.Summary&&{Summary:En(e.Summary)}),e.Results&&{Results:e.Results.map((function(e){return function(e){return(0,h.__assign)((0,h.__assign)({},e),e.Place&&{Place:mn(e.Place)})}(e)}))})},kn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},An=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},Tn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},In=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},Pn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},On=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},Mn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},Nn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,h.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,h.__assign)({},e)],a={},[4,sr(e.body,t)];case 1:switch(n=h.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=lr(e,n.body)){case"AccessDeniedException":case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return[4,Rn(n,t)];case 3:throw s.sent();case 4:return[4,Dn(n,t)];case 5:throw s.sent();case 6:return[4,zn(n,t)];case 7:throw s.sent();case 8:return[4,Fn(n,t)];case 9:throw s.sent();case 10:return[4,Un(n,t)];case 11:throw s.sent();case 12:i=n.body,mt({output:e,parsedBody:i,exceptionCtor:Jt,errorCode:o}),s.label=13;case 13:return[2]}}))}))},Ln=bt,Rn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,h.__generator)(this,(function(o){return t=Ln({}),null!=(n=e.body).message&&(t.Message=Ye(n.message)),r=new Xt((0,h.__assign)({$metadata:ir(e)},t)),[2,ht(r,e.body)]}))}))},Dn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,h.__generator)(this,(function(o){return t=Ln({}),null!=(n=e.body).message&&(t.Message=Ye(n.message)),r=new Qt((0,h.__assign)({$metadata:ir(e)},t)),[2,ht(r,e.body)]}))}))},zn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,h.__generator)(this,(function(o){return t=Ln({}),null!=(n=e.body).message&&(t.Message=Ye(n.message)),r=new en((0,h.__assign)({$metadata:ir(e)},t)),[2,ht(r,e.body)]}))}))},Fn=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,h.__generator)(this,(function(o){return t=Ln({}),null!=(n=e.body).message&&(t.Message=Ye(n.message)),r=new tn((0,h.__assign)({$metadata:ir(e)},t)),[2,ht(r,e.body)]}))}))},Un=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,h.__generator)(this,(function(i){return n=Ln({}),null!=(r=e.body).fieldList&&(n.FieldList=or(r.fieldList,t)),null!=r.message&&(n.Message=Ye(r.message)),null!=r.reason&&(n.Reason=Ye(r.reason)),o=new nn((0,h.__assign)({$metadata:ir(e)},n)),[2,ht(o,e.body)]}))}))},jn=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return(0,h.__assign)((0,h.__assign)({},null!=e.GeofenceId&&{GeofenceId:e.GeofenceId}),null!=e.Geometry&&{Geometry:qn(e.Geometry,t)})}(e,t)}))},Bn=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return St(e)}))},Vn=function(e,t){return(0,h.__assign)((0,h.__assign)({},null!=e.Center&&{Center:Kn(e.Center,t)}),null!=e.Radius&&{Radius:St(e.Radius)})},Gn=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},qn=function(e,t){return(0,h.__assign)((0,h.__assign)({},null!=e.Circle&&{Circle:Vn(e.Circle,t)}),null!=e.Polygon&&{Polygon:Wn(e.Polygon,t)})},Hn=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Wn=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return Kn(e,t)}))}(e,t)}))},Kn=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return St(e)}))},$n=function(e,t){return{Code:Ye(e.Code),Message:Ye(e.Message)}},Zn=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Qe(e)}))},Yn=function(e,t){return{Center:null!=e.Center?nr(e.Center,t):void 0,Radius:Qe(e.Radius)}},Jn=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Ye(e)}))},Xn=function(e,t){return{Circle:null!=e.Circle?Yn(e.Circle,t):void 0,Polygon:null!=e.Polygon?Qn(e.Polygon,t):void 0}},Qn=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:nr(e,t)}))}(e,t)}));return n},er=function(e,t){return{AddressNumber:Ye(e.AddressNumber),Country:Ye(e.Country),Geometry:null!=e.Geometry?tr(e.Geometry,t):void 0,Interpolated:Ve(e.Interpolated),Label:Ye(e.Label),Municipality:Ye(e.Municipality),Neighborhood:Ye(e.Neighborhood),PostalCode:Ye(e.PostalCode),Region:Ye(e.Region),Street:Ye(e.Street),SubRegion:Ye(e.SubRegion),TimeZone:null!=e.TimeZone?rr(e.TimeZone,t):void 0,UnitNumber:Ye(e.UnitNumber),UnitType:Ye(e.UnitType)}},tr=function(e,t){return{Point:null!=e.Point?nr(e.Point,t):void 0}},nr=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Qe(e)}))},rr=function(e,t){return{Name:Ye(e.Name),Offset:He(e.Offset)}},or=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Message:Ye(e.message),Name:Ye(e.name)}}(e)}))},ir=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ar=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},sr=function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,h.__generator)(this,(function(o){switch(o.label){case 0:return[4,ar(e,t)];case 1:return(n=o.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},lr=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},cr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForTextCommand",inputFilterSensitiveLog:Sn,outputFilterSensitiveLog:Cn},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return(n=d.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/text",l=xt(l,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify((0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)({},null!=e.BiasPosition&&{BiasPosition:Kn(e.BiasPosition,t)}),null!=e.FilterBBox&&{FilterBBox:Bn(e.FilterBBox)}),null!=e.FilterCountries&&{FilterCountries:Gn(e.FilterCountries)}),null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Text&&{Text:e.Text})),[4,t.endpoint()];case 2:if(u=d.sent().hostname,!0!==t.disableHostPrefix&&!x(u="places."+u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:u,port:i,method:"POST",headers:s,path:l,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Nn(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Distance:Qe(e.Distance),Place:null!=e.Place?er(e.Place,t):void 0,PlaceId:Ye(e.PlaceId),Relevance:Qe(e.Relevance)}}(e,t)}));return n}(r.Results,t)),null!=r.Summary&&(n.Summary=function(e,t){return{BiasPosition:null!=e.BiasPosition?nr(e.BiasPosition,t):void 0,DataSource:Ye(e.DataSource),FilterBBox:null!=e.FilterBBox?Zn(e.FilterBBox):void 0,FilterCountries:null!=e.FilterCountries?Jn(e.FilterCountries):void 0,Language:Ye(e.Language),MaxResults:He(e.MaxResults),ResultBBox:null!=e.ResultBBox?Zn(e.ResultBBox):void 0,Text:Ye(e.Text)}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(je),ur=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForSuggestionsCommand",inputFilterSensitiveLog:_n,outputFilterSensitiveLog:xn},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return(n=d.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/suggestions",l=xt(l,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify((0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)((0,h.__assign)({},null!=e.BiasPosition&&{BiasPosition:Kn(e.BiasPosition,t)}),null!=e.FilterBBox&&{FilterBBox:Bn(e.FilterBBox)}),null!=e.FilterCountries&&{FilterCountries:Gn(e.FilterCountries)}),null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Text&&{Text:e.Text})),[4,t.endpoint()];case 2:if(u=d.sent().hostname,!0!==t.disableHostPrefix&&!x(u="places."+u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:u,port:i,method:"POST",headers:s,path:l,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Mn(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{PlaceId:Ye(e.PlaceId),Text:Ye(e.Text)}}(e)}))}(r.Results)),null!=r.Summary&&(n.Summary=function(e,t){return{BiasPosition:null!=e.BiasPosition?nr(e.BiasPosition,t):void 0,DataSource:Ye(e.DataSource),FilterBBox:null!=e.FilterBBox?Zn(e.FilterBBox):void 0,FilterCountries:null!=e.FilterCountries?Jn(e.FilterCountries):void 0,Language:Ye(e.Language),MaxResults:He(e.MaxResults),Text:Ye(e.Text)}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(je),dr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"GetPlaceCommand",inputFilterSensitiveLog:pn,outputFilterSensitiveLog:gn},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return(n=d.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/places/{PlaceId}",l=xt(l,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),l=xt(l,e,"PlaceId",(function(){return e.PlaceId}),"{PlaceId}",!1),c=Ln({language:[,e.Language]}),[4,t.endpoint()];case 2:if(u=d.sent().hostname,!0!==t.disableHostPrefix&&!x(u="places."+u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:u,port:i,method:"GET",headers:s,path:l,query:c,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,In(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Place&&(n.Place=er(r.Place,t)),[2,n]}}))}))}(e,t)},t}(je),fr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"SearchPlaceIndexForPositionCommand",inputFilterSensitiveLog:vn,outputFilterSensitiveLog:bn},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return(n=d.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/places/v0/indexes/{IndexName}/search/position",l=xt(l,e,"IndexName",(function(){return e.IndexName}),"{IndexName}",!1),c=JSON.stringify((0,h.__assign)((0,h.__assign)((0,h.__assign)({},null!=e.Language&&{Language:e.Language}),null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.Position&&{Position:Kn(e.Position,t)})),[4,t.endpoint()];case 2:if(u=d.sent().hostname,!0!==t.disableHostPrefix&&!x(u="places."+u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:u,port:i,method:"POST",headers:s,path:l,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,On(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Results&&(n.Results=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Distance:Qe(e.Distance),Place:null!=e.Place?er(e.Place,t):void 0,PlaceId:Ye(e.PlaceId)}}(e,t)}));return n}(r.Results,t)),null!=r.Summary&&(n.Summary=function(e,t){return{DataSource:Ye(e.DataSource),Language:Ye(e.Language),MaxResults:He(e.MaxResults),Position:null!=e.Position?nr(e.Position,t):void 0}}(r.Summary,t)),[2,n]}}))}))}(e,t)},t}(je),pr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"GetGeofenceCommand",inputFilterSensitiveLog:cn,outputFilterSensitiveLog:un},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c;return(0,h.__generator)(this,(function(u){switch(u.label){case 0:return[4,t.endpoint()];case 1:return(n=u.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/geofences/{GeofenceId}",l=xt(l,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),l=xt(l,e,"GeofenceId",(function(){return e.GeofenceId}),"{GeofenceId}",!1),[4,t.endpoint()];case 2:if(c=u.sent().hostname,!0!==t.disableHostPrefix&&!x(c="geofencing."+c))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:c,port:i,method:"GET",headers:s,path:l,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Tn(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).CreateTime&&(n.CreateTime=$e(it(r.CreateTime))),null!=r.GeofenceId&&(n.GeofenceId=Ye(r.GeofenceId)),null!=r.Geometry&&(n.Geometry=Xn(r.Geometry,t)),null!=r.Status&&(n.Status=Ye(r.Status)),null!=r.UpdateTime&&(n.UpdateTime=$e(it(r.UpdateTime))),[2,n]}}))}))}(e,t)},t}(je),hr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"ListGeofencesCommand",inputFilterSensitiveLog:dn,outputFilterSensitiveLog:fn},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return(n=d.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/list-geofences",l=xt(l,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify((0,h.__assign)((0,h.__assign)({},null!=e.MaxResults&&{MaxResults:e.MaxResults}),null!=e.NextToken&&{NextToken:e.NextToken})),[4,t.endpoint()];case 2:if(u=d.sent().hostname,!0!==t.disableHostPrefix&&!x(u="geofencing."+u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:u,port:i,method:"POST",headers:s,path:l,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Pn(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Entries&&(n.Entries=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CreateTime:null!=e.CreateTime?$e(it(e.CreateTime)):void 0,GeofenceId:Ye(e.GeofenceId),Geometry:null!=e.Geometry?Xn(e.Geometry,t):void 0,Status:Ye(e.Status),UpdateTime:null!=e.UpdateTime?$e(it(e.UpdateTime)):void 0}}(e,t)}));return n}(r.Entries,t)),null!=r.NextToken&&(n.NextToken=Ye(r.NextToken)),[2,n]}}))}))}(e,t)},t}(je),mr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"BatchPutGeofenceCommand",inputFilterSensitiveLog:sn,outputFilterSensitiveLog:ln},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return(n=d.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/put-geofences",l=xt(l,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify((0,h.__assign)({},null!=e.Entries&&{Entries:jn(e.Entries,t)})),[4,t.endpoint()];case 2:if(u=d.sent().hostname,!0!==t.disableHostPrefix&&!x(u="geofencing."+u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:u,port:i,method:"POST",headers:s,path:l,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,An(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Errors&&(n.Errors=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Error:null!=e.Error?$n(e.Error,t):void 0,GeofenceId:Ye(e.GeofenceId)}}(e,t)}));return n}(r.Errors,t)),null!=r.Successes&&(n.Successes=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CreateTime:null!=e.CreateTime?$e(it(e.CreateTime)):void 0,GeofenceId:Ye(e.GeofenceId),UpdateTime:null!=e.UpdateTime?$e(it(e.UpdateTime)):void 0}}(e)}))}(r.Successes)),[2,n]}}))}))}(e,t)},t}(je),gr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,h.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Yt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LocationClient",commandName:"BatchDeleteGeofenceCommand",inputFilterSensitiveLog:rn,outputFilterSensitiveLog:on},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,h.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return(n=d.sent()).hostname,r=n.protocol,o=void 0===r?"https":r,i=n.port,a=n.path,s={"content-type":"application/json"},l="".concat((null==a?void 0:a.endsWith("/"))?a.slice(0,-1):a||"")+"/geofencing/v0/collections/{CollectionName}/delete-geofences",l=xt(l,e,"CollectionName",(function(){return e.CollectionName}),"{CollectionName}",!1),c=JSON.stringify((0,h.__assign)({},null!=e.GeofenceIds&&{GeofenceIds:Hn(e.GeofenceIds)})),[4,t.endpoint()];case 2:if(u=d.sent().hostname,!0!==t.disableHostPrefix&&!x(u="geofencing."+u))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new _({protocol:o,hostname:u,port:i,method:"POST",headers:s,path:l,body:c})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,h.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,h.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,kn(e,t)]:(n=Ln({$metadata:ir(e)}),o=$e,i=Ze,[4,ar(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).Errors&&(n.Errors=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{Error:null!=e.Error?$n(e.Error,t):void 0,GeofenceId:Ye(e.GeofenceId)}}(e,t)}));return n}(r.Errors,t)),[2,n]}}))}))}(e,t)},t}(je),vr=n(36987);function yr(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))throw new Error("Invalid coordinates: ["+e+","+t+"]");if(t<-90||90<t)throw new Error("Latitude must be between -90 and 90 degrees inclusive.");if(e<-180||180<e)throw new Error("Longitude must be between -180 and 180 degrees inclusive.")}function br(e){if(!/^[-._\p{L}\p{N}]+$/iu.test(e))throw new Error("Invalid geofenceId: '"+e+"' - IDs can only contain alphanumeric characters, hyphens, underscores and periods.")}function _r(e,t){var n=t?t+": ":"";if(e.length<4)throw new Error(n+"LinearRing must contain 4 or more coordinates.");var r=[];if(e.forEach((function(e){try{yr(e[0],e[1])}catch(t){r.push({coordinates:e,error:t.message})}})),r.length>0)throw new Error(n+"One or more of the coordinates in the Polygon LinearRing are not valid: "+JSON.stringify(r));var o=a(e[0],2),i=o[0],s=o[1],l=a(e[e.length-1],2),c=l[0],u=l[1];if(i!==c||s!==u)throw new Error(n+"LinearRing's first and last coordinates are not the same");if(function(e){for(var t,n,r=(0,vr.r7)(e),o=0,i=1;i<r.length;)t=n||r[0],o+=((n=r[i])[0]-t[0])*(n[1]+t[1]),i++;return o>0}(e))throw new Error(n+"LinearRing coordinates must be wound counterclockwise")}function wr(e,t){var n=r({},t);if(n.FilterCountries=e.countries,n.MaxResults=e.maxResults,e.searchIndexName&&(n.IndexName=e.searchIndexName),e.biasPosition&&e.searchAreaConstraints)throw new Error("BiasPosition and SearchAreaConstraints are mutually exclusive, please remove one or the other from the options object");return e.biasPosition&&(n.BiasPosition=e.biasPosition),e.searchAreaConstraints&&(n.FilterBBox=e.searchAreaConstraints),n}var xr=new s.k("AmazonLocationServiceProvider"),Sr=function(){function e(e){this._config=e||{},xr.debug("Geo Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){return xr.debug("configure Amazon Location Service Provider",e),e?(this._config=Object.assign({},this._config,e),this._config):this._config},e.prototype.getAvailableMaps=function(){this._verifyMapResources();var e=[],t=this._config.maps.items,n=this._config.region;for(var r in t){var o=t[r].style;e.push({mapName:r,style:o,region:n})}return e},e.prototype.getDefaultMap=function(){this._verifyMapResources();var e=this._config.maps.default;return{mapName:e,style:this._config.maps.items[e].style,region:this._config.region}},e.prototype.searchByText=function(e,t){return o(this,void 0,void 0,(function(){var n,o,a,s,l,c;return i(this,(function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Text:e,IndexName:this._config.search_indices.default},t&&(n=r(r({},n),wr(t,n))),o=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),a=new cr(n),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,o.send(a)];case 3:return s=i.sent(),[3,5];case 4:throw l=i.sent(),xr.debug(l),l;case 5:return c=s.Results.map((function(e){return e.Place})),[2,d()(c,{deep:!0})]}}))}))},e.prototype.searchForSuggestions=function(e,t){return o(this,void 0,void 0,(function(){var n,o,a,s,l;return i(this,(function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Text:e,IndexName:this._config.search_indices.default},t&&(n=r(r({},n),wr(t,n))),o=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),a=new ur(n),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,o.send(a)];case 3:return s=i.sent(),[3,5];case 4:throw l=i.sent(),xr.debug(l),l;case 5:return[2,s.Results.map((function(e){return{text:e.Text,placeId:e.PlaceId}}))]}}))}))},e.prototype._verifyPlaceId=function(e){if(0===e.length){var t="PlaceId cannot be an empty string.";throw xr.debug(t),new Error(t)}},e.prototype.searchByPlaceId=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,s,l;return i(this,(function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),this._verifyPlaceId(e),n=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),r={PlaceId:e,IndexName:(null==t?void 0:t.searchIndexName)||this._config.search_indices.default},o=new dr(r),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,n.send(o)];case 3:return a=i.sent(),[3,5];case 4:throw s=i.sent(),xr.debug(s),s;case 5:return(l=a.Place)?[2,d()(l,{deep:!0})]:[2]}}))}))},e.prototype.searchByCoordinates=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,s,l;return i(this,(function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error("No credentials");this._verifySearchIndex(null==t?void 0:t.searchIndexName),n={Position:e,IndexName:this._config.search_indices.default},t&&(t.searchIndexName&&(n.IndexName=t.searchIndexName),n.MaxResults=t.maxResults),r=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),o=new fr(n),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,r.send(o)];case 3:return a=i.sent(),[3,5];case 4:throw s=i.sent(),xr.debug(s),s;case 5:return l=a.Results.map((function(e){return e.Place})),[2,d()(l[0],{deep:!0})]}}))}))},e.prototype.saveGeofences=function(e,t){return o(this,void 0,void 0,(function(){var n,r,s,l=this;return i(this,(function(c){switch(c.label){case 0:if(e.length<1)throw new Error("Geofence input array is empty");return[4,this._ensureCredentials()];case 1:if(!c.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(e){throw xr.debug(e),e}for(function(e){var t={};e.forEach((function(e){if(!e.geofenceId)throw new Error("Geofence '"+e+"' is missing geofenceId");var n=e.geofenceId;if(br(n),t[n])throw new Error("Duplicate geofenceId: "+n);if(t[n]=!0,!e.geometry)throw new Error("Geofence '"+n+"' is missing geometry");var r=e.geometry;if(!r.polygon)throw new Error("Geofence '"+n+"' is missing geometry.polygon");var o=r.polygon;try{!function(e,t){var n=t?t+": ":"";if(!Array.isArray(e))throw new Error(n+"Polygon is of incorrect structure. It should be an array of LinearRings");if(e.length<1)throw new Error(n+"Polygon must have a single LinearRing array.");if(e.length>1)throw new Error(n+"Polygon must have a single LinearRing array. Note: We do not currently support polygons with holes, multipolygons, polygons that are wound clockwise, or that cross the antimeridian.");if(e.reduce((function(e,t){return e+t.length}),0)>1e3)throw new Error(n+"Polygon has more than the maximum 1000 vertices.");e.forEach((function(e){_r(e,t)}))}(o,n)}catch(e){if(e.message.includes("Polygon has more than the maximum 1000 vertices."))throw new Error("Geofence '"+n+"' has more than the maximum of 1000 vertices")}_r(a(o,1)[0],n)}))}(e),n=e.map((function(e){return{GeofenceId:e.geofenceId,Geometry:{Polygon:e.geometry.polygon}}})),r={successes:[],errors:[]},s=[];n.length>0;)s.push(n.splice(0,10));return[4,Promise.all(s.map((function(e){return o(l,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchPutGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=i.sent(),[3,3];case 2:return o=i.sent(),e.forEach((function(e){r.errors.push({geofenceId:e.GeofenceId,error:{code:"APIConnectionError",message:o.message}})})),[2];case 3:return n.Successes.forEach((function(e){var t=e.GeofenceId,n=e.CreateTime,o=e.UpdateTime;r.successes.push({geofenceId:t,createTime:n,updateTime:o})})),n.Errors.forEach((function(e){var t=e.Error,n=t.Code,o=t.Message,i=e.GeofenceId;r.errors.push({error:{code:n,message:o},geofenceId:i})})),[2]}}))}))})))];case 2:return c.sent(),[2,r]}}))}))},e.prototype.getGeofence=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,s,l,c,u,d,p;return i(this,(function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==t?void 0:t.collectionName)}catch(e){throw xr.debug(e),e}br(e),n=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),r={GeofenceId:e,CollectionName:(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default},o=new pr(r),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,n.send(o)];case 3:return a=i.sent(),[3,5];case 4:throw s=i.sent(),xr.debug(s),s;case 5:return l=a.GeofenceId,c=a.CreateTime,u=a.UpdateTime,d=a.Status,p=a.Geometry,[2,{createTime:c,geofenceId:l,geometry:{polygon:p.Polygon},status:d,updateTime:u}]}}))}))},e.prototype.listGeofences=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o,a,s,l,c;return i(this,(function(i){switch(i.label){case 0:return[4,this._ensureCredentials()];case 1:if(!i.sent())throw new Error("No credentials");try{this._verifyGeofenceCollections(null==e?void 0:e.collectionName)}catch(e){throw xr.debug(e),e}t=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),n={NextToken:null==e?void 0:e.nextToken,CollectionName:(null==e?void 0:e.collectionName)||this._config.geofenceCollections.default},r=new hr(n),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.send(r)];case 3:return o=i.sent(),[3,5];case 4:throw a=i.sent(),xr.debug(a),a;case 5:return s=o.NextToken,l=o.Entries,c={entries:l.map((function(e){return{geofenceId:e.GeofenceId,createTime:e.CreateTime,updateTime:e.UpdateTime,status:e.Status,geometry:{polygon:e.Geometry.Polygon}}})),nextToken:s},[2,c]}}))}))},e.prototype.deleteGeofences=function(e,t){return o(this,void 0,void 0,(function(){var n,r,s,l,c=this;return i(this,(function(u){switch(u.label){case 0:if(e.length<1)throw new Error("GeofenceId input array is empty");return[4,this._ensureCredentials()];case 1:if(!u.sent())throw new Error("No credentials");if(this._verifyGeofenceCollections(null==t?void 0:t.collectionName),(n=e.filter((function(e){try{br(e)}catch(e){return!0}}))).length>0)throw new Error("Invalid geofence ids: "+n.join(", "));for(r={successes:[],errors:[]},s=[],l=0;l<e.length;)s.push(e.slice(l,l+=10));return[4,Promise.all(s.map((function(e){return o(c,void 0,void 0,(function(){var n,o,s,l;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._AmazonLocationServiceBatchDeleteGeofenceCall(e,(null==t?void 0:t.collectionName)||this._config.geofenceCollections.default)];case 1:return n=i.sent(),[3,3];case 2:return o=i.sent(),e.forEach((function(e){var t={geofenceId:e,error:{code:o.message,message:o.message}};r.errors.push(t)})),[2];case 3:return s=n.Errors.map((function(e){return e.geofenceId})),(l=r.successes).push.apply(l,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}(e.filter((function(e){return!s.includes(e)})))),[2]}}))}))})))];case 2:return u.sent(),[2,r]}}))}))},e.prototype._ensureCredentials=function(){return o(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,p.c.get()];case 1:return(e=r.sent())?(t=p.c.shear(e),xr.debug("Set credentials for storage. Credentials are:",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),xr.debug("Ensure credentials error. Credentials are:",n),[2,!1];case 3:return[2]}}))}))},e.prototype._verifyMapResources=function(){if(!this._config.maps){var e="No map resources found in amplify config, run 'amplify add geo' to create one and run `amplify push` after";throw xr.debug(e),new Error(e)}if(!this._config.maps.default)throw e="No default map resource found in amplify config, run 'amplify add geo' to create one and run `amplify push` after",xr.debug(e),new Error(e)},e.prototype._verifySearchIndex=function(e){if(!(this._config.search_indices&&this._config.search_indices.default||e)){var t="No Search Index found in amplify config, please run `amplify add geo` to create one and run `amplify push` after.";throw xr.debug(t),new Error(t)}},e.prototype._verifyGeofenceCollections=function(e){if(!(this._config.geofenceCollections&&this._config.geofenceCollections.default||e)){var t="No Geofence Collections found, please run `amplify add geo` to create one and run `amplify push` after.";throw xr.debug(t),new Error(t)}},e.prototype._AmazonLocationServiceBatchPutGeofenceCall=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:n={Entries:e,CollectionName:t||this._config.geofenceCollections.default},r=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),o=new mr(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.send(o)];case 2:return a=i.sent(),[3,4];case 3:throw i.sent();case 4:return[2,a]}}))}))},e.prototype._AmazonLocationServiceBatchDeleteGeofenceCall=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:n={GeofenceIds:e,CollectionName:t||this._config.geofenceCollections.default},r=new Kt({credentials:this._config.credentials,region:this._config.region,customUserAgent:(0,f.Z)()}),o=new gr(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.send(o)];case 2:return a=i.sent(),[3,4];case 3:throw i.sent();case 4:return[2,a]}}))}))},e.CATEGORY="Geo",e.PROVIDER_NAME="AmazonLocationService",e}(),Er=new s.k("Geo"),Cr="AmazonLocationService",kr=new(function(){function e(){this._config={},this._pluggables=[],Er.debug("Geo Options",this._config)}return e.prototype.getModuleName=function(){return e.MODULE},e.prototype.addPluggable=function(e){if(e&&"Geo"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));if(void 0===t)throw Er.debug("No plugin found with providerName",e),new Error("No plugin found in Geo for the provider");return t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(Er.debug("configure Geo"),!e)return this._config;var n=(0,l.h)(e);return this._config=Object.assign({},this._config,n.Geo,e),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new Sr),this._config},e.prototype.getAvailableMaps=function(e){return void 0===e&&(e=Cr),this.getPluggable(e).getAvailableMaps()},e.prototype.getDefaultMap=function(e){return void 0===e&&(e=Cr),this.getPluggable(e).getDefaultMap()},e.prototype.searchByText=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:n=(t||{}).providerName,r=void 0===n?Cr:n,o=this.getPluggable(r),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.searchByText(e,t)];case 2:return[2,i.sent()];case 3:throw a=i.sent(),Er.debug(a),a;case 4:return[2]}}))}))},e.prototype.searchForSuggestions=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:n=(t||{}).providerName,r=void 0===n?Cr:n,o=this.getPluggable(r),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.searchForSuggestions(e,t)];case 2:return[2,i.sent()];case 3:throw a=i.sent(),Er.debug(a),a;case 4:return[2]}}))}))},e.prototype.searchByPlaceId=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:n=Cr,r=this.getPluggable(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.searchByPlaceId(e,t)];case 2:return[2,i.sent()];case 3:throw o=i.sent(),Er.debug(o),o;case 4:return[2]}}))}))},e.prototype.searchByCoordinates=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,s,l,c,u;return i(this,(function(i){switch(i.label){case 0:n=(t||{}).providerName,r=void 0===n?Cr:n,o=this.getPluggable(r),s=a(e,2),l=s[0],c=s[1],i.label=1;case 1:return i.trys.push([1,3,,4]),yr(l,c),[4,o.searchByCoordinates(e,t)];case 2:return[2,i.sent()];case 3:throw u=i.sent(),Er.debug(u),u;case 4:return[2]}}))}))},e.prototype.saveGeofences=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,s;return i(this,(function(i){switch(i.label){case 0:n=(t||{}).providerName,r=void 0===n?Cr:n,o=this.getPluggable(r),a=Array.isArray(e)?e:[e],i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.saveGeofences(a,t)];case 2:return[2,i.sent()];case 3:throw s=i.sent(),Er.debug(s),s;case 4:return[2]}}))}))},e.prototype.getGeofence=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){switch(i.label){case 0:n=(t||{}).providerName,r=void 0===n?Cr:n,o=this.getPluggable(r),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.getGeofence(e,t)];case 2:return[2,i.sent()];case 3:throw a=i.sent(),Er.debug(a),a;case 4:return[2]}}))}))},e.prototype.listGeofences=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:t=(e||{}).providerName,n=void 0===t?Cr:t,r=this.getPluggable(n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.listGeofences(e)];case 2:return[2,i.sent()];case 3:throw o=i.sent(),Er.debug(o),o;case 4:return[2]}}))}))},e.prototype.deleteGeofences=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,s;return i(this,(function(i){switch(i.label){case 0:n=(t||{}).providerName,r=void 0===n?Cr:n,o=this.getPluggable(r),a=Array.isArray(e)?e:[e],i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.deleteGeofences(a,t)];case 2:return[2,i.sent()];case 3:throw s=i.sent(),Er.debug(s),s;case 4:return[2]}}))}))},e.MODULE="Geo",e}());c.d.register(kr)},65258:(e,t,n)=>{"use strict";var r;n.d(t,{S:()=>r}),function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED_EVENT",e.MESSAGE_DISPLAYED="MESSAGE_DISPLAYED_EVENT",e.MESSAGE_DISMISSED="MESSAGE_DISMISSED_EVENT",e.MESSAGE_ACTION_TAKEN="MESSAGE_ACTION_TAKEN_EVENT"}(r||(r={}))},37427:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Kr});var r=n(70655),o=n(35069),i=n(25387),a=n(20490),s=n(6648),l=n(85564),c=n.n(l),u=n(9270),d=n(59222),f=n(40611),p=n(9733),h=n(81282),m={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},g={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function v(e,t,n){return{applyToStack:function(o){o.add(function(e,t){return function(n,o){return function(o){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,n(o)];case 1:i=r.sent().response,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,t(i,e)];case 3:return a=r.sent(),[2,{response:i,output:a}];case 4:throw s=r.sent(),Object.defineProperty(s,"$response",{value:i}),s;case 5:return[2]}}))}))}}}(e,n),m),o.add(function(e,t){return function(n,o){return function(i){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a,s,l;return(0,r.__generator)(this,(function(c){switch(c.label){case 0:if(!(a=(null===(l=o.endpointV2)||void 0===l?void 0:l.url)&&e.urlParser?function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,e.urlParser(o.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(i.input,(0,r.__assign)((0,r.__assign)({},e),{endpoint:a}))];case 1:return s=c.sent(),[2,n((0,r.__assign)((0,r.__assign)({},i),{request:s}))]}}))}))}}}(e,t),g)}}}var y=function(){var e=[],t=[],n=new Set,o=function(n){return e.forEach((function(e){n.add(e.middleware,(0,r.__assign)({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,(0,r.__assign)({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,r.__spreadArray)([],(0,r.__read)(i(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,r.__spreadArray)([],(0,r.__read)(i(e)),!1))})),t},a=function(n){void 0===n&&(n=!1);var o,a=[],s=[],l={};return e.forEach((function(e){var t=(0,r.__assign)((0,r.__assign)({},e),{before:[],after:[]});t.name&&(l[t.name]=t),a.push(t)})),t.forEach((function(e){var t=(0,r.__assign)((0,r.__assign)({},e),{before:[],after:[]});t.name&&(l[t.name]=t),s.push(t)})),s.forEach((function(e){if(e.toMiddleware){var t=l[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(o=a,o.sort((function(e,t){return b[t.step]-b[e.step]||_[t.priority||"normal"]-_[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,(0,r.__spreadArray)([],(0,r.__read)(t),!1)),e}),[])},s={add:function(t,o){void 0===o&&(o={});var i=o.name,a=o.override,s=(0,r.__assign)({step:"initialize",priority:"normal",middleware:t},o);if(i){if(n.has(i)){if(!a)throw new Error("Duplicate middleware name '".concat(i,"'"));var l=e.findIndex((function(e){return e.name===i})),c=e[l];if(c.step!==s.step||c.priority!==s.priority)throw new Error('"'.concat(i,'" middleware with ').concat(c.priority," priority in ").concat(c.step," step cannot be ")+"overridden by same-name middleware with ".concat(s.priority," priority in ").concat(s.step," step."));e.splice(l,1)}n.add(i)}e.push(s)},addRelativeTo:function(e,o){var i=o.name,a=o.override,s=(0,r.__assign)({middleware:e},o);if(i){if(n.has(i)){if(!a)throw new Error("Duplicate middleware name '".concat(i,"'"));var l=t.findIndex((function(e){return e.name===i})),c=t[l];if(c.toMiddleware!==s.toMiddleware||c.relation!==s.relation)throw new Error('"'.concat(i,'" middleware ').concat(c.relation,' "').concat(c.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(s.relation,' "').concat(s.toMiddleware,'" middleware.'));t.splice(l,1)}n.add(i)}t.push(s)},clone:function(){return o(y())},use:function(e){e.applyToStack(s)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=o(y());return t.use(e),t},applyToStack:o,identify:function(){return a(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,o;try{for(var i=(0,r.__values)(a().map((function(e){return e.middleware})).reverse()),s=i.next();!s.done;s=i.next())e=(0,s.value)(e,t)}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e}};return s},b={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},_={high:3,normal:2,low:1},w=function(){function e(e){this.middlewareStack=y(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),x=function(){this.middlewareStack=y()},S=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}),E=function(e){return C(e,32)},C=function(e,t){var n=S(e);if(void 0!==n&&k(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},k=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},A=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},T=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return M.warn(O("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},I=function(e){return"string"==typeof e?P(e):function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&M.warn(O("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}}(e)},P=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},O=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},M={warn:console.warn},N=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return(0,r.__extends)(t,e),t}(Error),L=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==(0,r.__read)(e,2)[1]})).forEach((function(t){var n=(0,r.__read)(t,2),o=n[0],i=n[1];null!=e[o]&&""!==e[o]||(e[o]=i)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},R=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,o=e.errorCode,i=D(t),a=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||o||a||"UnknowError",$fault:"client",$metadata:i});throw L(s,n)},D=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},z=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},F=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,r.__spreadArray)([null],(0,r.__read)(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};function U(e,t,n){var o,i,a,s;if(void 0===t&&void 0===n)a={},s=e;else{if(a=e,"function"==typeof t)return j(a,t,s=n);s=t}try{for(var l=(0,r.__values)(Object.keys(s)),c=l.next();!c.done;c=l.next()){var u=c.value;if(Array.isArray(s[u])){var d=(0,r.__read)(s[u],2),f=d[0],p=d[1];if("function"==typeof p){var h=void 0,m=void 0===f&&null!=(h=p()),g="function"==typeof f&&!!f(void 0)||"function"!=typeof f&&!!f;m?a[u]=h:g&&(a[u]=p())}else m=void 0===f&&null!=p,g="function"==typeof f&&!!f(p)||"function"!=typeof f&&!!f,(m||g)&&(a[u]=p)}else a[u]=s[u]}}catch(e){o={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return a}F.prototype=Object.create(String.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(F,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,r.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(F);var j=function(e,t,n){return U(e,Object.entries(n).reduce((function(e,n){var o=(0,r.__read)(n,2),i=o[0],a=o[1];return Array.isArray(a)?e[i]=a:e[i]="function"==typeof a?[t,a()]:[t,a],e}),{}))};function B(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var V,G,q,H,W,K,$,Z,Y,J,X,Q=function(e,t,n,r,o,i){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(o,i?a.split("/").map((function(e){return B(e)})).join("/"):B(a))},ee=function(e){if(e!=e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},te=function(e){return(0,r.__assign)({},e)},ne=function(e){return(0,r.__assign)({},e)},re=function(e){return(0,r.__assign)({},e)},oe=function(e){return(0,r.__assign)({},e)},ie=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,r.__assign)((0,r.__assign)({},this),{headers:(0,r.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var o,i=t[n];return(0,r.__assign)((0,r.__assign)({},e),((o={})[n]=Array.isArray(i)?(0,r.__spreadArray)([],(0,r.__read)(i),!1):i,o))}),{}))),n},e}(),ae=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),se=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,r.__extends)(t,e),t}(N);!function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.IN_APP="IN_APP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(V||(V={})),function(e){e.DEEP_LINK="DEEP_LINK",e.OPEN_APP="OPEN_APP",e.URL="URL"}(G||(G={})),function(e){e.AFTER="AFTER",e.BEFORE="BEFORE",e.BETWEEN="BETWEEN",e.CONTAINS="CONTAINS",e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE",e.ON="ON"}(q||(q={})),function(e){e.EXCLUSIVE="EXCLUSIVE",e.INCLUSIVE="INCLUSIVE"}(H||(H={})),function(e){e.DAY_14="DAY_14",e.DAY_30="DAY_30",e.DAY_7="DAY_7",e.HR_24="HR_24"}(W||(W={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE"}(K||(K={})),function(e){e.ALL="ALL",e.ANY="ANY"}($||($={})),function(e){e.PROMOTIONAL="PROMOTIONAL",e.TRANSACTIONAL="TRANSACTIONAL"}(Z||(Z={})),function(e){e.ADM="ADM",e.APNS="APNS",e.APNS_SANDBOX="APNS_SANDBOX",e.APNS_VOIP="APNS_VOIP",e.APNS_VOIP_SANDBOX="APNS_VOIP_SANDBOX",e.BAIDU="BAIDU",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.GCM="GCM",e.IN_APP="IN_APP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(Y||(Y={})),function(e){e.CENTER="CENTER",e.LEFT="LEFT",e.RIGHT="RIGHT"}(J||(J={})),function(e){e.DELIVERY="DELIVERY",e.FILTER="FILTER"}(X||(X={}));var le,ce,ue,de,fe,pe,he=function(e){function t(n){var o=e.call(this,(0,r.__assign)({name:"BadRequestException",$fault:"client"},n))||this;return o.name="BadRequestException",o.$fault="client",Object.setPrototypeOf(o,t.prototype),o.Message=n.Message,o.RequestID=n.RequestID,o}return(0,r.__extends)(t,e),t}(se);!function(e){e.CLOSE="CLOSE",e.DEEP_LINK="DEEP_LINK",e.LINK="LINK"}(le||(le={})),function(e){e.ENDPOINT="ENDPOINT",e.SYSTEM="SYSTEM"}(ce||(ce={})),function(e){e.BOTTOM_BANNER="BOTTOM_BANNER",e.CAROUSEL="CAROUSEL",e.MIDDLE_BANNER="MIDDLE_BANNER",e.MOBILE_FEED="MOBILE_FEED",e.OVERLAYS="OVERLAYS",e.TOP_BANNER="TOP_BANNER"}(ue||(ue={})),function(e){e.DAILY="DAILY",e.EVENT="EVENT",e.HOURLY="HOURLY",e.IN_APP_EVENT="IN_APP_EVENT",e.MONTHLY="MONTHLY",e.ONCE="ONCE",e.WEEKLY="WEEKLY"}(de||(de={})),function(e){e.COMPLETED="COMPLETED",e.DELETED="DELETED",e.EXECUTING="EXECUTING",e.INVALID="INVALID",e.PAUSED="PAUSED",e.PENDING_NEXT_RUN="PENDING_NEXT_RUN",e.SCHEDULED="SCHEDULED"}(fe||(fe={})),pe=se,(0,r.__extends)((function e(t){var n=pe.call(this,(0,r.__assign)({name:"ConflictException",$fault:"client"},t))||this;return n.name="ConflictException",n.$fault="client",Object.setPrototypeOf(n,e.prototype),n.Message=t.Message,n.RequestID=t.RequestID,n}),pe);var me,ge,ve,ye,be,_e,we,xe,Se,Ee,Ce=function(e){function t(n){var o=e.call(this,(0,r.__assign)({name:"ForbiddenException",$fault:"client"},n))||this;return o.name="ForbiddenException",o.$fault="client",Object.setPrototypeOf(o,t.prototype),o.Message=n.Message,o.RequestID=n.RequestID,o}return(0,r.__extends)(t,e),t}(se),ke=function(e){function t(n){var o=e.call(this,(0,r.__assign)({name:"InternalServerErrorException",$fault:"server"},n))||this;return o.name="InternalServerErrorException",o.$fault="server",Object.setPrototypeOf(o,t.prototype),o.Message=n.Message,o.RequestID=n.RequestID,o}return(0,r.__extends)(t,e),t}(se),Ae=function(e){function t(n){var o=e.call(this,(0,r.__assign)({name:"MethodNotAllowedException",$fault:"client"},n))||this;return o.name="MethodNotAllowedException",o.$fault="client",Object.setPrototypeOf(o,t.prototype),o.Message=n.Message,o.RequestID=n.RequestID,o}return(0,r.__extends)(t,e),t}(se),Te=function(e){function t(n){var o=e.call(this,(0,r.__assign)({name:"NotFoundException",$fault:"client"},n))||this;return o.name="NotFoundException",o.$fault="client",Object.setPrototypeOf(o,t.prototype),o.Message=n.Message,o.RequestID=n.RequestID,o}return(0,r.__extends)(t,e),t}(se),Ie=function(e){function t(n){var o=e.call(this,(0,r.__assign)({name:"PayloadTooLargeException",$fault:"client"},n))||this;return o.name="PayloadTooLargeException",o.$fault="client",Object.setPrototypeOf(o,t.prototype),o.Message=n.Message,o.RequestID=n.RequestID,o}return(0,r.__extends)(t,e),t}(se),Pe=function(e){function t(n){var o=e.call(this,(0,r.__assign)({name:"TooManyRequestsException",$fault:"client"},n))||this;return o.name="TooManyRequestsException",o.$fault="client",Object.setPrototypeOf(o,t.prototype),o.Message=n.Message,o.RequestID=n.RequestID,o}return(0,r.__extends)(t,e),t}(se);!function(e){e.COMPLETED="COMPLETED",e.COMPLETING="COMPLETING",e.CREATED="CREATED",e.FAILED="FAILED",e.FAILING="FAILING",e.INITIALIZING="INITIALIZING",e.PENDING_JOB="PENDING_JOB",e.PREPARING_FOR_INITIALIZATION="PREPARING_FOR_INITIALIZATION",e.PROCESSING="PROCESSING"}(me||(me={})),function(e){e.CSV="CSV",e.JSON="JSON"}(ge||(ge={})),function(e){e.FRIDAY="FRIDAY",e.MONDAY="MONDAY",e.SATURDAY="SATURDAY",e.SUNDAY="SUNDAY",e.THURSDAY="THURSDAY",e.TUESDAY="TUESDAY",e.WEDNESDAY="WEDNESDAY"}(ve||(ve={})),function(e){e.ACTIVE="ACTIVE",e.CANCELLED="CANCELLED",e.CLOSED="CLOSED",e.COMPLETED="COMPLETED",e.DRAFT="DRAFT",e.PAUSED="PAUSED"}(ye||(ye={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(be||(be={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(_e||(_e={})),function(e){e.ALL="ALL",e.ANY="ANY",e.NONE="NONE"}(we||(we={})),function(e){e.DIMENSIONAL="DIMENSIONAL",e.IMPORT="IMPORT"}(xe||(xe={})),function(e){e.DUPLICATE="DUPLICATE",e.OPT_OUT="OPT_OUT",e.PERMANENT_FAILURE="PERMANENT_FAILURE",e.SUCCESSFUL="SUCCESSFUL",e.TEMPORARY_FAILURE="TEMPORARY_FAILURE",e.THROTTLED="THROTTLED",e.UNKNOWN_FAILURE="UNKNOWN_FAILURE"}(Se||(Se={})),function(e){e.EMAIL="EMAIL",e.INAPP="INAPP",e.PUSH="PUSH",e.SMS="SMS",e.VOICE="VOICE"}(Ee||(Ee={}));var Oe,Me=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return o=[(0,r.__assign)({},e)],s={},[4,pt(e.body,t)];case 1:switch(n=r.__assign.apply(void 0,o.concat([(s.body=l.sent(),s)])),i=ht(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return[4,Re(n,t)];case 3:throw l.sent();case 4:return[4,De(n,t)];case 5:throw l.sent();case 6:return[4,ze(n,t)];case 7:throw l.sent();case 8:return[4,Fe(n,t)];case 9:throw l.sent();case 10:return[4,Ue(n,t)];case 11:throw l.sent();case 12:return[4,je(n,t)];case 13:throw l.sent();case 14:return[4,Be(n,t)];case 15:throw l.sent();case 16:a=n.body,R({output:e,parsedBody:a,exceptionCtor:se,errorCode:i}),l.label=17;case 17:return[2]}}))}))},Ne=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return o=[(0,r.__assign)({},e)],s={},[4,pt(e.body,t)];case 1:switch(n=r.__assign.apply(void 0,o.concat([(s.body=l.sent(),s)])),i=ht(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return[4,Re(n,t)];case 3:throw l.sent();case 4:return[4,De(n,t)];case 5:throw l.sent();case 6:return[4,ze(n,t)];case 7:throw l.sent();case 8:return[4,Fe(n,t)];case 9:throw l.sent();case 10:return[4,Ue(n,t)];case 11:throw l.sent();case 12:return[4,je(n,t)];case 13:throw l.sent();case 14:return[4,Be(n,t)];case 15:throw l.sent();case 16:a=n.body,R({output:e,parsedBody:a,exceptionCtor:se,errorCode:i}),l.label=17;case 17:return[2]}}))}))},Le=U,Re=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){return t=Le({}),null!=(n=e.body).Message&&(t.Message=T(n.Message)),null!=n.RequestID&&(t.RequestID=T(n.RequestID)),o=new he((0,r.__assign)({$metadata:dt(e)},t)),[2,L(o,e.body)]}))}))},De=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){return t=Le({}),null!=(n=e.body).Message&&(t.Message=T(n.Message)),null!=n.RequestID&&(t.RequestID=T(n.RequestID)),o=new Ce((0,r.__assign)({$metadata:dt(e)},t)),[2,L(o,e.body)]}))}))},ze=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){return t=Le({}),null!=(n=e.body).Message&&(t.Message=T(n.Message)),null!=n.RequestID&&(t.RequestID=T(n.RequestID)),o=new ke((0,r.__assign)({$metadata:dt(e)},t)),[2,L(o,e.body)]}))}))},Fe=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){return t=Le({}),null!=(n=e.body).Message&&(t.Message=T(n.Message)),null!=n.RequestID&&(t.RequestID=T(n.RequestID)),o=new Ae((0,r.__assign)({$metadata:dt(e)},t)),[2,L(o,e.body)]}))}))},Ue=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){return t=Le({}),null!=(n=e.body).Message&&(t.Message=T(n.Message)),null!=n.RequestID&&(t.RequestID=T(n.RequestID)),o=new Te((0,r.__assign)({$metadata:dt(e)},t)),[2,L(o,e.body)]}))}))},je=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){return t=Le({}),null!=(n=e.body).Message&&(t.Message=T(n.Message)),null!=n.RequestID&&(t.RequestID=T(n.RequestID)),o=new Ie((0,r.__assign)({$metadata:dt(e)},t)),[2,L(o,e.body)]}))}))},Be=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o;return(0,r.__generator)(this,(function(i){return t=Le({}),null!=(n=e.body).Message&&(t.Message=T(n.Message)),null!=n.RequestID&&(t.RequestID=T(n.RequestID)),o=new Pe((0,r.__assign)({$metadata:dt(e)},t)),[2,L(o,e.body)]}))}))},Ve=function(e,t){return(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},null!=e.AppVersion&&{AppVersion:e.AppVersion}),null!=e.Locale&&{Locale:e.Locale}),null!=e.Make&&{Make:e.Make}),null!=e.Model&&{Model:e.Model}),null!=e.ModelVersion&&{ModelVersion:e.ModelVersion}),null!=e.Platform&&{Platform:e.Platform}),null!=e.PlatformVersion&&{PlatformVersion:e.PlatformVersion}),null!=e.Timezone&&{Timezone:e.Timezone})},Ge=function(e,t){return(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},null!=e.City&&{City:e.City}),null!=e.Country&&{Country:e.Country}),null!=e.Latitude&&{Latitude:ee(e.Latitude)}),null!=e.Longitude&&{Longitude:ee(e.Longitude)}),null!=e.PostalCode&&{PostalCode:e.PostalCode}),null!=e.Region&&{Region:e.Region})},qe=function(e,t){return(0,r.__assign)((0,r.__assign)({},null!=e.UserAttributes&&{UserAttributes:We(e.UserAttributes,t)}),null!=e.UserId&&{UserId:e.UserId})},He=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=(0,r.__read)(t,2),i=o[0],a=o[1];return null===a?e:(0,r.__assign)((0,r.__assign)({},e),((n={})[i]=ee(a),n))}),{})},We=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=(0,r.__read)(t,2),i=o[0],a=o[1];return null===a?e:(0,r.__assign)((0,r.__assign)({},e),((n={})[i]=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))}(a),n))}),{})},Ke=function(e,t){return{Dimensions:null!=e.Dimensions?Ze(e.Dimensions,t):void 0,FilterType:T(e.FilterType)}},$e=function(e,t){return{BackgroundColor:T(e.BackgroundColor),BorderRadius:E(e.BorderRadius),ButtonAction:T(e.ButtonAction),Link:T(e.Link),Text:T(e.Text),TextColor:T(e.TextColor)}},Ze=function(e,t){return{Attributes:null!=e.Attributes?it(e.Attributes,t):void 0,EventType:null!=e.EventType?ut(e.EventType,t):void 0,Metrics:null!=e.Metrics?at(e.Metrics,t):void 0}},Ye=function(e,t){return{EndDate:T(e.EndDate),EventFilter:null!=e.EventFilter?Ke(e.EventFilter,t):void 0,QuietTime:null!=e.QuietTime?ct(e.QuietTime,t):void 0}},Je=function(e,t){return{Content:null!=e.Content?rt(e.Content,t):void 0,CustomConfig:null!=e.CustomConfig?ot(e.CustomConfig,t):void 0,Layout:T(e.Layout)}},Xe=function(e,t){return{Alignment:T(e.Alignment),Body:T(e.Body),TextColor:T(e.TextColor)}},Qe=function(e,t){return{Android:null!=e.Android?lt(e.Android,t):void 0,DefaultConfig:null!=e.DefaultConfig?$e(e.DefaultConfig):void 0,IOS:null!=e.IOS?lt(e.IOS,t):void 0,Web:null!=e.Web?lt(e.Web,t):void 0}},et=function(e,t){return{Alignment:T(e.Alignment),Header:T(e.Header),TextColor:T(e.TextColor)}},tt=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:T(e)}))},nt=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{CampaignId:T(e.CampaignId),DailyCap:E(e.DailyCap),InAppMessage:null!=e.InAppMessage?Je(e.InAppMessage,t):void 0,Priority:E(e.Priority),Schedule:null!=e.Schedule?Ye(e.Schedule,t):void 0,SessionCap:E(e.SessionCap),TotalCap:E(e.TotalCap),TreatmentId:T(e.TreatmentId)}}(e,t)}));return n},rt=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{BackgroundColor:T(e.BackgroundColor),BodyConfig:null!=e.BodyConfig?Xe(e.BodyConfig):void 0,HeaderConfig:null!=e.HeaderConfig?et(e.HeaderConfig):void 0,ImageUrl:T(e.ImageUrl),PrimaryBtn:null!=e.PrimaryBtn?Qe(e.PrimaryBtn,t):void 0,SecondaryBtn:null!=e.SecondaryBtn?Qe(e.SecondaryBtn,t):void 0}}(e,t)}));return n},ot=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=(0,r.__read)(t,2),i=o[0],a=o[1];return null===a?e:(0,r.__assign)((0,r.__assign)({},e),((n={})[i]=T(a),n))}),{})},it=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=(0,r.__read)(t,2),i=o[0],a=o[1];return null===a?e:(0,r.__assign)((0,r.__assign)({},e),((n={})[i]=function(e,t){return{AttributeType:T(e.AttributeType),Values:null!=e.Values?tt(e.Values):void 0}}(a),n))}),{})},at=function(e,t){return Object.entries(e).reduce((function(e,n){var o,i=(0,r.__read)(n,2),a=i[0],s=i[1];return null===s?e:(0,r.__assign)((0,r.__assign)({},e),((o={})[a]=st(s,t),o))}),{})},st=function(e,t){return{ComparisonOperator:T(e.ComparisonOperator),Value:I(e.Value)}},lt=function(e,t){return{ButtonAction:T(e.ButtonAction),Link:T(e.Link)}},ct=function(e,t){return{End:T(e.End),Start:T(e.Start)}},ut=function(e,t){return{DimensionType:T(e.DimensionType),Values:null!=e.Values?tt(e.Values):void 0}},dt=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ft=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},pt=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,ft(e,t)];case 1:return(n=r.sent()).message=null!==(o=n.message)&&void 0!==o?o:n.Message,[2,n]}}))}))},ht=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},mt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(v(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"GetInAppMessagesCommand",inputFilterSensitiveLog:te,outputFilterSensitiveLog:ne},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.endpoint()];case 1:return n=r.sent(),o=n.hostname,i=n.protocol,a=void 0===i?"https":i,s=n.port,l=n.path,c={},u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/v1/apps/{ApplicationId}/endpoints/{EndpointId}/inappmessages",u=Q(u,e,"ApplicationId",(function(){return e.ApplicationId}),"{ApplicationId}",!1),u=Q(u,e,"EndpointId",(function(){return e.EndpointId}),"{EndpointId}",!1),[2,new ie({protocol:a,hostname:o,port:s,method:"GET",headers:c,path:u,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Me(e,t)]:(n=Le({$metadata:dt(e)}),i=A,[4,ft(e.body,t)]);case 1:return o=i.apply(void 0,[r.sent()]),n.InAppMessagesResponse=function(e,t){return{InAppMessageCampaigns:null!=e.InAppMessageCampaigns?nt(e.InAppMessageCampaigns,t):void 0}}(o,t),[2,n]}}))}))}(e,t)},t}(x),gt=(n(51891),n(57079)),vt=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},yt=function(e){return vt(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},bt=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,o=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&o===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},_t=function(e,t){var n,o,i,a,s,l,c=t.useFipsEndpoint,u=void 0!==c&&c,d=t.useDualstackEndpoint,f=void 0!==d&&d,p=t.signingService,h=t.regionHash,m=t.partitionHash,g=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:m}),v=e in h?e:null!==(o=null===(n=m[g])||void 0===n?void 0:n.endpoint)&&void 0!==o?o:e,y={useFipsEndpoint:u,useDualstackEndpoint:f},b=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(v,{regionHostname:bt(null===(i=h[v])||void 0===i?void 0:i.variants,y),partitionHostname:bt(null===(a=m[g])||void 0===a?void 0:a.variants,y)});if(void 0===b)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:v,useFipsEndpoint:u,useDualstackEndpoint:f}));var _=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(r);if(o)return o[0].slice(1,-1)}}(b,{signingRegion:null===(s=h[v])||void 0===s?void 0:s.signingRegion,regionRegex:m[g].regionRegex,useFipsEndpoint:u});return(0,r.__assign)((0,r.__assign)({partition:g,signingService:p,hostname:b},_&&{signingRegion:_}),(null===(l=h[v])||void 0===l?void 0:l.signingService)&&{signingService:h[v].signingService})},wt="content-length",xt={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},St={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Et={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ct=n(48777);!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(Oe||(Oe={}));var kt,At=Oe.STANDARD,Tt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],It=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Pt=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Ot=[500,502,503,504],Mt=["ECONNRESET","EPIPE","ETIMEDOUT"],Nt=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||It.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Lt=function(){function e(e){var t,n,r,o,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(o=null==e?void 0:e.scaleConstant)&&void 0!==o?o:.4,this.smooth=null!==(i=null==e?void 0:e.smooth)&&void 0!==i?i:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),Nt(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),Rt=new Uint8Array(16);function Dt(){if(!kt&&!(kt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kt(Rt)}const zt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ft=function(e){return"string"==typeof e&&zt.test(e)};for(var Ut=[],jt=0;jt<256;++jt)Ut.push((jt+256).toString(16).substr(1));const Bt=function(e,t,n){var r=(e=e||{}).random||(e.rng||Dt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ut[e[t+0]]+Ut[e[t+1]]+Ut[e[t+2]]+Ut[e[t+3]]+"-"+Ut[e[t+4]]+Ut[e[t+5]]+"-"+Ut[e[t+6]]+Ut[e[t+7]]+"-"+Ut[e[t+8]]+Ut[e[t+9]]+"-"+Ut[e[t+10]]+Ut[e[t+11]]+Ut[e[t+12]]+Ut[e[t+13]]+Ut[e[t+14]]+Ut[e[t+15]]).toLowerCase();if(!Ft(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var Vt=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Gt=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Tt.includes(e.name)}(e)||Nt(e)||function(e){var t;return Pt.includes(e.name)||Mt.includes((null==e?void 0:e.code)||"")||Ot.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},qt=function(){function e(e,t){var n,r,o,i,a,s,l,c,u;this.maxAttemptsProvider=e,this.mode=Oe.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Gt,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Vt,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=1,a=5,s=10,l=500,c=function(e){return"TimeoutError"===e.name?s:a},u=function(e){return c(e)<=l},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=c(e);return l-=t,t},releaseRetryTokens:function(e){l+=null!=e?e:i,l=Math.min(l,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return i=0,a=0,[4,this.getMaxAttempts()];case 1:s=f.sent(),l=t.request,ie.isInstance(l)&&(l.headers["amz-sdk-invocation-id"]=Bt()),c=function(){var c,d,f,p,h,m,g,v;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,7]),ie.isInstance(l)&&(l.headers["amz-sdk-request"]="attempt=".concat(i+1,"; max=").concat(s)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,e(t)];case 3:return c=r.sent(),d=c.response,f=c.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(d),u.retryQuota.releaseRetryTokens(o),f.$metadata.attempts=i+1,f.$metadata.totalRetryDelay=a,[2,{value:{response:d,output:f}}];case 4:return p=r.sent(),h=Wt(p),i++,u.shouldRetry(h,i,s)?(o=u.retryQuota.retrieveRetryTokens(h),m=u.delayDecider(Nt(h)?500:100,i),g=Ht(h.$response),v=Math.max(g||0,m),a+=v,[4,new Promise((function(e){return setTimeout(e,v)}))]):[3,6];case 5:return r.sent(),[2,"continue"];case 6:throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=i,h.$metadata.totalRetryDelay=a,h;case 7:return[2]}}))},u=this,f.label=2;case 2:return[5,c()];case 3:return"object"==typeof(d=f.sent())?[2,d.value]:[3,2];case 4:return[2]}}))}))},e}(),Ht=function(e){if(ae.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},Wt=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},Kt=function(e){function t(t,n){var o=this,i=null!=n?n:{},a=i.rateLimiter,s=(0,r.__rest)(i,["rateLimiter"]);return(o=e.call(this,t,s)||this).rateLimiter=null!=a?a:new Lt,o.mode=Oe.ADAPTIVE,o}return(0,r.__extends)(t,e),t.prototype.retry=function(t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o=this;return(0,r.__generator)(this,(function(i){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return(0,r.__awaiter)(o,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){o.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(qt),$t={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Zt=function(e){function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n)||this;return o.tryNextLink=r,o.name="ProviderError",Object.setPrototypeOf(o,t.prototype),o}return(0,r.__extends)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);(function(e){(0,r.__extends)((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="CredentialsProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)})(Zt),function(e){(0,r.__extends)((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="TokenProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)}(Zt);for(var Yt={},Jt={},Xt=0;Xt<256;Xt++){var Qt=Xt.toString(16).toLowerCase();1===Qt.length&&(Qt="0".concat(Qt)),Yt[Xt]=Qt,Jt[Qt]=Xt}function en(e){for(var t="",n=0;n<e.byteLength;n++)t+=Yt[e[n]];return t}var tn="X-Amz-Date",nn="X-Amz-Signature",rn="X-Amz-Security-Token",on="authorization",an=tn.toLowerCase(),sn=[on,an,"date"],ln=nn.toLowerCase(),cn="x-amz-content-sha256",un=rn.toLowerCase(),dn={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},fn=/^proxy-/,pn=/^sec-/,hn="AWS4-HMAC-SHA256",mn="AWS4-HMAC-SHA256-PAYLOAD",gn="aws4_request",vn={},yn=[],bn=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(gn)},_n=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},wn=function(e,t,n){var o,i,a=e.headers,s={};try{for(var l=(0,r.__values)(Object.keys(a).sort()),c=l.next();!c.done;c=l.next()){var u=c.value;if(null!=a[u]){var d=u.toLowerCase();(d in dn||(null==t?void 0:t.has(d))||fn.test(d)||pn.test(d))&&(!n||n&&!n.has(d))||(s[d]=a[u].trim().replace(/\s+/g," "))}}}catch(e){o={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return s},xn=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Sn)},Sn=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},En=function(e,t){var n=e.headers,o=e.body;return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,i,a,s,l,c,u;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:try{for(e=(0,r.__values)(Object.keys(n)),i=e.next();!i.done;i=e.next())if((a=i.value).toLowerCase()===cn)return[2,n[a]]}catch(e){c={error:e}}finally{try{i&&!i.done&&(u=e.return)&&u.call(e)}finally{if(c)throw c.error}}return null!=o?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof o||ArrayBuffer.isView(o)||(f=o,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((s=new t).update(o),l=en,[4,s.digest()]):[3,3];case 2:return[2,l.apply(void 0,[d.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))},Cn=function(e){var t=e.headers,n=e.query,o=(0,r.__rest)(e,["headers","query"]);return(0,r.__assign)((0,r.__assign)({},o),{headers:(0,r.__assign)({},t),query:n?kn(n):void 0})},kn=function(e){return Object.keys(e).reduce((function(t,n){var o,i=e[n];return(0,r.__assign)((0,r.__assign)({},t),((o={})[n]=Array.isArray(i)?(0,r.__spreadArray)([],(0,r.__read)(i),!1):i,o))}),{})},An=function(e){var t,n;e="function"==typeof e.clone?e.clone():Cn(e);try{for(var o=(0,r.__values)(Object.keys(e.headers)),i=o.next();!i.done;i=o.next()){var a=i.value;sn.indexOf(a.toLowerCase())>-1&&delete e.headers[a]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return e},Tn=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=(0,gt.$)(r),this.credentialProvider=(0,gt.$)(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k;return(0,r.__generator)(this,(function(A){switch(A.label){case 0:return n=t.signingDate,o=void 0===n?new Date:n,i=t.expiresIn,a=void 0===i?3600:i,s=t.unsignableHeaders,l=t.unhoistableHeaders,c=t.signableHeaders,u=t.signingRegion,d=t.signingService,[4,this.credentialProvider()];case 1:return f=A.sent(),this.validateResolvedCredentials(f),null==u?[3,2]:(h=u,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=A.sent(),A.label=4;case 4:return p=h,m=In(o),g=m.longDate,v=m.shortDate,a>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(y=bn(v,p,null!=d?d:this.service),b=function(e,t){var n,o,i;void 0===t&&(t={});var a="function"==typeof e.clone?e.clone():Cn(e),s=a.headers,l=a.query,c=void 0===l?{}:l;try{for(var u=(0,r.__values)(Object.keys(s)),d=u.next();!d.done;d=u.next()){var f=d.value,p=f.toLowerCase();"x-amz-"!==p.slice(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(p))||(c[f]=s[f],delete s[f])}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return(0,r.__assign)((0,r.__assign)({},e),{headers:s,query:c})}(An(e),{unhoistableHeaders:l}),f.sessionToken&&(b.query[rn]=f.sessionToken),b.query["X-Amz-Algorithm"]=hn,b.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(y),b.query[tn]=g,b.query["X-Amz-Expires"]=a.toString(10),_=wn(b,s,c),b.query["X-Amz-SignedHeaders"]=Pn(_),w=b.query,x=nn,S=this.getSignature,E=[g,y,this.getSigningKey(f,p,v,d)],C=this.createCanonicalRequest,k=[b,_],[4,En(e,this.sha256)]);case 5:return[4,S.apply(this,E.concat([C.apply(this,k.concat([A.sent()]))]))];case 6:return w[x]=A.sent(),[2,b]}}))}))},e.prototype.sign=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,o=e.payload,i=t.signingDate,a=void 0===i?new Date:i,s=t.priorSignature,l=t.signingRegion,c=t.signingService;return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,t,i,u,d,f,p,h,m,g,v;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return null==l?[3,1]:(t=l,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=r.sent(),r.label=3;case 3:return e=t,i=In(a),u=i.shortDate,d=i.longDate,f=bn(u,e,null!=c?c:this.service),[4,En({headers:{},body:o},this.sha256)];case 4:return p=r.sent(),(h=new this.sha256).update(n),g=en,[4,h.digest()];case 5:return m=g.apply(void 0,[r.sent()]),v=[mn,d,f,s,m,p].join("\n"),[2,this.signString(v,{signingDate:a,signingRegion:e,signingService:c})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,o=n.signingDate,i=void 0===o?new Date:o,a=n.signingRegion,s=n.signingService;return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,l,c,u,d,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.credentialProvider()];case 1:return t=r.sent(),this.validateResolvedCredentials(t),null==a?[3,2]:(o=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:o=r.sent(),r.label=4;case 4:return n=o,l=In(i).shortDate,d=(u=this.sha256).bind,[4,this.getSigningKey(t,n,l,s)];case 5:return(c=new(d.apply(u,[void 0,r.sent()]))).update(e),f=en,[4,c.digest()];case 6:return[2,f.apply(void 0,[r.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,o=n.signingDate,i=void 0===o?new Date:o,a=n.signableHeaders,s=n.unsignableHeaders,l=n.signingRegion,c=n.signingService;return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,u,d,f,p,h,m,g,v;return(0,r.__generator)(this,(function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return t=y.sent(),this.validateResolvedCredentials(t),null==l?[3,2]:(o=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:o=y.sent(),y.label=4;case 4:return n=o,u=An(e),d=In(i),f=d.longDate,p=d.shortDate,h=bn(p,n,null!=c?c:this.service),u.headers[an]=f,t.sessionToken&&(u.headers[un]=t.sessionToken),[4,En(u,this.sha256)];case 5:return m=y.sent(),!function(e,t){var n,o;e=e.toLowerCase();try{for(var i=(0,r.__values)(Object.keys(t)),a=i.next();!a.done;a=i.next())if(e===a.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return!1}(cn,u.headers)&&this.applyChecksum&&(u.headers[cn]=m),g=wn(u,s,a),[4,this.getSignature(f,h,this.getSigningKey(t,n,p,c),this.createCanonicalRequest(u,g,m))];case 6:return v=y.sent(),u.headers[on]="".concat(hn," ")+"Credential=".concat(t.accessKeyId,"/").concat(h,", ")+"SignedHeaders=".concat(Pn(g),", ")+"Signature=".concat(v),[2,u]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var o=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,o=e.query,i=void 0===o?{}:o,a=[],s={},l=function(e){if(e.toLowerCase()===ln)return"continue";a.push(e);var t=i[e];"string"==typeof t?s[e]="".concat(xn(e),"=").concat(xn(t)):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(xn(e),"=").concat(xn(n))])}),[]).join("&"))};try{for(var c=(0,r.__values)(Object.keys(i).sort()),u=c.next();!u.done;u=c.next())l(u.value)}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(o.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(o.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return(o=new this.sha256).update(n),[4,o.digest()];case 1:return i=r.sent(),[2,"".concat(hn,"\n").concat(e,"\n").concat(t,"\n").concat(en(i))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,o=e.path;if(this.uriEscapePath){var i=[];try{for(var a=(0,r.__values)(o.split("/")),s=a.next();!s.done;s=a.next()){var l=s.value;0!==(null==l?void 0:l.length)&&"."!==l&&(".."===l?i.pop():i.push(l))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var c="".concat((null==o?void 0:o.startsWith("/"))?"/":"").concat(i.join("/")).concat(i.length>0&&(null==o?void 0:o.endsWith("/"))?"/":"");return encodeURIComponent(c).replace(/%2F/g,"/")}return o},e.prototype.getSignature=function(e,t,n,o){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,a,s,l,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.createStringToSign(e,t,o)];case 1:return i=r.sent(),l=(s=this.sha256).bind,[4,n];case 2:return(a=new(l.apply(s,[void 0,r.sent()]))).update(i),c=en,[4,a.digest()];case 3:return[2,c.apply(void 0,[r.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,o){return function(e,t,n,o,i){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a,s,l,c,u,d,f,p,h;return(0,r.__generator)(this,(function(m){switch(m.label){case 0:return[4,_n(e,t.secretAccessKey,t.accessKeyId)];case 1:if(a=m.sent(),(s="".concat(n,":").concat(o,":").concat(i,":").concat(en(a),":").concat(t.sessionToken))in vn)return[2,vn[s]];for(yn.push(s);yn.length>50;)delete vn[yn.shift()];l="AWS4".concat(t.secretAccessKey),m.label=2;case 2:m.trys.push([2,7,8,9]),c=(0,r.__values)([n,o,i,gn]),u=c.next(),m.label=3;case 3:return u.done?[3,6]:(d=u.value,[4,_n(e,l,d)]);case 4:l=m.sent(),m.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return f=m.sent(),p={error:f},[3,9];case 8:try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(p)throw p.error}return[7];case 9:return[2,vn[s]=l]}}))}))}(this.sha256,e,n,t,o||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),In=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},Pn=function(e){return Object.keys(e).sort().join(";")},On=function(e){return new Date(Date.now()+e)},Mn=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(On(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},Nn=function(e){var t,n,r;return ae.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},Ln={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Rn="user-agent",Dn="x-amz-user-agent",zn=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Fn=function(e){var t=(0,r.__read)(e,2),n=t[0],o=t[1],i=n.indexOf("/"),a=n.substring(0,i),s=n.substring(i+1);return"api"===a&&(s=s.toLowerCase()),[a,s,o].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(zn,"_")})).join("/")},Un={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};for(var jn=n(58358),Bn=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,o,i,a,s,l,c,u,d,f,p,h;return(0,r.__generator)(this,(function(m){switch(m.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=m.sent(),m.label=2;case 2:return o=this.config.requestTimeout,(null==n?void 0:n.aborted)?((i=new Error("Request aborted")).name="AbortError",[2,Promise.reject(i)]):(a=e.path,e.query&&(s=function(e){var t,n,o=[];try{for(var i=(0,r.__values)(Object.keys(e).sort()),a=i.next();!a.done;a=i.next()){var s=a.value,l=e[s];if(s=xn(s),Array.isArray(l))for(var c=0,u=l.length;c<u;c++)o.push("".concat(s,"=").concat(xn(l[c])));else{var d=s;(l||"string"==typeof l)&&(d+="=".concat(xn(l))),o.push(d)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o.join("&")}(e.query),s&&(a+="?".concat(s))),l=e.port,c=e.method,u="".concat(e.protocol,"//").concat(e.hostname).concat(l?":".concat(l):"").concat(a),d="GET"===c||"HEAD"===c?void 0:e.body,f={body:d,headers:new Headers(e.headers),method:c},"undefined"!=typeof AbortController&&(f.signal=n),p=new Request(u,f),h=[fetch(p).then((function(e){var t,n,o=e.headers,i={};try{for(var a=(0,r.__values)(o.entries()),s=a.next();!s.done;s=a.next()){var l=s.value;i[l[0]]=l[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new ae({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new ae({headers:i,statusCode:e.status,body:t})}}))})),(g=o,void 0===g&&(g=0),new Promise((function(e,t){g&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(g," ms"));e.name="TimeoutError",t(e)}),g)})))],n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(h)])}var g}))}))},e}(),Vn={},Gn=new Array(64),qn=0,Hn="A".charCodeAt(0),Wn="Z".charCodeAt(0);qn+Hn<=Wn;qn++){var Kn=String.fromCharCode(qn+Hn);Vn[Kn]=qn,Gn[qn]=Kn}for(qn=0,Hn="a".charCodeAt(0),Wn="z".charCodeAt(0);qn+Hn<=Wn;qn++){Kn=String.fromCharCode(qn+Hn);var $n=qn+26;Vn[Kn]=$n,Gn[$n]=Kn}for(qn=0;qn<10;qn++)Vn[qn.toString(10)]=qn+52,Kn=qn.toString(10),$n=qn+52,Vn[Kn]=$n,Gn[$n]=Kn;function Zn(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,l=o+3;s<=l;s++)if("="!==e[s]){if(!(e[s]in Vn))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));i|=Vn[e[s]]<<6*(l-s),a+=6}else i>>=6;var c=o/4*3;i>>=a%8;for(var u=Math.floor(a/8),d=0;d<u;d++){var f=8*(u-d-1);r.setUint8(c+d,(i&255<<f)>>f)}}return new Uint8Array(n)}function Yn(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var l=1;l<=s;l++){var c=6*(s-l);t+=Gn[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}Vn["+"]=62,Gn[62]="+",Vn["/"]=63,Gn[63]="/";var Jn=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Xn(e)];case 1:return t=r.sent(),n=Zn(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,i,a,s,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:t=new Uint8Array(0),n=e.getReader(),o=!1,r.label=1;case 1:return o?[3,3]:[4,n.read()];case 2:return i=r.sent(),a=i.done,(s=i.value)&&(l=t,(t=new Uint8Array(l.length+s.length)).set(l),t.set(s,l.length)),o=a,[3,1];case 3:return[2,t]}}))}))}(e)};function Xn(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Qn,er,tr,nr=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},rr=n(51206),or=n.n(rr),ir=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,o,i,a,s,l,c,u,d;return(0,r.__generator)(this,(function(r){return e="undefined"!=typeof window&&(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?or().parse(window.navigator.userAgent):void 0,o=[["aws-sdk-js",n],["os/".concat((null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser","".concat(null!==(c=null===(l=null==e?void 0:e.browser)||void 0===l?void 0:l.name)&&void 0!==c?c:"unknown","_").concat(null!==(d=null===(u=null==e?void 0:e.browser)||void 0===u?void 0:u.version)&&void 0!==d?d:"unknown")]],t&&o.push(["api/".concat(t),n]),[2,o]}))}))}},ar=n(36530),sr=function(e){if("string"==typeof e)return sr(new URL(e));var t,n=e,o=n.hostname,i=n.pathname,a=n.port,s=n.protocol,l=n.search;return l&&(t=function(e){var t,n,o={};if(e=e.replace(/^\?/,""))try{for(var i=(0,r.__values)(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value,l=(0,r.__read)(s.split("="),2),c=l[0],u=l[1],d=void 0===u?null:u;c=decodeURIComponent(c),d&&(d=decodeURIComponent(d)),c in o?Array.isArray(o[c])?o[c].push(d):o[c]=[o[c],d]:o[c]=d}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}(l)),{hostname:o,port:a?parseInt(a):void 0,protocol:s,path:i,query:t}},lr={"us-east-1":{variants:[{hostname:"pinpoint.us-east-1.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-east-1.amazonaws.com",tags:["fips"]}],signingRegion:"us-east-1"},"us-east-2":{variants:[{hostname:"pinpoint.us-east-2.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-east-2.amazonaws.com",tags:["fips"]}],signingRegion:"us-east-2"},"us-gov-west-1":{variants:[{hostname:"pinpoint.us-gov-west-1.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",tags:["fips"]}],signingRegion:"us-gov-west-1"},"us-west-2":{variants:[{hostname:"pinpoint.us-west-2.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.us-west-2.amazonaws.com",tags:["fips"]}],signingRegion:"us-west-2"}},cr={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","fips-us-east-1","fips-us-east-2","fips-us-west-2","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com.cn",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.c2s.ic.gov",tags:[]},{hostname:"pinpoint-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.sc2s.sgov.gov",tags:[]},{hostname:"pinpoint-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["fips-us-gov-west-1","us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"pinpoint.{region}.amazonaws.com",tags:[]},{hostname:"pinpoint-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"pinpoint-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"pinpoint.{region}.api.aws",tags:["dualstack"]}]}},ur=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return[2,_t(e,(0,r.__assign)((0,r.__assign)({},t),{signingService:"mobiletargeting",regionHash:lr,partitionHash:cr}))]}))}))},dr=n(32924),fr=function(e){function t(t){var n,o,i,a=this,s=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,r.__assign)((0,r.__assign)({},e),{region:function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,yt(t)]:[4,t()];case 1:return e=n.sent(),[2,yt(e)]}}))}))},useFipsEndpoint:function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return vt(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,o,i,a,s,l,c,u,d,f,p,h,m,g,v=(0,dr.j)(e),y=function(){return v().then(z)},b=function(e){var t,n,r,o,i;return{apiVersion:"2016-12-01",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:ur,serviceId:null!==(o=null==e?void 0:e.serviceId)&&void 0!==o?o:"Pinpoint",urlParser:null!==(i=null==e?void 0:e.urlParser)&&void 0!==i?i:sr}}(e);return(0,r.__assign)((0,r.__assign)((0,r.__assign)({},b),e),{runtime:"browser",defaultsMode:v,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:Zn,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:Yn,bodyLengthChecker:null!==(o=null==e?void 0:e.bodyLengthChecker)&&void 0!==o?o:nr,credentialDefaultProvider:null!==(i=null==e?void 0:e.credentialDefaultProvider)&&void 0!==i?i:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(a=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==a?a:ir({serviceId:b.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(s=null==e?void 0:e.maxAttempts)&&void 0!==s?s:3,region:null!==(l=null==e?void 0:e.region)&&void 0!==l?l:function(){return Promise.reject("Region is missing")},requestHandler:null!==(c=null==e?void 0:e.requestHandler)&&void 0!==c?c:new Bn(y),retryMode:null!==(u=null==e?void 0:e.retryMode)&&void 0!==u?u:function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,y()];case 1:return[2,e.sent().retryMode||At]}}))}))},sha256:null!==(d=null==e?void 0:e.sha256)&&void 0!==d?d:jn.Sha256,streamCollector:null!==(f=null==e?void 0:e.streamCollector)&&void 0!==f?f:Jn,useDualstackEndpoint:null!==(p=null==e?void 0:e.useDualstackEndpoint)&&void 0!==p?p:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(h=null==e?void 0:e.useFipsEndpoint)&&void 0!==h?h:function(){return Promise.resolve(!1)},utf8Decoder:null!==(m=null==e?void 0:e.utf8Decoder)&&void 0!==m?m:ar.fromUtf8,utf8Encoder:null!==(g=null==e?void 0:e.utf8Encoder)&&void 0!==g?g:ar.toUtf8})}(t)),l=function(e){var t,n=(0,gt.$)(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return(0,r.__assign)((0,r.__assign)({},e),{maxAttempts:n,retryStrategy:function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,(0,gt.$)(e.retryMode)()];case 1:return t.sent()===Oe.ADAPTIVE?[2,new Kt(n)]:[2,new qt(n)]}}))}))}})}(function(e){var t,n=(0,gt.$)(e.useDualstackEndpoint),o=e.endpoint,i=e.useFipsEndpoint,a=e.urlParser;return(0,r.__assign)((0,r.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:o?(0,gt.$)("string"==typeof o?a(o):o):function(){return function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,o,i,a,s,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(o=r.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(o))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return i=r.sent(),[4,e.useFipsEndpoint()];case 3:return a=r.sent(),[4,e.regionInfoProvider(o,{useDualstackEndpoint:i,useFipsEndpoint:a})];case 4:if(!(s=(null!==(l=r.sent())&&void 0!==l?l:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(s))]}}))}))}((0,r.__assign)((0,r.__assign)({},e),{useDualstackEndpoint:n,useFipsEndpoint:i}))},isCustomEndpoint:!!o,useDualstackEndpoint:n})}(s)),c=function(e){var t,n,o,i,a,s,l,c,u,d,f=e.credentials?"function"==typeof(n=e.credentials)?(o=n,a=function(e){return void 0!==e.expiration},u=!1,d=function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:l||(l=o()),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,l];case 2:return s=e.sent(),c=!0,u=!1,[3,4];case 3:return l=void 0,[7];case 4:return[2,s]}}))}))},void 0===(i=function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5})?function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return c&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,d()];case 1:s=t.sent(),t.label=2;case 2:return[2,s]}}))}))}:function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return c&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,d()];case 1:s=t.sent(),t.label=2;case 2:return u?[2,s]:a&&!a(s)?(u=!0,[2,s]):i(s)?[4,d()]:[3,4];case 3:return t.sent(),[2,s];case 4:return[2,s]}}))}))}):(0,gt.$)(n):e.credentialDefaultProvider(e),p=e.signingEscapePath,h=void 0===p||p,m=e.systemClockOffset,g=void 0===m?e.systemClockOffset||0:m,v=e.sha256;return t=e.signer?(0,gt.$)(e.signer):e.regionInfoProvider?function(){return(0,gt.$)(e.region)().then((function(t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return o=(n=e).regionInfoProvider,i=[t],a={},[4,e.useFipsEndpoint()];case 1:return a.useFipsEndpoint=r.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,o.apply(n,i.concat([(a.useDualstackEndpoint=r.sent(),a)]))];case 3:return[2,[r.sent()||{},t]]}}))}))})).then((function(t){var n=(0,r.__read)(t,2),o=n[0],i=n[1],a=o.signingRegion,s=o.signingService;e.signingRegion=e.signingRegion||a||i,e.signingName=e.signingName||s||e.serviceId;var l=(0,r.__assign)((0,r.__assign)({},e),{credentials:f,region:e.signingRegion,service:e.signingName,sha256:v,uriEscapePath:h});return new(e.signerConstructor||Tn)(l)}))}:function(t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i;return(0,r.__generator)(this,(function(a){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,o=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||o||e.serviceId,i=(0,r.__assign)((0,r.__assign)({},e),{credentials:f,region:e.signingRegion,service:e.signingName,sha256:v,uriEscapePath:h}),[2,new(e.signerConstructor||Tn)(i)]}))}))},(0,r.__assign)((0,r.__assign)({},e),{systemClockOffset:g,signingEscapePath:h,credentials:f,signer:t})}(l),u=(n=c,(0,r.__assign)((0,r.__assign)({},n),{customUserAgent:"string"==typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent}));return(a=e.call(this,u)||this).config=u,a.middlewareStack.use((i=a.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(o){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(i=a.sent())?void 0:i.mode)&&(n.userAgent=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(n.userAgent||[]),!1),[["cfg/retry-mode",i.mode]],!1)),[2,i.retry(t,o)]}}))}))}}}(i),$t)}})),a.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(o){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,i,a,s,l;return(0,r.__generator)(this,(function(c){if(t=o.request,ie.isInstance(t)&&(i=t.body,a=t.headers,i&&-1===Object.keys(a).map((function(e){return e.toLowerCase()})).indexOf(wt)))try{s=e(i),t.headers=(0,r.__assign)((0,r.__assign)({},t.headers),((l={})[wt]=String(s),l))}catch(e){}return[2,n((0,r.__assign)((0,r.__assign)({},o),{request:t}))]}))}))}}}(e.bodyLengthChecker),xt)}}}(a.config)),a.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var o,i;return(0,r.__generator)(this,(function(r){return ie.isInstance(n.request)?(o=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!o.headers[":authority"]?(delete o.headers.host,o.headers[":authority"]=""):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),St)}}}(a.config)),a.middlewareStack.use((a.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f;return(0,r.__generator)(this,(function(p){switch(p.label){case 0:return o=t.clientName,i=t.commandName,a=t.inputFilterSensitiveLog,s=t.logger,l=t.outputFilterSensitiveLog,[4,e(n)];case 1:return c=p.sent(),s?("function"==typeof s.info&&(u=c.output,d=u.$metadata,f=(0,r.__rest)(u,["$metadata"]),s.info({clientName:o,commandName:i,input:a(n.input),output:l(f),metadata:d})),[2,c]):[2,c]}}))}))}}),Et)}})),a.middlewareStack.use((0,Ct.eV)(a.config)),a.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(o){var i,a,s;return(0,r.__awaiter)(this,void 0,void 0,(function(){var l,c,u,d,f,p,h;return(0,r.__generator)(this,(function(m){switch(m.label){case 0:return ie.isInstance(o.request)?(l=null===(s=null===(a=null===(i=n.endpointV2)||void 0===i?void 0:i.properties)||void 0===a?void 0:a.authSchemes)||void 0===s?void 0:s[0],[4,e.signer(l)]):[2,t(o)];case 1:return c=m.sent(),d=t,f=[(0,r.__assign)({},o)],h={},[4,c.sign(o.request,{signingDate:On(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,d.apply(void 0,[r.__assign.apply(void 0,f.concat([(h.request=m.sent(),h)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:Nn(t.$response);throw r&&(e.systemClockOffset=Mn(r,e.systemClockOffset)),t}))];case 3:return u=m.sent(),(p=Nn(u.response))&&(e.systemClockOffset=Mn(p,e.systemClockOffset)),[2,u]}}))}))}}}(e),Ln)}}}(a.config)),a.middlewareStack.use((o=a.config,{applyToStack:function(e){var t;e.add((t=o,function(e,n){return function(o){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:return i=o.request,ie.isInstance(i)?(a=i.headers,s=(null===(f=null==n?void 0:n.userAgent)||void 0===f?void 0:f.map(Fn))||[],[4,t.defaultUserAgentProvider()]):[2,e(o)];case 1:return l=h.sent().map(Fn),c=(null===(p=null==t?void 0:t.customUserAgent)||void 0===p?void 0:p.map(Fn))||[],u=(0,r.__spreadArray)((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(l),!1),(0,r.__read)(s),!1),(0,r.__read)(c),!1).join(" "),d=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(l.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),(0,r.__read)(c),!1).join(" "),"browser"!==t.runtime?(d&&(a[Dn]=a[Dn]?"".concat(a[Rn]," ").concat(d):d),a[Rn]=u):a[Dn]=u,[2,e((0,r.__assign)((0,r.__assign)({},o),{request:i}))]}}))}))}}),Un)}})),a}return(0,r.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(w),pr=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(v(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"UpdateEndpointCommand",inputFilterSensitiveLog:re,outputFilterSensitiveLog:oe},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return[4,t.endpoint()];case 1:return n=f.sent(),o=n.hostname,i=n.protocol,a=void 0===i?"https":i,s=n.port,l=n.path,c={"content-type":"application/json"},u="".concat((null==l?void 0:l.endsWith("/"))?l.slice(0,-1):l||"")+"/v1/apps/{ApplicationId}/endpoints/{EndpointId}",u=Q(u,e,"ApplicationId",(function(){return e.ApplicationId}),"{ApplicationId}",!1),u=Q(u,e,"EndpointId",(function(){return e.EndpointId}),"{EndpointId}",!1),void 0!==e.EndpointRequest&&(d=function(e,t){return(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},null!=e.Address&&{Address:e.Address}),null!=e.Attributes&&{Attributes:We(e.Attributes,t)}),null!=e.ChannelType&&{ChannelType:e.ChannelType}),null!=e.Demographic&&{Demographic:Ve(e.Demographic)}),null!=e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),null!=e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),null!=e.Location&&{Location:Ge(e.Location)}),null!=e.Metrics&&{Metrics:He(e.Metrics,t)}),null!=e.OptOut&&{OptOut:e.OptOut}),null!=e.RequestId&&{RequestId:e.RequestId}),null!=e.User&&{User:qe(e.User,t)})}(e.EndpointRequest,t)),void 0===d&&(d={}),d=JSON.stringify(d),[2,new ie({protocol:a,hostname:o,port:s,method:"PUT",headers:c,path:u,body:d})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,Ne(e,t)]:(n=Le({$metadata:dt(e)}),i=A,[4,ft(e.body,t)]);case 1:return o=i.apply(void 0,[r.sent()]),n.MessageBody=function(e,t){return{Message:T(e.Message),RequestID:T(e.RequestID)}}(o),[2,n]}}))}))}(e,t)},t}(x),hr=n(93942),mr=n(65258),gr=((Qn={})[mr.S.MESSAGE_RECEIVED]=new Set,Qn[mr.S.MESSAGE_DISPLAYED]=new Set,Qn[mr.S.MESSAGE_DISMISSED]=new Set,Qn[mr.S.MESSAGE_ACTION_TAKEN]=new Set,Qn),vr=function(e,t){gr[t].forEach((function(t){t.handleEvent(e)}))},yr=function(e,t){var n={handleEvent:e,remove:function(){gr[t].delete(n)}};return gr[t].add(n),n},br=n(50308),_r=n.n(br),wr=(0,d.lC)().isBrowser;wr&&document&&(void 0!==document.hidden?(er="hidden",tr="visibilitychange"):void 0!==document.msHidden?(er="msHidden",tr="msvisibilitychange"):void 0!==document.webkitHidden&&(er="webkitHidden",tr="webkitvisibilitychange"));var xr=new o.k("InAppMessagingSessionTracker");const Sr=function(e){var t=this;void 0===e&&(e=_r()),this.start=function(){return wr&&(null===document||void 0===document||document.addEventListener(tr,t.visibilityChangeHandler)),t.getSessionState()},this.end=function(){return wr&&(null===document||void 0===document||document.removeEventListener(tr,t.visibilityChangeHandler)),t.getSessionState()},this.getSessionState=function(){return wr&&document&&!document[er]?"started":"ended"},this.visibilityChangeHandler=function(){wr&&document&&(document[er]?(xr.debug("App is now hidden"),t.sessionStateChangeHandler("ended")):(xr.debug("App is now visible"),t.sessionStateChangeHandler("started")))},this.sessionStateChangeHandler=e};var Er;!function(e){e.MESSAGE_DISPLAYED="_inapp.message_displayed",e.MESSAGE_DISMISSED="_inapp.message_dismissed",e.MESSAGE_ACTION_TAKEN="_inapp.message_clicked"}(Er||(Er={}));var Cr=n(41609),kr=n.n(Cr),Ar="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Tr={},Ir={},Pr={},Or=new o.k("AWSPinpointProvider"),Mr=function(e,t,n){a.X.dispatch("inAppMessaging",{event:e,data:t,message:n},"InAppMessaging",Ar)},Nr=function(){var e=new Date;return e.setHours(0,0,0,0),e.toISOString()},Lr=function(e){var t,n,r=e.InAppMessage;return null!==(n=null===(t=null==r?void 0:r.Content)||void 0===t?void 0:t.map((function(e){var t=e.BackgroundColor,n=e.BodyConfig,r=e.HeaderConfig,o=e.ImageUrl,i=e.PrimaryBtn,a=e.SecondaryBtn,s=null==i?void 0:i.DefaultConfig,l=null==a?void 0:a.DefaultConfig,c={};return t&&(c.container={style:{backgroundColor:t}}),r&&(c.header={content:r.Header,style:{color:r.TextColor,textAlign:r.Alignment.toLowerCase()}}),n&&(c.body={content:n.Body,style:{color:n.TextColor,textAlign:n.Alignment.toLowerCase()}}),o&&(c.image={src:o}),s&&(c.primaryButton={title:s.Text,action:s.ButtonAction,url:s.Link,style:{backgroundColor:s.BackgroundColor,borderRadius:s.BorderRadius,color:s.TextColor}}),l&&(c.secondaryButton={title:l.Text,action:l.ButtonAction,url:l.Link,style:{backgroundColor:l.BackgroundColor,borderRadius:l.BorderRadius,color:l.TextColor}}),c})))&&void 0!==n?n:[]},Rr=function(e){var t=e.InAppMessage,n=e.Priority,r=e.Schedule,o=e.TreatmentId;return{customData:null==t?void 0:t.CustomConfig,endDate:null==r?void 0:r.EndDate,priority:n,treatmentId:o}},Dr="pinpointProvider_inAppMessages_dailyCount",zr="pinpointProvider_inAppMessages_totalCount",Fr=function(){function e(){var e,t=this;this.config={},this.configured=!1,this.endpointInitialized=!1,this.initialized=!1,this.configure=function(e){return void 0===e&&(e={}),t.config=(0,r.__assign)((0,r.__assign)({},t.config),e),Or.debug("configure AWSPinpointProvider",t.config),t.configured||(t.sessionTracker=new Sr(t.sessionStateChangeHandler),t.sessionTracker.start(),yr((function(e){t.recordMessageEvent(e,Er.MESSAGE_DISPLAYED)}),mr.S.MESSAGE_DISPLAYED),yr((function(e){t.recordMessageEvent(e,Er.MESSAGE_DISMISSED)}),mr.S.MESSAGE_DISMISSED),yr((function(e){t.recordMessageEvent(e,Er.MESSAGE_ACTION_TAKEN)}),mr.S.MESSAGE_ACTION_TAKEN)),t.configured=!0,Mr("pinpointProvider_configured",null),t.config},this.getInAppMessages=function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:r.sent(),r.label=2;case 2:Tr={},Ir={},Pr={},r.label=3;case 3:return r.trys.push([3,6,,7]),[4,this.updateEndpoint()];case 4:return r.sent(),e=this.config,t=e.appId,n=e.endpointId,o=e.pinpointClient,a=new mt(i={ApplicationId:t,EndpointId:n}),Or.debug("getting in-app messages",i),[4,o.send(a)];case 5:return s=r.sent(),l=s.InAppMessagesResponse.InAppMessageCampaigns,Mr("getInAppMessages",l),[2,l];case 6:throw c=r.sent(),Or.error("Error getting in-app messages",c),c;case 7:return[2]}}))}))},this.processInAppMessages=function(e,n){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,o=this;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:i.sent(),i.label=2;case 2:return[2,this.normalizeMessages(e.reduce((function(e,i){var a=function(e,t){var n,r=e.CampaignId,o=e.Schedule,i=t.name,a=(null===(n=null==o?void 0:o.EventFilter)||void 0===n?void 0:n.Dimensions).EventType,s=r+":"+i;return Tr.hasOwnProperty(s)||(Tr[s]=!!(null==a?void 0:a.Values.includes(i))),Tr[s]}(i,n)&&function(e,t){var n,o=e.CampaignId,i=e.Schedule,a=t.attributes,s=(null===(n=null==i?void 0:i.EventFilter)||void 0===n?void 0:n.Dimensions).Attributes;if(kr()(s))return!0;if(kr()(a))return!1;var l=o+":"+JSON.stringify(a);return Ir.hasOwnProperty(l)||(Ir[l]=Object.entries(s).every((function(e){var t=(0,r.__read)(e,2),n=t[0];return t[1].Values.includes(a[n])}))),Ir[l]}(i,n)&&function(e,t){var n,o=e.CampaignId,i=e.Schedule,a=t.metrics,s=(null===(n=null==i?void 0:i.EventFilter)||void 0===n?void 0:n.Dimensions).Metrics;if(kr()(s))return!0;if(kr()(a))return!1;var l=o+":"+JSON.stringify(a);return Pr.hasOwnProperty(l)||(Pr[l]=Object.entries(s).every((function(e){var t=(0,r.__read)(e,2),n=t[0],o=t[1],i=o.ComparisonOperator,s=o.Value,l=function(e){switch(e){case"EQUAL":return function(e,t){return e===t};case"GREATER_THAN":return function(e,t){return e<t};case"GREATER_THAN_OR_EQUAL":return function(e,t){return e<=t};case"LESS_THAN":return function(e,t){return e>t};case"LESS_THAN_OR_EQUAL":return function(e,t){return e>=t};default:return null}}(i);return!!l&&l(s,a[n])}))),Pr[l]}(i,n)&&function(e){var t=e.Schedule;return!(null==t?void 0:t.EndDate)||new Date<new Date(t.EndDate)}(i)&&o.isBelowCap(i);if(a)if(t){if(i.Priority){if(i.Priority<t)return t=i.Priority,[i];i.Priority===t&&e.push(i)}}else{if(i.Priority)return t=i.Priority,[i];e.push(i)}return e}),[]))]}}))}))},this.identifyUser=function(e,n){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.updateEndpoint(e,n)];case 3:return r.sent(),[3,5];case 4:throw t=r.sent(),Or.error("Error identifying user",t),t;case 5:return[2]}}))}))},this.init=function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,o,i,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:e=this.config,t=e.endpointId,n=e.storage,o=this.getProviderName(),r.label=1;case 1:return r.trys.push([1,6,,7]),"function"!=typeof n.sync?[3,3]:[4,n.sync()];case 2:r.sent(),r.label=3;case 3:return t?[3,5]:(i=this.config,[4,this.getEndpointId()]);case 4:i.endpointId=r.sent(),r.label=5;case 5:return this.initialized=!0,[3,7];case 6:return a=r.sent(),Or.error("Failed to initialize "+o,a),[3,7];case 7:return[2]}}))}))},this.initPinpointClient=function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,o,i;return(0,r.__generator)(this,(function(r){if(e=this.config,t=e.appId,n=e.credentials,o=e.pinpointClient,i=e.region,!t||!n||!i)throw new Error("One or more of credentials, appId or region is not configured");return o&&o.destroy(),this.config.pinpointClient=new fr({region:i,credentials:n,customUserAgent:(0,u.Z)()}),[2]}))}))},this.getEndpointId=function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,o,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=this.config.appId,t=this.getSubCategory()+":"+this.getProviderName()+":"+e,[4,h._.getItem(t)];case 1:return(n=r.sent())?[2,n]:(o=(0,hr.v4)(),i=(new Date).getTime()+31536e8,h._.setItem(t,o,{expires:i,priority:1}),[2,o])}}))}))},this.updateEndpoint=function(e,n){return void 0===e&&(e=null),void 0===n&&(n=null),(0,r.__awaiter)(t,void 0,void 0,(function(){var t,o,i,a,s,l,c,u,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T;return(0,r.__generator)(this,(function(I){switch(I.label){case 0:return t=this.config,o=t.appId,i=t.credentials,a=t.endpointId,s=t.endpointInfo,l=void 0===s?{}:s,c=t.pinpointClient,[4,this.getCredentials()];case 1:if(u=I.sent(),f=!i||Object.keys(u).some((function(e){return u[e]!==i[e]})),this.endpointInitialized&&!f&&!e&&!n)return[2];this.config.credentials=u,I.label=2;case 2:return I.trys.push([2,6,,7]),c&&!f?[3,4]:[4,this.initPinpointClient()];case 3:I.sent(),I.label=4;case 4:return h=(p=null!=n?n:{}).address,m=p.attributes,g=p.demographic,v=p.location,y=p.metrics,b=p.optOut,_=this.clientInfo,w=_.appVersion,x=_.make,S=_.model,E=_.platform,C=_.version,k={ApplicationId:o,EndpointId:a,EndpointRequest:{RequestId:(0,hr.v4)(),EffectiveDate:(new Date).toISOString(),ChannelType:Y.IN_APP,Address:null!=h?h:l.address,Attributes:(0,r.__assign)((0,r.__assign)({},l.attributes),m),Demographic:(0,r.__assign)({AppVersion:w,Make:x,Model:S,ModelVersion:C,Platform:E},(0,d.I)((0,r.__assign)((0,r.__assign)({},l.demographic),g))),Location:(0,d.I)((0,r.__assign)((0,r.__assign)({},l.location),v)),Metrics:(0,r.__assign)((0,r.__assign)({},l.metrics),y),OptOut:null!=b?b:l.optOut,User:{UserId:null!==(T=null!=e?e:l.userId)&&void 0!==T?T:u.identityId,UserAttributes:null!=m?m:l.userAttributes}}},A=new pr(k),Or.debug("updating endpoint",k),[4,this.config.pinpointClient.send(A)];case 5:return I.sent(),this.endpointInitialized=!0,[3,7];case 6:throw I.sent();case 7:return[2]}}))}))},this.getCredentials=function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var e,t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,f.c.get()];case 1:return(e=n.sent())?[2,f.c.shear(e)]:(Or.debug("no credentials found"),[2,null]);case 2:return t=n.sent(),Or.error("Error getting credentials:",t),[2,null];case 3:return[2]}}))}))},this.sessionStateChangeHandler=function(e){"started"===e&&(t.sessionMessageCountMap={})},this.isBelowCap=function(e){var n=e.CampaignId,r=e.SessionCap,o=e.DailyCap,i=e.TotalCap,a=t.getMessageCounts(n),s=a.sessionCount,l=a.dailyCount,c=a.totalCount;return(!r||s<r)&&(!o||l<o)&&(!i||c<i)},this.getSessionCount=function(e){return t.sessionMessageCountMap[e]||0},this.getDailyCount=function(){var e=t.config.storage,n=Nr(),r=e.getItem(Dr),o=r?JSON.parse(r):{count:0,lastCountTimestamp:n};return o.lastCountTimestamp===n?o.count:0},this.getTotalCountMap=function(){var e=t.config.storage.getItem(zr);return e?JSON.parse(e):{}},this.getTotalCount=function(e){return t.getTotalCountMap()[e]||0},this.getMessageCounts=function(e){try{return{sessionCount:t.getSessionCount(e),dailyCount:t.getDailyCount(),totalCount:t.getTotalCount(e)}}catch(e){Or.error("Failed to get message counts from storage",e)}},this.setSessionCount=function(e,n){t.sessionMessageCountMap[e]=n},this.setDailyCount=function(e){var n=t.config.storage,r={count:e,lastCountTimestamp:Nr()};try{n.setItem(Dr,JSON.stringify(r))}catch(e){Or.error("Failed to save daily message count to storage",e)}},this.setTotalCountMap=function(e){var n=t.config.storage;try{n.setItem(zr,JSON.stringify(e))}catch(e){Or.error("Failed to save total count to storage",e)}},this.setTotalCount=function(e,n){var o,i=(0,r.__assign)((0,r.__assign)({},t.getTotalCountMap()),((o={})[e]=n,o));t.setTotalCountMap(i)},this.incrementCounts=function(e){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,n,o,i;return(0,r.__generator)(this,(function(r){return t=this.getMessageCounts(e),n=t.sessionCount,o=t.dailyCount,i=t.totalCount,this.setSessionCount(e,n+1),this.setDailyCount(o+1),this.setTotalCount(e,i+1),[2]}))}))},this.normalizeMessages=function(e){return e.map((function(e){var t,n=e.CampaignId,r=e.InAppMessage;return{id:n,content:Lr(e),layout:(t=r.Layout,t===ue.MOBILE_FEED?"MODAL":t===ue.OVERLAYS?"FULL_SCREEN":t),metadata:Rr(e)}}))},this.recordMessageEvent=function(e,n){return(0,r.__awaiter)(t,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return this.initialized?[3,2]:[4,this.init()];case 1:t.sent(),t.label=2;case 2:return function(e,t){if(t)if(i.d.Analytics&&"function"==typeof i.d.Analytics.record){var n=t.id,r=t.metadata;i.d.Analytics.record({name:e,attributes:{campaign_id:n,delivery_type:"IN_APP_MESSAGE",treatment_id:null==r?void 0:r.treatmentId}})}else Or.debug("Analytics module is not registered into Amplify");else Or.debug("Unable to record analytics event - no InAppMessage was received")}(n,e),n!==Er.MESSAGE_DISPLAYED?[3,4]:[4,this.incrementCounts(e.id)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},this.sessionMessageCountMap={},this.config={storage:(new s.c).getStorage()},this.clientInfo=null!==(e=p._.clientInfo())&&void 0!==e?e:{}}return e.prototype.getCategory=function(){return e.category},e.prototype.getSubCategory=function(){return e.subCategory},e.prototype.getProviderName=function(){return e.providerName},e.category="Notifications",e.subCategory="InAppMessaging",e.providerName="AWSPinpoint",e}();const Ur=Fr;var jr="_inAppMessages",Br=new o.k("Notifications.InAppMessaging"),Vr=function(){function e(){var e=this;this.config={},this.listeningForAnalyticEvents=!1,this.pluggables=[],this.storageSynced=!1,this.configure=function(t){void 0===t&&(t={});var n=t.listenForAnalyticsEvents,o=void 0===n||n,i=(0,r.__rest)(t,["listenForAnalyticsEvents"]);return e.config=(0,r.__assign)((0,r.__assign)({},e.config),i),Br.debug("configure InAppMessaging",e.config),e.pluggables.forEach((function(t){t.configure(e.config[t.getProviderName()])})),0===e.pluggables.length&&e.addPluggable(new Ur),o&&!e.listeningForAnalyticEvents&&(a.X.listen("analytics",e.analyticsListener),e.listeningForAnalyticEvents=!0),e.config},this.getPluggable=function(t){var n,r=null!==(n=e.pluggables.find((function(e){return e.getProviderName()===t})))&&void 0!==n?n:null;return r||Br.debug("No plugin found with name "+t),r},this.addPluggable=function(t){if(t&&"Notifications"===t.getCategory()&&"InAppMessaging"===t.getSubCategory()){if(e.getPluggable(t.getProviderName()))throw new Error("Pluggable "+t.getProviderName()+" has already been added.");e.pluggables.push(t),t.configure(e.config[t.getProviderName()])}},this.removePluggable=function(t){var n=e.pluggables.findIndex((function(e){return e.getProviderName()===t}));-1===n?Br.debug("No plugin found with name "+t):e.pluggables.splice(n,1)},this.syncMessages=function(){return Promise.all(e.pluggables.map((function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,t.getInAppMessages()];case 1:return e=r.sent(),n=""+t.getProviderName()+jr,[4,this.setMessages(n,e)];case 2:return r.sent(),[3,4];case 3:throw o=r.sent(),Br.error("Failed to sync messages",o),o;case 4:return[2]}}))}))})))},this.clearMessages=function(){return Promise.all(e.pluggables.map((function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=""+t.getProviderName()+jr,[4,this.removeMessages(e)];case 1:return n.sent(),[2]}}))}))})))},this.dispatchEvent=function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,n,o=this;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all(this.pluggables.map((function(e){return(0,r.__awaiter)(o,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=""+e.getProviderName()+jr,[4,this.getMessages(n)];case 1:return o=r.sent(),[2,e.processInAppMessages(o,t)]}}))}))})))];case 1:return e=i.sent(),(n=c()(e)).length&&vr(this.conflictHandler(n),mr.S.MESSAGE_RECEIVED),[2]}}))}))},this.identifyUser=function(t,n){return Promise.all(e.pluggables.map((function(o){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.identifyUser(t,n)];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Br.error("Failed to identify user",e),e;case 3:return[2]}}))}))})))},this.onMessageReceived=function(e){return yr(e,mr.S.MESSAGE_RECEIVED)},this.onMessageDisplayed=function(e){return yr(e,mr.S.MESSAGE_DISPLAYED)},this.onMessageDismissed=function(e){return yr(e,mr.S.MESSAGE_DISMISSED)},this.onMessageActionTaken=function(e){return yr(e,mr.S.MESSAGE_ACTION_TAKEN)},this.notifyMessageInteraction=function(e,t){vr(e,t)},this.setConflictHandler=function(t){e.conflictHandler=t},this.analyticsListener=function(t){var n=t.payload,r=n.event,o=n.data;"record"===r&&e.dispatchEvent(o)},this.syncStorage=function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:e=this.config.storage,n.label=1;case 1:return n.trys.push([1,4,,5]),"function"!=typeof e.sync?[3,3]:[4,e.sync()];case 2:n.sent(),n.label=3;case 3:return this.storageSynced=!0,[3,5];case 4:return t=n.sent(),Br.error("Failed to sync storage",t),[3,5];case 5:return[2]}}))}))},this.getMessages=function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.storageSynced?[3,2]:[4,this.syncStorage()];case 1:r.sent(),r.label=2;case 2:return e=this.config.storage,[2,(n=e.getItem(t))?JSON.parse(n):[]];case 3:return o=r.sent(),Br.error("Failed to retrieve in-app messages from storage",o),[3,4];case 4:return[2]}}))}))},this.setMessages=function(t,n){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(!n)return[2];r.label=1;case 1:return r.trys.push([1,4,,5]),this.storageSynced?[3,3]:[4,this.syncStorage()];case 2:r.sent(),r.label=3;case 3:return this.config.storage.setItem(t,JSON.stringify(n)),[3,5];case 4:return e=r.sent(),Br.error("Failed to store in-app messages",e),[3,5];case 5:return[2]}}))}))},this.removeMessages=function(t){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this.storageSynced?[3,2]:[4,this.syncStorage()];case 1:n.sent(),n.label=2;case 2:return this.config.storage.removeItem(t),[3,4];case 3:return e=n.sent(),Br.error("Failed to remove in-app messages from storage",e),[3,4];case 4:return[2]}}))}))},this.defaultConflictHandler=function(e){var t=e.sort((function(e,t){var n,r,o=null===(n=e.metadata)||void 0===n?void 0:n.endDate,i=null===(r=t.metadata)||void 0===r?void 0:r.endDate;return o===i?0:o&&!i?-1:!o&&i?1:new Date(o)<new Date(i)?-1:1}));return t[0]},this.config={storage:(new s.c).getStorage()},this.setConflictHandler(this.defaultConflictHandler)}return e.prototype.getModuleName=function(){return"InAppMessaging"},e}();const Gr=Vr;var qr=new o.k("Notifications"),Hr=function(){function e(){var e=this;this.config={},this.configure=function(t){var n=(void 0===t?{}:t).Notifications;return e.config=(0,r.__assign)((0,r.__assign)({},e.config),n),qr.debug("configure Notifications",n),e.inAppMessaging.configure(e.config.InAppMessaging),e.config},this.inAppMessaging=new Gr}return e.prototype.getModuleName=function(){return"Notifications"},Object.defineProperty(e.prototype,"InAppMessaging",{get:function(){return this.inAppMessaging},enumerable:!0,configurable:!0}),e}(),Wr=new Hr;const Kr=Wr;i.d.register(Wr)},15130:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InAppMessageInteractionEvent:()=>o.S,Notifications:()=>r.Z});var r=n(37427),o=n(65258)},15226:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},38554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},21737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},21801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},65313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64334);r.__exportStar(n(15226),t),r.__exportStar(n(38554),t),r.__exportStar(n(21737),t),r.__exportStar(n(1224),t),r.__exportStar(n(21801),t)},64334:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},37713:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},61997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(84595),o=n(48006),i=n(48710),a=n(63822),s=n(65313),l=n(56495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,l.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,l.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},84595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(43482),o=n(37713),i=n(36530),a=n(56495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",l(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(l(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function l(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},58358:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(52819).__exportStar)(n(61997),t);var r=n(84595);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(48006);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},43482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},48006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(10345),o=n(37713),i=n(56495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},52819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},97965:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(77801),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(h+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(r.KEY[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;u=c,c=l,l=s,s=a+m|0,a=i,i=o,o=n,n=m+g|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}();t.RawSha256=o},77801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},48710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(54833).__exportStar)(n(21961),t)},21961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(54833),o=n(77801),i=n(97965),a=n(10345),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},54833:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},63822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(63614).__exportStar(n(84605),t)},84605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(63614),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},63614:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},35890:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(36530),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},10345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(35890);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(76948);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(34472);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(25326);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},76948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},34472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},25326:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},36530:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},93942:(e,t,n)=>{var r=n(6044),o=n(68498),i=o;i.v1=r,i.v4=o,e.exports=i},17219:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},41856:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},6044:(e,t,n)=>{var r,o,i=n(41856),a=n(17219),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=f;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=h/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},68498:(e,t,n)=>{var r=n(41856),o=n(17219);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},33658:(e,t,n)=>{"use strict";n.d(t,{p:()=>H});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var s,l,c,u=n(99904),d=n(59222),f=n(35069),p=n(88229),h=n(25387),m=n(79800),g=n(8575),v=n(55408),y=n(48764),b=n(20490),_=n(41547),w=n(7262),x=n(40611),S=n(90633),E=n(81282),C=n(91021),k=new f.k("AbstractPubSubProvider"),A=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=o(o({},e),this._config),k.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return o({},this._config)},enumerable:!0,configurable:!0}),e}(),T=n(79586),I=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(s||(s={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(l||(l={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(c||(c={}));var P,O="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",M={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},N=3e5,L=n(26968),R=function(){return(new L.Z).networkMonitor()},D={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}},z=function(){function e(){var e=this;this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=R().subscribe((function(t){var n,r=t.online;e.record(r?D.ONLINE:D.OFFLINE),null===(n=e._initialNetworkStateSubscription)||void 0===n||n.unsubscribe()})),this._linkedConnectionStateObservable=new u.Z((function(t){t.next(e._linkedConnectionState),e._linkedConnectionStateObserver=t}))}return e.prototype.enableNetworkMonitoring=function(){var e,t=this;null===(e=this._initialNetworkStateSubscription)||void 0===e||e.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=R().subscribe((function(e){var n=e.online;t.record(n?D.ONLINE:D.OFFLINE)})))},e.prototype.disableNetworkMonitoring=function(){var e;null===(e=this._networkMonitoringSubscription)||void 0===e||e.unsubscribe(),this._networkMonitoringSubscription=void 0},Object.defineProperty(e.prototype,"connectionStateObservable",{get:function(){var e,t=this;return this._linkedConnectionStateObservable.map((function(e){return t.connectionStatesTranslator(e)})).filter((function(t){var n=t!==e;return e=t,n}))},enumerable:!0,configurable:!0}),e.prototype.record=function(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();var t=o(o({},this._linkedConnectionState),e);this._linkedConnectionState=o({},t),this._linkedConnectionStateObserver.next(this._linkedConnectionState)},e.prototype.connectionStatesTranslator=function(e){var t=e.connectionState,n=e.networkState,r=e.intendedConnectionState,o=e.keepAliveState;return"connected"===t&&"disconnected"===n?T.e.ConnectedPendingNetwork:"connected"===t&&"disconnected"===r?T.e.ConnectedPendingDisconnect:"disconnected"===t&&"connected"===r&&"disconnected"===n?T.e.ConnectionDisruptedPendingNetwork:"disconnected"===t&&"connected"===r?T.e.ConnectionDisrupted:"connected"===t&&"unhealthy"===o?T.e.ConnectedPendingKeepAlive:"connecting"===t?T.e.Connecting:"disconnected"===t?T.e.Disconnected:T.e.Connected},e}();!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}(P||(P={}));var F=function(){function e(){this.reconnectObservers=[]}return e.prototype.addObserver=function(e){this.reconnectObservers.push(e)},e.prototype.record=function(e){var t=this;e===P.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout((function(){t._triggerReconnect(),t.reconnectIntervalId=setInterval((function(){t._triggerReconnect()}),6e4)}),5e3)),e===P.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))},e.prototype.close=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.complete)||void 0===t||t.call(e)}))},e.prototype._triggerReconnect=function(){this.reconnectObservers.forEach((function(e){var t;null===(t=e.next)||void 0===t||t.call(e)}))},e}(),U=new f.k("AWSAppSyncRealTimeProvider"),j=function(e,t,n){b.X.dispatch("api",{event:e,data:t,message:n},"PubSub",O)},B=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,V=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.socketStatus=c.CLOSED,n.keepAliveTimeout=N,n.subscriptionObserverMap=new Map,n.promiseArray=[],n.connectionStateMonitor=new z,n.reconnectionMonitor=new F,n.connectionStateMonitorSubscription=n.connectionStateMonitor.connectionStateObservable.subscribe((function(e){j("ConnectionStateChange",{provider:n,connectionState:e},"Connection state is "+e),n.connectionState=e,e===T.e.ConnectionDisrupted&&n.reconnectionMonitor.record(P.START_RECONNECT),[T.e.Connected,T.e.ConnectedPendingDisconnect,T.e.ConnectedPendingKeepAlive,T.e.ConnectedPendingNetwork,T.e.ConnectedPendingNetwork,T.e.ConnectionDisruptedPendingNetwork,T.e.Disconnected].includes(e)&&n.reconnectionMonitor.record(P.HALT_RECONNECT)})),n}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.close=function(){this.socketStatus=c.CLOSED,this.connectionStateMonitor.record(D.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()},t.prototype.getNewWebSocket=function(e,t){return new WebSocket(e,t)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(B)},t.prototype.subscribe=function(e,t){var n=this,r=null==t?void 0:t.appSyncGraphqlEndpoint;return new u.Z((function(e){if(t&&r){var s,c=!1,d=(0,v.v4)(),f=function(){c||(c=!0,n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:d}).catch((function(e){U.debug(T.u.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+e),n.connectionStateMonitor.record(D.CLOSED)})).finally((function(){c=!1})))};return s=new u.Z((function(e){n.reconnectionMonitor.addObserver(e)})).subscribe((function(){f()})),f(),function(){return i(n,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:null==s||s.unsubscribe(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this._waitForSubscriptionToBeConnected(d)];case 2:if(n.sent(),!(e=(this.subscriptionObserverMap.get(d)||{}).subscriptionState))return[2];if(e!==l.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(d),[3,5];case 3:return t=n.sent(),U.debug("Error while unsubscribing "+t),[3,5];case 4:return this._removeSubscriptionObserver(d),[7];case 5:return[2]}}))}))}}e.error({errors:[o({},new m._("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t,n=e.options,r=e.observer,c=e.subscriptionId;return i(this,void 0,void 0,(function(){var e,i,u,d,f,h,m,g,v,y,b,w,x,S,E,C,k,A,T,I,P,O,M,N=this;return a(this,(function(a){switch(a.label){case 0:return e=n.appSyncGraphqlEndpoint,i=n.authenticationType,u=n.query,d=n.variables,f=n.apiKey,h=n.region,m=n.graphql_headers,g=void 0===m?function(){return{}}:m,v=n.additionalHeaders,y=void 0===v?{}:v,b=l.PENDING,w={query:u,variables:d},this.subscriptionObserverMap.set(c,{observer:r,query:null!=u?u:"",variables:null!=d?d:{},subscriptionState:b,startAckTimeoutId:void 0}),x=JSON.stringify(w),E=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:f,appSyncGraphqlEndpoint:e,authenticationType:i,payload:x,canonicalUri:"",region:h,additionalHeaders:y})];case 1:return C=[o.apply(void 0,E.concat([a.sent()]))],[4,g()];case 2:S=o.apply(void 0,[o.apply(void 0,[o.apply(void 0,C.concat([a.sent()])),y]),(M={},M[p.Mt]=_.Constants.userAgent,M)]),k={id:c,payload:{data:x,extensions:{authorization:o({},S)}},type:s.GQL_START},A=JSON.stringify(k),a.label=3;case 3:return a.trys.push([3,5,,6]),this.connectionStateMonitor.record(D.OPENING_CONNECTION),[4,this._initializeWebSocketConnection({apiKey:f,appSyncGraphqlEndpoint:e,authenticationType:i,region:h,additionalHeaders:y})];case 4:return a.sent(),[3,6];case 5:return T=a.sent(),this._logStartSubscriptionError(c,r,T),[2];case 6:return I=null!==(t=this.subscriptionObserverMap.get(c))&&void 0!==t?t:{},P=I.subscriptionFailedCallback,O=I.subscriptionReadyCallback,this.subscriptionObserverMap.set(c,{observer:r,subscriptionState:b,query:null!=u?u:"",variables:null!=d?d:{},subscriptionReadyCallback:O,subscriptionFailedCallback:P,startAckTimeoutId:setTimeout((function(){N._timeoutStartSubscriptionAck.call(N,c)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(A),[2]}}))}))},t.prototype._logStartSubscriptionError=function(e,t,n){var r;U.debug({err:n});var i=null!==(r=n.message)&&void 0!==r?r:"";if(Promise.resolve(this.connectionStateMonitor.record(D.CLOSED)),this.connectionState!==T.e.ConnectionDisruptedPendingNetwork){(0,w.m0)(n)?t.error({errors:[o({},new m._(T.u.CONNECTION_FAILED+": "+i))]}):U.debug(T.u.CONNECTION_FAILED+": "+i);var a=(this.subscriptionObserverMap.get(e)||{}).subscriptionFailedCallback;"function"==typeof a&&a()}},t.prototype._waitForSubscriptionToBeConnected=function(e){return i(this,void 0,void 0,(function(){var t,n=this;return a(this,(function(r){return(t=this.subscriptionObserverMap.get(e))&&t.subscriptionState===l.PENDING?[2,new Promise((function(r,o){var i=t.observer,a=t.subscriptionState,s=t.variables,l=t.query;n.subscriptionObserverMap.set(e,{observer:i,subscriptionState:a,variables:s,query:l,subscriptionReadyCallback:r,subscriptionFailedCallback:o})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===c.READY){var t={id:e,type:s.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){U.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(D.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{U.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);var e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=c.CLOSED,this.connectionStateMonitor.record(D.CLOSED)}else this.socketStatus=c.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){var t=this;U.debug("subscription message from AWS AppSync RealTime: "+e.data);var n=JSON.parse(e.data),r=n.id,i=void 0===r?"":r,a=n.payload,c=n.type,u=this.subscriptionObserverMap.get(i)||{},d=u.observer,f=void 0===d?null:d,p=u.query,h=void 0===p?"":p,g=u.variables,v=void 0===g?{}:g,y=u.startAckTimeoutId,b=u.subscriptionReadyCallback,_=u.subscriptionFailedCallback;if(U.debug({id:i,observer:f,query:h,variables:v}),c===s.GQL_DATA&&a&&a.data)f?f.next(a):U.debug("observer not found for id: "+i);else{if(c===s.GQL_START_ACK){U.debug("subscription ready for "+JSON.stringify({query:h,variables:v})),"function"==typeof b&&b(),y&&clearTimeout(y),j(T.u.SUBSCRIPTION_ACK,{query:h,variables:v},"Connection established for subscription");var w=l.CONNECTED;return f&&this.subscriptionObserverMap.set(i,{observer:f,query:h,variables:v,startAckTimeoutId:void 0,subscriptionState:w,subscriptionReadyCallback:b,subscriptionFailedCallback:_}),void this.connectionStateMonitor.record(D.CONNECTION_ESTABLISHED)}if(c===s.GQL_CONNECTION_KEEP_ALIVE)return this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout((function(){return t._errorDisconnect(T.u.TIMEOUT_DISCONNECT)}),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout((function(){t.connectionStateMonitor.record(D.KEEP_ALIVE_MISSED)}),65e3),void this.connectionStateMonitor.record(D.KEEP_ALIVE);c===s.GQL_ERROR&&(w=l.FAILED,f&&(this.subscriptionObserverMap.set(i,{observer:f,query:h,variables:v,startAckTimeoutId:y,subscriptionReadyCallback:b,subscriptionFailedCallback:_,subscriptionState:w}),U.debug(T.u.CONNECTION_FAILED+": "+JSON.stringify(a)),f.error({errors:[o({},new m._(T.u.CONNECTION_FAILED+": "+JSON.stringify(a)))]}),y&&clearTimeout(y),"function"==typeof _&&_()))}},t.prototype._errorDisconnect=function(e){U.debug("Disconnect error: "+e),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(D.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=c.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e);if(t){var n=t.observer,r=t.query,o=t.variables;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:o,subscriptionState:l.FAILED}),this.connectionStateMonitor.record(D.CLOSED),U.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:o}))}},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,o=e.apiKey,s=e.region,l=e.additionalHeaders;if(this.socketStatus!==c.READY)return new Promise((function(e,u){return i(t,void 0,void 0,(function(){var t,i,d,f,p,h,m,g,v,b;return a(this,(function(a){switch(a.label){case 0:if(this.promiseArray.push({res:e,rej:u}),this.socketStatus!==c.CLOSED)return[3,5];a.label=1;case 1:return a.trys.push([1,4,,5]),this.socketStatus=c.CONNECTING,t="{}",f=(d=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:o,appSyncGraphqlEndpoint:n,region:s,additionalHeaders:l})];case 2:return i=f.apply(d,[a.sent()]),p=y.lW.from(i).toString("base64"),h=y.lW.from(t).toString("base64"),m=null!=n?n:"",m=this.isCustomDomain(m)?m.concat("/realtime"):m.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),g=this.isSSLEnabled?"wss://":"ws://",m=m.replace("https://",g).replace("http://",g),v=m+"?header="+p+"&payload="+h,[4,this._initializeRetryableHandshake(v)];case 3:return a.sent(),this.promiseArray.forEach((function(e){var t=e.res;U.debug("Notifying connection successful"),t()})),this.socketStatus=c.READY,this.promiseArray=[],[3,5];case 4:return b=a.sent(),U.debug("Connection exited with",b),this.promiseArray.forEach((function(e){return(0,e.rej)(b)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=c.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return U.debug("Initializaling retryable Handshake"),[4,(0,w.Xm)(this._initializeHandshake.bind(this),[e],5e3)];case 1:return t.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){return i(this,void 0,void 0,(function(){var t,n,r,o,i=this;return a(this,(function(a){switch(a.label){case 0:U.debug("Initializing handshake "+e),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,new Promise((function(t,n){var r=i.getNewWebSocket(e,"graphql-ws");r.onerror=function(){U.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return i.awsRealTimeSocket=r,t()}}))];case 2:return a.sent(),[4,new Promise((function(e,t){if(i.awsRealTimeSocket){var n=!1;i.awsRealTimeSocket.onerror=function(e){U.debug("WebSocket error "+JSON.stringify(e))},i.awsRealTimeSocket.onclose=function(e){U.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},i.awsRealTimeSocket.onmessage=function(r){U.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var o=JSON.parse(r.data),a=o.type,l=o.payload,c=(void 0===l?{}:l).connectionTimeoutMs,u=void 0===c?N:c;if(a===s.GQL_CONNECTION_ACK)return n=!0,i.awsRealTimeSocket&&(i.keepAliveTimeout=u,i.awsRealTimeSocket.onmessage=i._handleIncomingSubscriptionMessage.bind(i),i.awsRealTimeSocket.onerror=function(e){U.debug(e),i._errorDisconnect(T.u.CONNECTION_CLOSED)},i.awsRealTimeSocket.onclose=function(e){U.debug("WebSocket closed "+e.reason),i._errorDisconnect(T.u.CONNECTION_CLOSED)}),void e("Cool, connected to AWS AppSyncRealTime");if(a===s.GQL_CONNECTION_ERROR){var d=o.payload,f=(void 0===d?{}:d).errors,p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(void 0===f?[]:f,1)[0],h=void 0===p?{}:p,m=h.errorType,g=void 0===m?"":m,v=h.errorCode;t({errorType:g,errorCode:void 0===v?0:v})}};var r={type:s.GQL_CONNECTION_INIT};i.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout((function(){n||(i.connectionStateMonitor.record(D.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))}),15e3)}}))];case 3:return a.sent(),[3,5];case 4:throw t=a.sent(),r=(n=t).errorType,o=n.errorCode,I.includes(o)?new w.V2(r):r?new Error(r):t;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,o=e.appSyncGraphqlEndpoint,s=e.apiKey,l=e.region,c=e.additionalHeaders;return i(this,void 0,void 0,(function(){var e,i,u;return a(this,(function(a){switch(a.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},t&&e[t]?[3,1]:(U.debug("Authentication type "+t+" not supported"),[2,""]);case 1:return i=e[t],u=g.Qc(null!=o?o:"").host,U.debug("Authenticating with "+t),[4,i({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:o,apiKey:s,region:l,host:u,additionalHeaders:c})];case 2:return[2,a.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,C.g.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return i(this,void 0,void 0,(function(){var e,n,r;return a(this,(function(o){switch(o.label){case 0:return[4,E._.getItem("federatedInfo")];case 1:return(n=o.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,C.g.currentAuthenticatedUser()];case 3:(r=o.sent())&&(e=r.token),o.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return i(this,void 0,void 0,(function(){var e,r;return a(this,(function(o){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,s=e.region;return i(this,void 0,void 0,(function(){var e,i,l;return a(this,(function(a){switch(a.label){case 0:return e={region:s,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");return[4,x.c.get().then((function(e){var t=e;return{secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken}}))];case 2:return i=a.sent(),l={url:""+r+n,data:t,method:"POST",headers:o({},M)},[2,S.E.sign(l,i,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n||!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return x.c.get().then((function(e){if(!e)return!1;var t=x.c.shear(e);return U.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return U.warn("ensure credentials error",e),!1}))},t}(A),G=(0,d.lC)().isNode,q=new f.k("PubSub"),H=new(function(){function e(e){this._options=null!=e?e:{},q.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new V(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return q.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===p.om?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(G&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");q.debug("subscribe options",t);var n=this.getProviders(t);return new u.Z((function(r){var o=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return o.forEach((function(e){return e.unsubscribe()}))}}))},e}());h.d.register(H)},79586:(e,t,n)=>{"use strict";var r,o;n.d(t,{e:()=>o,u:()=>r}),function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(r||(r={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(o||(o={}))},55408:(e,t,n)=>{var r=n(41330),o=n(84701),i=o;i.v1=r,i.v4=o,e.exports=i},51178:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},9513:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},41330:(e,t,n)=>{var r,o,i=n(9513),a=n(51178),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=f;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=h/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},84701:(e,t,n)=>{var r=n(9513),o=n(51178);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},79172:(e,t,n)=>{"use strict";n.d(t,{K:()=>h,_:()=>g});var r=n(64446),o=n(35069),i=n(99820),a=n(25387),s=n(62459),l=n(11964),c=n.n(l),u=n(81037),d=new o.k("StorageClass"),f=new o.k("Storage"),p="AWSS3",h=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,d.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory())return this._pluggables.push(e),e.configure(this._config[e.getProviderName()])},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(d.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t,n=this;if(d.debug("configure Storage"),!e)return this._config;var o=null!==(t=(0,i.h)(e).Storage)&&void 0!==t?t:{},a=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"];return function(e){return Object.keys(e).find((function(e){return a.includes(e)}))}(o)&&!o[p]&&(o[p]={}),Object.entries(o).forEach((function(e){var t=(0,r.CR)(e,2),n=t[0],i=t[1];n&&a.includes(n)&&void 0!==i&&(o[p][n]=i,delete o[n])})),Object.keys(o).forEach((function(e){"string"!=typeof o[e]&&(n._config[e]=(0,r.pi)((0,r.pi)({},n._config[e]),o[e]))})),this._pluggables.forEach((function(e){e.configure(n._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new s.M),this._config},e.prototype.getCancellableTokenSource=function(){return c().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof u.Uk)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):d.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var o=(null==n?void 0:n.provider)||p,i=this._pluggables.find((function(e){return e.getProviderName()===o}));if(void 0===i)return d.debug("No plugin found with providerName",o),Promise.reject("No plugin found in Storage for the provider");var a=this.getCancellableTokenSource();if("function"!=typeof i.copy)return Promise.reject(".copy is not implemented on provider "+i.getProviderName());var s=i.copy(e,t,(0,r.pi)((0,r.pi)({},n),{cancelTokenSource:a}));return this.updateRequestToBeCancellable(s,a),s},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||p,o=this._pluggables.find((function(e){return e.getProviderName()===n}));if(void 0===o)return d.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),a=o.get(e,(0,r.pi)((0,r.pi)({},t),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(a,i),a},e.prototype.isCancelError=function(e){return c().isCancel(e)},e.prototype.put=function(e,t,n){var o=(null==n?void 0:n.provider)||p,i=this._pluggables.find((function(e){return e.getProviderName()===o}));if(void 0===i)return d.debug("No plugin found with providerName",o),Promise.reject("No plugin found in Storage for the provider");var a=this.getCancellableTokenSource(),s=i.put(e,t,(0,r.pi)((0,r.pi)({},n),{cancelTokenSource:a}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,a),s},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||p,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(d.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||p,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(d.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}(),m=null,g=function(){if(m)return m;f.debug("Create Storage Instance, debug"),(m=new h).vault=new h;var e=m.configure;return m.configure=function(t){f.debug("storage configure called");var n=(0,r.pi)({},e.call(m,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=(0,r.pi)((0,r.pi)({},n[e]),{level:"private"}))})),f.debug("storage vault configure called"),m.vault.configure(n)},m}();a.d.register(g)},35731:(e,t,n)=>{"use strict";n.d(t,{bL:()=>re,Fi:()=>ie,sr:()=>oe,y:()=>X,dz:()=>Q,OK:()=>ae,tt:()=>J,fK:()=>ne,Gn:()=>Y,Sm:()=>ee});var r=n(64446),o=n(35069),i=n(40611),a=n(9270),s=n(70655),l=n(77643),c=n(98927),u=n(16776);function d(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,o){var i=new FileReader;i.addEventListener("error",o),i.addEventListener("abort",o);var a=e.size,s=0;function l(){s>=a?r():i.readAsArrayBuffer(e.slice(s,Math.min(a,s+n)))}i.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),s+=n.byteLength,l()})),l()}))}var f=n(35749);var p=[1732584193,4023233417,2562383102,271733878],h=function(){function e(){this.state=Uint32Array.from(p),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){return"string"==typeof e?0===e.length:0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){return"string"==typeof e?(t=e,"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(t):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(t)):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var t}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return e=this,t=void 0,r=function(){var e,t,n,r,o,i,a;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(s){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,o=8*r,t.setUint8(this.bufferLength++,128),n%64>=56){for(a=this.bufferLength;a<64;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(a=this.bufferLength;a<56;a++)t.setUint8(a,0);t.setUint32(56,o>>>0,!0),t.setUint32(60,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}for(i=new DataView(new ArrayBuffer(16)),a=0;a<4;a++)i.setUint32(4*a,this.state[a],!0);return[2,new Uint8Array(i.buffer,i.byteOffset,i.byteLength)]}))},new((n=void 0)||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],i=t[3];n=g(n,r,o,i,e.getUint32(0,!0),7,3614090360),i=g(i,n,r,o,e.getUint32(4,!0),12,3905402710),o=g(o,i,n,r,e.getUint32(8,!0),17,606105819),r=g(r,o,i,n,e.getUint32(12,!0),22,3250441966),n=g(n,r,o,i,e.getUint32(16,!0),7,4118548399),i=g(i,n,r,o,e.getUint32(20,!0),12,1200080426),o=g(o,i,n,r,e.getUint32(24,!0),17,2821735955),r=g(r,o,i,n,e.getUint32(28,!0),22,4249261313),n=g(n,r,o,i,e.getUint32(32,!0),7,1770035416),i=g(i,n,r,o,e.getUint32(36,!0),12,2336552879),o=g(o,i,n,r,e.getUint32(40,!0),17,4294925233),r=g(r,o,i,n,e.getUint32(44,!0),22,2304563134),n=g(n,r,o,i,e.getUint32(48,!0),7,1804603682),i=g(i,n,r,o,e.getUint32(52,!0),12,4254626195),o=g(o,i,n,r,e.getUint32(56,!0),17,2792965006),n=v(n,r=g(r,o,i,n,e.getUint32(60,!0),22,1236535329),o,i,e.getUint32(4,!0),5,4129170786),i=v(i,n,r,o,e.getUint32(24,!0),9,3225465664),o=v(o,i,n,r,e.getUint32(44,!0),14,643717713),r=v(r,o,i,n,e.getUint32(0,!0),20,3921069994),n=v(n,r,o,i,e.getUint32(20,!0),5,3593408605),i=v(i,n,r,o,e.getUint32(40,!0),9,38016083),o=v(o,i,n,r,e.getUint32(60,!0),14,3634488961),r=v(r,o,i,n,e.getUint32(16,!0),20,3889429448),n=v(n,r,o,i,e.getUint32(36,!0),5,568446438),i=v(i,n,r,o,e.getUint32(56,!0),9,3275163606),o=v(o,i,n,r,e.getUint32(12,!0),14,4107603335),r=v(r,o,i,n,e.getUint32(32,!0),20,1163531501),n=v(n,r,o,i,e.getUint32(52,!0),5,2850285829),i=v(i,n,r,o,e.getUint32(8,!0),9,4243563512),o=v(o,i,n,r,e.getUint32(28,!0),14,1735328473),n=y(n,r=v(r,o,i,n,e.getUint32(48,!0),20,2368359562),o,i,e.getUint32(20,!0),4,4294588738),i=y(i,n,r,o,e.getUint32(32,!0),11,2272392833),o=y(o,i,n,r,e.getUint32(44,!0),16,1839030562),r=y(r,o,i,n,e.getUint32(56,!0),23,4259657740),n=y(n,r,o,i,e.getUint32(4,!0),4,2763975236),i=y(i,n,r,o,e.getUint32(16,!0),11,1272893353),o=y(o,i,n,r,e.getUint32(28,!0),16,4139469664),r=y(r,o,i,n,e.getUint32(40,!0),23,3200236656),n=y(n,r,o,i,e.getUint32(52,!0),4,681279174),i=y(i,n,r,o,e.getUint32(0,!0),11,3936430074),o=y(o,i,n,r,e.getUint32(12,!0),16,3572445317),r=y(r,o,i,n,e.getUint32(24,!0),23,76029189),n=y(n,r,o,i,e.getUint32(36,!0),4,3654602809),i=y(i,n,r,o,e.getUint32(48,!0),11,3873151461),o=y(o,i,n,r,e.getUint32(60,!0),16,530742520),n=b(n,r=y(r,o,i,n,e.getUint32(8,!0),23,3299628645),o,i,e.getUint32(0,!0),6,4096336452),i=b(i,n,r,o,e.getUint32(28,!0),10,1126891415),o=b(o,i,n,r,e.getUint32(56,!0),15,2878612391),r=b(r,o,i,n,e.getUint32(20,!0),21,4237533241),n=b(n,r,o,i,e.getUint32(48,!0),6,1700485571),i=b(i,n,r,o,e.getUint32(12,!0),10,2399980690),o=b(o,i,n,r,e.getUint32(40,!0),15,4293915773),r=b(r,o,i,n,e.getUint32(4,!0),21,2240044497),n=b(n,r,o,i,e.getUint32(32,!0),6,1873313359),i=b(i,n,r,o,e.getUint32(60,!0),10,4264355552),o=b(o,i,n,r,e.getUint32(24,!0),15,2734768916),r=b(r,o,i,n,e.getUint32(52,!0),21,1309151649),n=b(n,r,o,i,e.getUint32(16,!0),6,4149444226),i=b(i,n,r,o,e.getUint32(44,!0),10,3174756917),o=b(o,i,n,r,e.getUint32(8,!0),15,718787259),r=b(r,o,i,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=o+t[2]&4294967295,t[3]=i+t[3]&4294967295},e}();function m(e,t,n,r,o,i){return((t=(t+e&4294967295)+(r+i&4294967295)&4294967295)<<o|t>>>32-o)+n&4294967295}function g(e,t,n,r,o,i,a){return m(t&n|~t&r,e,t,o,i,a)}function v(e,t,n,r,o,i,a){return m(t&r|n&~r,e,t,o,i,a)}function y(e,t,n,r,o,i,a){return m(t^n^r,e,t,o,i,a)}function b(e,t,n,r,o,i,a){return m(n^(t|~r),e,t,o,i,a)}var _=n(57224),w=n(67157),x=n(22795),S=n(81784),E="s3.{region}.amazonaws.com",C=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),k=new Set(["cn-north-1","cn-northwest-1"]),A=new Set(["us-iso-east-1"]),T=new Set(["us-isob-east-1"]),I=new Set(["us-gov-east-1","us-gov-west-1"]),P={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:C.has(e)&&(n={hostname:E.replace("{region}",e),partition:"aws"}),k.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),A.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),T.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),I.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:E.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,s.__assign)({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:n(87897).e,useArnRegion:!1},O=(0,s.__assign)((0,s.__assign)({},P),{runtime:"browser",base64Decoder:w.G,base64Encoder:w.s,bodyLengthChecker:x.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,S.f)({serviceId:P.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:c.VQ,maxAttempts:_.J,md5:h,region:(0,f.n)("Region is missing"),requestHandler:new u.B,sha256:l.Sha256,streamCollector:u.C,streamHasher:function(e,t){return n=this,r=void 0,i=function(){var n;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(r){switch(r.label){case 0:return n=new e,[4,d(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}l((i=i.apply(n,r||[])).next())}));var n,r,o,i},utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),M=n(36118),N=n(66858),L=n(15865),R=n(43488),D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},D.apply(this,arguments)};var z=n(75882),F={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},U=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return o=t,i=void 0,s=function(){var t;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(o){return t=r.request,z.aW.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=D(D({},t.headers),{Expect:"100-continue"})),[2,n(D(D({},r),{request:t}))]}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}l((s=s.apply(o,i||[])).next())}));var o,i,a,s}}}(e),F)}}},j=n(73775),B=n(30379),V=n(83112),G=n(89722),q=n(8384),H=function(e){function t(t){var n=this,r=(0,s.__assign)((0,s.__assign)({},O),t),o=(0,M.Xb)(r),i=(0,M.g4)(o),a=(0,G.A$)(i),l=(0,_.BC)(a),c=(0,j.S8)(l),u=(0,L.Z4)(c),d=(0,q.er)(u),f=(0,N.t)(d);return(n=e.call(this,f)||this).config=f,n.middlewareStack.use((0,G.yt)(n.config)),n.middlewareStack.use((0,_.NQ)(n.config)),n.middlewareStack.use((0,R.VG)(n.config)),n.middlewareStack.use((0,j.G2)(n.config)),n.middlewareStack.use((0,B.cV)(n.config)),n.middlewareStack.use((0,V.D4)(n.config)),n.middlewareStack.use((0,V.wM)(n.config)),n.middlewareStack.use(U(n.config)),n.middlewareStack.use((0,q.XJ)(n.config)),n}return(0,s.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(n(82254).KU),W=n(38829),K=n(93231),$=new o.k("S3ClientUtils"),Z={accessKeyId:"",secretAccessKey:""},Y=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},o=e.identityId||t.identityId,i=(void 0!==r.private?r.private:"private/")+o+"/",a=(void 0!==r.protected?r.protected:"protected/")+o+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return i;case"protected":return a;default:return s}},J=function(e,t){return function(n,o){return function(o){return(0,r.mG)(void 0,void 0,void 0,(function(){var a,s,l,c;return(0,r.Jh)(this,(function(u){switch(u.label){case 0:return[4,i.c.get()];case 1:return a=u.sent(),s=i.c.shear(a),l=Y((0,r.pi)((0,r.pi)({},e),{credentials:s})),c=Object.assign({},o.input),Object.prototype.hasOwnProperty.call(o.input,"Key")?(c.Key=l+t,o.input=c):Object.prototype.hasOwnProperty.call(o.input,"Prefix")&&(c.Prefix=l+t,o.input=c),[2,n(o)]}}))}))}}},X=function(e){return function(t,n){return function(n){return(0,r.mG)(void 0,void 0,void 0,(function(){var o,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,r.sent()];case 2:throw(a=o=r.sent()).ServerTime&&"string"==typeof a.Code&&"RequestTimeTooSkewed"===a.Code&&(i=new Date(o.ServerTime),e.systemClockOffset=i.getTime()-Date.now()),o;case 3:return[2]}var a}))}))}}},Q={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},ee={step:"initialize",name:"addPrefixMiddleware"},te=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i.c.get()];case 1:return(e=r.sent())?(t=i.c.shear(e),$.debug("credentials provider get credentials",t),[2,t]):[2,Z];case 2:return n=r.sent(),$.warn("credentials provider error",n),[2,Z];case 3:return[2]}}))}))},ne=function(e,t){var n=e.region,o=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,s=e.useAccelerateEndpoint,l={};i&&(l={endpoint:K.Y,tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var c=new H((0,r.pi)((0,r.pi)({region:n,credentials:te,customUserAgent:(0,a.Z)()},l),{requestHandler:new W.kk({},t,o),useAccelerateEndpoint:s}));return c.middlewareStack.remove(K.O7),c},re=5242880,oe=5497558138880,ie=4,ae=function(e){for(var t=re,n=Math.ceil(e/t);n>1e4;)t*=2,n=Math.ceil(e/t);return t}},93231:(e,t,n)=>{"use strict";n.d(t,{O7:()=>o,SQ:()=>r,Y:()=>i,rx:()=>a});var r="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",o="contentLengthMiddleware",i="http://localhost:20005",a="__uploadInProgress"},87778:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{W9:()=>i,af:()=>r}),function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"}(r||(r={})),function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"}(o||(o={})),function(e){e.UPLOAD_PAUSED_MESSAGE="paused"}(i||(i={}))},55008:(e,t,n)=>{"use strict";n.d(t,{VA:()=>a,k:()=>i,zE:()=>s});var r=n(20490),o=n(93231),i=function(e){if("string"==typeof e)return e.length;if(c(e))return e.byteLength;if(l(e))return e.size;throw new Error("Cannot determine byte length of "+e)},a=function(e,t,n,i,a){if(e){var s={attrs:n};i&&(s.metrics=i),r.X.dispatch("storage",{event:t,data:s,message:a},"Storage",o.SQ)}},s=function(e){return void 0!==e&&e instanceof File},l=function(e){return void 0!==e&&e instanceof Blob},c=function(e){return void 0!==e&&e instanceof ArrayBuffer}},8353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AWSS3Provider:()=>o.M,Storage:()=>r._,StorageClass:()=>r.K});var r=n(79172),o=n(62459)},62459:(e,t,n)=>{"use strict";n.d(t,{M:()=>W});var r=n(64446),o=n(35069),i=n(6648),a=n(20490),s=n(99820),l=n(40611),c=n(70655),u=n(98578),d=n(52616),f=n(15865),p=n(83112),h=n(22593),m=n(59847),g=n(82254),v=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,c.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,h.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,p.mS)(t)),this.middlewareStack.use((0,m.gc)(t)),this.middlewareStack.use((0,f.AB)(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:u.ufJ.filterSensitiveLog,outputFilterSensitiveLog:u.nXp.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return(0,d.R89)(e,t)},t.prototype.deserialize=function(e,t){return(0,d.gur)(e,t)},t}(g.mY),y=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,c.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,h.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,m.gc)(t)),this.middlewareStack.use((0,f.AB)(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:u.ynn.filterSensitiveLog,outputFilterSensitiveLog:u.eU0.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return(0,d.LHU)(e,t)},t.prototype.deserialize=function(e,t){return(0,d.P3C)(e,t)},t}(g.mY),b=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,c.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,h.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,f.AB)(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:u.Zfp.filterSensitiveLog,outputFilterSensitiveLog:u.FDr.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return(0,d.BrV)(e,t)},t.prototype.deserialize=function(e,t){return(0,d.IY3)(e,t)},t}(g.mY),_=n(19099),w=n(62108);function x(e){var t=e.port,n=e.query,r=e.protocol,o=e.path,i=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(i+=":"+t),o&&"/"!==o.charAt(0)&&(o="/"+o);var a=n?(0,w.I)(n):"";return a&&"?"!==a[0]&&(a="?"+a),r+"//"+i+o+a}function S(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function E(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function C(e,t){return S(this,void 0,void 0,(function(){var n,r,o=this;return E(this,(function(i){switch(i.label){case 0:return n=function(e){return function(e){return S(o,void 0,void 0,(function(){return E(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,i.sent()]}}))}))}var k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)};var A=n(52325),T=function(){function e(e){var t=k({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new A.L1(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n,r,o,i,a=t.unsignableHeaders,s=void 0===a?new Set:a,l=t.unhoistableHeaders,c=void 0===l?new Set:l,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["unsignableHeaders","unhoistableHeaders"]);return n=this,r=void 0,i=function(){return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){return s.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){c.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,k({expiresIn:900,unsignableHeaders:s,unhoistableHeaders:c},u))]}))},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(i.next(e))}catch(e){t(e)}}function s(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}l((i=i.apply(n,r||[])).next())}))},e}(),I=(n(75882),n(38829)),P=n(87778),O=n(55008),M=n(35731),N=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,c.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,h.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,m.gc)(t)),this.middlewareStack.use((0,f.AB)(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:u.NDW.filterSensitiveLog,outputFilterSensitiveLog:u._4d.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return(0,d.gYi)(e,t)},t.prototype.deserialize=function(e,t){return(0,d.iIy)(e,t)},t}(g.mY),L=n(6675),R=n(60664),D=n(67485),z=n(47138),F=n(47908),U=n(17187),j=new o.k("AWSS3ProviderManagedUpload"),B=function(){function e(e,t,n){this.opts=null,this.completedParts=[],this.partSize=M.bL,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n,o,i,a,s=this;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,9,,11]),this.body=this.validateAndSanitizeBody(this.params.Body),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=M.bL?(this.params.Body=this.body,e=new N(this.params),[2,this.s3client.send(e)]):[3,1];case 1:return this.partSize=(0,M.OK)(this.totalBytesToUpload),t=this,[4,this.createMultiPartUpload()];case 2:t.uploadId=r.sent(),n=Math.ceil(this.totalBytesToUpload/this.partSize),o=this.createParts(),i=0,r.label=3;case 3:return i<n?[4,this.uploadParts(this.uploadId,o.slice(i,i+M.Fi))]:[3,6];case 4:r.sent(),r.label=5;case 5:return i+=M.Fi,[3,3];case 6:return o.map((function(e){s.removeEventListener(e)})),[4,this.finishMultiPartUpload(this.uploadId)];case 7:return[2,r.sent()];case 8:return[3,11];case 9:return a=r.sent(),[4,this.cleanup(this.uploadId)];case 10:throw r.sent(),j.error("Error. Cancelling the multipart upload."),a;case 11:return[2]}}))}))},e.prototype.createParts=function(){try{for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.partSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new U.EventEmitter,_lastUploadedBytes:0}),t+=this.partSize}return e}catch(e){throw j.error(e),e}},e.prototype.createMultiPartUpload=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=new L.p(this.params),[4,this.s3client.send(e)];case 1:return t=r.sent(),j.debug(t.UploadId),[2,t.UploadId];case 2:throw n=r.sent(),j.error(n),n;case 3:return[2]}}))}))},e.prototype.uploadParts=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,o,i,a=this;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return(0,r.mG)(a,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.Jh)(this,(function(u){switch(u.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},o=this.params,i=o.Key,a=o.Bucket,s=o.SSECustomerAlgorithm,l=o.SSECustomerKey,c=o.SSECustomerKeyMD5,[4,this.s3client.send(new R.c((0,r.pi)((0,r.pi)((0,r.pi)({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:a},s&&{SSECustomerAlgorithm:s}),l&&{SSECustomerKey:l}),c&&{SSECustomerKeyMD5:c})),n)];case 1:return[2,u.sent()]}}))}))})))];case 1:for(n=s.sent(),o=0;o<n.length;o++)this.completedParts.push({PartNumber:t[o].partNumber,ETag:n[o].ETag});return[3,3];case 2:throw i=s.sent(),j.error("Error happened while uploading a part. Cancelling the multipart upload"),i;case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new D.G(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,r.sent().Key];case 3:throw o=r.sent(),j.error("Error happened while finishing the upload."),o;case 4:return[2]}}))}))},e.prototype.cleanup=function(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,e?(t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new z.f(t))]):[2];case 1:return r.sent(),[4,this.s3client.send(new F.r(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multipart upload clean up failed.");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(I.bX),e.emitter.removeAllListeners(I.oy)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(I.bX,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(I.bX,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){var t=this.isGenericObject(e)?JSON.stringify(e):e;if(this.byteLength(t)>M.sr)throw new Error("File size bigger than S3 Object limit of 5TB, got "+this.totalBytesToUpload+" Bytes");return t},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=(0,M.fK)(e,t);return n.middlewareStack.add((0,M.tt)(this.opts,this.params.Key),M.Sm),n.middlewareStack.add((0,M.y)(n.config),M.dz),n},e}(),V=n(81037),G=n(93231),q=new o.k("AWSS3Provider"),H="public",W=function(){function e(e){var t=this;this._config=e||{},this._storage=(new i.c).getStorage(),a.X.listen("auth",(function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem(G.rx)})),q.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(q.debug("configure Storage",e),!e)return this._config;var t=(0,s.h)(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||q.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,o=e.emitter,i=e.key,a=e.file,s=e.params,c=t.progressCallback,u=t.completeCallback,d=t.errorCallback,f=t.track,p=void 0!==f&&f;if(!(a instanceof Blob))throw new Error(P.af.INVALID_BLOB);o.on(V.Rw.UPLOAD_PROGRESS,(function(e){c&&("function"==typeof c?c(e):q.warn("progressCallback should be a function, not a "+typeof c))})),o.on(V.Rw.UPLOAD_COMPLETE,(function(e){u&&("function"==typeof u?u(e):q.warn("completeCallback should be a function, not a "+typeof u))})),o.on(V.Rw.ERROR,(function(e){d&&("function"==typeof d?d(e):q.warn("errorCallback should be a function, not a "+typeof d))}));var h=l.c.get().then((function(e){var n=l.c.shear(e);return(0,M.Gn)((0,r.pi)((0,r.pi)({},t),{credentials:n}))})),m=new V.Uk({s3Client:n,file:a,emitter:o,level:t.level,storage:this._storage,params:s,prefixPromise:h});return(0,O.VA)(p,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+i),m.resume(),m},e.prototype.copy=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f,p,h,m,g,y,b,_,w,x,S,E,C,k,A,T,I;return(0,r.Jh)(this,(function(M){switch(M.label){case 0:return[4,this._ensureCredentials()];case 1:if(!M.sent()||!this._isWithCredentials(this._config))throw new Error(P.af.NO_CREDENTIALS);if(o=Object.assign({},this._config,n),i=o.acl,a=o.bucket,s=o.cacheControl,l=o.expires,c=o.track,u=o.serverSideEncryption,d=o.SSECustomerAlgorithm,f=o.SSECustomerKey,p=o.SSECustomerKeyMD5,h=o.SSEKMSKeyId,m=e.level,g=void 0===m?H:m,y=e.identityId,b=e.key,_=t.level,w=void 0===_?H:_,x=t.key,!b||"string"!=typeof b)throw new Error(P.af.NO_SRC_KEY);if(!x||"string"!=typeof x)throw new Error(P.af.NO_DEST_KEY);"protected"!==g&&y&&q.warn('You may copy files from another user if the source level is "protected", currently it\'s '+g),S=this._prefix((0,r.pi)((0,r.pi)((0,r.pi)({},o),{level:g}),y&&{identityId:y})),E=this._prefix((0,r.pi)((0,r.pi)({},o),{level:w})),C=a+"/"+S+b,k=""+E+x,q.debug("copying "+C+" to "+k),A={Bucket:a,CopySource:C,Key:k,MetadataDirective:"COPY"},s&&(A.CacheControl=s),l&&(A.Expires=l),u&&(A.ServerSideEncryption=u),d&&(A.SSECustomerAlgorithm=d),f&&(A.SSECustomerKey=f),p&&(A.SSECustomerKeyMD5=p),h&&(A.SSEKMSKeyId=h),i&&(A.ACL=i),T=this._createNewS3Client(o),M.label=2;case 2:return M.trys.push([2,4,,5]),[4,T.send(new v(A))];case 3:return M.sent(),(0,O.VA)(c,"copy",{method:"copy",result:"success"},null,"Copy success from "+b+" to "+x),[2,{key:x}];case 4:throw I=M.sent(),(0,O.VA)(c,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+b+" to "+x),I;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m,g,v,b,_,w,S,E,k,A,M,N,L,R,D;return(0,r.Jh)(this,(function(z){switch(z.label){case 0:return[4,this._ensureCredentials()];case 1:if(!z.sent()||!this._isWithCredentials(this._config))throw new Error(P.af.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),o=n.bucket,i=n.download,a=n.cacheControl,s=n.contentDisposition,l=n.contentEncoding,c=n.contentLanguage,u=n.contentType,d=n.expires,f=n.track,p=n.SSECustomerAlgorithm,h=n.SSECustomerKey,m=n.SSECustomerKeyMD5,g=n.progressCallback,v=this._prefix(n),b=v+e,_=new U.EventEmitter,w=this._createNewS3Client(n,_),q.debug("get "+e+" from "+b),S={Bucket:o,Key:b},a&&(S.ResponseCacheControl=a),s&&(S.ResponseContentDisposition=s),l&&(S.ResponseContentEncoding=l),c&&(S.ResponseContentLanguage=c),u&&(S.ResponseContentType=u),p&&(S.SSECustomerAlgorithm=p),h&&(S.SSECustomerKey=h),m&&(S.SSECustomerKeyMD5=m),!0!==i)return[3,5];E=new y(S),z.label=2;case 2:return z.trys.push([2,4,,5]),g&&("function"==typeof g?_.on(I.oy,(function(e){g(e)})):q.warn("progressCallback should be a function, not a "+typeof g)),[4,w.send(E)];case 3:return k=z.sent(),_.removeAllListeners(I.oy),(0,O.VA)(f,"download",{method:"get",result:"success"},{fileSize:Number(k.Body.size||k.Body.length)},"Download success for "+e),[2,k];case 4:throw A=z.sent(),(0,O.VA)(f,"download",{method:"get",result:"failed"},null,"Download failed with "+A.message),A;case 5:return z.trys.push([5,8,,9]),M=new T((0,r.pi)({},w.config)),[4,C(w,new y(S))];case 6:return N=z.sent(),R=x,[4,M.presign(N,{expiresIn:d||900})];case 7:return L=R.apply(void 0,[z.sent()]),(0,O.VA)(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+L),[2,L];case 8:throw D=z.sent(),q.warn("get signed url error",D),(0,O.VA)(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),D;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),o=r.bucket,i=r.track,a=r.progressCallback,s=r.level,l=r.resumable,c=r.contentType,u=r.contentDisposition,d=r.contentEncoding,f=r.cacheControl,p=r.expires,h=r.metadata,m=r.tagging,g=r.acl,v=r.serverSideEncryption,y=r.SSECustomerAlgorithm,b=r.SSECustomerKey,_=r.SSECustomerKeyMD5,w=r.SSEKMSKeyId,x={Bucket:o,Key:e,Body:t,ContentType:c||"binary/octet-stream"};f&&(x.CacheControl=f),u&&(x.ContentDisposition=u),d&&(x.ContentEncoding=d),p&&(x.Expires=p),h&&(x.Metadata=h),m&&(x.Tagging=m),v&&(x.ServerSideEncryption=v),y&&(x.SSECustomerAlgorithm=y),b&&(x.SSECustomerKey=b),_&&(x.SSECustomerKeyMD5=_),w&&(x.SSEKMSKeyId=w);var S=new U.EventEmitter,E=new B(x,r,S);if(g&&(x.ACL=g),!0===l){var C=this._createNewS3Client(r);C.middlewareStack.add((0,M.tt)(r,e),M.Sm);var k={bucket:o,key:e,s3Client:C,file:t,emitter:S,accessLevel:s,params:x};return this.startResumableUpload(k,n)}try{return a&&("function"==typeof a?S.on(I.bX,(function(e){a(e)})):q.warn("progressCallback should be a function, not a "+typeof a)),E.upload().then((function(t){return q.debug("upload result",t),(0,O.VA)(i,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}}))}catch(t){throw q.warn("error uploading",t),(0,O.VA)(i,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,this._ensureCredentials()];case 1:if(!r.sent()||!this._isWithCredentials(this._config))throw new Error(P.af.NO_CREDENTIALS);n=Object.assign({},this._config,t),o=n.bucket,i=n.track,a=this._prefix(n),s=a+e,l=this._createNewS3Client(n),q.debug("remove "+e+" from "+s),c=new b({Bucket:o,Key:s}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,l.send(c)];case 3:return u=r.sent(),(0,O.VA)(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,u];case 4:throw d=r.sent(),(0,O.VA)(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+d),d;case 5:return[2]}}))}))},e.prototype._list=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var o,i,a,s;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:return o={results:[],hasNextToken:!1},i=this._createNewS3Client(t),a=new _.K((0,r.pi)({},e)),[4,i.send(a)];case 1:return(s=l.sent())&&s.Contents&&(o.results=s.Contents.map((function(e){return{key:e.Key.substr(n.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}})),o.nextToken=s.NextContinuationToken,o.hasNextToken=s.IsTruncated),[2,o]}}))}))},e.prototype.list=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d,f,p,h,m,g;return(0,r.Jh)(this,(function(v){switch(v.label){case 0:return[4,this._ensureCredentials()];case 1:if(!v.sent()||!this._isWithCredentials(this._config))throw new Error(P.af.NO_CREDENTIALS);n=Object.assign({},this._config,t),o=n.bucket,i=n.track,a=n.pageSize,s=n.nextToken,l=this._prefix(n),c=l+e,q.debug("list "+e+" from "+c),v.label=2;case 2:if(v.trys.push([2,10,,11]),u={results:[],hasNextToken:!1},f=void 0,(p={Bucket:o,Prefix:c,MaxKeys:d=1e3,ContinuationToken:s}).ContinuationToken=s,"ALL"!==a)return[3,7];v.label=3;case 3:return[4,this._list(p,n,l)];case 4:f=v.sent(),(m=u.results).push.apply(m,(0,r.fl)(f.results)),f.nextToken&&(p.ContinuationToken=f.nextToken),v.label=5;case 5:if(f.nextToken)return[3,3];v.label=6;case 6:return[3,9];case 7:return a&&a<=d&&"number"==typeof a?p.MaxKeys=a:q.warn("pageSize should be from 0 - "+d+"."),[4,this._list(p,n,l)];case 8:f=v.sent(),(g=u.results).push.apply(g,(0,r.fl)(f.results)),u.hasNextToken=f.hasNextToken,u.nextToken=f.nextToken,v.label=9;case 9:return(0,O.VA)(i,"list",{method:"list",result:"success"},null,u.results.length+" items returned from list operation"),q.debug("list",u),[2,u];case 10:throw h=v.sent(),q.error("list InvalidArgument",h),(0,O.VA)(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+h.message),h;case 11:return[2]}}))}))},e.prototype._ensureCredentials=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,l.c.get()];case 1:return(e=r.sent())?(t=l.c.shear(e),q.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),q.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},o=e.identityId||t.identityId,i=(void 0!==r.private?r.private:"private/")+o+"/",a=(void 0!==r.protected?r.protected:"protected/")+o+"/",s=void 0!==r.public?r.public:"public/";switch(n){case"private":return i;case"protected":return a;default:return s}},e.prototype._createNewS3Client=function(e,t){var n=(0,M.fK)(e,t);return n.middlewareStack.add((0,M.y)(n.config),M.dz),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}()},81037:(e,t,n)=>{"use strict";n.d(t,{Rw:()=>o,Uk:()=>w});var r,o,i=n(64446),a=n(19099),s=n(47908),l=n(67485),c=n(60664),u=n(6675),d=n(47138),f=n(11964),p=n.n(f),h=n(35069),m=n(35731),g=n(55008),v=n(87778),y=n(93231),b=new h.k("AWSS3UploadTask");function _(e,t){return e.PartNumber-t.PartNumber}!function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"}(r||(r={})),function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"}(o||(o={}));var w=function(){function e(e){var t=e.s3Client,n=e.file,i=e.emitter,a=e.storage,s=e.params,l=e.level,c=e.prefixPromise;this.queueSize=m.Fi,this.partSize=m.bL,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=r.INIT,this.prefixPromise=c,this.s3client=t,this.s3client.middlewareStack.remove(y.O7),this.storage=a,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=s,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=i,this.queued=[],this.fileId=this._getFileId(l),this._validateParams(),this.emitter.on(o.ERROR,(function(){}))}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===r.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return(0,i.mG)(this,void 0,void 0,(function(){var e,r,o,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.s3client.send(new a.K({Bucket:n,Prefix:t}))];case 1:return e=i.sent(),r=e.Contents,o=void 0===r?[]:r,[4,this.prefixPromise];case 2:return s=i.sent(),[2,o.find((function(e){return e.Key===""+s+t}))]}}))}))},e.prototype._getFileId=function(e){return(0,g.zE)(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(y.rx,JSON.stringify(e)),[4,this.s3client.send(new s.r({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}}))}))},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.totalBytes>m.sr)throw new Error("File size bigger than S3 Object limit of 5TB, got "+this.totalBytes+" Bytes")},e.prototype._listCachedUploadTasks=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem(y.rx)||"{}",[2,JSON.parse(e)]}}))}))},e.prototype._cache=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem(y.rx,JSON.stringify(t)),[2]}}))}))},e.prototype._isCached=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}}))}))},e.prototype._removeFromCache=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem(y.rx,JSON.stringify(e)),[2]}}))}))},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,a=e.chunk;return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=(0,g.k)(a),this._emitEvent(o.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter((function(e){return e.uploadPartInput.PartNumber!==n})),this.queued.length&&this.state!==r.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]}))}))},e.prototype._completeUpload=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.s3client.send(new l.G({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(_)}}))];case 1:return t.sent(),[4,this._verifyFileSize()];case 2:return t.sent(),this._emitEvent(o.UPLOAD_COMPLETE,{key:this.params.Key}),this._removeFromCache(),this.state=r.COMPLETED,[3,4];case 3:return e=t.sent(),b.error("error completing upload",e),this._emitEvent(o.ERROR,e),[3,4];case 4:return[2]}}))}))},e.prototype._makeUploadPartRequest=function(e,t){return(0,i.mG)(this,void 0,void 0,(function(){var n,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new c.c(e),{cancelTokenSource:t})];case 1:return n=i.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return a=i.sent(),this.state===r.PAUSED?b.log("upload paused"):this.state===r.CANCELLED?b.log("upload aborted"):b.error("error starting next part of upload: ",a),p().isCancel(a)||a.message===v.W9.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(o.ERROR,a),this.pause()),[3,4];case 4:return[2]}}))}))},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==r.PAUSED){var e=p().CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:return t=r.sent(),e=Boolean(t&&t.Size===this.file.size),[3,3];case 2:return n=r.sent(),b.log("Could not get file on s3 for size matching: ",n),[2];case 3:if(!e)throw new Error("File size does not match between local file and file on s3");return[2]}}))}))},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce((function(e,t){return e+t.Size}),0);var t=new Set(e.map((function(e){return e.PartNumber})));this.queued=this.queued.filter((function(e){return!t.has(e.PartNumber)})),this.completedParts=e.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}})),this._emitEvent(o.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.s3client.send(new u.p(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}}))}))},e.prototype._initializeUploadTask=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t,n,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:this.state=r.IN_PROGRESS,this.partSize=(0,m.OK)(this.totalBytes),i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:return i.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=i.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=i.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return o=i.sent(),p().isCancel(o)||b.error("Error initializing the upload task",o),[3,8];case 8:return[2]}}))}))},e.prototype.resume=function(){this.state===r.CANCELLED?b.warn("This task has already been cancelled"):this.state===r.COMPLETED?b.warn("This task has already been completed"):this.state===r.IN_PROGRESS?b.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=r.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return this.state!==r.CANCELLED?[3,1]:(b.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==r.COMPLETED?[3,2]:(b.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=r.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new d.f({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),b.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}}))}))},e.prototype.pause=function(){var e;this.state===r.CANCELLED?b.warn("This task has already been cancelled"):this.state===r.COMPLETED?b.warn("This task has already been completed"):this.state===r.PAUSED&&b.warn("This task is already paused"),this.state=r.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach((function(e){e.cancel(v.W9.UPLOAD_PAUSED_MESSAGE)})),(e=this.queued).unshift.apply(e,(0,i.fl)(t.map((function(e){return e.uploadPartInput}))))},e}()},38829:(e,t,n)=>{"use strict";n.d(t,{bX:()=>f,kk:()=>g,oy:()=>p});var r=n(64446),o=n(75882),i=n(62108),a=n(11964),s=n.n(a),l=n(35069),c=n(9270),u=n(87778),d=new l.k("axios-http-handler"),f="sendUploadProgress",p="sendDownloadProgress",h=function(e,t){var n,o;try{for(var i=(0,r.XA)(Object.entries(e)),a=i.next();!a.done;a=i.next()){var s=(0,r.CR)(a.value,2),l=s[0],c=s[1];l!==t&&l.toUpperCase()===t.toUpperCase()&&(e[t]=c,delete e[l])}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},m=[function(e,t){return"undefined"!=typeof Blob&&e instanceof Blob?(h(t,"Content-Type"),h(t,"Accept"),e):s().defaults.transformRequest[0].call(null,e,t)}],g=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,r=t.emitter||this.emitter,a=e.path;if(e.query){var l=(0,i.I)(e.query);l&&(a+="?"+l)}var h=e.port,g=e.protocol+"//"+e.hostname+(h?":"+h:"")+a,v={};v.url=g,v.method=e.method,v.headers=e.headers,delete v.headers.host,e.body?v.data=e.body:v.headers[Object.keys(v.headers).find((function(e){return"content-type"===e.toLowerCase()}))]&&(v.data=null),r&&(v.onUploadProgress=function(e){r.emit(f,e),d.debug(e)},v.onDownloadProgress=function(e){r.emit(p,e),d.debug(e)}),this.cancelTokenSource&&(v.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(v.cancelToken=t.cancelTokenSource.token),v.responseType="blob",c.t.isReactNative&&(v.transformRequest=m);var y,b=[s().request(v).then((function(e){return{response:new o.Zn({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){var t,n;if(e.message!==u.W9.UPLOAD_PAUSED_MESSAGE&&d.error(e.message),s().isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new o.Zn({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}})),(y=n,void 0===y&&(y=0),new Promise((function(e,t){y&&setTimeout((function(){var e=new Error("Request did not complete within "+y+" ms");e.name="TimeoutError",t(e)}),y)})))];return Promise.race(b)},e}()},11964:(e,t,n)=>{e.exports=n(22751)},74509:(e,t,n)=>{"use strict";var r=n(98163),o=n(5979),i=n(14118),a=n(32299),s=n(4832),l=n(77190),c=n(55675),u=n(29667),d=n(25537),f=n(71213);e.exports=function(e){return new Promise((function(t,n){var p,h=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(h)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+_)}var w=s(e.baseURL,e.url);function x(){if(y){var r="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};o((function(e){t(e),v()}),(function(e){n(e),v()}),i),y=null}}if(y.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(x)},y.onabort=function(){y&&(n(u("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(u("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(w))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){y&&(n(!e||e&&e.type?new f("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),y.send(h)}))}},22751:(e,t,n)=>{"use strict";var r=n(98163),o=n(19356),i=n(49195),a=n(78666),s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(25537));s.Axios=i,s.Cancel=n(71213),s.CancelToken=n(75926),s.isCancel=n(20609),s.VERSION=n(1654).version,s.all=function(e){return Promise.all(e)},s.spread=n(23183),s.isAxiosError=n(52085),e.exports=s,e.exports.default=s},71213:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},75926:(e,t,n)=>{"use strict";var r=n(71213);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},20609:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},49195:(e,t,n)=>{"use strict";var r=n(98163),o=n(32299),i=n(13261),a=n(26179),s=n(78666),l=n(39783),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!o){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var f=t;r.length;){var p=r.shift(),h=r.shift();try{f=p(f)}catch(e){h(e);break}}try{i=a(f)}catch(e){return Promise.reject(e)}for(;u.length;)i=i.then(u.shift(),u.shift());return i},u.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},13261:(e,t,n)=>{"use strict";var r=n(98163);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},4832:(e,t,n)=>{"use strict";var r=n(28441),o=n(26953);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},29667:(e,t,n)=>{"use strict";var r=n(60318);e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},26179:(e,t,n)=>{"use strict";var r=n(98163),o=n(75222),i=n(20609),a=n(25537),s=n(71213);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},60318:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},78666:(e,t,n)=>{"use strict";var r=n(98163);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function l(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||i,o=t(e);r.isUndefined(o)&&t!==l||(n[e]=o)})),n}},5979:(e,t,n)=>{"use strict";var r=n(29667);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},75222:(e,t,n)=>{"use strict";var r=n(98163),o=n(25537);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},25537:(e,t,n)=>{"use strict";var r=n(98163),o=n(74604),i=n(60318),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(74509)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(a)})),e.exports=c},1654:e=>{e.exports={version:"0.26.0"}},19356:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},32299:(e,t,n)=>{"use strict";var r=n(98163);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},26953:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},14118:(e,t,n)=>{"use strict";var r=n(98163);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},28441:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},52085:(e,t,n)=>{"use strict";var r=n(98163);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},55675:(e,t,n)=>{"use strict";var r=n(98163);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},74604:(e,t,n)=>{"use strict";var r=n(98163);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},77190:(e,t,n)=>{"use strict";var r=n(98163),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},23183:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},39783:(e,t,n)=>{"use strict";var r=n(1654).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],l=void 0===s||a(s,i,e);if(!0!==l)throw new TypeError("option "+i+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},98163:(e,t,n)=>{"use strict";var r=n(19356),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function a(e){return void 0===e}function s(e){return"[object ArrayBuffer]"===o.call(e)}function l(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return l(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},64446:(e,t,n)=>{"use strict";n.d(t,{CR:()=>s,Jh:()=>i,XA:()=>a,fl:()=>l,mG:()=>o,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}},66774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67294),o=n(2019),i=n(44211),a=n(73474),s=n(15130),l=n(41547);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=c(r);const d=u.default.createContext(null);function f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function p(e){return Array.isArray(e)&&i.isEmpty(e)}function h(e){return i.isObject(e)&&i.isEmpty(e)}const m=["confirmResetPassword","confirmSignIn","confirmSignUp","confirmVerifyUser","forceNewPassword","resetPassword","setupTOTP","signIn","signUp","verifyUser"],g=["ConfirmResetPassword","ConfirmSignIn","ConfirmSignUp","ConfirmVerifyUser","ForceNewPassword","ResetPassword","SetupTOTP","SignIn","SignUp","VerifyUser"],v=e=>m.some((t=>t===e)),y=()=>!1;const b=e=>function(){return t=this,n=void 0,o=function*(){return yield a.Auth.setupTOTP(e)},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o};function _(e){const t=u.default.useContext(d);if(!t)throw new Error("`useAuthenticator` must be used inside an `Authenticator.Provider`.");const{service:n}=t,{send:a}=n,s=r.useCallback((e=>Object.assign({},i.getServiceFacade({send:a,state:e}))),[a]),l=e?(e=>(t,n)=>{return r=e(t),o=e(n),r.length===o.length&&r.every(((e,t)=>{const n=o[t];return!(!function(...e){return e.every(p)}(e,n)&&!function(...e){return e.every(h)}(e,n))||e===n}));var r,o})(e):y,c=o.useSelector(n,s,l),{route:m,totpSecretCode:g,unverifiedContactMethods:_,user:w}=c,x=f(c,["route","totpSecretCode","unverifiedContactMethods","user"]),S=n.getSnapshot(),E="setupTOTP"===m?(C=S,Object.assign({},null===(T=null===(A=null===(k=i.getActorContext(C))||void 0===k?void 0:k.formFields)||void 0===A?void 0:A.setupTOTP)||void 0===T?void 0:T.QR)):null;var C,k,A,T;const I=((e,t,n)=>v(e)?"verifyUser"===e?(e=>e&&Object.entries(e).map((([e,t])=>i.isString(t)&&e?{name:e,label:t,type:"radio",value:t}:{})))(n):i.getSortedFormFields(e,t).flatMap((([e,t])=>Object.assign({name:e},t))):[])(m,S,_);return Object.assign(Object.assign({},x),{route:m,totpSecretCode:g,unverifiedContactMethods:_,user:w,fields:I,getTotpSecretCode:b(w),QRFields:E})}function w(e){return null}const x={updateBlur:"handleBlur",updateForm:"handleChange",submitForm:"handleSubmit"},S=["error","isPending","submitForm","updateBlur","updateForm"],E=[...S,"resendCode","validationErrors"],C=[...S,"toSignIn","user"],k=[...S,"codeDeliveryDetails","resendCode"],A=[...S,"skipVerification"],T=[...S,"toSignIn","validationErrors"],I=[...S,"toSignIn"],P={confirmResetPassword:E,confirmSignIn:C,confirmSignUp:k,confirmVerifyUser:A,forceNewPassword:T,signIn:[...S,"toFederatedSignIn","toResetPassword","toSignUp"],signUp:[...S,"toSignIn","validationErrors"],resetPassword:I,setupTOTP:[...S,"toSignIn","totpSecretCode"],verifyUser:[...S,"skipVerification"]},O=({route:e})=>[e],M=e=>["updateBlur","updateForm","submitForm"].includes(e),N=e=>x[e],L=(e,t)=>P[e].reduce(((e,n)=>Object.assign(Object.assign({},e),{[M(n)?N(n):n]:t[n]})),{}),R=({route:e})=>[e],D=r.createContext(null),{InAppMessaging:z}=s.Notifications;function F(){const e=r.useContext(D);if(!e)throw new Error("InAppMessagingContext is empty, did you forget the InAppMessagingProvider?");return e}const U=new l.ConsoleLogger("Notifications.InAppMessaging"),j={BOTTOM_BANNER:"bottom",MIDDLE_BANNER:"middle",TOP_BANNER:"top"},B=e=>j[e],V=(e,t,n)=>{var{action:r,url:o}=e,i=f(e,["action","url"]);return Object.assign(Object.assign({},i),((e,t,n)=>({onAction(){try{t(e)}catch(e){U.error(`Message action failure: ${e}`)}finally{n()}}}))({action:r,url:o},t,n))},G=(e,t,n)=>{const r={};if(!e)return r;const{primaryButton:o,secondaryButton:i}=e,a=f(e,["primaryButton","secondaryButton"]);return o&&(r.primaryButton=V(o,t,n)),i&&(r.secondaryButton=V(i,t,n)),Object.assign(Object.assign({},r),a)},q=Object.freeze({}),H=new l.ConsoleLogger("Notifications.InAppMessaging"),{InAppMessaging:W}=s.Notifications,K=new l.ConsoleLogger("Notifications.InAppMessaging");function $(e){const t=r.useRef();return r.useEffect((()=>{t.current=e}),[e]),t.current}t.AuthenticatorProvider=function({children:e}){const t=r.useContext(d),n=o.useInterpret(i.createAuthenticatorMachine),a=r.useMemo((()=>t||{service:n}),[t,n]),{service:s}=a;return r.useEffect((()=>i.listenToAuthHub(s)),[s]),u.default.createElement(d.Provider,{value:a},e)},t.InAppMessagingProvider=function({children:e}){const[t,n]=r.useState(null);r.useEffect((()=>{const e=z.onMessageReceived((e=>{n(e)}));return e.remove}),[]);const o=r.useCallback((()=>{n(null)}),[]),i=r.useMemo((()=>({clearMessage:o,displayMessage:n,message:t})),[o,t]);return u.default.createElement(D.Provider,{value:i},e)},t.handleMessageAction=({action:e,handleMessageLinkAction:t,url:n})=>{if(K.info(`Handle action: ${e}`),"LINK"===e||"DEEP_LINK"===e){if(!i.isString(n))return void K.warn(`url must be of type string. Received: ${n}`);t(n)}},t.isAuthenticatorComponentRouteKey=v,t.resolveAuthenticatorComponents=function(e,t){return t?g.reduce(((n,r)=>{const o=e[r],i=t[r];if("function"!=typeof i)return Object.assign(Object.assign({},n),{[r]:o});const{Footer:a,FormFields:s,Header:l}=o,c=i;return c.Footer=a,c.FormFields=s,c.Header=l,Object.assign(Object.assign({},n),{[r]:c})}),{}):e},t.templateJoin=function(e,t){return e.reduce(((e,n)=>`${e}${i.isString(n)?t(n):""}`),"")},t.useAuthenticator=_,t.useAuthenticatorInitMachine=function(e){const{route:t,initializeMachine:n}=_(R),r=u.default.useRef(!1);u.default.useEffect((()=>{r.current||"setup"!==t||(n(e),r.current=!0)}),[n,t,e])},t.useAuthenticatorRoute=function({components:e}){const{route:t}=_(O),n=_(r.useMemo((()=>(e=>{return v(e)?(t=P[e],e=>[...t.map((t=>e[t])),e.route]):O;var t})(t)),[t])),{ConfirmResetPassword:o,ConfirmSignIn:i,ConfirmSignUp:a,ConfirmVerifyUser:s,ForceNewPassword:l,ResetPassword:c,SetupTOTP:u,SignIn:d,SignUp:p,VerifyUser:h}=e;switch(t){case"confirmResetPassword":return g=n,{Component:m=o,props:Object.assign(Object.assign({},m),L("confirmResetPassword",g))};case"confirmSignIn":return function(e,t){const n=L("confirmSignIn",t),{user:r}=n,o=f(n,["user"]),i=r.challengeName;return{Component:e,props:Object.assign(Object.assign(Object.assign({},e),o),{challengeName:i})}}(i,n);case"confirmSignUp":return function(e,t){return{Component:e,props:Object.assign(Object.assign({},e),L("confirmSignUp",t))}}(a,n);case"confirmVerifyUser":return function(e,t){return{Component:e,props:Object.assign(Object.assign({},e),L("confirmVerifyUser",t))}}(s,n);case"forceNewPassword":return function(e,t){return{Component:e,props:Object.assign(Object.assign({},e),L("forceNewPassword",t))}}(l,n);case"resetPassword":return function(e,t){return{Component:e,props:Object.assign(Object.assign({},e),L("resetPassword",t))}}(c,n);case"setupTOTP":return function(e,t){return{Component:e,props:Object.assign(Object.assign({},e),L("setupTOTP",t))}}(u,n);case"signIn":return function(e,t){return{Component:e,props:Object.assign(Object.assign(Object.assign({},e),L("signIn",t)),{hideSignUp:!1})}}(d,n);case"signUp":return function(e,t){return{Component:e,props:Object.assign(Object.assign({},e),L("signUp",t))}}(p,n);case"verifyUser":return function(e,t){return{Component:e,props:Object.assign(Object.assign({},e),L("verifyUser",t))}}(h,n);default:return{Component:w,props:{}}}var m,g},t.useHasValueUpdated=function(e,t=!1){const n=$(e);return!(i.isUndefined(n)&&t)&&n!==e},t.useInAppMessaging=F,t.useMessage=function({components:e,onMessageAction:t}){const{clearMessage:n,message:r}=F(),{BannerMessage:o,CarouselMessage:a,FullScreenMessage:l,ModalMessage:c}=e;if(i.isNil(r))return{Component:w,props:q};const{content:u,layout:d}=r,f=()=>{W.notifyMessageInteraction(r,s.InAppMessageInteractionEvent.MESSAGE_ACTION_TAKEN),n()},p=()=>{W.notifyMessageInteraction(r,s.InAppMessageInteractionEvent.MESSAGE_DISMISSED),n()},h=()=>{W.notifyMessageInteraction(r,s.InAppMessageInteractionEvent.MESSAGE_DISPLAYED)};switch(d){case"BOTTOM_BANNER":case"MIDDLE_BANNER":case"TOP_BANNER":return{Component:o,props:Object.assign(Object.assign({},G(null==u?void 0:u[0],t,f)),{layout:d,onClose:p,onDisplay:h,position:B(d)})};case"CAROUSEL":return{Component:a,props:{data:null==u?void 0:u.map((e=>G(e,t,f))),layout:d,onClose:p,onDisplay:h}};case"FULL_SCREEN":return{Component:l,props:Object.assign(Object.assign({},G(null==u?void 0:u[0],t,f)),{layout:d,onClose:p,onDisplay:h})};case"MODAL":return{Component:c,props:Object.assign(Object.assign({},G(null==u?void 0:u[0],t,f)),{layout:d,onClose:p,onDisplay:h})};default:return H.info(`Received unknown InAppMessage layout: ${d}`),{Component:w,props:q}}},t.usePreviousValue=$},2019:(e,t,n)=>{"use strict";n.r(t),n.d(t,{shallowEqual:()=>S,useActor:()=>w,useInterpret:()=>p,useMachine:()=>g,useSelector:()=>C,useSpawn:()=>A});var r=n(67294),o=n(52798),i=n(59805),a=n(54911);const s=r.useLayoutEffect;var l=n(89823);function c(e){var t=r.useRef();return t.current||(t.current={v:e()}),t.current.v}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function f(e,t){var n=c((function(){return"function"==typeof e?e():e})),r=t.context,o=t.guards,a=t.actions,l=t.activities,d=t.services,f=t.delays,p=(t.state,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["context","guards","actions","activities","services","delays","state"])),h=c((function(){var e={context:r,guards:o,actions:a,activities:l,services:d,delays:f},t=n.withConfig(e,(function(){return u(u({},n.context),r)}));return(0,i.kJ)(t,p)}));return s((function(){Object.assign(h.machine.options.actions,a),Object.assign(h.machine.options.guards,o),Object.assign(h.machine.options.activities,l),Object.assign(h.machine.options.services,d),Object.assign(h.machine.options.delays,f)}),[a,o,l,d,f]),h}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=d(t,2),s=o[0],c=void 0===s?{}:s,u=o[1],p=f(e,c);return(0,r.useEffect)((function(){if(u){var e=p.subscribe((0,l.zM)(u));return function(){e.unsubscribe()}}}),[u]),(0,r.useEffect)((function(){var e=c.state;return p.start(e?a.ZM.create(e):void 0),function(){p.stop(),p.status=i.TM.NotStarted}}),[]),p}var h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function m(e){return e}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=h(t,1),l=s[0],c=void 0===l?{}:l,u=f(e,c),d=(0,r.useCallback)((function(){return u.status===i.TM.NotStarted?c.state?a.ZM.create(c.state):u.machine.initialState:u.state}),[u]),p=(0,r.useCallback)((function(e,t){if(u.status===i.TM.NotStarted)return!0;var n=void 0===t.changed&&(Object.keys(t.children).length>0||"boolean"==typeof e.changed);return!(t.changed||n)}),[u]),g=(0,r.useCallback)((function(e){return u.subscribe(e).unsubscribe}),[u]),v=(0,o.useSyncExternalStoreWithSelector)(g,d,d,m,p);return(0,r.useEffect)((function(){var e=c.state;return u.start(e?a.ZM.create(e):void 0),function(){u.stop(),u.status=i.TM.NotStarted}}),[]),[v,u.send,u]}var v=n(61688);function y(e){return"state"in e}function b(e){return"deferred"in e}function _(e){return"getSnapshot"in e?e.getSnapshot():y(e)?e.state:void 0}function w(e,t){void 0===t&&(t=_);var n=(0,r.useRef)(e),o=(0,r.useRef)([]),i=(0,r.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),a=(0,r.useCallback)((function(){return t(e)}),[e,t]),l=(0,v.useSyncExternalStore)(i,a,a),u=c((function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=n.current;b(i)&&i.deferred?o.current.push(r):i.send(r)}}));return s((function(){for(n.current=e;o.current.length>0;){var t=o.current.shift();e.send(t)}}),[e]),[l,u]}function x(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(x(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!x(e[n[o]],t[n[o]]))return!1;return!0}var E=function(e,t){return e===t};function C(e,t,n,i){void 0===n&&(n=E);var a=(0,r.useRef)(null),s=(0,r.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),l=(0,r.useCallback)((function(){return i?i(e):function(e,t){if("state"in(o=e)&&"machine"in o){if(0===e.status&&t.current)return t.current;var n=0!==(r=e).status?r.state:r.machine.initialState;return t.current=0===e.status?n:null,n}var r,o;return y(e)?e.state:void 0}(e,a)}),[e,i]);return(0,o.useSyncExternalStoreWithSelector)(s,l,l,t,n)}var k=n(68199);function A(e){return c((function(){return(0,k.YP)(e)}))}},47340:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70655),o=n(67294),i=n(73474),a=n(44211),s=n(28600);n(52152);var l=n(8353),c=n(94184),u=n(53455),d=n(47537),f=n(14213),p=n(36888),h=n(66774),m=n(92592),g=n(24613),v=n(79082),y=n(85136),b=n(41931),_=n(41547),w=n(17621);function x(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var E=S(o),C=x(o),k=x(c),A=S(u),T=S(d),I=S(f),P=S(p),O=x(m),M=x(g),N=x(y),L=S(b),R=x(w);const D=(e,t="base",n)=>{const{breakpoints:{values:r},tokens:o}=s.useTheme(),i=s.useBreakpoint({breakpoints:r,defaultBreakpoint:t}),l=s.getValueAtCurrentBreakpoint({breakpoint:i,breakpoints:r,values:e});return a.isDesignToken(l)||a.isString(l)?s.getStyleValue({value:l,propKey:n,tokens:o}):l},z=E.forwardRef(((e,t)=>{var{className:n,children:o}=e,i=r.__rest(e,["className","children"]);return E.createElement(s.View,Object.assign({className:k.default(s.ComponentClassNames.Flex,n),ref:t},i),o)}));z.displayName="Flex";const F=84*Math.PI,U=E.forwardRef(((e,t)=>{var{className:n,filledColor:o,emptyColor:i,size:a,variation:l,isDeterminate:c=!1,isPercentageTextHidden:u=!1,percentage:d=0}=e,f=r.__rest(e,["className","filledColor","emptyColor","size","variation","isDeterminate","isPercentageTextHidden","percentage"]);d=Math.min(d,100);const p=`${d=Math.max(d,0)}%`,h=k.default(s.ComponentClassNames.Loader,s.classNameModifier(s.ComponentClassNames.Loader,a),s.classNameModifier(s.ComponentClassNames.Loader,l),c?s.ComponentClassNames.LoaderDeterminate:null,n),m=E.createElement("g",null,E.createElement("line",{x1:"0",x2:"100%",y1:"50%",y2:"50%",style:{stroke:String(i)},"data-testid":"linear-empty"}),E.createElement("line",{x1:"0",x2:c?p:"100%",y1:"50%",y2:"50%",style:{stroke:c&&0===d?"none":o?String(o):void 0},"data-testid":"linear-filled"}),c?E.createElement("text",{"aria-live":"polite",className:k.default(s.ComponentClassNames.LoaderPercentageText,u?s.ComponentClassNames.VisuallyHidden:null),x:`${-1+d}%`,y:"200%"},p):null),g=E.createElement("g",null,E.createElement("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:String(i)},"data-testid":"circular-empty"}),E.createElement("circle",{cx:"50%",cy:"50%",r:"42%",strokeWidth:"8%",style:{stroke:String(o),strokeDasharray:c?`${F}% ${F}%`:void 0,strokeDashoffset:c?F-F*d/100+"%":void 0},"data-testid":"circular-filled"}),c?E.createElement("text",{"aria-live":"polite",className:k.default(s.ComponentClassNames.LoaderPercentageText,u?s.ComponentClassNames.VisuallyHidden:null),x:"130%",y:"80%"},p):null);return E.createElement(s.View,Object.assign({as:"svg",className:h,"data-size":a,"data-variation":l,ref:t,role:"img"},f),"linear"===l?m:g)}));U.displayName="Loader";const j=E.forwardRef(((e,t)=>{var{className:n,children:o,isFullWidth:i=!1,isDisabled:a,isLoading:l,loadingText:c="",size:u,type:d="button",variation:f}=e,p=r.__rest(e,["className","children","isFullWidth","isDisabled","isLoading","loadingText","size","type","variation"]);const h=k.default(s.ComponentClassNames.Button,s.ComponentClassNames.FieldGroupControl,s.classNameModifier(s.ComponentClassNames.Button,f),s.classNameModifier(s.ComponentClassNames.Button,u),s.classNameModifierByFlag(s.ComponentClassNames.Button,"disabled",a||l||p.disabled),s.classNameModifierByFlag(s.ComponentClassNames.Button,"loading",l),s.classNameModifierByFlag(s.ComponentClassNames.Button,"fullwidth",i),n);return E.createElement(s.View,Object.assign({ref:t,as:"button",className:h,"data-fullwidth":i,"data-loading":l,"data-size":u,"data-variation":f,isDisabled:a||l,type:d},p),l?E.createElement(z,{as:"span",className:s.ComponentClassNames.ButtonLoaderWrapper},E.createElement(U,{size:u}),c||null):o)}));j.displayName="Button";const B=({variation:e,ariaHidden:t})=>{switch(e){case"info":return E.createElement(s.IconInfo,{"aria-hidden":t,className:s.ComponentClassNames.AlertIcon});case"error":return E.createElement(s.IconError,{"aria-hidden":t,className:s.ComponentClassNames.AlertIcon});case"warning":return E.createElement(s.IconWarning,{"aria-hidden":t,className:s.ComponentClassNames.AlertIcon});case"success":return E.createElement(s.IconCheckCircle,{"aria-hidden":t,className:s.ComponentClassNames.AlertIcon});default:return null}};B.displayName="AlertIcon";const V=E.forwardRef(((e,t)=>{var{buttonRef:n,children:o,className:i,dismissButtonLabel:a=s.ComponentText.Alert.dismissButtonLabel,hasIcon:l=!0,heading:c,isDismissible:u=!1,onDismiss:d,variation:f}=e,p=r.__rest(e,["buttonRef","children","className","dismissButtonLabel","hasIcon","heading","isDismissible","onDismiss","variation"]);const[h,m]=E.useState(!1),g=E.useCallback((()=>{m(!h),s.isFunction(d)&&d()}),[m,d,h]);return h?null:E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Alert,i,s.classNameModifier(s.ComponentClassNames.Alert,f)),"data-variation":f,ref:t,role:"alert"},p),l&&E.createElement(B,{variation:f,ariaHidden:!0}),E.createElement(s.View,{flex:"1"},c&&E.createElement(s.View,{className:s.ComponentClassNames.AlertHeading},c),E.createElement(s.View,{className:s.ComponentClassNames.AlertBody},o)),u&&E.createElement(j,{ariaLabel:a,variation:"link",className:s.ComponentClassNames.AlertDismiss,onClick:g,ref:n},E.createElement(s.IconClose,{"aria-hidden":"true"})))}));V.displayName="Alert";const G=e=>{var{children:t,className:n,isActive:o}=e,i=r.__rest(e,["children","className","isActive"]);return E.createElement(s.View,Object.assign({"aria-selected":o,as:"li",role:"option",className:k.default(s.ComponentClassNames.AutocompleteMenuOption,s.classNameModifierByFlag(s.ComponentClassNames.AutocompleteMenuOption,"active",o),n)},i),t)};G.displayName="AutocompleteOption";const q=E.forwardRef(((e,t)=>{var{children:n,className:o,orientation:i}=e,a=r.__rest(e,["children","className","orientation"]);return E.createElement(s.View,Object.assign({className:k.default(s.ComponentClassNames.ScrollView,s.classNameModifier(s.ComponentClassNames.ScrollView,i),o),"data-orientation":i,ref:t},a),n)}));q.displayName="ScrollView";const H=e=>{var{ariaLabel:t,children:n,Header:o=null,Footer:i=null,LoadingIndicator:a=null,Empty:l=null,isLoading:c,listboxId:u}=e,d=r.__rest(e,["ariaLabel","children","Header","Footer","LoadingIndicator","Empty","isLoading","listboxId"]);return E.createElement(q,Object.assign({className:s.ComponentClassNames.AutocompleteMenu},d),c?E.createElement((()=>{const e=null!=a?a:E.createElement(E.Fragment,null,E.createElement(U,null),s.ComponentText.Autocomplete.loadingText);return E.createElement(s.View,{className:s.ComponentClassNames.AutocompleteMenuLoading},e)}),null):E.createElement(E.Fragment,null,E.createElement((()=>o&&E.createElement(s.View,{className:s.ComponentClassNames.AutocompleteMenuHeader},o)),null),n.length>0?E.createElement(q,{as:"ul",ariaLabel:t,className:s.ComponentClassNames.AutocompleteMenuOptions,id:u,role:"listbox"},n):E.createElement((()=>l?E.createElement(s.View,{className:s.ComponentClassNames.AutocompleteMenuEmpty},l):E.createElement(s.View,{className:s.ComponentClassNames.AutocompleteMenuEmpty},s.ComponentText.Autocomplete.emptyText)),null),E.createElement((()=>i&&E.createElement(s.View,{className:s.ComponentClassNames.AutocompleteMenuFooter},i)),null)))};H.displayName="AutocompleteMenu";const W=(null===globalThis||void 0===globalThis?void 0:globalThis.document)?E.useLayoutEffect:()=>{},K=E["useId".toString()]||(()=>{});let $=0;const Z=e=>{const[t,n]=E.useState(K());return W((()=>{e||n((e=>null!=e?e:String($++)))}),[e]),e||(t?`amplify-id-${t}`:"")},Y=new Set([s.ARROW_DOWN,s.ARROW_UP,s.ENTER_KEY,s.ESCAPE_KEY]),J=(e,t)=>e&&t?`${e}-${t}`:void 0,X=E.forwardRef(((e,t)=>{var{children:n,className:o,query:i,testId:a}=e,l=r.__rest(e,["children","className","query","testId"]);const c=J(a,"match"),u=null==n?void 0:n.toLocaleLowerCase().indexOf(null==i?void 0:i.toLocaleLowerCase());if(s.strHasLength(i)&&-1!==u){const e=n.substring(u,u+i.length);return E.createElement(s.View,Object.assign({as:"span",className:k.default(o,s.ComponentClassNames.HighlightMatch),testId:a,ref:t},l),n.substring(0,u),E.createElement(s.View,{as:"strong",className:s.ComponentClassNames.HighlightMatchHighlighted,testId:c},e),n.substring(u+i.length))}return E.createElement(s.View,{as:"span",testId:a},n)}));X.displayName="HighlightMatch";const Q=E.forwardRef(((e,t)=>{var{className:n,children:o,isVisible:i=!0,excludeFromTabOrder:a=!1}=e,l=r.__rest(e,["className","children","isVisible","excludeFromTabOrder"]);return i?E.createElement(s.View,Object.assign({className:k.default(s.ComponentClassNames.FieldGroupIcon,n),ref:t,tabIndex:a?-1:void 0},l),o):null}));Q.displayName="FieldGroupIcon";const ee=E.forwardRef(((e,t)=>{var{children:n,className:o}=e,i=r.__rest(e,["children","className"]);return E.createElement(Q,Object.assign({as:j,className:k.default(s.ComponentClassNames.FieldGroupIconButton,o),ref:t},i),n)}));ee.displayName="FieldGroupIconButton";const te=s.ComponentText.Fields.clearButtonLabel,ne=E.forwardRef(((e,t)=>{var{ariaLabel:n=te,size:o}=e,i=r.__rest(e,["ariaLabel","size"]);return E.createElement(ee,Object.assign({ariaLabel:n,ref:t},i),E.createElement(s.IconClose,{size:o}))}));ne.displayName="FieldClearButton";const re=E.forwardRef(((e,t)=>{var{as:n="p",className:o,children:i,isTruncated:a,variation:l}=e,c=r.__rest(e,["as","className","children","isTruncated","variation"]);const u=k.default(s.ComponentClassNames.Text,s.classNameModifier(s.ComponentClassNames.Text,l),s.classNameModifierByFlag(s.ComponentClassNames.Text,"truncated",a),o);return E.createElement(s.View,Object.assign({as:n,className:u,"data-truncate":a,"data-variation":l,ref:t},c),i)}));re.displayName="Text";const oe=e=>{var{descriptiveText:t,labelHidden:n}=e,o=r.__rest(e,["descriptiveText","labelHidden"]);return t?E.createElement(re,Object.assign({"data-testid":"qa-field-description",className:k.default(s.ComponentClassNames.FieldDescription,{[s.ComponentClassNames.VisuallyHidden]:n})},o),t):null};oe.displayName="FieldDescription";const ie=e=>{var{errorMessage:t,hasError:n}=e,o=r.__rest(e,["errorMessage","hasError"]);return n&&t?E.createElement(re,Object.assign({className:s.ComponentClassNames.FieldErrorMessage},o),t):null};ie.displayName="FieldErrorMessage";const ae=s.ComponentText.SearchField.searchButtonLabel,se=E.forwardRef(((e,t)=>{var{size:n}=e,o=r.__rest(e,["size"]);return E.createElement(ee,Object.assign({ariaLabel:ae,className:s.ComponentClassNames.SearchFieldSearch,ref:t,type:"submit"},o),E.createElement(s.IconSearch,{size:n}))}));se.displayName="SearchFieldButton";const le=E.forwardRef(((e,t)=>{var{children:n,className:o,innerEndComponent:i,innerStartComponent:a,orientation:l="horizontal",outerEndComponent:c,outerStartComponent:u,variation:d}=e,f=r.__rest(e,["children","className","innerEndComponent","innerStartComponent","orientation","outerEndComponent","outerStartComponent","variation"]);const p=null!=i,h=null!=a?s.ComponentClassNames.FieldGroupHasInnerStart:null,m=p?s.ComponentClassNames.FieldGroupHasInnerEnd:null,g=k.default(s.ComponentClassNames.FieldGroup,h,m,s.classNameModifier(s.ComponentClassNames.FieldGroup,l),o);return E.createElement(z,Object.assign({className:g,"data-orientation":l,ref:t},f),u&&E.createElement(s.View,{className:k.default(s.ComponentClassNames.FieldGroupOuterStart,s.classNameModifier(s.ComponentClassNames.FieldGroupOuterStart,d))},u),E.createElement(s.View,{className:k.default(s.ComponentClassNames.FieldGroupFieldWrapper,s.classNameModifier(s.ComponentClassNames.FieldGroupFieldWrapper,l)),"data-orientation":l},a&&E.createElement(s.View,{className:s.ComponentClassNames.FieldGroupInnerStart},a),n,i&&E.createElement(s.View,{className:s.ComponentClassNames.FieldGroupInnerEnd},i)),c&&E.createElement(s.View,{className:k.default(s.ComponentClassNames.FieldGroupOuterEnd,s.classNameModifier(s.ComponentClassNames.FieldGroupOuterEnd,d))},c))}));le.displayName="FieldGroup";const ce=E.forwardRef(((e,t)=>{var{autoComplete:n,checked:o,className:i,defaultChecked:a,defaultValue:l,id:c,isDisabled:u,isReadOnly:d,isRequired:f,size:p,type:h="text",hasError:m=!1,value:g,variation:v,onBlur:y,onChange:b,onCopy:_,onCut:w,onFocus:x,onInput:S,onPaste:C,onSelect:A,onWheel:T}=e,I=r.__rest(e,["autoComplete","checked","className","defaultChecked","defaultValue","id","isDisabled","isReadOnly","isRequired","size","type","hasError","value","variation","onBlur","onChange","onCopy","onCut","onFocus","onInput","onPaste","onSelect","onWheel"]);const P=k.default(s.ComponentClassNames.Input,s.ComponentClassNames.FieldGroupControl,s.classNameModifier(s.ComponentClassNames.Input,v),s.classNameModifierByFlag(s.ComponentClassNames.Input,"error",m),s.classNameModifier(s.ComponentClassNames.Input,p),i);return E.createElement(s.View,Object.assign({"aria-invalid":m,as:"input",autoComplete:n,checked:o,className:P,"data-size":p,"data-variation":v,defaultChecked:a,defaultValue:l,isDisabled:u,id:c,onBlur:y,onChange:b,onCopy:_,onCut:w,onFocus:x,onInput:S,onPaste:C,onSelect:A,onWheel:T,readOnly:d,ref:t,required:f,type:h,value:g},I))}));ce.displayName="Input";const ue=E.forwardRef(((e,t)=>{var{children:n,className:o,visuallyHidden:i}=e,a=r.__rest(e,["children","className","visuallyHidden"]);return E.createElement(s.View,Object.assign({as:"label",className:k.default(s.ComponentClassNames.Label,o,{[s.ComponentClassNames.VisuallyHidden]:i}),ref:t},a),n)}));ue.displayName="Label";const de=e=>{const t={styleProps:{},rest:{}};return Object.keys(e).forEach((n=>{(e=>e in s.ComponentPropsToStylePropsMap)(n)?t.styleProps=Object.assign(Object.assign({},t.styleProps),{[n]:e[n]}):t.rest=Object.assign(Object.assign({},t.rest),{[n]:e[n]})})),t},fe=E.forwardRef(((e,t)=>{const{className:n,descriptiveText:o,errorMessage:i,hasError:a=!1,id:l,innerEndComponent:c,innerStartComponent:u,label:d,labelHidden:f=!1,outerEndComponent:p,outerStartComponent:h,size:m,testId:g,variation:v,inputStyles:y}=e,b=r.__rest(e,["className","descriptiveText","errorMessage","hasError","id","innerEndComponent","innerStartComponent","label","labelHidden","outerEndComponent","outerStartComponent","size","testId","variation","inputStyles"]),_=Z(l),w=Z(),x=o?w:void 0,{styleProps:S,rest:C}=de(b);return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Field,s.classNameModifier(s.ComponentClassNames.Field,m),s.ComponentClassNames.TextField,n),"data-size":m,testId:g},S),E.createElement(ue,{htmlFor:_,visuallyHidden:f},d),E.createElement(oe,{id:w,labelHidden:f,descriptiveText:o}),E.createElement(le,{outerStartComponent:h,outerEndComponent:p,innerStartComponent:u,innerEndComponent:c,variation:v},E.createElement(ce,Object.assign({"aria-describedby":x,hasError:a,id:_,ref:t,size:m,variation:v},y,C))),E.createElement(ie,{hasError:a,errorMessage:i}))}));fe.displayName="TextField";const pe=new Set([s.ESCAPE_KEY,s.ENTER_KEY]),he=E.forwardRef(((e,t)=>{var{autoComplete:n="off",className:o,isDisabled:i,clearButtonLabel:a,labelHidden:l=!0,name:c="q",hasSearchButton:u=!0,hasSearchIcon:d=!1,onChange:f,onClear:p,onSubmit:h,searchButtonRef:m,size:g,defaultValue:v,value:y}=e,b=r.__rest(e,["autoComplete","className","isDisabled","clearButtonLabel","labelHidden","name","hasSearchButton","hasSearchIcon","onChange","onClear","onSubmit","searchButtonRef","size","defaultValue","value"]);const{composedValue:_,onClearHandler:w,onKeyDown:x,onClick:S,handleOnChange:C,composedRefs:A}=(({defaultValue:e="",value:t,onChange:n,onClear:r,onSubmit:o,externalRef:i})=>{const a=void 0!==t,[l,c]=E.useState(e),u=a?t:l,d=E.useRef(null),f=function({externalRef:e,internalRef:t}){return E.useCallback((n=>{"function"==typeof e?e(n):e&&(e.current=n),t.current=n}),[e,t])}({externalRef:i,internalRef:d}),p=E.useCallback((()=>{var e;a||c(""),null===(e=null==d?void 0:d.current)||void 0===e||e.focus(),s.isFunction(r)&&r()}),[a,c,r]),h=E.useCallback((e=>{s.isFunction(o)&&o(e)}),[o]),m=E.useCallback((e=>{const{key:t}=e;pe.has(t)&&(e.preventDefault(),t===s.ESCAPE_KEY?p():t===s.ENTER_KEY&&h(u))}),[u,p,h]),g=E.useCallback((e=>{a||c(e.target.value),s.isFunction(n)&&n(e)}),[a,n,c]),v=E.useCallback((()=>{h(u)}),[h,u]);return{composedValue:u,onClearHandler:p,onKeyDown:m,onClick:v,handleOnChange:g,composedRefs:f}})({defaultValue:v,value:y,onChange:f,onClear:p,onSubmit:h,externalRef:t}),T=u?E.createElement(se,{isDisabled:i,onClick:S,ref:m,size:g}):void 0,I=d?E.createElement(Q,null,E.createElement(s.IconSearch,null)):void 0;return E.createElement(fe,Object.assign({autoComplete:n,className:k.default(s.ComponentClassNames.SearchField,o),labelHidden:l,innerStartComponent:I,innerEndComponent:E.createElement(ne,{ariaLabel:a,excludeFromTabOrder:!0,isVisible:s.strHasLength(_),onClick:w,size:g,variation:"link"}),isDisabled:i,name:c,onChange:C,onKeyDown:x,outerEndComponent:T,ref:A,size:g,value:_},b))}));he.displayName="SearchField";const me=E.forwardRef(((e,t)=>{var{className:n,defaultValue:o,value:i,isLoading:a=!1,menuSlots:l={},options:c,optionFilter:u,onBlur:d,onChange:f,onClear:p,onClick:h,onSelect:m,onSubmit:g,renderOption:v,testId:y}=e,b=r.__rest(e,["className","defaultValue","value","isLoading","menuSlots","options","optionFilter","onBlur","onChange","onClear","onClick","onSelect","onSubmit","renderOption","testId"]);const{activeOptionId:_,autocompleteId:w,composedValue:x,filteredOptions:S,handleOnBlur:C,handleOnClear:A,handleOnClick:T,handleOnChange:I,handleOnKeyDown:P,isControlled:O,isCustomFiltering:M,isMenuOpen:N,listboxId:L,menuId:R,optionBaseId:D,setActiveOption:z,setIsMenuOpen:F,setInternalValue:U}=(({defaultValue:e="",value:t,options:n,optionFilter:r,onBlur:o,onChange:i,onClear:a,onClick:l,onSelect:c,onSubmit:u})=>{const d=void 0!==t,[f,p]=E.useState(e),h=d?t:f,[m,g]=E.useState(!1),[v,y]=E.useState(null),b=s.isFunction(r),_=E.useMemo((()=>{const e=b?e=>r(e,h):e=>{const{label:t}=e;return null==t?void 0:t.toLocaleLowerCase().includes(null==h?void 0:h.toLocaleLowerCase())};return(null==n?void 0:n.filter(e))||[]}),[h,r,b,n]),w=Z(),x=Z(),S=Z(),C=Z(),k=_.findIndex((e=>e===v)),A=(null==v?void 0:v.id)||(-1!==k?`${C}-option-${k}`:void 0),T=E.useCallback((e=>{g(!1),y(null),s.isFunction(o)&&o(e)}),[o]),I=E.useCallback((e=>{y(null),g(!0),d||p(e.target.value),s.isFunction(i)&&i(e)}),[d,i]),P=E.useCallback((()=>{d||p(""),s.isFunction(a)&&a()}),[d,a]),O=E.useCallback((e=>{g(!0),s.isFunction(l)&&l(e)}),[l]);return E.useEffect((()=>{const e=document.getElementById(w),t=document.getElementById(S);if(t&&m&&e){const{bottom:n}=t.getBoundingClientRect(),{offsetParent:r,offsetTop:o}=e;r===document.body&&n>document.documentElement.clientHeight&&window.scrollTo({top:Math.min(n-document.documentElement.clientHeight+window.scrollY+20,o),behavior:"smooth"})}}),[w,m,S]),E.useEffect((()=>{const e=document.getElementById(x),t=s.strHasLength(A)?document.getElementById(A):null;if(t&&e){const{scrollTop:n,clientHeight:r}=e,{offsetHeight:o,offsetTop:i}=t,{top:a,bottom:s}=t.getBoundingClientRect();n>i&&(e.scrollTop=i),n+r<i+o&&(e.scrollTop=i+o-r),(a<0||s>document.documentElement.clientHeight)&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}}),[A,x]),{activeOptionId:A,autocompleteId:w,composedValue:h,filteredOptions:_,handleOnBlur:T,handleOnClear:P,handleOnClick:O,handleOnChange:I,handleOnKeyDown:e=>{const{key:t}=e;if(Y.has(t))switch(e.preventDefault(),t){case s.ESCAPE_KEY:m?(g(!1),y(null)):P();break;case s.ENTER_KEY:if(v){const{label:e}=v;d||p(e),s.isFunction(c)&&c(v)}else s.isFunction(u)&&u(h);g(!1),y(null);break;case s.ARROW_DOWN:{if(_.length<=0)return;g(!0);const e=k>=_.length-1?0:k+1;y(_[e]);break}case s.ARROW_UP:{if(_.length<=0)return;g(!0);const e=k<=0?_.length-1:k-1;y(_[e])}}},isControlled:d,isCustomFiltering:b,isMenuOpen:m,listboxId:x,menuId:S,optionBaseId:C,setActiveOption:y,setIsMenuOpen:g,setInternalValue:p}})({defaultValue:o,value:i,options:c,optionFilter:u,onBlur:d,onChange:f,onClear:p,onClick:h,onSelect:m,onSubmit:g}),j={role:"combobox","aria-activedescendant":_,"aria-autocomplete":"list","aria-controls":N?R:void 0,"aria-expanded":N,"aria-haspopup":"listbox","aria-owns":N?R:void 0},B=S.map(((e,t)=>{const{id:n,label:o}=e,i=r.__rest(e,["id","label"]),a=null!=n?n:`${D}-option-${t}`,l=a===_;return E.createElement(G,Object.assign({isActive:l,id:a,key:a,onClick:()=>{F(!1),z(null),O||U(o),s.isFunction(m)&&m(e)},onMouseDown:e=>{e.preventDefault()},onMouseMove:()=>{z(e)}},i),s.isFunction(v)?v(e,x):M?o:E.createElement(X,{query:x},o))}));return E.createElement(s.View,{className:k.default(s.ComponentClassNames.Autocomplete,n),id:w,testId:y},E.createElement(he,Object.assign({hasSearchButton:!1,hasSearchIcon:!0,onBlur:C,onChange:I,onClear:A,onClick:T,onKeyDown:P,ref:t,value:x},j,b)),N?E.createElement(H,Object.assign({id:R,isLoading:a,listboxId:L},l),B):null)}));me.displayName="Autocomplete";const ge=E.forwardRef(((e,t)=>{var{className:n,children:o,variation:i,size:a}=e,l=r.__rest(e,["className","children","variation","size"]);const c=k.default(s.ComponentClassNames.Badge,n,s.classNameModifier(s.ComponentClassNames.Badge,i),s.classNameModifier(s.ComponentClassNames.Badge,a));return E.createElement(s.View,Object.assign({as:"span",className:c,"data-variation":i,"data-size":a,ref:t},l),o)}));ge.displayName="Badge";const ve=E.forwardRef(((e,t)=>{var{className:n,children:o,role:i="group",size:a,variation:l}=e,c=r.__rest(e,["className","children","role","size","variation"]);return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.ButtonGroup,n),role:i,ref:t},c),E.Children.map(o,(e=>E.isValidElement(e)?E.cloneElement(e,{size:a,variation:l}):e)))}));ve.displayName="ButtonGroup";const ye=E.forwardRef(((e,t)=>{var{className:n,children:o,variation:i}=e,a=r.__rest(e,["className","children","variation"]);return E.createElement(s.View,Object.assign({className:k.default(s.ComponentClassNames.Card,s.classNameModifier(s.ComponentClassNames.Card,i),n),"data-variation":i,ref:t},a),o)}));ye.displayName="Card";const be=E.forwardRef(((e,t)=>{var{as:n="span",children:o,className:i}=e,a=r.__rest(e,["as","children","className"]);return E.createElement(s.View,Object.assign({as:n,className:k.default(s.ComponentClassNames.VisuallyHidden,i),ref:t},a),o)}));be.displayName="VisuallyHidden";const _e=E.forwardRef(((e,t)=>{var{checked:n,className:i,defaultChecked:a,hasError:l,isDisabled:c,isIndeterminate:u,label:d,labelHidden:f,labelPosition:p,onChange:h,testId:m,inputStyles:g}=e,v=r.__rest(e,["checked","className","defaultChecked","hasError","isDisabled","isIndeterminate","label","labelHidden","labelPosition","onChange","testId","inputStyles"]);const{styleProps:y,rest:b}=de(v),_=void 0!==n?n:a,{dataChecked:w,dataFocus:x,onBlur:S,onChange:C,onFocus:A,setDataChecked:T}=((e,t)=>{const[n,r]=o.useState(e),[i,a]=o.useState(!1);return{dataChecked:n,dataFocus:i,onBlur:()=>{a(!1)},onChange:e=>{r(e.target.checked),s.isFunction(t)&&t(e)},onFocus:()=>{a(!0)},setDataChecked:r}})(_,h);E.useEffect((()=>{void 0!==n&&n!==w&&T(n)}),[n,w,T]);const I=Z();E.useEffect((()=>{const e=document.querySelector(`[data-id="${I}"]`);e&&"boolean"==typeof u&&(e.indeterminate=u)}),[I,u]);const P=J(m,s.ComponentClassNames.CheckboxButton),O=J(m,s.ComponentClassNames.CheckboxIcon),M=J(m,s.ComponentClassNames.CheckboxLabel),N=k.default(s.ComponentClassNames.CheckboxButton,s.classNameModifierByFlag(s.ComponentClassNames.CheckboxButton,"disabled",c),s.classNameModifierByFlag(s.ComponentClassNames.CheckboxButton,"error",l),s.classNameModifierByFlag(s.ComponentClassNames.CheckboxButton,"focused",x)),L=k.default(s.ComponentClassNames.CheckboxIcon,s.classNameModifierByFlag(s.ComponentClassNames.CheckboxIcon,"checked",w),s.classNameModifierByFlag(s.ComponentClassNames.CheckboxIcon,"disabled",c)),R=E.useMemo((()=>u?E.createElement(s.IconIndeterminate,{className:k.default(L,s.classNameModifierByFlag(s.ComponentClassNames.CheckboxIcon,"indeterminate",u)),"data-testid":O}):E.createElement(s.IconCheck,{className:L,"data-checked":w,"data-disabled":c,"data-testid":O})),[w,L,O,c,u]);return E.createElement(z,Object.assign({as:"label",className:k.default(s.ComponentClassNames.Checkbox,s.classNameModifierByFlag(s.ComponentClassNames.Checkbox,"disabled",c),i),"data-disabled":c,"data-label-position":p,testId:m},y),E.createElement(be,null,E.createElement(ce,Object.assign({checked:n,className:s.ComponentClassNames.CheckboxInput,"data-id":I,defaultChecked:a,isDisabled:c,onBlur:S,onChange:C,onFocus:A,ref:t,type:"checkbox"},b))),d&&E.createElement(re,{as:"span",className:k.default(s.ComponentClassNames.CheckboxLabel,{[s.ComponentClassNames.VisuallyHidden]:f}),"data-disabled":c,testId:M},d),E.createElement(z,Object.assign({"aria-hidden":"true",as:"span",className:N,"data-checked":w,"data-disabled":c,"data-focus":x,"data-error":l,testId:P},g),R))}));_e.displayName="Checkbox";const we=E.forwardRef(((e,t)=>{var{className:n,errorMessage:o,hasError:i=!1,labelHidden:a=!1,labelPosition:l,testId:c,size:u}=e,d=r.__rest(e,["className","errorMessage","hasError","labelHidden","labelPosition","testId","size"]);const f=J(c,s.ComponentClassNames.Checkbox);return E.createElement(z,{className:k.default(s.ComponentClassNames.Field,s.ComponentClassNames.CheckboxField,s.classNameModifier(s.ComponentClassNames.Field,u),n),"data-size":u,testId:c},E.createElement(_e,Object.assign({hasError:i,labelHidden:a,testId:f,labelPosition:l,ref:t},d)),E.createElement(ie,{hasError:i,errorMessage:o}))}));we.displayName="CheckboxField";const xe=E.forwardRef(((e,t)=>{var{className:n,children:o}=e,i=r.__rest(e,["className","children"]);return E.createElement(s.View,Object.assign({className:k.default(s.ComponentClassNames.Grid,n),ref:t},i),o)}));xe.displayName="Grid";const Se=e=>{var{type:t,page:n,currentPage:o,currentPageLabel:i=s.ComponentText.PaginationItem.currentPageLabel,isDisabled:a,onClick:l,ariaLabel:c}=e,u=r.__rest(e,["type","page","currentPage","currentPageLabel","isDisabled","onClick","ariaLabel"]);const d=k.default(s.ComponentClassNames.PaginationItemButton,s.classNameModifier(s.ComponentClassNames.PaginationItemButton,"link"),s.classNameModifierByFlag(s.ComponentClassNames.PaginationItemButton,"disabled",a)),f=k.default(s.ComponentClassNames.PaginationItemButton,s.classNameModifier(s.ComponentClassNames.PaginationItemButton,"link"),s.classNameModifierByFlag(s.ComponentClassNames.PaginationItemButton,"disabled",a));switch(t){case"page":return E.createElement(s.View,{as:"li"},n===o?E.createElement(z,Object.assign({"aria-current":"page",as:"button",className:s.ComponentClassNames.PaginationItemCurrent,testId:"current"},u),E.createElement(be,null,i,":"),n):E.createElement(j,Object.assign({className:k.default(s.ComponentClassNames.PaginationItemButton,s.classNameModifier(s.ComponentClassNames.PaginationItemButton,"link")),size:"small",variation:"link",onClick:()=>{l()},ariaLabel:c},u),n));case"next":return E.createElement(s.View,{as:"li"},E.createElement(j,Object.assign({className:d,size:"small",variation:"link",isDisabled:a,onClick:()=>{l()},ariaLabel:c},u),E.createElement(s.IconChevronRight,{size:"large"})));case"previous":return E.createElement(s.View,{as:"li"},E.createElement(j,Object.assign({className:f,size:"small",variation:"link",isDisabled:a,onClick:()=>{l()},ariaLabel:c},u),E.createElement(s.IconChevronLeft,{size:"large"})));case"ellipsis":return E.createElement(s.View,{as:"li"},E.createElement(z,Object.assign({as:"span",className:s.ComponentClassNames.PaginationItemEllipsis,testId:"ellipsis"},u),"…"))}return E.createElement(s.View,{as:"li"})};Se.displayName="PaginationItem";const Ee=E.forwardRef(((e,t)=>{var{className:n,currentPage:o=1,totalPages:i,hasMorePages:a=!1,siblingCount:l,currentPageLabel:c,pageLabel:u,previousLabel:d,nextLabel:f,onNext:p,onPrevious:h,onChange:m}=e,g=r.__rest(e,["className","currentPage","totalPages","hasMorePages","siblingCount","currentPageLabel","pageLabel","previousLabel","nextLabel","onNext","onPrevious","onChange"]);const v=(({currentPage:e,totalPages:t,hasMorePages:n,siblingCount:r,currentPageLabel:o=s.ComponentText.PaginationItem.currentPageLabel,pageLabel:i=s.ComponentText.PaginationItem.pageLabel,previousLabel:a=s.ComponentText.PaginationItem.previousLabel,nextLabel:l=s.ComponentText.PaginationItem.nextLabel,onNext:c,onPrevious:u,onChange:d})=>{const f=E.createElement(Se,{type:"previous",key:"previous",currentPage:e,onClick:u,isDisabled:e<=1,ariaLabel:a}),p=E.createElement(Se,{type:"next",key:"next",currentPage:e,onClick:c,isDisabled:e>=t&&!n,ariaLabel:l}),h=((e,t,n=1)=>E.useMemo((()=>{const r=Math.max(e,1),o=Math.max(n,1),i=Math.max(r,t),a=i;if(i<5+2*o)return s.getConsecutiveIntArray(1,i);const l=Math.max(r-o,1),c=Math.min(r+o,a),u=l>2,d=c<a-1;if(u&&!d){const e=3+2*o;return[1,"...",...s.getConsecutiveIntArray(a-e+1,a)]}if(!u&&d){const e=3+2*o;return[...s.getConsecutiveIntArray(1,e),"...",a]}return[1,"...",...s.getConsecutiveIntArray(l,c),"...",a]}),[e,t,n]))(e,t,r);return[f,...E.useMemo((()=>h.map(((t,n)=>"..."===t?E.createElement(Se,{type:"ellipsis",key:1===n?"start-ellipsis":"end-ellipsis"}):E.createElement(Se,{key:t,type:"page",page:t,currentPage:e,currentPageLabel:o,onClick:()=>null==d?void 0:d(t,e),ariaLabel:`${i} ${t}`})))),[h,e,o,i,d]),p]})({currentPage:o,totalPages:i,hasMorePages:a,siblingCount:l,currentPageLabel:c,pageLabel:u,previousLabel:d,nextLabel:f,onNext:p,onPrevious:h,onChange:m});return E.createElement(s.View,Object.assign({as:"nav",className:k.default(s.ComponentClassNames.Pagination,n),ref:t},g),E.createElement(z,{as:"ol",justifyContent:"center",alignItems:"center",gap:"inherit"},v))}));Ee.displayName="Pagination";const Ce=e=>{const{currentPage:t=1,totalPages:n,hasMorePages:r=!1,siblingCount:o=1}=e,i=Math.max(t,1),a=Math.max(i,n),[s,l]=E.useState(i);E.useEffect((()=>{l(i)}),[i,a]);const c=E.useCallback((()=>{s<a&&l(s+1)}),[s,a]),u=E.useCallback((()=>{s>1&&l(s-1)}),[s]),d=E.useCallback((e=>{"number"==typeof e&&l(e)}),[]);return{currentPage:s,hasMorePages:r,onChange:d,onNext:c,onPrevious:u,siblingCount:Math.max(o,1),totalPages:a}},ke=(e,t)=>s.strHasLength(e)?e.toLowerCase().includes(t.toLowerCase()):"object"==typeof e&&null!==e&&Object.values(e).some((e=>ke(e,t))),Ae=(e,t)=>Math.ceil(e/t),Te=10,Ie=e=>{var{children:t,direction:n="column",items:o}=e,i=r.__rest(e,["children","direction","items"]);return E.createElement(z,Object.assign({direction:n},i),Array.isArray(o)?o.map(t):null)},Pe=e=>{var{children:t,items:n}=e,o=r.__rest(e,["children","items"]);return E.createElement(xe,Object.assign({},o),Array.isArray(n)?n.map(t):null)},Oe=e=>{var{className:t,isSearchable:n,isPaginated:o,items:i,itemsPerPage:l=Te,searchFilter:c=ke,searchLabel:u=s.ComponentText.Collection.searchButtonLabel,searchNoResultsFound:d,searchPlaceholder:f,type:p="list",testId:h}=e,m=r.__rest(e,["className","isSearchable","isPaginated","items","itemsPerPage","searchFilter","searchLabel","searchNoResultsFound","searchPlaceholder","type","testId"]);const[g,v]=E.useState(),y=E.useCallback(a.debounce(v,300),[v]);i=Array.isArray(i)?i:[],n&&s.strHasLength(g)&&(i=i.filter((e=>c(e,g))));const b=Ce({totalPages:Ae(i.length,l)});o&&(i=((e,t,n)=>{if(t<1||n<1)return[];const r=(t-1)*n;return e.slice(r,r+n)})(i,b.currentPage,l));const _="list"===p?E.createElement(Ie,Object.assign({className:s.ComponentClassNames.CollectionItems,items:i},m)):"grid"===p?E.createElement(Pe,Object.assign({className:s.ComponentClassNames.CollectionItems,items:i},m)):null;return E.createElement(z,{testId:h,className:k.default(s.ComponentClassNames.Collection,t)},n?E.createElement(z,{className:s.ComponentClassNames.CollectionSearch},E.createElement(he,{label:u,placeholder:f,onChange:e=>y(e.target.value),onClear:()=>v("")})):null,((e,t,n)=>t.length?e:n||E.createElement(z,{justifyContent:"center"},E.createElement(re,null,s.ComponentText.Collection.searchNoResultsFound)))(_,i,d),o?E.createElement(z,{className:s.ComponentClassNames.CollectionPagination},E.createElement(Ee,Object.assign({},b))):null)};Oe.displayName="Collection";const Me=E.forwardRef(((e,t)=>{var{className:n,orientation:o="horizontal",size:i,label:a}=e,l=r.__rest(e,["className","orientation","size","label"]);const c=k.default(s.ComponentClassNames.Divider,s.classNameModifier(s.ComponentClassNames.Divider,o),s.classNameModifier(s.ComponentClassNames.Divider,i),a?s.ComponentClassNames.DividerLabel:null,n);return E.createElement(s.View,Object.assign({"aria-orientation":o,as:"hr",className:c,"data-size":i,"data-label":a,ref:t},l))}));Me.displayName="Divider";const Ne=({shouldWarn:e,message:t})=>{E.useEffect((()=>{e&&("undefined"==typeof process||(process,0))&&console.warn(t)}),[e,t])},{Root:Le}=a.sanitizeNamespaceImport(A),Re=E.forwardRef(((e,t)=>{var{children:n,className:o,defaultValue:i,isCollapsible:a,onChange:l,onValueChange:c,testId:u,type:d="single",value:f}=e,p=r.__rest(e,["children","className","defaultValue","isCollapsible","onChange","onValueChange","testId","type","value"]);const{rest:h}=de(p),m=null!=c?c:l;return Ne({shouldWarn:!!l,message:"Expander `onChange` prop will be deprecated in the next major release of @aws-amplify/ui-react. Please replace usage with `onValueChange`."}),"multiple"===d?E.createElement(Le,Object.assign({className:k.default(s.ComponentClassNames.Expander,o),"data-testid":u,defaultValue:i,onValueChange:m,ref:t,type:d,value:f},h),n):E.createElement(Le,Object.assign({className:k.default(s.ComponentClassNames.Expander,o),collapsible:a,"data-testid":u,defaultValue:i,onValueChange:m,ref:t,type:d,value:f},h),n)}));Re.displayName="Expander";const{Item:De,Header:ze,Trigger:Fe,Content:Ue}=a.sanitizeNamespaceImport(A),je=E.forwardRef(((e,t)=>{var{children:n,className:o,title:i,value:a}=e,l=r.__rest(e,["children","className","title","value"]);const c=Z(),u=Z(),{rest:d}=de(l);return E.createElement(De,Object.assign({className:k.default(s.ComponentClassNames.ExpanderItem,o),"data-testid":"expander-item",ref:t,value:a},d),E.createElement(ze,{className:s.ComponentClassNames.ExpanderHeader,"data-testid":"expander-header"},E.createElement(Fe,{"aria-controls":u,className:s.ComponentClassNames.ExpanderTrigger,id:c},i,E.createElement(s.IconExpandMore,{"aria-hidden":!0,className:s.ComponentClassNames.ExpanderIcon,"data-testid":"expander-icon"}))),E.createElement(Ue,{"aria-labelledby":c,className:s.ComponentClassNames.ExpanderContent,id:u},E.createElement(s.View,{className:s.ComponentClassNames.ExpanderContentText,testId:"expander-content-text"},n)))}));je.displayName="ExpanderItem";const Be={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"},Ve=E.forwardRef(((e,t)=>{var{className:n,children:o,isTruncated:i,level:a=6}=e,l=r.__rest(e,["className","children","isTruncated","level"]);return E.createElement(s.View,Object.assign({as:Be[a],className:k.default(s.ComponentClassNames.Heading,s.classNameModifier(s.ComponentClassNames.Heading,a),s.classNameModifierByFlag(s.ComponentClassNames.Heading,"truncated",i),n),ref:t},l),o)}));Ve.displayName="Heading";const Ge={minX:0,minY:0,width:24,height:24},qe=E.forwardRef(((e,t)=>{var{className:n,as:o="svg",fill:i="currentColor",pathData:a,viewBox:l=Ge,children:c,paths:u}=e,d=r.__rest(e,["className","as","fill","pathData","viewBox","children","paths"]);const f=l.minX?l.minX:Ge.minX,p=l.minY?l.minY:Ge.minY,h=l.width?l.width:Ge.width,m=l.height?l.height:Ge.height;let g;return c&&(g=c),u&&(g=u.map(((e,t)=>E.createElement("path",Object.assign({},e,{key:t}))))),a&&(g=E.createElement("path",{d:a,fill:i})),E.createElement(s.View,Object.assign({as:o,className:k.default(s.ComponentClassNames.Icon,n),ref:t,viewBox:`${f} ${p} ${h} ${m}`},d),g)}));qe.displayName="Icon";const He=E.forwardRef(((e,t)=>{var{className:n}=e,o=r.__rest(e,["className"]);return E.createElement(s.View,Object.assign({as:"img",ref:t,className:k.default(s.ComponentClassNames.Image,n)},o))}));He.displayName="Image";const We=E.forwardRef(((e,t)=>{var{as:n,children:o,className:i,isExternal:a,to:l}=e,c=r.__rest(e,["as","children","className","isExternal","to"]);return Ne({shouldWarn:null!=l&&!n,message:"The Link component's to prop will soon be deprecated. Please see the Amplify UI documentation for using the Link component with routing libraries: https://ui.docs.amplify.aws/react/components/link#routing-libraries"}),E.createElement(s.View,Object.assign({as:n||"a",className:k.default(s.ComponentClassNames.Link,i),ref:t,rel:a?"noopener noreferrer":void 0,target:a?"_blank":void 0,to:l},c),o)}));We.displayName="Link";const Ke=E.forwardRef(((e,t)=>{var{ariaLabel:n,className:o,children:i,isFullWidth:a=!1,isDisabled:l,isLoading:c,size:u,style:d,type:f="button",variation:p,testId:h}=e,m=r.__rest(e,["ariaLabel","className","children","isFullWidth","isDisabled","isLoading","size","style","type","variation","testId"]);const{propStyles:g,nonStyleProps:v}=s.useStyles(m,d),y=k.default(s.ComponentClassNames.Button,s.classNameModifier(s.ComponentClassNames.Button,u),s.classNameModifier(s.ComponentClassNames.Button,p),o);return E.createElement(j,Object.assign({ref:t,className:y,"data-fullwidth":a,"data-loading":c,"data-size":u,"data-variation":p,disabled:l||c,type:f,"data-testid":h,"aria-label":n,style:g},v),i)}));Ke.displayName="MenuButton";const{DropdownMenu:$e,DropdownMenuTrigger:Ze,DropdownMenuContent:Ye}=a.sanitizeNamespaceImport(T),Je=E.forwardRef(((e,t)=>{var{menuAlign:n="start",children:o,className:i,isOpen:a,size:l,trigger:c,triggerClassName:u,ariaLabel:d,onOpenChange:f}=e,p=r.__rest(e,["menuAlign","children","className","isOpen","size","trigger","triggerClassName","ariaLabel","onOpenChange"]);return E.createElement($e,{onOpenChange:f,open:a},E.createElement(Ze,{asChild:!0},null!=c?c:E.createElement(Ke,{ariaLabel:d,size:l,testId:"amplify-menu-trigger-test-id",className:k.default(s.ComponentClassNames.MenuTrigger,u)},E.createElement(s.IconMenu,{size:l}))),E.createElement(Ye,{align:n,className:s.ComponentClassNames.MenuContentWrapper},E.createElement(ve,Object.assign({className:k.default(s.ComponentClassNames.MenuContent,i),ref:t,size:l,testId:"amplify-menu-items-group-test-id"},p),o)))}));Je.displayName="Menu";const{DropdownMenuItem:Xe}=a.sanitizeNamespaceImport(T),Qe=E.forwardRef(((e,t)=>{var{children:n,className:o}=e,i=r.__rest(e,["children","className"]);return E.createElement(Xe,{asChild:!0,ref:t},E.createElement(Ke,Object.assign({className:k.default(s.ComponentClassNames.MenuItem,o),testId:"amplify-menu-item-test-id"},i,{variation:"menu"}),n))}));Qe.displayName="MenuItem";const{passwordIsHidden:et,passwordIsShown:tt,showPassword:nt}=s.ComponentText.PasswordField,rt=E.forwardRef(((e,t)=>{var{fieldType:n,passwordIsHiddenLabel:o=et,passwordIsShownLabel:i=tt,showPasswordButtonLabel:a=nt,size:l}=e,c=r.__rest(e,["fieldType","passwordIsHiddenLabel","passwordIsShownLabel","showPasswordButtonLabel","size"]);return E.createElement(j,Object.assign({"aria-checked":"password"!==n,ariaLabel:a,className:s.ComponentClassNames.FieldShowPassword,ref:t,role:"switch",size:l},c),E.createElement(be,{"aria-live":"polite"},"password"===n?o:i),"password"===n?E.createElement(s.IconVisibility,{size:l}):E.createElement(s.IconVisibilityOff,{size:l}))}));rt.displayName="ShowPasswordButton";const ot=E.forwardRef(((e,t)=>{var{autoComplete:n="current-password",label:o,className:i,hideShowPassword:a=!1,passwordIsHiddenLabel:l,passwordIsShownLabel:c,showPasswordButtonLabel:u,showPasswordButtonRef:d,size:f}=e,p=r.__rest(e,["autoComplete","label","className","hideShowPassword","passwordIsHiddenLabel","passwordIsShownLabel","showPasswordButtonLabel","showPasswordButtonRef","size"]);const[h,m]=E.useState("password"),g=E.useCallback((()=>{m("password"===h?"text":"password")}),[m,h]);return E.createElement(fe,Object.assign({autoComplete:n,outerEndComponent:a?null:E.createElement(rt,{fieldType:h,onClick:g,passwordIsHiddenLabel:l,passwordIsShownLabel:c,ref:d,size:f,showPasswordButtonLabel:u}),size:f,type:h,label:o,className:k.default(s.ComponentClassNames.PasswordField,i),ref:t},p))}));ot.displayName="PasswordField";const it=E.forwardRef(((e,t)=>{var{autoComplete:n,className:o,size:i,variation:a,value:l,defaultValue:c,hasError:u,icon:d=E.createElement(s.IconExpandMore,null),iconColor:f,children:p,placeholder:h,isDisabled:m,isRequired:g}=e,v=r.__rest(e,["autoComplete","className","size","variation","value","defaultValue","hasError","icon","iconColor","children","placeholder","isDisabled","isRequired"]);const y=void 0===l&&void 0===c&&h,b=k.default(s.ComponentClassNames.Select,s.ComponentClassNames.FieldGroupControl,s.classNameModifier(s.ComponentClassNames.Select,i),s.classNameModifier(s.ComponentClassNames.Select,a),s.classNameModifierByFlag(s.ComponentClassNames.Select,"error",u),o);return E.createElement(s.View,{className:s.ComponentClassNames.SelectWrapper},E.createElement(s.View,Object.assign({"aria-invalid":u,as:"select",autoComplete:n,value:l,defaultValue:y?"":c,isDisabled:m,required:g,"data-size":i,"data-variation":a,className:b,ref:t},v),h&&E.createElement("option",{value:""},h),p),E.createElement(z,{className:s.ComponentClassNames.SelectIconWrapper,color:f},d))}));it.displayName="Select";const at=E.forwardRef(((e,t)=>{const{children:n,className:o,descriptiveText:i,errorMessage:a,hasError:l=!1,id:c,label:u,labelHidden:d=!1,options:f,size:p,testId:h,inputStyles:m}=e,g=r.__rest(e,["children","className","descriptiveText","errorMessage","hasError","id","label","labelHidden","options","size","testId","inputStyles"]),v=Z(c),y=Z(),b=i?y:void 0,{styleProps:_,rest:w}=de(g);return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Field,s.classNameModifier(s.ComponentClassNames.Field,p),s.ComponentClassNames.SelectField,o),"data-size":p,testId:h},_),E.createElement(ue,{htmlFor:v,visuallyHidden:d},u),E.createElement(oe,{id:y,labelHidden:d,descriptiveText:i}),E.createElement(it,Object.assign({"aria-describedby":b,hasError:l,id:v,ref:t,size:p},w,m),(({children:e,options:t})=>e?((null==t?void 0:t.length)&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),e):null==t?void 0:t.map(((e,t)=>E.createElement("option",{label:e,value:e,key:`${e}-${t}`},e))))({children:n,options:f})),E.createElement(ie,{hasError:l,errorMessage:a}))}));at.displayName="SelectField";const st=E.forwardRef(((e,t)=>{var{className:n,dialCodeList:o,isReadOnly:i}=e,l=r.__rest(e,["className","dialCodeList","isReadOnly"]);const c=null!=o?o:a.countryDialCodes,u=E.useMemo((()=>c.map((e=>E.createElement("option",{key:e,value:e,disabled:i},e)))),[c,i]);return E.createElement(at,Object.assign({"aria-disabled":i,autoComplete:"tel-country-code",className:k.default(s.ComponentClassNames.CountryCodeSelect,s.ComponentClassNames.DialCodeSelect,n),labelHidden:!0,ref:t},l),u)}));st.displayName="CountryCodeSelect";const lt=E.forwardRef(((e,t)=>{var{autoComplete:n="tel-national",className:o,countryCodeName:i,countryCodeLabel:a=s.ComponentText.PhoneNumberField.countryCodeLabel,countryCodeRef:l,defaultCountryCode:c,defaultDialCode:u,dialCodeLabel:d=s.ComponentText.PhoneNumberField.countryCodeLabel,dialCodeList:f,dialCodeName:p,dialCodeRef:h,hasError:m,isDisabled:g,isReadOnly:v,onCountryCodeChange:y,onDialCodeChange:b,onInput:_,size:w,variation:x}=e,S=r.__rest(e,["autoComplete","className","countryCodeName","countryCodeLabel","countryCodeRef","defaultCountryCode","defaultDialCode","dialCodeLabel","dialCodeList","dialCodeName","dialCodeRef","hasError","isDisabled","isReadOnly","onCountryCodeChange","onDialCodeChange","onInput","size","variation"]);const C=p||i,A=d||a,T=u||c,I=b||y,P=h||l;return E.createElement(fe,Object.assign({outerStartComponent:E.createElement(st,{defaultValue:T,dialCodeList:f,className:o,hasError:m,isDisabled:g,isReadOnly:v,label:A,name:C,onChange:I,ref:P,size:w,variation:x}),autoComplete:n,className:k.default(s.ComponentClassNames.PhoneNumberField,o),hasError:m,isDisabled:g,isReadOnly:v,onInput:_,ref:t,size:w,type:"tel",variation:x},S))}));lt.displayName="PhoneNumberField";const ct=E.forwardRef(((e,t)=>{var{className:n,children:o,isLoaded:i,size:a}=e,l=r.__rest(e,["className","children","isLoaded","size"]);return i?E.createElement(E.Fragment,null,o):E.createElement(s.View,Object.assign({className:k.default(s.ComponentClassNames.Placeholder,s.classNameModifier(s.ComponentClassNames.Placeholder,a),n),"data-size":a,ref:t},l))}));ct.displayName="Placeholder";const ut=C.default.createContext({name:"default"}),dt=E.forwardRef(((e,t)=>{var{children:n,className:i,id:a,isDisabled:l,testId:c,value:u,labelPosition:d,height:f,width:p,bottom:h,left:m,position:g,padding:v,right:y,top:b}=e,_=r.__rest(e,["children","className","id","isDisabled","testId","value","labelPosition","height","width","bottom","left","position","padding","right","top"]);const{currentValue:w,defaultValue:x,name:S,hasError:C,isGroupDisabled:A,isRequired:T,isReadOnly:I,onChange:P,size:O,labelPosition:M}=o.useContext(ut),N=A||l||I&&x!==u,L=void 0!==w?u===w:void 0,R=void 0!==x?u===x:void 0,D=d||M;return E.createElement(z,{as:"label",className:k.default(s.ComponentClassNames.Radio,s.classNameModifierByFlag(s.ComponentClassNames.Radio,"disabled",N),i),"data-disabled":N,"data-label-position":D,height:f,width:p,bottom:h,top:b,right:y,left:m,position:g,padding:v},n&&E.createElement(re,{as:"span",className:s.ComponentClassNames.RadioLabel,"data-disabled":N},n),E.createElement(ce,Object.assign({checked:L,className:k.default(s.ComponentClassNames.VisuallyHidden,s.ComponentClassNames.RadioInput),defaultChecked:R,hasError:C,id:a,isDisabled:N,isReadOnly:I,isRequired:T,onChange:P,ref:t,type:"radio",name:S,value:u},_)),E.createElement(z,{"aria-hidden":"true",as:"span",className:k.default(s.ComponentClassNames.RadioButton,s.classNameModifier(s.ComponentClassNames.RadioButton,O)),"data-size":O,testId:c}))}));dt.displayName="Radio";const ft=E.forwardRef(((e,t)=>{var{children:n,className:o,defaultValue:i,descriptiveText:a,errorMessage:l,hasError:c=!1,id:u,isDisabled:d,isRequired:f,isReadOnly:p,label:h,labelHidden:m=!1,labelPosition:g,onChange:v,name:y,size:b,testId:_,value:w}=e,x=r.__rest(e,["children","className","defaultValue","descriptiveText","errorMessage","hasError","id","isDisabled","isRequired","isReadOnly","label","labelHidden","labelPosition","onChange","name","size","testId","value"]);const S=Z(u),C=Z(),A=a?C:void 0,T=J(_,s.ComponentClassNames.RadioGroup),I=E.useMemo((()=>({currentValue:w,defaultValue:i,hasError:c,isRequired:f,isReadOnly:p,isGroupDisabled:d,onChange:v,size:b,name:y,labelPosition:g})),[i,c,d,f,p,v,b,y,w,g]);return E.createElement(z,Object.assign({as:"fieldset",className:k.default(s.ComponentClassNames.Field,s.classNameModifier(s.ComponentClassNames.Field,b),s.ComponentClassNames.RadioGroupField,o),"data-size":b,ref:t,role:"radiogroup",testId:_},x),E.createElement(be,{as:"legend"},h),E.createElement(ue,{"aria-hidden":!0,visuallyHidden:m},h),E.createElement(oe,{id:C,labelHidden:m,descriptiveText:a}),E.createElement(z,{"aria-describedby":A,className:s.ComponentClassNames.RadioGroup,id:S,testId:T},E.createElement(ut.Provider,{value:I},n)),E.createElement(ie,{hasError:c,errorMessage:l}))}));ft.displayName="RadioGroupField";const pt=({icon:e,fill:t,className:n})=>E.createElement(s.View,{as:"span",className:"amplify-rating-icon-container","aria-hidden":"true"},E.createElement(s.View,{as:"span",className:k.default(n),color:t},e));pt.displayName="RatingIcon";const ht=({emptyColor:e,emptyIcon:t,fillColor:n,fillIcon:r,value:o})=>{const i=o%1*100+"%";return E.createElement(s.View,{as:"span",className:"amplify-rating-icon-container","aria-hidden":"true"},E.createElement(s.View,{as:"span",className:"amplify-rating-label"},E.createElement(s.View,{as:"span",className:k.default("amplify-rating-icon","amplify-rating-icon-empty"),color:e},t)),E.createElement(s.View,{as:"span",className:"amplify-rating-label",width:i},E.createElement(s.View,{as:"span",className:k.default("amplify-rating-icon","amplify-rating-icon-filled"),color:n},r)))};ht.displayName="RatingMixedIcon";const mt=5,gt=0,vt=E.forwardRef(((e,t)=>{var{className:n,emptyColor:o,emptyIcon:i,fillColor:a,icon:l=E.createElement(s.IconStar,null),maxValue:c=mt,size:u,value:d=gt}=e,f=r.__rest(e,["className","emptyColor","emptyIcon","fillColor","icon","maxValue","size","value"]);const p=new Array(Math.ceil(c)).fill(1).map(((e,t)=>{const n=t+1;return((e,t)=>e<=t)(n,d)?E.createElement(pt,{key:t.toString(),icon:l,fill:a,className:"amplify-rating-icon-filled"}):((e,t)=>e-1>=t)(n,d)?E.createElement(pt,{key:t.toString(),icon:i||l,fill:o,className:"amplify-rating-icon-empty"}):((e,t)=>e>t&&e-1<t)(n,d)?E.createElement(ht,{key:t.toString(),fillIcon:l,emptyIcon:i||l,value:d,fillColor:a,emptyColor:o}):void 0}));return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Rating,s.classNameModifier(s.ComponentClassNames.Rating,u),n),"data-size":u,ref:t},f),p,E.createElement(be,null,d," out of ",c," rating"))}));vt.displayName="Rating";const{Range:yt,Root:bt,Thumb:_t,Track:wt}=a.sanitizeNamespaceImport(I),xt=E.forwardRef(((e,t)=>{var{ariaValuetext:n,className:o,defaultValue:i=0,descriptiveText:a,emptyTrackColor:l,errorMessage:c,filledTrackColor:u,formatValue:d,hasError:f=!1,id:p,isDisabled:h,isValueHidden:m=!1,label:g,labelHidden:v=!1,onChange:y,orientation:b="horizontal",outerEndComponent:_,outerStartComponent:w,testId:x,thumbColor:S,trackSize:C,value:A,size:T}=e,I=r.__rest(e,["ariaValuetext","className","defaultValue","descriptiveText","emptyTrackColor","errorMessage","filledTrackColor","formatValue","hasError","id","isDisabled","isValueHidden","label","labelHidden","onChange","orientation","outerEndComponent","outerStartComponent","testId","thumbColor","trackSize","value","size"]);const P=Z(p),O=Z(),M=Z(),N=a?M:void 0,{styleProps:L,rest:R}=de(I),D=void 0!==A,[F,U]=E.useState(D?A:i),j=D?[A]:void 0,B=D?void 0:[i],V=E.useCallback((e=>{U(e[0]),s.isFunction(y)&&y(e[0])}),[y]),G=E.useMemo((()=>{const e=s.isFunction(d)?d(F):F;return"string"==typeof d?E.createElement(s.View,{as:"span"},e):e}),[F,d]),q="vertical"===b,H=k.default(s.ComponentClassNames.SliderFieldTrack,s.classNameModifier(s.ComponentClassNames.SliderFieldTrack,b),s.classNameModifier(s.ComponentClassNames.SliderFieldTrack,T)),W=k.default(s.ComponentClassNames.SliderFieldRoot,s.classNameModifier(s.ComponentClassNames.SliderFieldRoot,b),s.classNameModifier(s.ComponentClassNames.SliderFieldRoot,T),o);return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Field,s.classNameModifier(s.ComponentClassNames.Field,T),s.ComponentClassNames.SliderField),testId:x,"data-size":T},L),E.createElement(ue,{className:s.ComponentClassNames.SliderFieldLabel,id:O,testId:"slider-label",visuallyHidden:v},E.createElement(s.View,{as:"span"},g),m?null:G),E.createElement(oe,{id:M,labelHidden:v,descriptiveText:a}),E.createElement(le,{className:s.ComponentClassNames.SliderFieldGroup,id:P,orientation:b,outerStartComponent:w,outerEndComponent:_},E.createElement(bt,Object.assign({className:W,"data-testid":"slider-root",disabled:h,defaultValue:B,onValueChange:V,orientation:b,ref:t,value:j},R),E.createElement(wt,{className:H,"data-testid":"slider-track",style:{backgroundColor:String(l),[q?"width":"height"]:C}},E.createElement(yt,{className:k.default(s.ComponentClassNames.SliderFieldRange,s.classNameModifier(s.ComponentClassNames.SliderFieldRange,b)),"data-testid":"slider-range",style:{backgroundColor:String(u)}})),E.createElement(_t,{"aria-describedby":N,"aria-labelledby":O,"aria-valuetext":n,className:k.default(s.ComponentClassNames.SliderFieldThumb,s.classNameModifier(s.ComponentClassNames.SliderFieldThumb,T)),style:{backgroundColor:String(S)}}))),E.createElement(ie,{hasError:f,errorMessage:c}))}));xt.displayName="SliderField";const St=({max:e,min:t,step:n,value:r})=>{const o=(r-t)%n;return r=r-o+Math.round(o/n)*n,(r=Math.max(t,r))>e&&(r=e-(e-t)%n),r},Et=E.forwardRef(((e,t)=>{const{className:n,defaultValue:o,descriptiveText:i,errorMessage:a,hasError:l=!1,id:c,inputStyles:u,isDisabled:d,isReadOnly:f,isRequired:p,increaseButtonLabel:h=s.ComponentText.StepperField.increaseButtonLabel,decreaseButtonLabel:m=s.ComponentText.StepperField.decreaseButtonLabel,label:g,labelHidden:v=!1,onStepChange:y,size:b,testId:_,value:w,variation:x}=e,S=r.__rest(e,["className","defaultValue","descriptiveText","errorMessage","hasError","id","inputStyles","isDisabled","isReadOnly","isRequired","increaseButtonLabel","decreaseButtonLabel","label","labelHidden","onStepChange","size","testId","value","variation"]),C=Z(c),A=Z(),T=i?A:void 0,{styleProps:I,rest:P}=de(S),{step:O,value:M,inputValue:N,handleDecrease:L,handleIncrease:R,handleOnBlur:D,handleOnChange:F,handleOnWheel:U,setInputValue:j,shouldDisableDecreaseButton:B,shouldDisableIncreaseButton:V}=(({defaultValue:e=0,value:t,step:n=1,max:r=Number.MAX_SAFE_INTEGER,min:o=Number.MIN_SAFE_INTEGER,isDisabled:i,isReadOnly:a,onChange:l,onDecrease:c,onIncrease:u,onStepChange:d})=>{const f=void 0!==t;r=Math.max(o,r);const[p,h]=E.useState((()=>St({min:o,max:r,step:n,value:e}))),m=f?St({min:o,max:r,step:n,value:t}):p,g=i||a||m+n>r,v=i||a||m-n<o,[y,b]=E.useState(m),_=E.useCallback((e=>{b(e.target.value),"function"==typeof l&&l(e)}),[l]),w=E.useCallback((e=>{const t=parseFloat(e.target.value);if(isNaN(t))return;const i=St({min:o,max:r,step:n,value:t});f||h(i),s.isFunction(d)&&d(i),b(i)}),[o,r,n,f,d]),x=E.useCallback((()=>{f||h(m+n),s.isFunction(d)&&d(m+n),s.isFunction(u)&&u(),b(m+n)}),[n,m,f,u,d]),S=E.useCallback((()=>{f||h(m-n),s.isFunction(d)&&d(m-n),s.isFunction(c)&&c(),b(m-n)}),[n,m,f,c,d]),C=E.useCallback((e=>{e.currentTarget.blur()}),[]);return{step:n,value:m,inputValue:y,handleDecrease:S,handleIncrease:x,handleOnBlur:w,handleOnChange:_,handleOnWheel:C,setInputValue:b,shouldDisableDecreaseButton:v,shouldDisableIncreaseButton:g}})(Object.assign(Object.assign({},e),{defaultValue:o,onStepChange:y}));return E.useEffect((()=>{void 0!==w&&j(w)}),[w,j]),E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Field,s.classNameModifier(s.ComponentClassNames.Field,b),s.ComponentClassNames.StepperField,n),"data-size":b,"data-variation":x,testId:_},I),E.createElement(ue,{htmlFor:C,visuallyHidden:v},g),E.createElement(oe,{id:A,labelHidden:v,descriptiveText:i}),E.createElement(le,{outerStartComponent:E.createElement(ee,{"aria-controls":C,ariaLabel:`${m} ${M-O}`,className:k.default(s.ComponentClassNames.StepperFieldButtonDecrease,s.classNameModifier(s.ComponentClassNames.StepperFieldButtonDecrease,x),s.classNameModifierByFlag(s.ComponentClassNames.StepperFieldButtonDecrease,"disabled",B)),"data-invalid":l,isDisabled:B,onClick:L,size:b},E.createElement(s.IconRemove,{"data-testid":"decrease-icon"})),outerEndComponent:E.createElement(ee,{"aria-controls":C,ariaLabel:`${h} ${M+O}`,className:k.default(s.ComponentClassNames.StepperFieldButtonIncrease,s.classNameModifier(s.ComponentClassNames.StepperFieldButtonIncrease,x),s.classNameModifierByFlag(s.ComponentClassNames.StepperFieldButtonIncrease,"disabled",V)),"data-invalid":l,isDisabled:V,onClick:R,size:b},E.createElement(s.IconAdd,{"data-testid":"increase-icon"}))},E.createElement(ce,Object.assign({"aria-describedby":T,className:s.ComponentClassNames.StepperFieldInput,hasError:l,id:C,isDisabled:d,isReadOnly:f,isRequired:p,onBlur:D,onChange:F,onWheel:U,ref:t,size:b,variation:x,type:"number",value:N},u,P))),E.createElement(ie,{hasError:l,errorMessage:a}))}));Et.displayName="StepperField";const Ct=E.forwardRef(((e,t)=>{var{className:n,defaultChecked:i,id:a,isChecked:l,isDisabled:c,isLabelHidden:u,label:d,labelPosition:f,name:p,onChange:h,size:m,thumbColor:g,trackCheckedColor:v,trackColor:y,value:b,hasError:_,errorMessage:w}=e,x=r.__rest(e,["className","defaultChecked","id","isChecked","isDisabled","isLabelHidden","label","labelPosition","name","onChange","size","thumbColor","trackCheckedColor","trackColor","value","hasError","errorMessage"]);const{isOn:S,changeHandler:C,isFocused:A,setIsFocused:T}=(e=>{const{onChange:t,isChecked:n,defaultChecked:r,isDisabled:i}=e,a=void 0!==n,[s,l]=o.useState(a?n:!!r),[c,u]=o.useState(!1),d=o.useCallback((e=>{i?e.preventDefault():("function"==typeof t&&t(e),l(e.target.checked))}),[t,i]);return a&&s!==n&&l(n),{isOn:s,changeHandler:d,isFocused:c,setIsFocused:u}})({onChange:h,isChecked:l,defaultChecked:i,isDisabled:c}),I=Z(a),P=u?be:s.View,O=k.default(s.ComponentClassNames.SwitchTrack,s.classNameModifierByFlag(s.ComponentClassNames.SwitchTrack,"checked",S),s.classNameModifierByFlag(s.ComponentClassNames.SwitchTrack,"disabled",c),s.classNameModifierByFlag(s.ComponentClassNames.SwitchTrack,"focused",A),s.classNameModifierByFlag(s.ComponentClassNames.SwitchTrack,"error",_)),M=k.default(s.ComponentClassNames.SwitchThumb,s.classNameModifierByFlag(s.ComponentClassNames.SwitchThumb,"checked",S),s.classNameModifierByFlag(s.ComponentClassNames.SwitchThumb,"disabled",c));return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.SwitchField,s.classNameModifier(s.ComponentClassNames.SwitchField,m),n),"data-size":m,"data-label-position":f,ref:t},x),E.createElement(be,null,E.createElement(ce,{role:"switch",type:"checkbox",id:I,onChange:C,disabled:c,name:p,checked:S,value:b,onFocus:()=>{T(!0)},onBlur:()=>{T(!1)}})),E.createElement(ue,{htmlFor:I,className:k.default(s.ComponentClassNames.SwitchWrapper,s.classNameModifier(s.ComponentClassNames.SwitchWrapper,f)),"data-label-position":f},E.createElement(P,{as:"span",className:s.ComponentClassNames.SwitchLabel},d),E.createElement(s.View,{as:"span",className:O,"data-checked":S,"data-disabled":c,"data-focused":A,backgroundColor:S?v:y},E.createElement(s.View,{as:"span",className:M,"data-checked":S,"data-disabled":c,backgroundColor:g}))),E.createElement(ie,{hasError:_,errorMessage:w}))}));Ct.displayName="SwitchField";const kt=E.forwardRef(((e,t)=>{var{caption:n,children:o,className:i,highlightOnHover:a=!1,size:l,variation:c}=e,u=r.__rest(e,["caption","children","className","highlightOnHover","size","variation"]);const d=k.default(s.ComponentClassNames.Table,s.classNameModifier(s.ComponentClassNames.Table,l),s.classNameModifier(s.ComponentClassNames.Table,c),i);return E.createElement(s.View,Object.assign({as:"table",className:d,"data-highlightonhover":a,"data-size":l,"data-variation":c,ref:t},u),n&&E.createElement(s.View,{as:"caption",className:s.ComponentClassNames.TableCaption},n),o)}));kt.displayName="Table";const At=E.forwardRef(((e,t)=>{var{children:n,className:o}=e,i=r.__rest(e,["children","className"]);return E.createElement(s.View,Object.assign({as:"tbody",className:k.default(s.ComponentClassNames.TableBody,o),ref:t},i),n)}));At.displayName="TableBody";const Tt=E.forwardRef(((e,t)=>{var{as:n="td",children:o,className:i}=e,a=r.__rest(e,["as","children","className"]);return E.createElement(s.View,Object.assign({as:n,className:k.default("td"===n?s.ComponentClassNames.TableTd:s.ComponentClassNames.TableTh,i),ref:t},a),o)}));Tt.displayName="TableCell";const It=E.forwardRef(((e,t)=>{var{children:n,className:o}=e,i=r.__rest(e,["children","className"]);return E.createElement(s.View,Object.assign({as:"tfoot",className:k.default(s.ComponentClassNames.TableFoot,o),ref:t},i),n)}));It.displayName="TableFoot";const Pt=E.forwardRef(((e,t)=>{var{children:n,className:o}=e,i=r.__rest(e,["children","className"]);return E.createElement(s.View,Object.assign({as:"thead",className:k.default(s.ComponentClassNames.TableHead,o),ref:t},i),n)}));Pt.displayName="TableHead";const Ot=E.forwardRef(((e,t)=>{var{children:n,className:o}=e,i=r.__rest(e,["children","className"]);return E.createElement(s.View,Object.assign({as:"tr",className:k.default(s.ComponentClassNames.TableRow,o),ref:t},i),n)}));Ot.displayName="TableRow";const{Root:Mt,List:Nt,Trigger:Lt,Content:Rt}=a.sanitizeNamespaceImport(P),Dt=e=>E.isValidElement(e),zt=E.forwardRef(((e,t)=>{var{ariaLabel:n,children:o,className:i,defaultIndex:a=0,currentIndex:l,onChange:c,indicatorPosition:u,spacing:d}=e,f=r.__rest(e,["ariaLabel","children","className","defaultIndex","currentIndex","onChange","indicatorPosition","spacing"]);const p={defaultValue:a.toString(),value:null!=l?l.toString():void 0,onValueChange:c},h=E.Children.toArray(o).filter((e=>!!e));return E.createElement(Mt,Object.assign({},p),E.createElement(Nt,{"aria-label":n},E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Tabs,i),"data-indicator-position":u,ref:t},f),E.Children.map(h,((e,t)=>{if(Dt(e))return E.cloneElement(e,{"data-spacing":d,key:t,value:`${t}`})})))),E.Children.map(h,((e,t)=>{if(Dt(e))return E.createElement(Rt,{key:t,value:`${t}`},e.props.children)})))})),Ft=E.forwardRef(((e,t)=>{var{className:n,title:o}=e,i=r.__rest(e,["className","title"]);return E.createElement(s.View,Object.assign({as:Lt,className:k.default(s.ComponentClassNames.TabItems,n),ref:t},i),o)}));zt.displayName="Tabs",Ft.displayName="TabItem";const Ut=E.forwardRef(((e,t)=>{var{className:n,isReadOnly:o,isRequired:i,size:a,hasError:l=!1,variation:c}=e,u=r.__rest(e,["className","isReadOnly","isRequired","size","hasError","variation"]);const d=k.default(s.ComponentClassNames.Textarea,s.ComponentClassNames.FieldGroupControl,s.classNameModifier(s.ComponentClassNames.Textarea,c),s.classNameModifier(s.ComponentClassNames.Textarea,a),s.classNameModifierByFlag(s.ComponentClassNames.Textarea,"error",l),n);return E.createElement(s.View,Object.assign({"aria-invalid":l,as:"textarea",className:d,"data-size":a,"data-variation":c,readOnly:o,ref:t,required:i},u))}));Ut.displayName="TextArea";const jt=E.forwardRef(((e,t)=>{const{className:n,descriptiveText:o,errorMessage:i,hasError:a=!1,id:l,label:c,labelHidden:u=!1,rows:d,size:f,testId:p,inputStyles:h,resize:m}=e,g=r.__rest(e,["className","descriptiveText","errorMessage","hasError","id","label","labelHidden","rows","size","testId","inputStyles","resize"]),v=Z(l),y=Z(),b=o?y:void 0,{styleProps:_,rest:w}=de(g);return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.Field,s.classNameModifier(s.ComponentClassNames.Field,f),s.ComponentClassNames.TextAreaField,n),"data-size":f,testId:p},_),E.createElement(ue,{htmlFor:v,visuallyHidden:u},c),E.createElement(oe,{id:y,labelHidden:u,descriptiveText:o}),E.createElement(Ut,Object.assign({"aria-describedby":b,hasError:a,id:v,ref:t,rows:null!=d?d:3,size:f,resize:m},w,h)),E.createElement(ie,{hasError:a,errorMessage:i}))}));jt.displayName="TextAreaField";const Bt=E.forwardRef(((e,t)=>{var{className:n,children:o,defaultPressed:i=!1,isDisabled:a,isPressed:l,onChange:c,onClick:u,size:d,value:f,variation:p}=e,h=r.__rest(e,["className","children","defaultPressed","isDisabled","isPressed","onChange","onClick","size","value","variation"]);const{isPressed:m,handleClick:g}=(({isPressed:e,defaultPressed:t,onClick:n,onChange:r,value:o})=>{const i=void 0!==e,[a,l]=E.useState(t);return{isPressed:e=i?e:a,handleClick:E.useCallback((e=>{s.isFunction(n)&&n(e),i||l(!a),i&&s.isFunction(r)&&r(o)}),[i,n,r,a,o])}})({isPressed:l,defaultPressed:i,onChange:c,onClick:u,value:f}),v=k.default(s.ComponentClassNames.ToggleButton,s.classNameModifier(s.ComponentClassNames.ToggleButton,p),s.classNameModifierByFlag(s.ComponentClassNames.ToggleButton,"pressed",m),n);return E.createElement(j,Object.assign({"aria-pressed":m,className:v,isDisabled:a,onClick:g,ref:t,size:d,type:"button",variation:p},h),o)}));Bt.displayName="ToggleButton";const Vt=E.forwardRef(((e,t)=>{var{children:n,className:o,isExclusive:i,isSelectionRequired:l,onChange:c,size:u,value:d,variation:f}=e,p=r.__rest(e,["children","className","isExclusive","isSelectionRequired","onChange","size","value","variation"]);const h=(({onChange:e,value:t,isExclusive:n=!1,isSelectionRequired:r=!1})=>{const o=E.useCallback((n=>{if(!s.isFunction(e)||!Array.isArray(t))return;const o=t.indexOf(n);let i;o>=0?(i=[...t],(!r||i.length>1)&&i.splice(o,1)):i=[...t,n],e(i)}),[e,t,r]),i=E.useCallback((n=>{s.isFunction(e)&&e(t!==n||r?n:null)}),[e,t,r]);return n?i:o})({onChange:c,value:d,isExclusive:i,isSelectionRequired:l});return E.createElement(z,Object.assign({className:k.default(s.ComponentClassNames.ToggleButtonGroup,o),ref:t,role:"group"},p),E.Children.map(n,(e=>E.isValidElement(e)?E.cloneElement(e,{isPressed:i?d===e.props.value:a.isString(e.props.value)&&d.includes(e.props.value),onChange:h,size:u,variation:f}):e)))}));Vt.displayName="ToggleButtonGroup";var Gt,qt=Object.freeze({__proto__:null,Alert:V,Autocomplete:me,Badge:ge,Button:j,ButtonGroup:ve,Card:ye,CheckboxField:we,Collection:Oe,Divider:Me,Expander:Re,ExpanderItem:je,FieldGroupIcon:Q,FieldGroupIconButton:ee,Flex:z,Grid:xe,Heading:Ve,HighlightMatch:X,Icon:qe,Image:He,Link:We,Loader:U,Menu:Je,MenuButton:Ke,MenuItem:Qe,Pagination:Ee,PasswordField:ot,PhoneNumberField:lt,Placeholder:ct,Radio:dt,RadioGroupField:ft,Rating:vt,ScrollView:q,SearchField:he,SelectField:at,SliderField:xt,StepperField:Et,SwitchField:Ct,Tabs:zt,TabItem:Ft,Text:re,TextAreaField:jt,TextField:fe,ToggleButton:Bt,ToggleButtonGroup:Vt,View:s.View,VisuallyHidden:be,Table:kt,TableBody:At,TableCell:Tt,TableFoot:It,TableHead:Pt,TableRow:Ot,usePagination:Ce,ComponentClassNames:s.ComponentClassNames,ComponentClassObject:s.ComponentClassObject,ComponentPropsToStylePropsMap:s.ComponentPropsToStylePropsMap,ComponentPropsToStylePropsMapKeys:s.ComponentPropsToStylePropsMapKeys});!function(e){e.ChangePassword="amplify-accountsettings-changepassword",e.DeleteUser="amplify-accountsettings-deleteuser"}(Gt||(Gt={}));const Ht=({errors:e,id:t,dataAttr:n})=>{if(!((null==e?void 0:e.length)>0))return null;const r=n?{[n]:!0}:{};return C.default.createElement(s.View,Object.assign({},r,{id:t}),e.map((e=>C.default.createElement(re,{key:e,role:"alert",variation:"error"},a.translate(e)))))},Wt=e=>C.default.createElement(V,Object.assign({variation:"error"},e)),Kt=e=>{var{fieldValidationErrors:t,label:n}=e,o=r.__rest(e,["fieldValidationErrors","label"]);return C.default.createElement(C.default.Fragment,null,C.default.createElement(ot,Object.assign({},o,{label:n})),t?C.default.createElement(Ht,{errors:t}):null)},$t={CurrentPasswordField:Kt,NewPasswordField:Kt,ConfirmPasswordField:Kt,SubmitButton:j,ErrorMessage:Wt},Zt=new i.Logger("ChangePassword");function Yt({onSuccess:e,onError:t,validators:n,components:o}){const[i,l]=C.default.useState(null),[c,u]=C.default.useState({}),[d,f]=C.default.useState({}),p=C.default.useRef([]),{user:h,isLoading:m}=s.useAuth(),g=((e,t)=>{var n,r;const{currentPassword:o,newPassword:i,confirmPassword:a}=e;return!(o&&i&&a)||(null===(n=t.newPassword)||void 0===n?void 0:n.length)>0||(null===(r=t.confirmPassword)||void 0===r?void 0:r.length)>0})(c,d),v=C.default.useMemo((()=>null!=n?n:a.getDefaultPasswordValidators()),[n]),y=C.default.useCallback((({formValues:e,eventType:t})=>{const{newPassword:n}=e,r=p.current.includes("newPassword");return a.runFieldValidators({value:n,validators:v,eventType:t,hasBlurred:r})}),[v]),b=C.default.useCallback((({formValues:e,eventType:t})=>{const{newPassword:n,confirmPassword:r}=e,o=p.current.includes("confirmPassword"),i=a.getDefaultConfirmPasswordValidators(n);return a.runFieldValidators({value:r,validators:i,eventType:t,hasBlurred:o})}),[]),_=C.default.useCallback((e=>{const t={newPassword:y(e),confirmPassword:b(e)};a.isEqual(d,t)||f(t)}),[b,y,d]),w=a.translate("Current Password"),x=a.translate("New Password"),S=a.translate("Confirm Password"),E=a.translate("Update password"),{CurrentPasswordField:k,NewPasswordField:A,ConfirmPasswordField:T,SubmitButton:I,ErrorMessage:P}=C.default.useMemo((()=>Object.assign(Object.assign({},$t),null!=o?o:{})),[o]),O=e=>{e.preventDefault();const{name:t,value:n}=e.target,r=Object.assign(Object.assign({},c),{[t]:n});_({formValues:r,eventType:"change"}),u(r)},M=e=>{e.preventDefault();const{name:t}=e.target;if(!p.current.includes(t)){const e=[...p.current,t];p.current=e,_({formValues:c,eventType:"blur"})}};return m?null:h?C.default.createElement(s.View,{as:"form",className:Gt.ChangePassword,onSubmit:n=>r.__awaiter(this,void 0,void 0,(function*(){if(n.preventDefault(),!h)return;const{currentPassword:r,newPassword:o}=c;i&&l(null);try{yield a.changePassword({user:h,currentPassword:r,newPassword:o}),null==e||e()}catch(r){const e=r;e.message&&l(e.message),null==t||t(e)}}))},C.default.createElement(z,{direction:"column"},C.default.createElement(k,{autoComplete:"current-password",isRequired:!0,label:w,name:"currentPassword",onBlur:M,onChange:O}),C.default.createElement(A,{autoComplete:"new-password",fieldValidationErrors:null==d?void 0:d.newPassword,isRequired:!0,label:x,name:"newPassword",onBlur:M,onChange:O}),C.default.createElement(T,{autoComplete:"new-password",fieldValidationErrors:null==d?void 0:d.confirmPassword,isRequired:!0,label:S,name:"confirmPassword",onBlur:M,onChange:O}),C.default.createElement(I,{isDisabled:g,type:"submit"},E),i?C.default.createElement(P,null,i):null)):(Zt.warn("<ChangePassword /> requires user to be authenticated."),null)}Yt.CurrentPasswordField=$t.CurrentPasswordField,Yt.NewPasswordField=$t.NewPasswordField,Yt.ConfirmPasswordField=$t.ConfirmPasswordField,Yt.SubmitButton=$t.SubmitButton,Yt.ErrorMessage=$t.ErrorMessage;const Jt={ErrorMessage:Wt,DeleteButton:e=>C.default.createElement(j,Object.assign({},e,{variation:"warning"})),WarningView:({onCancel:e,onConfirm:t,isDisabled:n})=>{const r=a.translate("Deleting your account is not reversable. You will lose access to your account and all data associated with it."),o=a.translate("Cancel"),i=a.translate("Delete my account");return C.default.createElement(ye,null,C.default.createElement(z,{direction:"column"},C.default.createElement(re,{color:"font.error"},r),C.default.createElement(z,null,C.default.createElement(j,{variation:"link",onClick:e,isDisabled:n},o),C.default.createElement(j,{variation:"destructive",onClick:t,isDisabled:n},i))))}},Xt=a.getLogger("Auth");function Qt({components:e,onSuccess:t,onError:n,handleDelete:o}){const[i,l]=C.default.useState("IDLE"),[c,u]=C.default.useState(null),d=a.translate("Delete Account"),{user:f,isLoading:p}=s.useAuth(),{ErrorMessage:h,DeleteButton:m,WarningView:g}=C.default.useMemo((()=>Object.assign(Object.assign({},Jt),null!=e?e:{})),[e]),v=C.default.useCallback((()=>r.__awaiter(this,void 0,void 0,(function*(){if(f){l("DELETING"),c&&u(null);try{o?yield o(f):yield a.deleteUser(),l("DONE"),null==t||t()}catch(e){const t=e;l("ERROR"),u(t.message),null==n||n(t)}}}))),[c,o,n,t,f]),y=C.default.useCallback((()=>{l("IDLE")}),[]),b=C.default.useCallback((()=>{v()}),[v]);return p?null:f?"DONE"===i?null:C.default.createElement(z,{className:Gt.DeleteUser,direction:"column"},C.default.createElement(m,{isDisabled:"CONFIRMATION"===i||"DELETING"===i,onClick:e=>{e.preventDefault(),l("CONFIRMATION")}},d),"CONFIRMATION"===i||"DELETING"===i?C.default.createElement(g,{onCancel:y,isDisabled:"DELETING"===i,onConfirm:b}):null,c?C.default.createElement(h,null,c):null):(Xt.warn("<DeleteUser /> requires user to be authenticated."),null)}Qt.ErrorMessage=Jt.ErrorMessage,Qt.DeleteButton=Jt.DeleteButton,Qt.WarningView=Jt.WarningView;var en={ChangePassword:Yt,DeleteUser:Qt};const tn=E.createContext(null),nn=()=>{const e=E.useContext(tn);if(!e)throw new Error("`useCustomComponents` cannot be used outside of a `CustomComponentsContext.Provider`");return e},rn=e=>"signIn"===e||"signUp";function on({children:e,className:t,variation:n="default"}){const{route:r}=h.useAuthenticator((({route:e})=>[e])),{components:{Header:o,Footer:i}}=nn();return C.default.createElement(s.View,{className:t,"data-amplify-authenticator":"","data-variation":n},C.default.createElement(s.View,{"data-amplify-container":""},C.default.createElement(o,null),C.default.createElement(s.View,{"data-amplify-router":"","data-amplify-router-content":rn(r)?void 0:""},e),C.default.createElement(i,null)))}function an(){const{submitForm:e,updateBlur:t,updateForm:n}=h.useAuthenticator((e=>[e.submitForm,e.updateBlur,e.updateForm]));return{handleBlur:o.useCallback((({target:{name:e}})=>{t({name:e})}),[t]),handleChange:o.useCallback((({target:{checked:e,name:t,type:r,value:o}})=>{n({name:t,value:"checkbox"!==r||e?o:void 0})}),[n]),handleSubmit:o.useCallback((t=>{t.preventDefault(),e(s.getFormDataFromEvent(t))}),[e])}}const sn=()=>{const{error:e}=h.useAuthenticator((e=>[e.error]));return C.default.createElement(C.default.Fragment,null,e?C.default.createElement(V,{variation:"error",isDismissible:!0},a.translate(e)):null)};function ln(e){var{autocomplete:t,dialCode:n,name:o,type:i}=e,s=r.__rest(e,["autocomplete","dialCode","name","type"]);const{validationErrors:l}=h.useAuthenticator((({validationErrors:e})=>[e])),c=E.useMemo((()=>a.getErrors(l[o])),[o,l]),u=(null==c?void 0:c.length)>0,d=Z(),f=u?d:void 0;return"tel"===i?E.createElement(E.Fragment,null,E.createElement(lt,Object.assign({},s,{name:o,defaultDialCode:n,dialCodeName:"country_code",autoComplete:t,hasError:u,"aria-describedby":f})),E.createElement(Ht,{dataAttr:"data-amplify-sign-up-errors",errors:c,id:d})):"password"===i?E.createElement(E.Fragment,null,E.createElement(ot,Object.assign({},s,{name:o,autoComplete:t,hasError:u,"aria-describedby":f})),E.createElement(Ht,{dataAttr:"data-amplify-sign-up-errors",errors:c,id:d})):E.createElement(E.Fragment,null,E.createElement(fe,Object.assign({},s,{name:o,autoComplete:t,hasError:u,type:i,"aria-describedby":f})),E.createElement(Ht,{dataAttr:"data-amplify-sign-up-errors",errors:c,id:d}))}function cn(){const{fields:e}=h.useAuthenticator((({route:e})=>[e])),t=E.useRef(e.map(((e,t)=>E.createElement(ln,Object.assign({key:t},e))))).current;return E.createElement(E.Fragment,null,t)}const{getDeliveryMessageText:un,getDeliveryMethodText:dn,getConfirmingText:fn,getConfirmText:pn,getResendCodeText:hn}=a.authenticatorTextUtil;function mn({className:e,variation:t}){const{isPending:n,resendCode:r,codeDeliveryDetails:o}=h.useAuthenticator((e=>[e.isPending,e.resendCode,e.codeDeliveryDetails])),{handleChange:i,handleSubmit:a}=an(),{components:{ConfirmSignUp:{Header:s=mn.Header,Footer:l=mn.Footer}}}=nn();return C.default.createElement(on,{className:e,variation:t},C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmsignup":"",method:"post",onChange:i,onSubmit:a},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:n},C.default.createElement(s,null),C.default.createElement(z,{direction:"column"},C.default.createElement(re,{className:"amplify-authenticator__subtitle"},un(o)),C.default.createElement(cn,null),C.default.createElement(sn,null),C.default.createElement(j,{variation:"primary",isDisabled:n,type:"submit",loadingText:fn(),isLoading:n,fontWeight:"normal"},pn()),C.default.createElement(j,{onClick:r,type:"button",fontWeight:"normal"},hn())),C.default.createElement(l,null))))}mn.Header=()=>{const{codeDeliveryDetails:e}=h.useAuthenticator((e=>[e.codeDeliveryDetails]));return C.default.createElement(Ve,{level:4},dn(e))},mn.Footer=function(){return null};const{getChangePasswordText:gn,getChangingText:vn,getBackToSignInText:yn}=a.authenticatorTextUtil,bn=({className:e,variation:t})=>{const{isPending:n,toSignIn:r}=h.useAuthenticator((e=>[e.isPending,e.toSignIn])),{handleBlur:o,handleChange:i,handleSubmit:a}=an(),{components:{ForceNewPassword:{FormFields:s=bn.FormFields}}}=nn();return C.default.createElement(on,{className:e,variation:t},C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-forcenewpassword":"",method:"post",onChange:i,onSubmit:a,onBlur:o},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:n},C.default.createElement(Ve,{level:3},gn()),C.default.createElement(s,null),C.default.createElement(sn,null),C.default.createElement(j,{isDisabled:n,type:"submit",variation:"primary",isLoading:n,loadingText:vn(),fontWeight:"normal"},gn()),C.default.createElement(j,{onClick:r,type:"button",fontWeight:"normal",variation:"link",size:"small"},yn()))))};bn.FormFields=function(){return C.default.createElement(cn,null)};const{getConfirmText:_n,getConfirmingText:wn,getBackToSignInText:xn}=a.authenticatorTextUtil,Sn=()=>{const{isPending:e,toSignIn:t}=h.useAuthenticator((e=>[e.isPending,e.toSignIn]));return C.default.createElement(z,{direction:"column"},C.default.createElement(j,{isDisabled:e,type:"submit",variation:"primary",fontWeight:"normal",isLoading:e,loadingText:wn()},_n()),C.default.createElement(j,{onClick:t,type:"button",variation:"link",fontWeight:"normal",size:"small"},xn()))},En=new i.Logger("SetupTOTP-logger"),{getSetupTOTPText:Cn,getCopiedText:kn,getLoadingText:An}=a.authenticatorTextUtil,Tn=({className:e,variation:t})=>{var n;const{totpSecretCode:o,isPending:i,user:s,QRFields:l}=h.useAuthenticator((e=>[e.isPending,e.totpSecretCode])),{handleChange:c,handleSubmit:u}=an(),{components:{SetupTOTP:{Header:d=Tn.Header,Footer:f=Tn.Footer}}}=nn(),[p,m]=E.useState(!0),[g,v]=E.useState(),[y,b]=E.useState("COPY"),{totpIssuer:_="AWSCognito",totpUsername:w=(null==s?void 0:s.username)}=null!==(n=l)&&void 0!==n?n:{},x=E.useCallback((()=>r.__awaiter(void 0,void 0,void 0,(function*(){try{const e=a.getTotpCodeURL(_,w,o),t=yield O.default.toDataURL(e);v(t)}catch(e){En.error(e)}finally{m(!1)}}))),[_,w,o]);return E.useEffect((()=>{g||x()}),[x,g]),E.createElement(on,{className:e,variation:t},E.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-setup-totp":"",method:"post",onChange:c,onSubmit:u},E.createElement(z,{as:"fieldset",direction:"column",isDisabled:i},E.createElement(d,null),E.createElement(z,{direction:"column"},p?E.createElement("p",null,An(),"…"):E.createElement("img",{"data-amplify-qrcode":!0,src:g,alt:"qr code",width:"228",height:"228"}),E.createElement(z,{"data-amplify-copy":!0},E.createElement("div",null,o),E.createElement(z,{"data-amplify-copy-svg":!0,onClick:()=>{navigator.clipboard.writeText(o),b(kn())}},E.createElement("div",{"data-amplify-copy-tooltip":!0},y),E.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},E.createElement("path",{d:"M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM15 5H8C6.9 5 6.01 5.9 6.01 7L6 21C6 22.1 6.89 23 7.99 23H19C20.1 23 21 22.1 21 21V11L15 5ZM8 21V7H14V12H19V21H8Z"})))),E.createElement(cn,null),E.createElement(sn,null)),E.createElement(Sn,null),E.createElement(f,null))))};Tn.Header=function(){return E.createElement(Ve,{level:3},Cn())},Tn.Footer=function(){return null};const{getSubmitText:In,getSubmittingText:Pn}=a.authenticatorTextUtil,On=e=>{const{cancelButtonSendType:t,cancelButtonText:n,submitButtonText:r}=e,{isPending:o,resendCode:i,skipVerification:a,toSignIn:s}=h.useAuthenticator((e=>[e.isPending])),l=o?C.default.createElement(C.default.Fragment,null,Pn(),"…"):C.default.createElement(C.default.Fragment,null,In()),c=r||l;return C.default.createElement(z,{direction:"column"},C.default.createElement(j,{fontWeight:"normal",variation:"primary",isDisabled:o,type:"submit"},c),C.default.createElement(j,{onClick:()=>{switch(t){case"SKIP":a();break;case"RESEND":i();break;case"SIGN_IN":s();break;default:return}},type:"button",variation:"link",fontWeight:"normal",size:"small"},n))},Mn=()=>C.default.createElement("svg",{"aria-label":"Apple icon",className:"amplify-icon federated-sign-in-icon",fill:"#000",preserveAspectRatio:"xMidYMid",stroke:"#000",strokeWidth:"0",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},C.default.createElement("path",{d:"M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-105.1-305c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"})),Nn=()=>C.default.createElement("svg",{"aria-label":"Google icon",className:"amplify-icon federated-sign-in-icon",viewBox:"0 0 256 262",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},C.default.createElement("path",{d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027",fill:"#4285F4"}),C.default.createElement("path",{d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1",fill:"#34A853"}),C.default.createElement("path",{d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782",fill:"#FBBC05"}),C.default.createElement("path",{d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251",fill:"#EB4335"})),Ln=()=>C.default.createElement(qe,{className:"federated-sign-in-icon",ariaLabel:"Facebook icon",viewBox:{minX:0,minY:0,width:279,height:538},pathData:"M82.3409742,538 L82.3409742,292.936652 L0,292.936652 L0,196.990154 L82.2410458,196.990154 L82.2410458,126.4295 C82.2410458,44.575144 132.205229,0 205.252865,0 C240.227794,0 270.306232,2.59855099 279,3.79788222 L279,89.2502322 L228.536175,89.2502322 C188.964542,89.2502322 181.270057,108.139699 181.270057,135.824262 L181.270057,196.89021 L276.202006,196.89021 L263.810888,292.836708 L181.16913,292.836708 L181.16913,538 L82.3409742,538 Z",fill:"#1877F2"}),Rn=()=>C.default.createElement("svg",{"aria-label":"Amazon icon",className:"amplify-icon federated-sign-in-icon",viewBox:"0 0 243 264",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},C.default.createElement("path",{d:"M230.826 208.039C227.468 203.683 208.551 205.982 200.056 206.998C197.471 207.321 197.076 205.042 199.407 203.405C214.475 192.665 239.201 195.766 242.082 199.364C244.966 202.982 241.337 228.071 227.173 240.049C225.001 241.888 222.93 240.904 223.898 238.468C227.077 230.431 234.205 212.419 230.826 208.039ZM123.769 264C71.0234 264 39.0764 241.955 14.7853 217.542C9.97339 212.706 3.71799 206.296 0.311513 200.691C-1.09773 198.372 2.59096 195.022 5.04421 196.844C35.239 219.268 79.1012 239.538 122.53 239.538C151.82 239.538 188.046 227.47 217.669 214.868C222.147 212.966 222.147 219.18 221.512 221.061C221.183 222.032 206.515 236.221 186.247 247.047C167.304 257.166 143.397 264 123.769 264Z",fill:"#F2541B"}),C.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M142.943 111.185C142.943 124.756 143.268 136.054 136.406 148.123C130.856 157.913 122.027 163.95 112.222 163.95C98.8288 163.95 90.9806 153.772 90.9806 138.693C90.9806 109.036 117.677 103.647 142.943 103.647V111.185ZM178.166 196.081C175.858 198.15 171.635 198.22 169.914 196.894C157.974 187.684 149.89 173.688 149.89 173.688C130.706 193.156 117.127 199 92.2879 199C62.8772 199 40 180.905 40 144.729C40 116.461 55.3552 97.2408 77.2563 87.823C96.2094 79.5256 122.684 78.0173 142.943 75.7517C142.943 75.7517 144.633 53.933 138.699 45.9806C134.098 39.8163 126.272 36.9329 119.089 36.9329C106.127 36.8829 93.61 43.9051 91.1262 57.4188C90.4136 61.2829 87.5533 64.5261 84.54 64.206L51.0823 60.5922C48.5156 60.2951 45.0381 57.6639 45.8636 53.3081C53.644 12.3684 90.7373 0 123.989 0C140.983 0 163.21 4.51651 176.608 17.3349C193.597 33.1648 191.969 54.2755 191.969 77.2722V131.51C191.969 147.835 198.768 154.987 205.151 163.775C207.376 166.953 207.886 170.714 205.04 173.032C197.902 178.999 178.166 196.081 178.166 196.081Z",fill:"#F2541B"})),Dn=e=>{const{icon:t,provider:n,text:r}=e,{toFederatedSignIn:o}=h.useAuthenticator();let i;return"facebook"===t?i=C.default.createElement(Ln,null):"google"===t?i=C.default.createElement(Nn,null):"amazon"===t?i=C.default.createElement(Rn,null):"apple"===t&&(i=C.default.createElement(Mn,null)),C.default.createElement(j,{onClick:e=>{e.preventDefault(),o({provider:n})},className:"federated-sign-in-button",fontWeight:"normal",gap:"1rem"},i,C.default.createElement(re,{as:"span"},r))},{getSignInWithFederationText:zn,getOrText:Fn}=a.authenticatorTextUtil;function Un(){const{route:e,socialProviders:t}=h.useAuthenticator((({route:e,socialProviders:t})=>[e,t]));return 0===t.length?null:C.default.createElement(z,{direction:"column",padding:"0 0 1rem 0",className:"federated-sign-in-container"},t.map((t=>{switch(t){case"amazon":return C.default.createElement(Dn,{icon:"amazon",key:t,provider:a.FederatedIdentityProviders.Amazon,text:zn(e,t)});case"apple":return C.default.createElement(Dn,{icon:"apple",key:t,provider:a.FederatedIdentityProviders.Apple,text:zn(e,t)});case"facebook":return C.default.createElement(Dn,{icon:"facebook",key:t,provider:a.FederatedIdentityProviders.Facebook,text:zn(e,t)});case"google":return C.default.createElement(Dn,{icon:"google",key:t,provider:a.FederatedIdentityProviders.Google,text:zn(e,t)});default:console.error(`Authenticator does not support ${t}. Please open an issue: https://github.com/aws-amplify/amplify-ui/issues/choose`)}})),C.default.createElement(Me,{size:"small",label:Fn()}))}const{getSignInText:jn,getSigningInText:Bn,getForgotPasswordText:Vn}=a.authenticatorTextUtil;function Gn(){const{isPending:e}=h.useAuthenticator((e=>[e.isPending])),{handleChange:t,handleSubmit:n}=an(),{components:{SignIn:{Header:r=Gn.Header,Footer:o=Gn.Footer}}}=nn();return C.default.createElement(s.View,null,C.default.createElement(r,null),C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-signin":"",method:"post",onSubmit:n,onChange:t},C.default.createElement(Un,null),C.default.createElement(z,{direction:"column"},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:e},C.default.createElement(be,null,C.default.createElement("legend",null,jn())),C.default.createElement(cn,null)),C.default.createElement(sn,null),C.default.createElement(j,{isDisabled:e,isFullWidth:!0,type:"submit",variation:"primary",isLoading:e,loadingText:Bn()},jn()))),C.default.createElement(o,null))}Gn.Footer=()=>{const{toResetPassword:e}=h.useAuthenticator((e=>[e.toResetPassword]));return C.default.createElement(s.View,{"data-amplify-footer":""},C.default.createElement(j,{fontWeight:"normal",onClick:e,size:"small",variation:"link"},Vn()))},Gn.Header=function(){return null};const{getCreateAccountText:qn,getCreatingAccountText:Hn}=a.authenticatorTextUtil;function Wn(){const{hasValidationErrors:e,isPending:t}=h.useAuthenticator((e=>[e.hasValidationErrors,e.isPending])),{handleChange:n,handleBlur:r,handleSubmit:o}=an(),{components:{SignUp:{Header:i=Wn.Header,FormFields:a=Wn.FormFields,Footer:l=Wn.Footer}}}=nn();return C.default.createElement(s.View,null,C.default.createElement(i,null),C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-signup":"",method:"post",onChange:n,onSubmit:o,onBlur:r},C.default.createElement(Un,null),C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:t},C.default.createElement(z,{direction:"column"},C.default.createElement(a,null),C.default.createElement(sn,null)),C.default.createElement(j,{isDisabled:e||t,isFullWidth:!0,type:"submit",variation:"primary",isLoading:t,loadingText:Hn()},qn()))),C.default.createElement(l,null))}Wn.Header=function(){return null},Wn.FormFields=function(){return C.default.createElement(cn,null)},Wn.Footer=function(){return null};const{getSignInTabText:Kn,getSignUpTabText:$n}=a.authenticatorTextUtil,Zn=({className:e,hideSignUp:t,variation:n})=>{const{route:r,toSignIn:o,toSignUp:i}=h.useAuthenticator((e=>[e.route,e.toSignIn,e.toSignUp]));return C.default.createElement(on,{className:e,variation:n},t?C.default.createElement(s.View,{"data-amplify-router-content":""},"signIn"===r&&C.default.createElement(Gn,null)):C.default.createElement(zt,{indicatorPosition:"top",currentIndex:"signIn"===r?0:1,spacing:"equal",justifyContent:"center",onChange:()=>"signIn"===r?i():o()},C.default.createElement(Ft,{title:Kn()},C.default.createElement(s.View,{"data-amplify-router-content":""},"signIn"===r&&C.default.createElement(Gn,null))),C.default.createElement(Ft,{title:$n()},C.default.createElement(s.View,{"data-amplify-router-content":""},"signUp"===r&&C.default.createElement(Wn,null)))))},{getAccountRecoveryInfoText:Yn,getSkipText:Jn}=a.authenticatorTextUtil,Xn=({className:e,variation:t})=>{const{isPending:n}=h.useAuthenticator((e=>[e.isPending])),{handleChange:r,handleSubmit:o}=an(),{components:{ConfirmVerifyUser:{Header:i=Xn.Header,Footer:a=Xn.Footer}}}=nn();return C.default.createElement(on,{className:e,variation:t},C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmverifyuser":"",method:"post",onChange:r,onSubmit:o},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:n},C.default.createElement(i,null),C.default.createElement(z,{direction:"column"},C.default.createElement(cn,null)),C.default.createElement(sn,null),C.default.createElement(On,{cancelButtonText:Jn(),cancelButtonSendType:"SKIP"}),C.default.createElement(a,null))))};Xn.Header=function(){return C.default.createElement(Ve,{level:3},Yn())},Xn.Footer=function(){return null};const{getSkipText:Qn,getVerifyText:er,getVerifyContactText:tr,getAccountRecoveryInfoText:nr}=a.authenticatorTextUtil,rr=e=>Object.entries(e).map((([e,t])=>C.default.createElement(dt,{name:"unverifiedAttr",value:e,key:e},((e,t)=>{const n=a.translate(e);let r=t;if("Phone Number"===e)r=a.censorPhoneNumber(t);else if("Email"===e){const e=t.split("@");r=`${a.censorAllButFirstAndLast(e[0])}@${e[1]}`}return`${n}: ${r}`})(a.defaultFormFieldOptions[e].label,t)))),or=({className:e,variation:t})=>{const{components:{VerifyUser:{Header:n=or.Header,Footer:r=or.Footer}}}=nn(),{isPending:o,unverifiedContactMethods:i}=h.useAuthenticator((({isPending:e,unverifiedContactMethods:t})=>[e,t])),{handleChange:a,handleSubmit:s}=an(),l=o?C.default.createElement(C.default.Fragment,null,"Verifying…"):C.default.createElement(C.default.Fragment,null,er()),c=C.default.createElement(ft,{label:tr(),labelHidden:!0,name:"verify_context",isDisabled:o},rr(i));return C.default.createElement(on,{className:e,variation:t},C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-verifyuser":"",method:"post",onChange:a,onSubmit:s},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:o},C.default.createElement(n,null),c,C.default.createElement(sn,null),C.default.createElement(On,{cancelButtonText:Qn(),cancelButtonSendType:"SKIP",submitButtonText:l}),C.default.createElement(r,null))))};or.Header=function(){return C.default.createElement(Ve,{level:3},nr())},or.Footer=function(){return null};const{getChallengeText:ir}=a.authenticatorTextUtil,ar=({className:e,variation:t})=>{const{isPending:n}=h.useAuthenticator((e=>[e.isPending])),{handleChange:r,handleSubmit:o}=an(),{components:{ConfirmSignIn:{Header:i=ar.Header,Footer:a=ar.Footer}}}=nn();return C.default.createElement(on,{className:e,variation:t},C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmsignin":"",method:"post",onChange:r,onSubmit:o},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:n},C.default.createElement(i,null),C.default.createElement(z,{direction:"column"},C.default.createElement(cn,null),C.default.createElement(sn,null)),C.default.createElement(Sn,null),C.default.createElement(a,null))))};ar.Header=function(){const{user:{challengeName:e}}=h.useAuthenticator((({user:e})=>[e]));return C.default.createElement(Ve,{level:3},ir(e))},ar.Footer=function(){return null};const{getResendCodeText:sr,getResetYourPasswordText:lr}=a.authenticatorTextUtil,cr=({className:e,variation:t})=>{const{isPending:n}=h.useAuthenticator((e=>[e.isPending])),{handleBlur:r,handleChange:o,handleSubmit:i}=an(),{components:{ConfirmResetPassword:{Header:a=cr.Header,Footer:s=cr.Footer}}}=nn();return C.default.createElement(on,{className:e,variation:t},C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-confirmresetpassword":"",method:"post",onSubmit:i,onChange:o,onBlur:r},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:n},C.default.createElement(a,null),C.default.createElement(z,{direction:"column"},C.default.createElement(cn,null)),C.default.createElement(sn,null),C.default.createElement(On,{cancelButtonSendType:"RESEND",cancelButtonText:sr()}),C.default.createElement(s,null))))};cr.Header=function(){const e=lr();return C.default.createElement(Ve,{level:3},e)},cr.Footer=function(){return null};const{getBackToSignInText:ur,getSendingText:dr,getSendCodeText:fr,getResetYourPasswordText:pr}=a.authenticatorTextUtil,hr=({className:e,variation:t})=>{const{isPending:n}=h.useAuthenticator((e=>[e.isPending])),{handleChange:r,handleSubmit:o}=an(),{components:{ResetPassword:{Header:i=hr.Header,Footer:a=hr.Footer}}}=nn();return C.default.createElement(on,{className:e,variation:t},C.default.createElement("form",{"data-amplify-form":"","data-amplify-authenticator-resetpassword":"",method:"post",onChange:r,onSubmit:o},C.default.createElement(z,{as:"fieldset",direction:"column",isDisabled:n},C.default.createElement(i,null),C.default.createElement(z,{direction:"column"},C.default.createElement(cn,null)),C.default.createElement(sn,null),C.default.createElement(On,{cancelButtonText:ur(),cancelButtonSendType:"SIGN_IN",submitButtonText:n?C.default.createElement(C.default.Fragment,null,dr(),"…"):C.default.createElement(C.default.Fragment,null,fr())}),C.default.createElement(a,null))))};hr.Header=function(){return C.default.createElement(Ve,{level:3},pr())},hr.Footer=function(){return null};const mr=e=>"signIn"===e||"signUp"===e;function gr(){return null}function vr({className:e,hideSignUp:t,variation:n}){const{route:r}=h.useAuthenticator((({route:e})=>[e])),i=o.useMemo((()=>(e=>{switch(e){case"authenticated":case"idle":case"setup":case"transition":return gr;case"confirmSignUp":return mn;case"confirmSignIn":return ar;case"setupTOTP":return Tn;case"signIn":case"signUp":return Zn;case"forceNewPassword":return bn;case"resetPassword":return hr;case"confirmResetPassword":return cr;case"verifyUser":return or;case"confirmVerifyUser":return Xn;default:return console.warn(`Unhandled Authenticator route - please open an issue: ${e}`),gr}})(r)),[r]);return C.default.createElement(i,{className:e,hideSignUp:mr(r)?t:void 0,variation:n})}const yr={Header:()=>null,SignIn:{Header:Gn.Header,Footer:Gn.Footer},SignUp:{Header:Wn.Header,FormFields:Wn.FormFields,Footer:Wn.Footer},ConfirmSignUp:{Header:mn.Header,Footer:mn.Footer},SetupTOTP:{Header:Tn.Header,Footer:Tn.Footer},ConfirmResetPassword:{Header:cr.Header,Footer:cr.Footer},ConfirmSignIn:{Header:ar.Header,Footer:ar.Footer},VerifyUser:{Header:or.Header,Footer:or.Footer},ConfirmVerifyUser:{Header:Xn.Header,Footer:Xn.Footer},ForceNewPassword:{FormFields:bn.FormFields},ResetPassword:{Header:hr.Header,Footer:hr.Footer},Footer:()=>null};function br({children:e,className:t,components:n,formFields:r,hideSignUp:o,initialState:i,loginMechanisms:a,signUpAttributes:s,services:l,socialProviders:c,variation:u}){const{route:d,signOut:f,user:p}=h.useAuthenticator((({route:e,signOut:t,user:n})=>[e,t,n]));h.useAuthenticatorInitMachine({initialState:i,loginMechanisms:a,services:l,signUpAttributes:s,socialProviders:c,formFields:r});const m=E.useMemo((()=>({components:Object.assign(Object.assign({},yr),n)})),[n]);return"authenticated"===d||"signOut"===d?e?E.createElement(E.Fragment,null,"function"==typeof e?e({signOut:f,user:p}):e):null:E.createElement(tn.Provider,{value:m},E.createElement(vr,{className:t,hideSignUp:o,variation:u}))}function _r(e){return E.useEffect((()=>{a.configureComponent({packageName:"@aws-amplify/ui-react",version:"4.3.7"})}),[]),E.createElement(h.AuthenticatorProvider,null,E.createElement(br,Object.assign({},e)))}function wr(e,t={}){const{variation:n="modal"}=t;return function(r){return C.default.createElement(_r,Object.assign({variation:n},t),(t=>C.default.createElement(e,Object.assign({},r,t))))}}_r.Provider=h.AuthenticatorProvider,_r.ResetPassword=hr,_r.SetupTOTP=Tn,_r.SignIn=Gn,_r.SignUp=Wn,_r.ForceNewPassword=bn;const xr=o.forwardRef(((e,t)=>{var n,{mapLib:a,mapStyle:s,style:l}=e,c=r.__rest(e,["mapLib","mapStyle","style"]);const u=i.Amplify.configure(),d=o.useMemo((()=>{var e,t,n,r;return null!==(r=null!==(t=null===(e=u.geo)||void 0===e?void 0:e.amazon_location_service)&&void 0!==t?t:null===(n=u.geo)||void 0===n?void 0:n.AmazonLocationService)&&void 0!==r?r:{}}),[u]),[f,p]=o.useState(),h=o.useMemo((()=>Object.assign({height:"100vh",position:"relative",width:"100vw"},l)),[l]);return o.useEffect((()=>{r.__awaiter(void 0,void 0,void 0,(function*(){const e=yield i.Auth.currentUserCredentials();if(e){const{region:t}=d,{transformRequest:n}=new v.AmplifyMapLibreRequest(e,t);p((()=>n))}}))}),[d]),f?C.default.createElement(N.default,Object.assign({},c,{mapLib:null!=a?a:M.default,mapStyle:null!=s?s:null===(n=d.maps)||void 0===n?void 0:n.default,ref:t,style:h,transformRequest:f})):null}));xr.displayName="MapView";const Sr={maplibregl:M.default,marker:{color:"#3FB1CE"},popup:!0,showResultMarkers:{color:"#3FB1CE"},showResultsWhileTyping:!0},Er=e=>{var{position:t="top-right"}=e,n=r.__rest(e,["position"]);return y.useControl((()=>v.createAmplifyGeocoder(n)),{position:t}),null},Cr=e=>{const t=o.useRef(!1);return o.useEffect((()=>{t.current||(v.createAmplifyGeocoder(e).addTo("#geocoder-container"),t.current=!0)}),[e]),C.default.createElement("div",{id:"geocoder-container"})},kr=e=>{const{current:t}=y.useMap();return t?C.default.createElement(Er,Object.assign({},Sr,e)):C.default.createElement(Cr,Object.assign({},Sr,e))},Ar=kr;function Tr({aggregatePercentage:e,children:t,dropZone:n,fileStatuses:r,isLoading:o,isSuccessful:i,hasMaxFilesError:l,maxFileCount:c,onClear:u,onFileClick:d}){const f=`${a.translate("Cannot choose more than")} ${c}`,p=()=>r.filter((e=>"success"===(null==e?void 0:e.fileState))).length,h=r.length-p(),m=`${h} ${1===h?a.translate("file"):a.translate("files")}`,g=`${p()} ${1===p()?a.translate("file uploaded"):a.translate("files uploaded")}`,v=r.some((e=>["error","editing"].includes(null==e?void 0:e.fileState)))||0===h||l;return C.default.createElement(s.View,{className:s.ComponentClassNames.FileUploaderPreviewer},C.default.createElement(s.View,{className:s.ComponentClassNames.FileUploaderPreviewerBody},n,C.default.createElement(re,{className:s.ComponentClassNames.FileUploaderPreviewerText},i?g:C.default.createElement(C.default.Fragment,null,`${m} ${a.translate("selected")}`)),t),C.default.createElement(s.View,{className:s.ComponentClassNames.FileUploaderPreviewerFooter},C.default.createElement(s.View,null,o&&C.default.createElement(C.default.Fragment,null,C.default.createElement(re,null,a.translate("Uploading"),e>0?`: ${e}%`:""),C.default.createElement(U,{className:s.ComponentClassNames.FileUploaderLoader,variation:"linear",percentage:e,isPercentageTextHidden:!0,isDeterminate:!0}))),C.default.createElement(s.View,{className:a.ComponentClassName.FileUploaderPreviewerFooterActions},!o&&!i&&C.default.createElement(C.default.Fragment,null,C.default.createElement(j,{size:"small",variation:"link",onClick:u},a.translate("Clear all")),C.default.createElement(j,{disabled:v,size:"small",variation:"primary",onClick:d},`${a.translate("Upload")} ${m}`)),i&&C.default.createElement(j,{size:"small",onClick:u},a.translate("Done")))),l&&C.default.createElement(V,{variation:"error",heading:f}))}function Ir({children:e,inDropZone:t,onDragStart:n,onDragEnter:r,onDragLeave:o,onDrop:i,onDragOver:l}){return C.default.createElement(s.View,{className:k.default(t&&s.classNameModifier(s.ComponentClassNames.FileUploaderDropZone,"active"),s.ComponentClassNames.FileUploaderDropZone),onDragStart:n,onDragEnter:r,onDragLeave:o,onDrop:i,onDragOver:l},C.default.createElement(s.IconUpload,{"aria-hidden":!0,className:s.ComponentClassNames.FileUploaderDropZoneIcon}),C.default.createElement(re,{className:s.ComponentClassNames.FileUploaderDropZoneText},a.translate("Drop files here or")),e)}const Pr=({fileState:e,errorMessage:t,percentage:n})=>{switch(e){case"loading":{const e=n>0?`${a.translate("Uploading")}: ${n}%`:a.translate("Uploading");return C.default.createElement(re,{className:s.ComponentClassNames.FileUploaderFileStatus},e)}case"paused":return C.default.createElement(re,{className:s.ComponentClassNames.FileUploaderFileStatus},a.translate("Paused"),": ",n,"%");case"success":return C.default.createElement(re,{className:k.default(s.ComponentClassNames.FileUploaderFileStatus,s.classNameModifier(s.ComponentClassNames.FileUploaderFileStatus,"success"))},C.default.createElement(s.IconCheck,{fontSize:"xl"})," ",a.translate("Uploaded successfully"));case"error":return C.default.createElement(re,{className:k.default(s.ComponentClassNames.FileUploaderFileStatus,s.classNameModifier(s.ComponentClassNames.FileUploaderFileStatus,"error"))},C.default.createElement(s.IconError,{fontSize:"xl"})," ",t);default:return null}};function Or({errorMessage:e,file:t,fileState:n,hasImage:r,name:i,onCancel:l,onCancelEdit:c,onPause:u,onResume:d,onSaveEdit:f,onStartEdit:p,percentage:h,isResumable:m,showImage:g}){const[v,y]=C.default.useState(i),b=C.default.useRef(null),_=URL.createObjectURL(t);C.default.useEffect((()=>{"editing"===n&&b.current&&b.current.focus()}),[n]);const{size:w}=t,x=r?C.default.createElement(He,{alt:t.name,src:_}):C.default.createElement(s.IconFile,null),S=!m||h>0,E=null===n||"error"===n&&e===a.translate("Extension not allowed"),k=o.useCallback((()=>C.default.createElement(C.default.Fragment,null,C.default.createElement(s.View,{className:s.ComponentClassNames.FileUploaderFileMain},C.default.createElement(re,{className:s.ComponentClassNames.FileUploaderFileName},i)),C.default.createElement(re,{as:"span",className:s.ComponentClassNames.FileUploaderFileSize},a.humanFileSize(w,!0)))),[i,w]),A=o.useCallback((()=>{switch(n){case"editing":return C.default.createElement(C.default.Fragment,null,C.default.createElement(j,{size:"small",onClick:()=>{y(i),c()}},"Cancel"),C.default.createElement(j,{size:"small",variation:"primary",onClick:()=>{f(v)}},"Save"));case"resume":case"loading":return m?C.default.createElement(j,{onClick:u,size:"small",variation:"link"},a.translate("pause")):null;case"paused":return C.default.createElement(j,{onClick:d,size:"small",variation:"link"},a.translate("Resume"));case"success":return null;default:return C.default.createElement(C.default.Fragment,null,E?C.default.createElement(j,{onClick:p,size:"small",variation:"link"},C.default.createElement(be,null,"Edit file name ",t.name),C.default.createElement(s.IconEdit,{"aria-hidden":!0,fontSize:"medium"})):null,C.default.createElement(j,{size:"small",onClick:l},C.default.createElement(be,null,"Remove file name ",t.name),C.default.createElement(s.IconClose,{"aria-hidden":!0,fontSize:"medium"})))}}),[t.name,n,m,i,l,c,u,d,f,p,E,v]);return t?C.default.createElement(s.View,{className:s.ComponentClassNames.FileUploaderFile},C.default.createElement(s.View,{className:s.ComponentClassNames.FileUploaderFileWrapper},g?C.default.createElement(s.View,{className:s.ComponentClassNames.FileUploaderFileImage},x):null,"editing"===n?C.default.createElement(s.View,{as:"form",flex:"1",onSubmit:()=>{f(v)}},C.default.createElement(fe,{maxLength:1024,ref:b,label:"file name",size:"small",variation:"quiet",labelHidden:!0,onChange:e=>{y(e.target.value)},value:v})):C.default.createElement(k,null),C.default.createElement(A,null),"loading"===n?C.default.createElement(U,{className:s.ComponentClassNames.FileUploaderLoader,variation:"linear",percentage:h,isDeterminate:S,isPercentageTextHidden:!0}):null),C.default.createElement(Pr,{fileState:n,errorMessage:e,percentage:h})):null}const Mr=e=>"function"==typeof(null==e?void 0:e.resume),Nr=new i.Logger("AmplifyUI:Storage");function Lr(e){var{acceptedFileTypes:t,shouldAutoProceed:n=!1,isPreviewerVisible:i,maxFileCount:c,maxSize:u,hasMultipleFiles:d=!0,onError:f,onSuccess:p,showImages:h=!0,accessLevel:m,variation:g="drop",isResumable:v=!1}=e,y=r.__rest(e,["acceptedFileTypes","shouldAutoProceed","isPreviewerVisible","maxFileCount","maxSize","hasMultipleFiles","onError","onSuccess","showImages","accessLevel","variation","isResumable"]);t&&m||Nr.warn("FileUploader requires accessLevel and acceptedFileTypes props");const[b,_]=o.useState(!1),[w,x]=o.useState(!1),S=function({maxSize:e,acceptedFileTypes:t,hasMultipleFiles:n,isLoading:r,setAutoLoad:i}){const[s,l]=o.useState([]),[c,u]=o.useState(!1),[d,f]=o.useState(!1),p=(t,n)=>{const r=[...n];[...t].forEach((t=>{const n=a.checkMaxSize(e,t);r.unshift({fileState:n?"error":null,fileErrors:n,file:t,name:t.name})})),l(r)},h=e=>{const r=a.returnAcceptedFiles([...e],t);return r?!n&&s.length>0?s.length:n||1!=r.length?!n&&r.length>1?(p([r[0]],s),1):r.length>0?(p([...r],s),r.length+s.length):0:(p([...r],s),r.length):0};return{inDropZone:d,onDragEnter:e=>{e.preventDefault(),e.stopPropagation()},onDragLeave:e=>{if(e.preventDefault(),e.stopPropagation(),r)return!1;f(!1)},onDragOver:e=>{if(e.preventDefault(),e.stopPropagation(),r)return!1;f(!0),e.dataTransfer.dropEffect="copy"},onDragStart:e=>{e.dataTransfer.clearData()},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),r)return!1;const{files:t}=e.dataTransfer;h([...t])>0&&(u(!0),i(!0)),f(!1)},setInDropZone:f,setShowPreviewer:u,addTargetFiles:h,showPreviewer:c,fileStatuses:s,setFileStatuses:l}}({maxSize:u,acceptedFileTypes:t,hasMultipleFiles:d,isLoading:b,setAutoLoad:x}),{addTargetFiles:E,fileStatuses:k,inDropZone:A,setFileStatuses:T,setShowPreviewer:I,showPreviewer:P}=S,O=r.__rest(S,["addTargetFiles","fileStatuses","inDropZone","setFileStatuses","setShowPreviewer","showPreviewer"]),M=Math.floor(k.reduce(((e,t)=>{var n;return e+(null!==(n=null==t?void 0:t.percentage)&&void 0!==n?n:0)}),0)/k.length),N=0!==k.length&&k.every((e=>100===(null==e?void 0:e.percentage))),L=k.filter((e=>100!==e.percentage)).length>c;o.useEffect((()=>{100===Math.floor(M)&&_(!1)}),[M]),o.useEffect((()=>{I(i)}),[I,i]);const R=o.useCallback((e=>t=>{T((n=>{const r=Object.assign({},n[e]),o=0!==t.total?Math.floor(t.loaded/t.total*100):100,i=100!==o?"loading":"success",a=Object.assign(Object.assign({},r),{percentage:o,fileState:i});return n[e]=a,[...n]}))}),[T]),D=o.useCallback((e=>t=>{T((n=>{const r=Object.assign({},n[e]),o=Object.assign(Object.assign({},r),{fileState:"error",fileErrors:a.translate(t.toString())});return n[e]=o,[...n]})),_(!1),"function"==typeof f&&f(t)}),[f,T]),z=o.useCallback((e=>function(){const t=k[e];Mr(t.uploadTask)&&t.uploadTask.pause();const n=[...k];n[e]=Object.assign(Object.assign({},t),{fileState:"paused"}),T(n)}),[k,T]),F=o.useCallback((e=>function(){const t=k[e];Mr(t.uploadTask)&&t.uploadTask.resume();const n=[...k];n[e]=Object.assign(Object.assign({},t),{fileState:"resume"}),T(n)}),[k,T]),U=o.useCallback((()=>{_(!0);const e=[];k.forEach(((t,n)=>{if("success"===(null==t?void 0:t.fileState))return;const r=a.uploadFile(Object.assign({file:t.file,fileName:t.name,level:m,isResumable:v,progressCallback:R(n),errorCallback:D(n),completeCallback:p},y));Mr(r)&&v&&e.push(r)})),T((t=>t.map(((t,n)=>{var r,o;return Object.assign(Object.assign({},t),{uploadTask:null==e?void 0:e[n],fileState:null!==(r=t.fileState)&&void 0!==r?r:"loading",percentage:null!==(o=t.percentage)&&void 0!==o?o:0})}))))}),[D,k,v,p,R,y,T,m]),B=o.useCallback((e=>{if(!e.target.files||0===e.target.files.length)return;const{files:t}=e.target;E([...t])>0&&(I(!0),x(!0))}),[E,I]),V=o.useCallback((()=>{I(!1),T([])}),[T,I]),G=o.useCallback((e=>()=>{const{fileState:t,uploadTask:n}=k[e];"loading"===t&&Mr(n)&&(l.Storage.cancel(n),_(!1));const r=k.filter(((t,n)=>n!==e));T(r)}),[k,T]),q=o.useCallback((e=>t=>{if(0===t.trim().length)return;const n=[...k],r=k[e],o=a.isValidExtension(t,r.file.name);n[e]=Object.assign(Object.assign({},r),{name:t,fileState:o?null:"error",fileErrors:o?void 0:a.translate("Extension not allowed")}),T(n)}),[k,T]),H=o.useCallback(((e,t)=>{T((n=>{const r=[...n],o=r[e],i=a.isValidExtension(o.name,o.file.name)?null:"error",s=null===t?i:t;return r[e]=Object.assign(Object.assign({},o),{fileState:s}),r}))}),[T]),W=o.useCallback((e=>()=>{H(e,null)}),[H]),K=o.useCallback((e=>t=>{H(e,"editing")}),[H]);o.useEffect((()=>{n&&w&&!L&&(U(),x(!1))}),[n,U,w,L]);const $=C.default.useRef(),Z=null==t?void 0:t.join(),Y=o.useMemo((()=>C.default.createElement(C.default.Fragment,null,C.default.createElement(j,{className:s.ComponentClassNames.FileUploaderDropZoneButton,isDisabled:b,onClick:()=>{$.current.click(),$.current.value=null},size:"small"},a.translate("Browse files")),C.default.createElement(be,null,C.default.createElement("input",{type:"file",tabIndex:-1,ref:$,onChange:B,multiple:d,accept:Z})))),[b,B,d,Z]);return P?C.default.createElement(Tr,{dropZone:C.default.createElement(Ir,Object.assign({},O,{inDropZone:A}),Y),fileStatuses:k,isLoading:b,isSuccessful:N,hasMaxFilesError:L,maxFileCount:c,onClear:V,onFileClick:U,aggregatePercentage:M},null==k?void 0:k.map(((e,t)=>{var n;return C.default.createElement(Or,{errorMessage:null==e?void 0:e.fileErrors,file:e.file,fileState:null==e?void 0:e.fileState,hasImage:null===(n=e.file)||void 0===n?void 0:n.type.startsWith("image/"),showImage:h,key:t,name:e.name,onCancel:G(t),onCancelEdit:W(t),onPause:z(t),onResume:F(t),onSaveEdit:q(t),onStartEdit:K(t),percentage:e.percentage,isResumable:v})}))):"button"===g?Y:C.default.createElement(Ir,Object.assign({},O,{inDropZone:A}),Y)}const{DirectionProvider:Rr}=a.sanitizeNamespaceImport(L);function Dr({children:e,colorMode:t,direction:n="ltr",nonce:r,theme:o}){const i=E.useMemo((()=>({theme:a.createTheme(o)})),[o]),{theme:{name:l,cssText:c}}=i;return E.createElement(s.AmplifyContext.Provider,{value:i},E.createElement(Rr,{dir:n},E.createElement("div",{"data-amplify-theme":l,"data-amplify-color-mode":t,dir:n},e),void 0===o||/<\/style/i.test(c)?null:E.createElement("style",{id:`amplify-theme-${l}`,dangerouslySetInnerHTML:{__html:c},nonce:r})))}const zr=Dr;var Fr;!function(e){e.Aborted="ABORTED",e.Failure="FAILURE",e.Fetching="FETCHING",e.Success="SUCCESS"}(Fr||(Fr={}));const Ur=new _.ConsoleLogger("Notifications.InAppMessaging"),jr=({body:e,container:t,header:n,primaryButton:r,secondaryButton:o})=>{var i,a,s,l,c;return{body:null!==(i=null==e?void 0:e.style)&&void 0!==i?i:{},container:null!==(a=null==t?void 0:t.style)&&void 0!==a?a:{},header:null!==(s=null==n?void 0:n.style)&&void 0!==s?s:{},primaryButton:null!==(l=null==r?void 0:r.style)&&void 0!==l?l:{},secondaryButton:null!==(c=null==o?void 0:o.style)&&void 0!==c?c:{}}};function Br(e){const{image:t,onDisplay:n}=e,r=o.useRef(!1),{hasRenderableImage:i,isImageFetching:a}=function(e){const{src:t}=null!=e?e:{},n=!!t,[r,i]=o.useState(n?Fr.Fetching:null),a=r===Fr.Fetching,s=r===Fr.Success;return o.useEffect((()=>{if(!n)return;const e=new Image;e.onload=()=>{i(Fr.Success)},e.onabort=()=>{Ur.error(`Image load aborted: ${t}`),i(Fr.Aborted)},e.onerror=()=>{Ur.error(`Image failed to load: ${t}`),i(Fr.Failure)},e.src=t}),[n,t]),{hasRenderableImage:s,isImageFetching:a}}(t),s=!a;o.useEffect((()=>{!r.current&&s&&(null==n||n(),r.current=!0)}),[n,s]);const l=o.useMemo((()=>function({styleParams:e}){const{payloadStyle:t,overrideStyle:n}=e;return{body:Object.assign(Object.assign({},null==t?void 0:t.body),null==n?void 0:n.body),closeIconButton:null==n?void 0:n.closeIconButton,container:Object.assign(Object.assign({},null==t?void 0:t.container),null==n?void 0:n.container),header:Object.assign(Object.assign({},null==t?void 0:t.header),null==n?void 0:n.header),image:null==n?void 0:n.image,primaryButton:Object.assign(Object.assign({},null==t?void 0:t.primaryButton),null==n?void 0:n.primaryButton),secondaryButton:Object.assign(Object.assign({},null==t?void 0:t.secondaryButton),null==n?void 0:n.secondaryButton)}}({styleParams:{payloadStyle:jr(e),overrideStyle:e.style}})),[e]);return{hasRenderableImage:i,shouldRenderMessage:s,styles:l}}function Vr(e){var{className:t,dismissButtonLabel:n="Dismiss message",onClick:o,style:i}=e,a=r.__rest(e,["className","dismissButtonLabel","onClick","style"]);return E.createElement(j,Object.assign({ariaLabel:n,className:t,onClick:o,style:i,variation:"link"},a),E.createElement(s.IconClose,{"aria-hidden":"true",size:"1.5rem"}))}const Gr="amplify-inappmessaging-messagelayout",qr=`${Gr}__button`,Hr=`${Gr}__close-button`,Wr=`${Gr}__content`,Kr=`${Gr}__header`,$r=`${Gr}__image-container`,Zr=`${Gr}__text-container`,Yr=(e,t="light")=>{const{backgroundColor:n}=null!=e?e:{};return n?R.default(n).isDark()?"dark":"light":t},Jr=e=>!a.isEmpty(e);function Xr({body:e,buttonSize:t,hasRenderableImage:n,header:r,image:o,onClose:i,orientation:a="vertical",primaryButton:s,secondaryButton:l,styles:c}){const u=E.useMemo((()=>({primary:Yr(c.primaryButton),secondary:Yr(c.secondaryButton)})),[c]),d="horizontal"===a,f=E.createElement(Vr,{className:Hr,onClick:i,style:c.closeIconButton}),p=Jr(s),h=Jr(l),m=p||h;return E.createElement(z,{className:Gr,"data-testid":"inappmessaging-messagelayout",style:c.container},!d&&E.createElement(z,{justifyContent:"flex-end"},f),E.createElement(z,{className:k.default(Wr,`${Wr}--${a}`),"data-testid":"inappmessaging-messagelayout-content"},n&&E.createElement(z,{className:k.default($r,`${$r}--${a}`),"data-testid":"inappmessaging-messagelayout-imagecontainer"},E.createElement(He,{alt:"In-App Message Image",src:null==o?void 0:o.src,style:c.image})),E.createElement(z,{className:k.default(Zr,`${Zr}--${a}`),"data-testid":"inappmessaging-messagelayout-textcontainer"},(null==r?void 0:r.content)&&E.createElement(Ve,{className:Kr,isTruncated:!0,level:2,style:c.header,testId:"inappmessaging-messagelayout-headertext"},r.content),(null==e?void 0:e.content)&&E.createElement(re,{style:c.body,testId:"inappmessaging-messagelayout-bodytext"},e.content)),d&&E.createElement(z,{alignItems:"flex-start"},f)),m&&E.createElement(ve,{size:t,testId:"inappmessaging-messagelayout-buttongroup"},h&&E.createElement(j,{className:k.default(qr,`${qr}--${u.secondary}`),onClick:l.onAction,style:c.secondaryButton,testId:"inappmessaging-messagelayout-secondarybutton"},l.title),p&&E.createElement(j,{className:k.default(qr,`${qr}--${u.primary}`),onClick:s.onAction,style:c.primaryButton,testId:"inappmessaging-messagelayout-primarybutton"},s.title)))}const Qr="amplify-inappmessaging-bannermessage";function eo(e){const t=Br(e),n=D([!0,!0,!1]),{shouldRenderMessage:r,styles:o}=t;if(!r)return null;const{alignment:i="right",position:a="top"}=e,s="center"===i&&"middle"===a;return C.default.createElement(z,{className:k.default(Qr,{[`${Qr}--${a}`]:!s,[`${Qr}--${i}`]:!s,[`${Qr}--center-middle`]:s,[`${Qr}--full-width`]:n}),role:"dialog"},C.default.createElement(Xr,Object.assign({},e,t,{orientation:"horizontal",buttonSize:"small",styles:o})))}function to(e){var{onClick:t}=e,n=r.__rest(e,["onClick"]);return C.default.createElement(s.View,Object.assign({className:"amplify-inappmessaging-backdrop","data-testid":"inappmessaging-backdrop",onClick:t},n))}const no="amplify-inappmessaging-fullscreenmessage";function ro(e){const t=Br(e),n=D([!0,!0,!1]),{shouldRenderMessage:r,styles:o}=t,{onClose:i}=e;if(!r)return null;const a=()=>E.createElement(z,{className:k.default(no,{[`${no}--fullscreen`]:n}),role:"dialog"},E.createElement(Xr,Object.assign({},e,t,{styles:o})));if(n)return E.createElement(a,null);const l=function(e,t={}){return function(n){return C.default.createElement(C.default.Fragment,null,C.default.createElement(to,Object.assign({},t)),C.default.createElement(z,{className:"amplify-inappmessaging-backdrop-content-container"},C.default.createElement(s.View,{className:"amplify-inappmessaging-backdrop-content"},C.default.createElement(e,Object.assign({},n)))))}}(a,{onClick:i});return E.createElement(l,null)}const oo="amplify-inappmessaging-modalmessage",io=`${oo}__dialog`;function ao(e){const t=Br(e),n=D([!0,!0,!1]),{shouldRenderMessage:r,styles:o}=t;return r?E.createElement(z,{className:oo},E.createElement(z,{className:k.default(io,{[`${io}--full-width`]:n}),role:"dialog"},E.createElement(Xr,Object.assign({},e,t,{styles:o})))):null}const so=new _.ConsoleLogger("Notifications.InAppMessaging"),lo=e=>{let t;try{t=new URL(e)}catch(t){return void so.warn(`Unsupported url provided: ${e}`)}const{protocol:n}=t;"http:"===n||"https:"===n?window.open(e):so.warn(`Unsupported url protocol provided: ${n}`)};function co(e){return null}const uo={BannerMessage:eo,CarouselMessage:co,FullScreenMessage:ro,ModalMessage:ao},fo=({action:e,url:t})=>{h.handleMessageAction({action:e,url:t,handleMessageLinkAction:lo})};function po({components:e}){const t=C.default.useMemo((()=>Object.assign(Object.assign({},uo),e)),[e]),{Component:n,props:r}=h.useMessage({components:t,onMessageAction:fo});return C.default.createElement(zr,{colorMode:"light"},C.default.createElement(n,Object.assign({},r)))}function ho(e,t){return function(n){return C.default.createElement(h.InAppMessagingProvider,null,C.default.createElement(po,Object.assign({},t)),C.default.createElement(e,Object.assign({},n)))}}po.BannerMessage=eo,po.CarouselMessage=co,po.FullScreenMessage=ro,po.ModalMessage=ao;var mo=Object.freeze({__proto__:null,AccountSettings:en,Authenticator:_r,withAuthenticator:wr,useAuthenticator:h.useAuthenticator,MapView:xr,Geocoder:Ar,LocationSearch:kr,FileUploader:Lr,InAppMessagingProvider:h.InAppMessagingProvider,useInAppMessaging:h.useInAppMessaging,InAppMessageDisplay:po,withInAppMessaging:ho,AmplifyProvider:Dr,ThemeProvider:zr});Object.defineProperty(t,"createTheme",{enumerable:!0,get:function(){return a.createTheme}}),Object.defineProperty(t,"defaultDarkModeOverride",{enumerable:!0,get:function(){return a.defaultDarkModeOverride}}),Object.defineProperty(t,"defaultTheme",{enumerable:!0,get:function(){return a.defaultTheme}}),Object.defineProperty(t,"translations",{enumerable:!0,get:function(){return a.translations}}),t.ComponentClassNames=s.ComponentClassNames,t.ComponentClassObject=s.ComponentClassObject,t.ComponentPropsToStylePropsMap=s.ComponentPropsToStylePropsMap,t.ComponentPropsToStylePropsMapKeys=s.ComponentPropsToStylePropsMapKeys,t.View=s.View,t.useTheme=s.useTheme,Object.defineProperty(t,"InAppMessagingProvider",{enumerable:!0,get:function(){return h.InAppMessagingProvider}}),Object.defineProperty(t,"useAuthenticator",{enumerable:!0,get:function(){return h.useAuthenticator}}),Object.defineProperty(t,"useInAppMessaging",{enumerable:!0,get:function(){return h.useInAppMessaging}}),t.AccountSettings=en,t.Alert=V,t.AmplifyProvider=Dr,t.Authenticator=_r,t.Autocomplete=me,t.Badge=ge,t.Button=j,t.ButtonGroup=ve,t.Card=ye,t.CheckboxField=we,t.Collection=Oe,t.Divider=Me,t.Expander=Re,t.ExpanderItem=je,t.FieldGroupIcon=Q,t.FieldGroupIconButton=ee,t.FileUploader=Lr,t.Flex=z,t.Geocoder=Ar,t.Grid=xe,t.Heading=Ve,t.HighlightMatch=X,t.Icon=qe,t.Image=He,t.InAppMessageDisplay=po,t.Link=We,t.Loader=U,t.LocationSearch=kr,t.MapView=xr,t.Menu=Je,t.MenuButton=Ke,t.MenuItem=Qe,t.Pagination=Ee,t.PasswordField=ot,t.PhoneNumberField=lt,t.Placeholder=ct,t.Radio=dt,t.RadioGroupField=ft,t.Rating=vt,t.ScrollView=q,t.SearchField=he,t.SelectField=at,t.SliderField=xt,t.StepperField=Et,t.SwitchField=Ct,t.TabItem=Ft,t.Table=kt,t.TableBody=At,t.TableCell=Tt,t.TableFoot=It,t.TableHead=Pt,t.TableRow=Ot,t.Tabs=zt,t.Text=re,t.TextAreaField=jt,t.TextField=fe,t.ThemeProvider=zr,t.ToggleButton=Bt,t.ToggleButtonGroup=Vt,t.VisuallyHidden=be,t.components=mo,t.primitives=qt,t.useAmplify=function(){const e=E.useContext(s.AmplifyContext);return{theme:s.getThemeFromContext(e)}},t.useBreakpointValue=D,t.usePagination=Ce,t.withAuthenticator=wr,t.withInAppMessaging=ho},28600:(e,t,n)=>{"use strict";var r=n(70655),o=n(67294),i=n(41547),a=n(73474),s=n(94184),l=n(44211),c=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(o),u=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(s);const d={Alert:{className:l.ComponentClassName.Alert,components:["Alert"],description:"Top level element that wraps the Alert primitive"},AlertIcon:{className:l.ComponentClassName.AlertIcon,components:["Alert"],description:"Class applied to Icon component within the Alert primitive"},AlertHeading:{className:l.ComponentClassName.AlertHeading,components:["Alert"],description:"Class applied to the heading View"},AlertBody:{className:l.ComponentClassName.AlertBody,components:["Alert"],description:"Class applied to the body View"},AlertDismiss:{className:l.ComponentClassName.AlertDismiss,components:["Alert"],description:"Class applied to the close Button"},Autocomplete:{className:l.ComponentClassName.Autocomplete,components:["Autocomplete"],description:"Top level element that wraps the Autocomplete primitive"},AutocompleteMenu:{className:l.ComponentClassName.AutocompleteMenu,components:["Autocomplete"],description:"Top level element that wraps the dropdown menu"},AutocompleteMenuEmpty:{className:l.ComponentClassName.AutocompleteMenuEmpty,components:["Autocomplete"],description:"Class applied to the no options slot of menu"},AutocompleteMenuFooter:{className:l.ComponentClassName.AutocompleteMenuFooter,components:["Autocomplete"],description:"Class applied to menu footer"},AutocompleteMenuHeader:{className:l.ComponentClassName.AutocompleteMenuHeader,components:["Autocomplete"],description:"Class applied to menu header"},AutocompleteMenuLoading:{className:l.ComponentClassName.AutocompleteMenuLoading,components:["Autocomplete"],description:"Class applied to the loading slot of menu"},AutocompleteMenuOption:{className:l.ComponentClassName.AutocompleteMenuOption,components:["Autocomplete"],description:"Class applied to each li option"},AutocompleteMenuOptions:{className:l.ComponentClassName.AutocompleteMenuOptions,components:["Autocomplete"],description:"Class applied to ul container element"},Badge:{className:l.ComponentClassName.Badge,components:["Badge"],description:"Top level element that wraps the Badge component"},Button:{className:l.ComponentClassName.Button,components:["Button"],description:"Top level element that wraps the Button primitive"},ButtonGroup:{className:l.ComponentClassName.ButtonGroup},ButtonLoaderWrapper:{className:l.ComponentClassName.ButtonLoaderWrapper,components:["Button"],description:"Class applied to the Loader component within the Button Loading state"},Card:{className:l.ComponentClassName.Card,components:["Card"],description:"Top level element that wraps the Card primitive"},Checkbox:{className:l.ComponentClassName.Checkbox,components:["Checkbox"],description:"Top level element that wraps the Checkbox primitive"},CheckboxButton:{className:l.ComponentClassName.CheckboxButton,components:["Checkbox"],description:"Wrapper for the checked icon within the Checkbox primitive"},CheckboxIcon:{className:l.ComponentClassName.CheckboxIcon,components:["Checkbox"],description:"Class applied to the checked icon within the Checkbox primitive"},CheckboxInput:{className:l.ComponentClassName.CheckboxInput,components:["Checkbox"],description:"Class applied to the visually hidden checkbox input within the Checkbox primitive"},CheckboxLabel:{className:l.ComponentClassName.CheckboxLabel,components:["Checkbox"],description:"Class applied to the label within the Checkbox primitive"},CheckboxField:{className:l.ComponentClassName.CheckboxField,components:["CheckboxField"],description:"Top level element that wraps the CheckboxField primitive"},Collection:{className:l.ComponentClassName.Collection,components:["Collection"],description:"Top level element that wraps the Collection primitive"},CollectionItems:{className:l.ComponentClassName.CollectionItems,components:["Collection"],description:"Class applied to the element that wraps all the items in a collection"},CollectionSearch:{className:l.ComponentClassName.CollectionSearch,components:["Collection"],description:"Class applied to the element that wraps the collection search box"},CollectionPagination:{className:l.ComponentClassName.CollectionPagination,components:["Collection"],description:"Class applied to the element that wraps the pagination component in a collection"},CountryCodeSelect:{className:l.ComponentClassName.CountryCodeSelect,components:["PhoneNumberField"],description:"Class applied to the Dial Code Select within the PhoneNumberField primitive"},DialCodeSelect:{className:l.ComponentClassName.DialCodeSelect,components:["PhoneNumberField"],description:"Class applied to the Dial Code Select within the PhoneNumberField primitive"},Divider:{className:l.ComponentClassName.Divider,components:["Divider"],description:"Top level element that wraps the Divider primitive"},DividerLabel:{className:l.ComponentClassName.DividerLabel,components:["Divider"],description:"Class applied to the label of the Divider component"},Expander:{className:l.ComponentClassName.Expander,components:["Expander"],description:"Top level element that wraps the Expander primitive"},ExpanderContent:{className:l.ComponentClassName.ExpanderContent,components:["Expander"],description:"Expander content container"},ExpanderContentText:{className:l.ComponentClassName.ExpanderContentText,components:["Expander"],description:"Expander content text"},ExpanderHeader:{className:l.ComponentClassName.ExpanderHeader,components:["Expander"],description:"Expander item header"},ExpanderIcon:{className:l.ComponentClassName.ExpanderIcon,components:["Expander"],description:"Icon to indicate whether an item is expanded or collapsed"},ExpanderItem:{className:l.ComponentClassName.ExpanderItem,components:["Expander"],description:"Expander item(containier for header, trigger, and content)"},ExpanderTrigger:{className:l.ComponentClassName.ExpanderTrigger,components:["Expander"],description:"Expander item trigger(button)"},Field:{className:l.ComponentClassName.Field},FieldDescription:{className:l.ComponentClassName.FieldDescription},FieldErrorMessage:{className:l.ComponentClassName.FieldErrorMessage},FieldGroup:{className:l.ComponentClassName.FieldGroup},FieldGroupControl:{className:l.ComponentClassName.FieldGroupControl},FieldGroupOuterEnd:{className:l.ComponentClassName.FieldGroupOuterEnd},FieldGroupOuterStart:{className:l.ComponentClassName.FieldGroupOuterStart},FieldGroupInnerEnd:{className:l.ComponentClassName.FieldGroupInnerEnd},FieldGroupInnerStart:{className:l.ComponentClassName.FieldGroupInnerStart},FieldGroupIcon:{className:l.ComponentClassName.FieldGroupIcon},FieldGroupIconButton:{className:l.ComponentClassName.FieldGroupIconButton},FieldGroupHasInnerEnd:{className:l.ComponentClassName.FieldGroupHasInnerEnd},FieldGroupHasInnerStart:{className:l.ComponentClassName.FieldGroupHasInnerStart},FieldShowPassword:{className:l.ComponentClassName.FieldShowPassword},FieldGroupFieldWrapper:{className:l.ComponentClassName.FieldGroupFieldWrapper},FileUploaderDropZone:{className:l.ComponentClassName.FileUploaderDropZone,components:["FileUploader"]},FileUploaderDropZoneIcon:{className:l.ComponentClassName.FileUploaderDropZoneIcon,components:["FileUploader"]},FileUploaderDropZoneText:{className:l.ComponentClassName.FileUploaderDropZoneText,components:["FileUploader"]},FileUploaderDropZoneButton:{className:l.ComponentClassName.FileUploaderDropZoneButton,components:["FileUploader"]},FileUploaderFile:{className:l.ComponentClassName.FileUploaderFile,components:["FileUploader"]},FileUploaderFileWrapper:{className:l.ComponentClassName.FileUploaderFileWrapper,components:["FileUploader"]},FileUploaderFileName:{className:l.ComponentClassName.FileUploaderFileName,components:["FileUploader"]},FileUploaderLoader:{className:l.ComponentClassName.FileUploaderLoader,components:["FileUploader"]},FileUploaderFileSize:{className:l.ComponentClassName.FileUploaderFileSize,components:["FileUploader"]},FileUploaderFileInfo:{className:l.ComponentClassName.FileUploaderFileInfo,components:["FileUploader"]},FileUploaderFileImage:{className:l.ComponentClassName.FileUploaderFileImage,components:["FileUploader"]},FileUploaderFileMain:{className:l.ComponentClassName.FileUploaderFileMain,components:["FileUploader"]},FileUploaderFileStatus:{className:l.ComponentClassName.FileUploaderFileStatus,components:["FileUploader"]},FileUploaderPreviewer:{className:l.ComponentClassName.FileUploaderPreviewer,components:["FileUploader"]},FileUploaderPreviewerText:{className:l.ComponentClassName.FileUploaderPreviewerText,components:["FileUploader"]},FileUploaderPreviewerBody:{className:l.ComponentClassName.FileUploaderPreviewerBody,components:["FileUploader"]},FileUploaderPreviewerFooter:{className:l.ComponentClassName.FileUploaderPreviewerFooter,components:["FileUploader"]},FileUploaderPreviewerFooterActions:{className:l.ComponentClassName.FileUploaderPreviewerFooterActions,components:["FileUploader"]},Flex:{className:l.ComponentClassName.Flex,components:["Flex"],description:"Top level element that wraps the Flex primitive"},Grid:{className:l.ComponentClassName.Grid,components:["Grid"],description:"Top level element that wraps the Grid primitive"},Heading:{className:l.ComponentClassName.Heading,components:["Heading"],description:"Top level element that wraps the Heading primitive"},HighlightMatch:{className:l.ComponentClassName.HighlightMatch,components:["HighlightMatch"],description:"Top level element that wraps the HighlightMatch primitive"},HighlightMatchHighlighted:{className:l.ComponentClassName.HighlightMatchHighlighted,components:["HighlightMatch"],description:"Class applied to the highlighted text of the HighlightMatch primitive"},Icon:{className:l.ComponentClassName.Icon,components:["Icon"],description:"Top level element that wraps the Icon primitive"},Image:{className:l.ComponentClassName.Image,components:["Image"],description:"Top level element that wraps the Image primitive"},Input:{className:l.ComponentClassName.Input},Label:{className:l.ComponentClassName.Label},Link:{className:l.ComponentClassName.Link,components:["Link"],description:"Top level element that wraps the Link primitive"},Loader:{className:l.ComponentClassName.Loader,components:["Loader"],description:"Top level element that wraps the Loader primitive"},LoaderDeterminate:{className:l.ComponentClassName.LoaderDeterminate,components:["Loader"],description:"Class applied to a determinate loader"},LoaderPercentageText:{className:l.ComponentClassName.LoaderPercentageText,components:["Loader"],description:"Class applied to the percentage text of loader"},MenuContent:{className:l.ComponentClassName.MenuContent,components:["Menu"],description:"Menu content container (Flex)"},MenuContentWrapper:{className:l.ComponentClassName.MenuContentWrapper,components:["Menu"],description:"Menu content wrapper"},MenuItem:{className:l.ComponentClassName.MenuItem,components:["Menu"],description:"Menu item button (MenuButton, wrapped in amplify-menu-content class)"},MenuTrigger:{className:l.ComponentClassName.MenuTrigger,components:["Menu"],description:"Menu trigger button (MenuButton, not wrapped in amplify-menu-content class)"},Pagination:{className:l.ComponentClassName.Pagination,components:["Pagination"],description:"Top level element that wraps the Pagination primitive"},PaginationItemButton:{className:l.ComponentClassName.PaginationItemButton,components:["Pagination"],description:"Class applied to the pagination buttons"},PaginationItemCurrent:{className:l.ComponentClassName.PaginationItemCurrent,components:["Pagination"],description:"Class applied to the currently selected pagination button"},PaginationItemEllipsis:{className:l.ComponentClassName.PaginationItemEllipsis,components:["Pagination"],description:"Class applied to the ellipsis within the Pagination primitive"},PasswordField:{className:l.ComponentClassName.PasswordField,components:["PasswordField"],description:"Top level element that wraps the PasswordField primitive"},PhoneNumberField:{className:l.ComponentClassName.PhoneNumberField,components:["PhoneNumberField"],description:"Top level element that wraps the PhoneNumberField primitive"},Placeholder:{className:l.ComponentClassName.Placeholder,components:["Placeholder"],description:"Top level element that wraps the Placeholder primitive"},Radio:{className:l.ComponentClassName.Radio,components:["RadioGroupField","Radio"],description:"Top level element that wraps the Radio primitive"},RadioButton:{className:l.ComponentClassName.RadioButton,components:["RadioGroupField","Radio"],description:"Class applied to the displayed radio button"},RadioInput:{className:l.ComponentClassName.RadioInput,components:["RadioGroupField","Radio"],description:"Class applied to the visually hidden radio input"},RadioLabel:{className:l.ComponentClassName.RadioLabel,components:["RadioGroupField","Radio"],description:"Class applied to the radio label"},RadioGroupField:{className:l.ComponentClassName.RadioGroupField,components:["RadioGroupField"],description:"Top level element that wraps the RadioGroupField primitive"},RadioGroup:{className:l.ComponentClassName.RadioGroup,components:["RadioGroupField"],description:"Class applied to the radio group wrapper"},Rating:{className:l.ComponentClassName.Rating,components:["Rating"],description:"Top level element that wraps the Rating primitive"},ScrollView:{className:l.ComponentClassName.ScrollView,components:["ScrollView"],description:"Top level element that wraps the ScrollView primitive"},SearchField:{className:l.ComponentClassName.SearchField,components:["SearchField"],description:"Top level element that wraps the SearchField primitive"},SearchFieldClear:{className:l.ComponentClassName.SearchFieldClear,components:["SearchField"],description:"Class applied to the search field clear button"},SearchFieldSearch:{className:l.ComponentClassName.SearchFieldSearch,components:["SearchField"],description:"Class applied to the search button"},Select:{className:l.ComponentClassName.Select,components:["Select","SelectField"],description:"Class applied to the select element"},SelectField:{className:l.ComponentClassName.SelectField,components:["SelectField"],description:"Top level element that wraps the SelectField primitive"},SelectWrapper:{className:l.ComponentClassName.SelectWrapper,components:["Select","SelectField"],description:"Class applied to the select wrapper"},SelectIconWrapper:{className:l.ComponentClassName.SelectIconWrapper,components:["Select","SelectField"],description:"Class applied to the select icon wrapper"},SliderField:{className:l.ComponentClassName.SliderField,components:["SliderField"],description:"Top level element that wraps the SliderField primitive"},SliderFieldGroup:{className:l.ComponentClassName.SliderFieldGroup,components:["SliderField"],description:"Class applied to the element that wraps the slider root"},SliderFieldLabel:{className:l.ComponentClassName.SliderFieldLabel,components:["SliderField"],description:"Class applied to the slider label"},SliderFieldRange:{className:l.ComponentClassName.SliderFieldRange,components:["SliderField"],description:"Class applied to the filled in portion of the slider track"},SliderFieldRoot:{className:l.ComponentClassName.SliderFieldRoot,components:["SliderField"],description:"Class applied to the slider root which wraps the track and thumb"},SliderFieldThumb:{className:l.ComponentClassName.SliderFieldThumb,components:["SliderField"],description:"Class applied to the slider thumb"},SliderFieldTrack:{className:l.ComponentClassName.SliderFieldTrack,components:["SliderField"],description:"Class applied to the slider track"},StepperField:{className:l.ComponentClassName.StepperField,components:["StepperField"],description:"Top level element that wraps the StepperField primitive"},StepperFieldButtonDecrease:{className:l.ComponentClassName.StepperFieldButtonDecrease,components:["StepperField"],description:"Class applied to the decrease button"},StepperFieldButtonIncrease:{className:l.ComponentClassName.StepperFieldButtonIncrease,components:["StepperField"],description:"Class applied to the increase button"},StepperFieldInput:{className:l.ComponentClassName.StepperFieldInput,components:["StepperField"],description:"Class applied to the StepperField input"},SwitchField:{className:l.ComponentClassName.SwitchField,components:["SwitchField"],description:"Top level element that wraps the SwitchField primitive"},SwitchLabel:{className:l.ComponentClassName.SwitchLabel,components:["SwitchField"],description:"Class applied to the SwitchField label text"},SwitchThumb:{className:l.ComponentClassName.SwitchThumb,components:["SwitchField"],description:"Class applied to the SwitchField thumb"},SwitchTrack:{className:l.ComponentClassName.SwitchTrack,components:["SwitchField"],description:"Class applied to the SwitchField track"},SwitchWrapper:{className:l.ComponentClassName.SwitchWrapper,components:["SwitchField"],description:"Class applied to the label element that wraps the SwitchField label and track"},Table:{className:l.ComponentClassName.Table,components:["Table"],description:"Top level element that wraps the Table primitive"},TableCaption:{className:l.ComponentClassName.TableCaption,components:["Table"],description:"Class applied to the content provided as the caption prop"},TableBody:{className:l.ComponentClassName.TableBody,components:["Table"],description:"Class applied to TableBody component"},TableTd:{className:l.ComponentClassName.TableTd,components:["Table"],description:'Class applied to TableCell component rendered as a <td> element (<TableCell as="td" />)'},TableTh:{className:l.ComponentClassName.TableTh,components:["Table"],description:'Class applied to TableCell comopnent rendered as a <th> element (<TableCell as="th" />)'},TableFoot:{className:l.ComponentClassName.TableFoot,components:["Table"],description:"Class applied to TableFoot component"},TableHead:{className:l.ComponentClassName.TableHead,components:["Table"],description:"Class applied to TableHead component"},TableRow:{className:l.ComponentClassName.TableRow,components:["Table"],description:"Class applied to TableRow component"},Tabs:{className:l.ComponentClassName.Tabs,components:["Tabs"],description:"Top level element that wraps the Tabs primitive"},TabItems:{className:l.ComponentClassName.TabItems,components:["Tabs"],description:"Top level element that wraps the TabItem primitive"},Text:{className:l.ComponentClassName.Text,components:["Text"],description:"Top level element that wraps the Text primitive"},Textarea:{className:l.ComponentClassName.Textarea,components:["TextAreaField"],description:"Class applied to the text area"},TextAreaField:{className:l.ComponentClassName.TextAreaField,components:["TextAreaField"],description:"Top level element that wraps the TextAreaField primitive"},TextField:{className:l.ComponentClassName.TextField,components:["TextField"],description:"Top level element that wraps the TextField primitive"},ToggleButton:{className:l.ComponentClassName.ToggleButton,components:["ToggleButton"],description:"Top level element that wraps the ToggleButton primitive"},ToggleButtonGroup:{className:l.ComponentClassName.ToggleButtonGroup,components:["ToggleButton","ToggleButtonGroup"],description:"Top level element that wraps the ToggleButtonGroup primitive"},VisuallyHidden:{className:l.ComponentClassName.VisuallyHidden,components:["VisuallyHidden"],description:"Top level element that wraps the VisuallyHidden primitive"}},f={Alert:d.Alert.className,AlertIcon:d.AlertIcon.className,AlertHeading:d.AlertHeading.className,AlertBody:d.AlertBody.className,AlertDismiss:d.AlertDismiss.className,Autocomplete:d.Autocomplete.className,AutocompleteMenu:d.AutocompleteMenu.className,AutocompleteMenuEmpty:d.AutocompleteMenuEmpty.className,AutocompleteMenuFooter:d.AutocompleteMenuFooter.className,AutocompleteMenuHeader:d.AutocompleteMenuHeader.className,AutocompleteMenuLoading:d.AutocompleteMenuLoading.className,AutocompleteMenuOption:d.AutocompleteMenuOption.className,AutocompleteMenuOptions:d.AutocompleteMenuOptions.className,Badge:d.Badge.className,Button:d.Button.className,ButtonGroup:d.ButtonGroup.className,ButtonLoaderWrapper:d.ButtonLoaderWrapper.className,Card:d.Card.className,Checkbox:d.Checkbox.className,CheckboxButton:d.CheckboxButton.className,CheckboxIcon:d.CheckboxIcon.className,CheckboxInput:d.CheckboxInput.className,CheckboxLabel:d.CheckboxLabel.className,CheckboxField:d.CheckboxField.className,Collection:d.Collection.className,CollectionItems:d.CollectionItems.className,CollectionSearch:d.CollectionSearch.className,CollectionPagination:d.CollectionPagination.className,CountryCodeSelect:d.CountryCodeSelect.className,DialCodeSelect:d.DialCodeSelect.className,Divider:d.Divider.className,DividerLabel:d.DividerLabel.className,Expander:d.Expander.className,ExpanderContent:d.ExpanderContent.className,ExpanderContentText:d.ExpanderContentText.className,ExpanderHeader:d.ExpanderHeader.className,ExpanderIcon:d.ExpanderIcon.className,ExpanderItem:d.ExpanderItem.className,ExpanderTrigger:d.ExpanderTrigger.className,Field:d.Field.className,FieldDescription:d.FieldDescription.className,FieldErrorMessage:d.FieldErrorMessage.className,FieldGroup:d.FieldGroup.className,FieldGroupControl:d.FieldGroupControl.className,FieldGroupOuterEnd:d.FieldGroupOuterEnd.className,FieldGroupOuterStart:d.FieldGroupOuterStart.className,FieldGroupInnerEnd:d.FieldGroupInnerEnd.className,FieldGroupInnerStart:d.FieldGroupInnerStart.className,FieldGroupIcon:d.FieldGroupIcon.className,FieldGroupIconButton:d.FieldGroupIconButton.className,FieldGroupHasInnerEnd:d.FieldGroupHasInnerEnd.className,FieldGroupHasInnerStart:d.FieldGroupHasInnerStart.className,FieldShowPassword:d.FieldShowPassword.className,FieldGroupFieldWrapper:d.FieldGroupFieldWrapper.className,FileUploaderDropZone:d.FileUploaderDropZone.className,FileUploaderDropZoneIcon:d.FileUploaderDropZoneIcon.className,FileUploaderDropZoneText:d.FileUploaderDropZoneText.className,FileUploaderDropZoneButton:d.FileUploaderDropZoneButton.className,FileUploaderFile:d.FileUploaderFile.className,FileUploaderFileWrapper:d.FileUploaderFileWrapper.className,FileUploaderFileName:d.FileUploaderFileName.className,FileUploaderLoader:d.FileUploaderLoader.className,FileUploaderFileSize:d.FileUploaderFileSize.className,FileUploaderFileInfo:d.FileUploaderFileInfo.className,FileUploaderFileImage:d.FileUploaderFileImage.className,FileUploaderFileMain:d.FileUploaderFileMain.className,FileUploaderFileStatus:d.FileUploaderFileStatus.className,FileUploaderPreviewer:d.FileUploaderPreviewer.className,FileUploaderPreviewerText:d.FileUploaderPreviewerText.className,FileUploaderPreviewerBody:d.FileUploaderPreviewerBody.className,FileUploaderPreviewerFooter:d.FileUploaderPreviewerFooter.className,FileUploaderPreviewerFooterActions:d.FileUploaderPreviewerFooterActions.className,Flex:d.Flex.className,Grid:d.Grid.className,Heading:d.Heading.className,HighlightMatch:d.HighlightMatch.className,HighlightMatchHighlighted:d.HighlightMatchHighlighted.className,Icon:d.Icon.className,Image:d.Image.className,Input:d.Input.className,Label:d.Label.className,Link:d.Link.className,Loader:d.Loader.className,LoaderDeterminate:d.LoaderDeterminate.className,LoaderPercentageText:d.LoaderPercentageText.className,MenuContent:d.MenuContent.className,MenuContentWrapper:d.MenuContentWrapper.className,MenuItem:d.MenuItem.className,MenuTrigger:d.MenuTrigger.className,Pagination:d.Pagination.className,PaginationItemButton:d.PaginationItemButton.className,PaginationItemCurrent:d.PaginationItemCurrent.className,PaginationItemEllipsis:d.PaginationItemEllipsis.className,PasswordField:d.PasswordField.className,PhoneNumberField:d.PhoneNumberField.className,Placeholder:d.Placeholder.className,Radio:d.Radio.className,RadioButton:d.RadioButton.className,RadioInput:d.RadioInput.className,RadioLabel:d.RadioLabel.className,RadioGroupField:d.RadioGroupField.className,RadioGroup:d.RadioGroup.className,Rating:d.Rating.className,ScrollView:d.ScrollView.className,SearchField:d.SearchField.className,SearchFieldClear:d.SearchFieldClear.className,SearchFieldSearch:d.SearchFieldSearch.className,Select:d.Select.className,SelectField:d.SelectField.className,SelectWrapper:d.SelectWrapper.className,SelectIconWrapper:d.SelectIconWrapper.className,SliderField:d.SliderField.className,SliderFieldGroup:d.SliderFieldGroup.className,SliderFieldLabel:d.SliderFieldLabel.className,SliderFieldRange:d.SliderFieldRange.className,SliderFieldRoot:d.SliderFieldRoot.className,SliderFieldThumb:d.SliderFieldThumb.className,SliderFieldTrack:d.SliderFieldTrack.className,StepperField:d.StepperField.className,StepperFieldButtonDecrease:d.StepperFieldButtonDecrease.className,StepperFieldButtonIncrease:d.StepperFieldButtonIncrease.className,StepperFieldInput:d.StepperFieldInput.className,SwitchField:d.SwitchField.className,SwitchLabel:d.SwitchLabel.className,SwitchThumb:d.SwitchThumb.className,SwitchTrack:d.SwitchTrack.className,SwitchWrapper:d.SwitchWrapper.className,Table:d.Table.className,TableCaption:d.TableCaption.className,TableBody:d.TableBody.className,TableTd:d.TableTd.className,TableTh:d.TableTh.className,TableFoot:d.TableFoot.className,TableHead:d.TableHead.className,TableRow:d.TableRow.className,Tabs:d.Tabs.className,TabItems:d.TabItems.className,Text:d.Text.className,Textarea:d.Textarea.className,TextAreaField:d.TextAreaField.className,TextField:d.TextField.className,ToggleButton:d.ToggleButton.className,ToggleButtonGroup:d.ToggleButtonGroup.className,VisuallyHidden:d.VisuallyHidden.className},p={backgroundColor:"colors",color:"colors",borderRadius:"radii",fontSize:"fontSizes",fontWeight:"fontWeights",fontFamily:"fonts",lineHeight:"lineHeights",opacity:"opacities",boxShadow:"shadows",transform:"transforms",left:"space",right:"space",top:"space",bottom:"space",height:"space",width:"space",letterSpacing:"space",margin:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",marginLeft:"space",marginRight:"space",marginTop:"space",marginBottom:"space",maxHeight:"space",maxWidth:"space",minHeight:"space",minWidth:"space",padding:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",paddingLeft:"space",paddingRight:"space",paddingTop:"space",paddingBottom:"space",gap:"space",columnGap:"space",rowGap:"space"},h={alignContent:"alignContent",alignItems:"alignItems",alignSelf:"alignSelf",area:"gridArea",autoColumns:"gridAutoColumns",autoFlow:"gridAutoFlow",autoRows:"gridAutoRows",backgroundColor:"backgroundColor",backgroundImage:"backgroundImage",basis:"flexBasis",border:"border",borderRadius:"borderRadius",bottom:"bottom",boxShadow:"boxShadow",color:"color",column:"gridColumn",columnEnd:"gridColumnEnd",columnGap:"columnGap",columnSpan:"gridColumn",columnStart:"gridColumnStart",direction:"flexDirection",display:"display",flex:"flex",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",gap:"gap",grow:"flexGrow",height:"height",justifyContent:"justifyContent",left:"left",letterSpacing:"letterSpacing",lineHeight:"lineHeight",margin:"margin",marginBlock:"marginBlock",marginBlockEnd:"marginBlockEnd",marginBlockStart:"marginBlockStart",marginBottom:"marginBlockEnd",marginInline:"marginInline",marginInlineEnd:"marginInlineEnd",marginInlineStart:"marginInlineStart",marginLeft:"marginInlineStart",marginRight:"marginInlineEnd",marginTop:"marginBlockStart",maxHeight:"maxHeight",maxWidth:"maxWidth",minHeight:"minHeight",minWidth:"minWidth",objectFit:"objectFit",objectPosition:"objectPosition",opacity:"opacity",order:"order",overflow:"overflow",padding:"padding",paddingBlock:"paddingBlock",paddingBlockEnd:"paddingBlockEnd",paddingBlockStart:"paddingBlockStart",paddingBottom:"paddingBlockEnd",paddingInline:"paddingInline",paddingInlineEnd:"paddingInlineEnd",paddingInlineStart:"paddingInlineStart",paddingLeft:"paddingInlineStart",paddingRight:"paddingInlineEnd",paddingTop:"paddingBlockStart",position:"position",resize:"resize",right:"right",row:"gridRow",rowEnd:"gridRowEnd",rowGap:"rowGap",rowSpan:"gridRow",rowStart:"gridRowStart",shrink:"flexShrink",templateAreas:"gridTemplateAreas",templateColumns:"gridTemplateColumns",templateRows:"gridTemplateRows",textAlign:"textAlign",textDecoration:"textDecoration",textTransform:"textTransform",top:"top",transform:"transform",transformOrigin:"transformOrigin",width:"width",whiteSpace:"whiteSpace",wrap:"flexWrap"},m=Object.keys(h),g=e=>"string"==typeof e&&0===e.length,v=e=>null==e||g(e),y=e=>Object.keys(e),b=(e,t,n)=>{if("string"!=typeof t)return t;if(t.includes(" "))return t.split(" ").map((t=>b(e,t,n))).join(" ");if(e in p){const r=t.split(".");let o=n[p[e]];for(let e=0;e<r.length&&o;e++)o=o[r[e]];return l.isDesignToken(o)?`var(--${l.cssNameTransform({path:[p[e],...r]})})`:t}return t},_=({breakpoint:e,breakpoints:t,values:n})=>{let r={};const o=y(t).sort(((e,n)=>t[e]-t[n]));var i;return Array.isArray(n)?n.forEach(((e,t)=>{r[o[t]]=e})):"object"==typeof n&&(r=y(i=n).reduce(((e,t)=>t in l.defaultTheme.breakpoints.values?Object.assign(Object.assign({},e),{[t]:i[t]}):e),{})),(({breakpoint:e,breakpoints:t,values:n})=>{const r=n[e];if(void 0!==r)return r;const o=y(t).sort(((e,n)=>t[n]-t[e])),i=o.slice(o.indexOf(e));for(const e of i){const t=n[e];if(void 0!==t)return t}return null})({breakpoint:e,breakpoints:t,values:r})},w="undefined"==typeof window?c.useEffect:c.useLayoutEffect,x=({breakpoints:e,defaultBreakpoint:t})=>{const n="undefined"!=typeof window&&void 0!==window.matchMedia?window.matchMedia:null,r=c.useMemo((()=>(({breakpoints:e})=>{const t=y(e).sort(((t,n)=>e[n]-e[t]));return t.map(((n,r)=>{let o="";const i=e[n],a=t[r-1],s=a?e[a]-1:null;return i>=0&&(o=`(min-width: ${i}px)`),null!==s&&(o&&(o+=" and "),o+=`(max-width: ${s}px)`),{breakpoint:n,query:o,maxWidth:s,minWidth:i}}))})({breakpoints:e})),[e]),[o,i]=c.useState(t),a=c.useCallback(((e,t)=>{e&&i(t)}),[i]);return w((()=>{if(!n)return;const e=r.map((({query:e,breakpoint:t})=>{const r=n(e);a(r.matches,t);const o=e=>{e.matches&&i(t)};return r.addEventListener("change",o),()=>r.removeEventListener("change",o)}));return()=>{e.forEach((e=>e()))}}),[e,i,n,r]),c.useDebugValue(o,(e=>e)),o},S=c.createContext({theme:l.createTheme()}),E=e=>void 0===e||void 0===e.theme?l.createTheme():e.theme,C=()=>{const e=c.useContext(S);return E(e)},k=({value:e,propKey:t,tokens:n})=>l.isDesignToken(e)?e.toString():l.isString(e)?l.isString(t)?b(t,e,n):e:null,A=e=>"auto"===e?"auto":`span ${e}`,T=e=>(e=>"auto"===e||"number"==typeof e&&!isNaN(e)||"string"==typeof e&&!isNaN(parseFloat(e)))(e)?A(e):Array.isArray(e)?e.map((e=>A(e))):"object"==typeof e&&null!=e?Object.entries(e).reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:A(n)})),{}):null,I=({props:e={},style:t={},breakpoint:n,breakpoints:r,tokens:o})=>{const i={};return Object.keys(e).filter((t=>null!==e[t])).forEach((a=>{if(a in h){const i=e[a];if(!i||g(i))return;const s=h[a];let c="";l.isDesignToken(i)?c=i.toString():"string"==typeof i?c=b(a,i,o):"number"==typeof i?c=i:"object"==typeof i&&(c=k({propKey:a,tokens:o,value:_({values:i,breakpoint:n,breakpoints:r})})),t=Object.assign(Object.assign({},t),{[s]:c})}else void 0!==e[a]&&(i[a]=e[a])})),{propStyles:t,nonStyleProps:i}},P=(e,t)=>{const{breakpoints:{values:n,defaultBreakpoint:o},tokens:i}=C(),a=x({breakpoints:n,defaultBreakpoint:o}),s=(e=>{const{rowSpan:t,columnSpan:n,row:o,column:i}=e,a=r.__rest(e,["rowSpan","columnSpan","row","column"]),{rowFromSpanValue:s,columnFromSpanValue:l}=c.useMemo((()=>({rowFromSpanValue:T(t),columnFromSpanValue:T(n)})),[t,n]);return Object.assign({row:v(o)?s:o,column:v(i)?l:i},a)})(e);return c.useMemo((()=>I({props:s,style:t,breakpoint:a,breakpoints:n,tokens:i})),[s,t,n,a,i])},O=c.forwardRef(((e,t)=>{var{as:n="div",children:o,testId:i,ariaLabel:a,isDisabled:s,style:l,inert:u}=e,d=r.__rest(e,["as","children","testId","ariaLabel","isDisabled","style","inert"]);const{propStyles:f,nonStyleProps:p}=P(d,l);return c.createElement(n,Object.assign({"aria-label":a,"data-testid":i,disabled:s,ref:t,inert:u?"":null,style:f},p),o)}));O.displayName="View",t.ARROW_DOWN="ArrowDown",t.ARROW_UP="ArrowUp",t.AmplifyContext=S,t.ComponentClassNames=f,t.ComponentClassObject=d,t.ComponentPropsToStylePropsMap=h,t.ComponentPropsToStylePropsMapKeys=m,t.ComponentText={Alert:{dismissButtonLabel:"Dismiss alert"},Autocomplete:{emptyText:"No options found",loadingText:"Loading options..."},Collection:{searchButtonLabel:"Search",searchNoResultsFound:"No results found"},Fields:{clearButtonLabel:"Clear input"},PaginationItem:{currentPageLabel:"Page",nextLabel:"Go to next page",pageLabel:"Go to page",previousLabel:"Go to previous page"},PhoneNumberField:{countryCodeLabel:"Country code"},SearchField:{searchButtonLabel:"Search"},PasswordField:{passwordIsHidden:"Password is hidden",passwordIsShown:"Password is shown",showPassword:"Show password"},StepperField:{increaseButtonLabel:"Increase to",decreaseButtonLabel:"Decrease to"}},t.ENTER_KEY="Enter",t.ESCAPE_KEY="Escape",t.IconAdd=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z",fill:"currentColor"})))},t.IconCheck=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M9.00016 16.1698L4.83016 11.9998L3.41016 13.4098L9.00016 18.9998L21.0002 6.99984L19.5902 5.58984L9.00016 16.1698Z",fill:"currentColor"})))},t.IconCheckCircle=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"currentColor"})))},t.IconChevronLeft=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M15.41 7.41L14 6L8 12L14 18L15.41 16.59L10.83 12L15.41 7.41Z",fill:"currentColor"})))},t.IconChevronRight=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M9.99984 6L8.58984 7.41L13.1698 12L8.58984 16.59L9.99984 18L15.9998 12L9.99984 6Z",fill:"currentColor"})))},t.IconClose=e=>{const{className:t,size:n}=e,o=r.__rest(e,["className","size"]);return c.createElement(O,Object.assign({as:"span",width:n||"1em",height:n||"1em",className:u.default(f.Icon,t)},o),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n?{width:n,height:n}:void 0},c.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"currentColor"})))},t.IconEdit=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M3 21h3.75L17.81 9.94l-3.75-3.75L3 17.25V21zm2-2.92l9.06-9.06.92.92L5.92 19H5v-.92zM18.37 3.29a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 000-1.41l-2.34-2.34z",fill:"currentColor"})))},t.IconError=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",fill:"currentColor"})))},t.IconExpandMore=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",fill:"currentColor"})))},t.IconFile=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z",fill:"currentColor"})))},t.IconIndeterminate=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"0 0 24 24"},c.createElement("line",{x1:"4",x2:"20",y1:"12",y2:"12",stroke:"currentColor",strokeWidth:"3"})))},t.IconInfo=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",fill:"currentColor"})))},t.IconMenu=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M3 18H21V16H3V18ZM3 13H21V11H3V13ZM3 6V8H21V6H3Z",fill:"currentColor"})))},t.IconRemove=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M19 13H5V11H19V13Z",fill:"currentColor"})))},t.IconSearch=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14V14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z",fill:"currentColor"})))},t.IconStar=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z",fill:"currentColor"})))},t.IconUpload=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11 8 15.01z",fill:"currentColor"})))},t.IconVisibility=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 6C15.79 6 19.17 8.13 20.82 11.5C19.17 14.87 15.79 17 12 17C8.21 17 4.83 14.87 3.18 11.5C4.83 8.13 8.21 6 12 6ZM12 4C7 4 2.73 7.11 1 11.5C2.73 15.89 7 19 12 19C17 19 21.27 15.89 23 11.5C21.27 7.11 17 4 12 4ZM12 9C13.38 9 14.5 10.12 14.5 11.5C14.5 12.88 13.38 14 12 14C10.62 14 9.5 12.88 9.5 11.5C9.5 10.12 10.62 9 12 9ZM12 7C9.52 7 7.5 9.02 7.5 11.5C7.5 13.98 9.52 16 12 16C14.48 16 16.5 13.98 16.5 11.5C16.5 9.02 14.48 7 12 7Z",fill:"currentColor"})))},t.IconVisibilityOff=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M12 6.0002C15.79 6.0002 19.17 8.1302 20.82 11.5002C20.23 12.7202 19.4 13.7702 18.41 14.6202L19.82 16.0302C21.21 14.8002 22.31 13.2602 23 11.5002C21.27 7.1102 17 4.0002 12 4.0002C10.73 4.0002 9.51 4.2002 8.36 4.5702L10.01 6.2202C10.66 6.0902 11.32 6.0002 12 6.0002ZM10.93 7.14019L13 9.2102C13.57 9.4602 14.03 9.9202 14.28 10.4902L16.35 12.5602C16.43 12.2202 16.49 11.8602 16.49 11.4902C16.5 9.0102 14.48 7.0002 12 7.0002C11.63 7.0002 11.28 7.05019 10.93 7.14019ZM2.01 3.8702L4.69 6.5502C3.06 7.8302 1.77 9.5302 1 11.5002C2.73 15.8902 7 19.0002 12 19.0002C13.52 19.0002 14.98 18.7102 16.32 18.1802L19.74 21.6002L21.15 20.1902L3.42 2.4502L2.01 3.8702ZM9.51 11.3702L12.12 13.9802C12.08 13.9902 12.04 14.0002 12 14.0002C10.62 14.0002 9.5 12.8802 9.5 11.5002C9.5 11.4502 9.51 11.4202 9.51 11.3702V11.3702ZM6.11 7.97019L7.86 9.7202C7.63 10.2702 7.5 10.8702 7.5 11.5002C7.5 13.9802 9.52 16.0002 12 16.0002C12.63 16.0002 13.23 15.8702 13.77 15.6402L14.75 16.6202C13.87 16.8602 12.95 17.0002 12 17.0002C8.21 17.0002 4.83 14.8702 3.18 11.5002C3.88 10.0702 4.9 8.89019 6.11 7.97019Z",fill:"currentColor"})))},t.IconWarning=e=>{const{className:t}=e,n=r.__rest(e,["className"]);return c.createElement(O,Object.assign({as:"span",width:"1em",height:"1em",className:u.default(f.Icon,t)},n),c.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",fill:"currentColor"})))},t.View=O,t.classNameModifier=(e,t)=>t?`${e}--${t}`:"",t.classNameModifierByFlag=(e,t,n)=>n?`${e}--${t}`:"",t.getConsecutiveIntArray=(e,t)=>{const n=t-e+1;return Array.from({length:n},((t,n)=>n+e))},t.getErrorMessage=e=>(e=>{if("object"==typeof(t=e)&&null!==t&&"message"in t&&"string"==typeof t.message)return e;var t;try{return new Error(JSON.stringify(e))}catch(t){return new Error(String(e))}})(e).message,t.getFormDataFromEvent=e=>{const t=new FormData(e.target);return Object.fromEntries(t)},t.getStyleValue=k,t.getThemeFromContext=E,t.getValueAtCurrentBreakpoint=_,t.isFunction=e=>"function"==typeof e,t.strHasLength=e=>"string"==typeof e&&e.length>0,t.useAuth=()=>{const[e,t]=c.useState({error:void 0,isLoading:!0,user:void 0}),n=c.useCallback((()=>r.__awaiter(void 0,void 0,void 0,(function*(){t((e=>Object.assign(Object.assign({},e),{isLoading:!0})));try{const e=yield a.Auth.currentAuthenticatedUser();t({user:e,isLoading:!1})}catch(e){t({error:e,isLoading:!1})}}))),[]),o=c.useCallback((({payload:e})=>{switch(e.event){case"signIn":case"signUp":case"autoSignIn":t({user:e.data,isLoading:!1});break;case"signOut":t({user:void 0,isLoading:!1});break;case"tokenRefresh_failure":case"signIn_failure":t({error:e.data,isLoading:!1});break;case"autoSignIn_failure":t({error:new Error(e.message),isLoading:!1});break;case"tokenRefresh":n()}}),[n]);return c.useEffect((()=>{const e=i.Hub.listen("auth",o,"useAuth");return n(),e}),[o,n]),Object.assign(Object.assign({},e),{fetch:n})},t.useBreakpoint=x,t.useStyles=P,t.useTheme=C},44211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70655),o=n(18446),i=n(41609),a=n(23279),s=n(14293),l=n(64721),c=n(27361),u=n(35937),d=n(18721),f=n(21804),p=n(82492),h=n(73474),m=n(3550),g=n(4531),v=n(52564),y=n(25547),b=n(17460),_=n(46239);function w(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var x,S,E=w(o),C=w(i),k=w(a),A=w(s),T=w(l),I=w(c),P=w(u),O=w(d),M=w(f),N=w(p),L=w(y),R=w(b),D=w(_),z=function(e){var t;return null===(t=e.context.actorRef)||void 0===t?void 0:t.getSnapshot()},F=function(e){var t;return null===(t=z(e))||void 0===t?void 0:t.context};t.FederatedIdentityProviders=void 0,(x=t.FederatedIdentityProviders||(t.FederatedIdentityProviders={})).Apple="SignInWithApple",x.Amazon="LoginWithAmazon",x.Facebook="Facebook",x.Google="Google",t.UnverifiedContactMethodType=void 0,(S=t.UnverifiedContactMethodType||(t.UnverifiedContactMethodType={})).Email="email",S.PhoneNumber="phone_number";var U,j=["birthdate","email","family_name","given_name","middle_name","name","nickname","phone_number","preferred_username","profile","website"],B=["username","email","phone_number"],V=r.__spreadArray(r.__spreadArray(r.__spreadArray([],B,!0),j,!0),["confirmation_code","password","confirm_password"],!1),G=function(e){return V.includes(e)};function q(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function H(e){return"string"==typeof e||"object"==typeof e&&"[object String]"===Object.prototype.toString.call(e)}t.ComponentClassName=void 0,(U=t.ComponentClassName||(t.ComponentClassName={})).Alert="amplify-alert",U.AlertIcon="amplify-alert__icon",U.AlertHeading="amplify-alert__heading",U.AlertBody="amplify-alert__body",U.AlertDismiss="amplify-alert__dismiss",U.Autocomplete="amplify-autocomplete",U.AutocompleteMenu="amplify-autocomplete__menu",U.AutocompleteMenuEmpty="amplify-autocomplete__menu--empty",U.AutocompleteMenuFooter="amplify-autocomplete__menu__footer",U.AutocompleteMenuHeader="amplify-autocomplete__menu__header",U.AutocompleteMenuLoading="amplify-autocomplete__menu--loading",U.AutocompleteMenuOption="amplify-autocomplete__menu__option",U.AutocompleteMenuOptions="amplify-autocomplete__menu__options",U.Badge="amplify-badge",U.Button="amplify-button",U.ButtonGroup="amplify-buttongroup",U.ButtonLoaderWrapper="amplify-button__loader-wrapper",U.Card="amplify-card",U.Checkbox="amplify-checkbox",U.CheckboxButton="amplify-checkbox__button",U.CheckboxIcon="amplify-checkbox__icon",U.CheckboxInput="amplify-checkbox__input",U.CheckboxLabel="amplify-checkbox__label",U.CheckboxField="amplify-checkboxfield",U.Collection="amplify-collection",U.CollectionItems="amplify-collection-items",U.CollectionSearch="amplify-collection-search",U.CollectionPagination="amplify-collection-pagination",U.CountryCodeSelect="amplify-countrycodeselect",U.DialCodeSelect="amplify-dialcodeselect",U.Divider="amplify-divider",U.DividerLabel="amplify-divider--label",U.Expander="amplify-expander",U.ExpanderContent="amplify-expander__content",U.ExpanderContentText="amplify-expander__content__text",U.ExpanderHeader="amplify-expander__header",U.ExpanderIcon="amplify-expander__icon",U.ExpanderItem="amplify-expander__item",U.ExpanderTrigger="amplify-expander__trigger",U.Field="amplify-field",U.FieldDescription="amplify-field__description",U.FieldErrorMessage="amplify-field__error-message",U.FieldGroup="amplify-field-group",U.FieldGroupControl="amplify-field-group__control",U.FieldGroupOuterEnd="amplify-field-group__outer-end",U.FieldGroupOuterStart="amplify-field-group__outer-start",U.FieldGroupInnerEnd="amplify-field-group__inner-end",U.FieldGroupInnerStart="amplify-field-group__inner-start",U.FieldGroupIcon="amplify-field-group__icon",U.FieldGroupIconButton="amplify-field-group__icon-button",U.FieldGroupHasInnerEnd="amplify-field-group--has-inner-end",U.FieldGroupHasInnerStart="amplify-field-group--has-inner-start",U.FieldShowPassword="amplify-field__show-password",U.FieldGroupFieldWrapper="amplify-field-group__field-wrapper",U.FileUploaderDropZone="amplify-fileuploader__dropzone",U.FileUploaderDropZoneIcon="amplify-fileuploader__dropzone__icon",U.FileUploaderDropZoneText="amplify-fileuploader__dropzone__text",U.FileUploaderDropZoneButton="amplify-fileuploader__dropzone__button",U.FileUploaderFile="amplify-fileuploader__file",U.FileUploaderFileWrapper="amplify-fileuploader__file__wrapper",U.FileUploaderFileName="amplify-fileuploader__file__name",U.FileUploaderFileSize="amplify-fileuploader__file__size",U.FileUploaderFileInfo="amplify-fileuploader__file__info",U.FileUploaderFileImage="amplify-fileuploader__file__image",U.FileUploaderFileMain="amplify-fileuploader__file__main",U.FileUploaderFileStatus="amplify-fileuploader__file__status",U.FileUploaderLoader="amplify-fileuploader__loader",U.FileUploaderPreviewer="amplify-fileuploader__previewer",U.FileUploaderPreviewerText="amplify-fileuploader__previewer__text",U.FileUploaderPreviewerBody="amplify-fileuploader__previewer__body",U.FileUploaderPreviewerFooter="amplify-fileuploader__previewer__footer",U.FileUploaderPreviewerFooterActions="amplify-fileuploader__previewer__footer__actions",U.Flex="amplify-flex",U.Grid="amplify-grid",U.Heading="amplify-heading",U.HighlightMatch="amplify-highlightmatch",U.HighlightMatchHighlighted="amplify-highlightmatch__highlighted",U.Icon="amplify-icon",U.Image="amplify-image",U.Input="amplify-input",U.Label="amplify-label",U.Link="amplify-link",U.Loader="amplify-loader",U.LoaderDeterminate="amplify-loader--determinate",U.LoaderPercentageText="amplify-loader__percentage-text",U.MenuContent="amplify-menu-content",U.MenuContentWrapper="amplify-menu-content-wrapper",U.MenuItem="amplify-menu-content__item",U.MenuTrigger="amplify-menu-trigger",U.Pagination="amplify-pagination",U.PaginationItemButton="amplify-pagination__item-button",U.PaginationItemCurrent="amplify-pagination__item-current",U.PaginationItemEllipsis="amplify-pagination__item-ellipsis",U.PasswordField="amplify-passwordfield",U.PhoneNumberField="amplify-phonenumberfield",U.Placeholder="amplify-placeholder",U.Radio="amplify-radio",U.RadioButton="amplify-radio__button",U.RadioInput="amplify-radio__input",U.RadioLabel="amplify-radio__label",U.RadioGroupField="amplify-radiogroupfield",U.RadioGroup="amplify-radiogroup",U.Rating="amplify-rating",U.ScrollView="amplify-scrollview",U.SearchField="amplify-searchfield",U.SearchFieldClear="amplify-searchfield__clear",U.SearchFieldSearch="amplify-searchfield__search",U.Select="amplify-select",U.SelectField="amplify-selectfield",U.SelectWrapper="amplify-select__wrapper",U.SelectIconWrapper="amplify-select__icon-wrapper",U.SliderField="amplify-sliderfield",U.SliderFieldGroup="amplify-sliderfield__group",U.SliderFieldLabel="amplify-sliderfield__label",U.SliderFieldRange="amplify-sliderfield__range",U.SliderFieldRoot="amplify-sliderfield__root",U.SliderFieldThumb="amplify-sliderfield__thumb",U.SliderFieldTrack="amplify-sliderfield__track",U.StepperField="amplify-stepperfield",U.StepperFieldButtonDecrease="amplify-stepperfield__button--decrease",U.StepperFieldButtonIncrease="amplify-stepperfield__button--increase",U.StepperFieldInput="amplify-stepperfield__input",U.SwitchField="amplify-switchfield",U.SwitchLabel="amplify-switch-label",U.SwitchThumb="amplify-switch-thumb",U.SwitchTrack="amplify-switch-track",U.SwitchWrapper="amplify-switch__wrapper",U.Table="amplify-table",U.TableCaption="amplify-table__caption",U.TableBody="amplify-table__body",U.TableTd="amplify-table__td",U.TableTh="amplify-table__th",U.TableFoot="amplify-table__foot",U.TableHead="amplify-table__head",U.TableRow="amplify-table__row",U.Tabs="amplify-tabs",U.TabItems="amplify-tabs-item",U.Text="amplify-text",U.Textarea="amplify-textarea",U.TextAreaField="amplify-textareafield",U.TextField="amplify-textfield",U.ToggleButton="amplify-togglebutton",U.ToggleButtonGroup="amplify-togglebuttongroup",U.VisuallyHidden="amplify-visually-hidden";var W=function(e){var t,n=null===(t=null==e?void 0:e.context.config)||void 0===t?void 0:t.loginMechanisms;return(null!=n?n:["username"])[0]},K=function(e){var t=function(t){return function(n){return e({type:t,data:n})}};return{initializeMachine:t("INIT"),resendCode:t("RESEND"),signOut:t("SIGN_OUT"),submitForm:t("SUBMIT"),updateForm:t("CHANGE"),updateBlur:t("BLUR"),toFederatedSignIn:t("FEDERATED_SIGN_IN"),toResetPassword:t("RESET_PASSWORD"),toSignIn:t("SIGN_IN"),toSignUp:t("SIGN_UP"),skipVerification:t("SKIP")}},$=function(e){var t,n,r,o,i,a=null!==(t=F(e))&&void 0!==t?t:{},s=a.codeDeliveryDetails,l=a.remoteError,c=a.unverifiedContactMethods,u=a.validationError,d=a.totpSecretCode,f=void 0===d?null:d,p=(null!==(r=null===(n=e.context)||void 0===n?void 0:n.config)&&void 0!==r?r:{}).socialProviders,h=null!==(o=null==a?void 0:a.user)&&void 0!==o?o:null===(i=e.context)||void 0===i?void 0:i.user,m=u&&Object.keys(u).length>0,g=z(e),v=e.hasTag("pending")||(null==g?void 0:g.hasTag("pending")),y=function(){switch(!0){case e.matches("idle"):return"idle";case e.matches("setup"):return"setup";case e.matches("signOut"):return"signOut";case e.matches("authenticated"):return"authenticated";case null==g?void 0:g.matches("confirmSignUp"):return"confirmSignUp";case null==g?void 0:g.matches("confirmSignIn"):return"confirmSignIn";case null==g?void 0:g.matches("setupTOTP.edit"):case null==g?void 0:g.matches("setupTOTP.submit"):return"setupTOTP";case null==g?void 0:g.matches("signIn"):return"signIn";case null==g?void 0:g.matches("signUp"):return"signUp";case null==g?void 0:g.matches("forceNewPassword"):return"forceNewPassword";case null==g?void 0:g.matches("resetPassword"):return"resetPassword";case null==g?void 0:g.matches("confirmResetPassword"):return"confirmResetPassword";case null==g?void 0:g.matches("verifyUser"):return"verifyUser";case null==g?void 0:g.matches("confirmVerifyUser"):return"confirmVerifyUser";case null==g?void 0:g.matches("setupTOTP.getTotpSecretCode"):case e.matches("signIn.runActor"):return"transition";default:return console.debug("Cannot infer `route` from Authenticator state:",e.value),null}}(),b=function(e){switch(e){case"idle":case"setup":return"configuring";case"authenticated":return"authenticated";default:return"unauthenticated"}}(y);return{authStatus:b,codeDeliveryDetails:s,error:l,hasValidationErrors:m,isPending:v,route:y,socialProviders:p,totpSecretCode:f,unverifiedContactMethods:c,user:h,validationErrors:u}},Z=["+1","+7","+20","+27","+30","+31","+32","+33","+34","+36","+39","+40","+41","+43","+44","+45","+46","+47","+48","+49","+51","+52","+53","+54","+55","+56","+57","+58","+60","+61","+62","+63","+64","+65","+66","+81","+82","+84","+86","+90","+91","+92","+93","+94","+95","+98","+212","+213","+216","+218","+220","+221","+222","+223","+224","+225","+226","+227","+228","+229","+230","+231","+232","+233","+234","+235","+236","+237","+238","+239","+240","+241","+242","+243","+244","+245","+246","+248","+249","+250","+251","+252","+253","+254","+255","+256","+257","+258","+260","+261","+262","+263","+264","+265","+266","+267","+268","+269","+290","+291","+297","+298","+299","+345","+350","+351","+352","+353","+354","+355","+356","+357","+358","+359","+370","+371","+372","+373","+374","+375","+376","+377","+378","+379","+380","+381","+382","+385","+386","+387","+389","+420","+421","+423","+500","+501","+502","+503","+504","+505","+506","+507","+508","+509","+537","+590","+591","+593","+594","+595","+596","+597","+598","+599","+670","+672","+673","+674","+675","+676","+677","+678","+679","+680","+681","+682","+683","+685","+686","+687","+688","+689","+690","+691","+692","+850","+852","+853","+855","+856","+872","+880","+886","+960","+961","+962","+963","+964","+965","+966","+967","+968","+970","+971","+972","+973","+974","+975","+976","+977","+992","+993","+994","+995","+996","+998"],Y=r.__assign({},{"Account recovery requires verified contact information":"Zurücksetzen des Account benötigt einen verifizierten Account","Back to Sign In":"Zurück zur Anmeldung","Change Password":"Passwort ändern",Changing:"Ändern von",Code:"Code","Confirm Password":"Passwort bestätigen","Confirm Sign Up":"Registrierung bestätigen","Confirm SMS Code":"SMS-Code bestätigen","Confirm TOTP Code":"TOTP-Code bestätigen",Confirm:"Bestätigen","Confirmation Code":"Bestätigungs-Code",Confirming:"Wird bestätigt","Create a new account":"Einen neuen Account erstellen","Create Account":"Account erstellen","Creating Account":"Account wird erstellt","Dismiss alert":"Warnung verwerfen",Email:"Email","Enter your code":"Geben Sie Ihren Code ein","Enter your email":"Geben Sie Ihre Email ein","Enter your phone number":"Geben Sie Ihre Telefonnummer ein","Enter your username":"Geben Sie Ihren Benutzernamen ein","Forgot your password?":"Passwort vergessen? ","Hide password":"Passwort verbergen","It may take a minute to arrive":"Es kann eine Minute dauern, bis er ankommt",Loading:"Wird geladen","New password":"Neues Passwort",or:"oder",Password:"Passwort","Phone Number":"Telefonnummer","Resend Code":"Code erneut senden","Reset your Password":"Zurücksetzen des Passwort","Reset your password":"Zurücksetzen des passwort","Send code":"Code senden","Send Code":"Code senden",Sending:"Wird gesendet","Setup TOTP":"TOTP einrichten","Show password":"Passwort anzeigen","Sign in to your account":"Melden Sie sich mit Ihrem Account an","Sign In with Amazon":"Mit Amazon anmelden","Sign In with Apple":"Mit Apple anmelden","Sign In with Facebook":"Mit Facebook anmelden","Sign In with Google":"Mit Google anmelden","Sign in":"Anmelden","Sign In":"Anmelden","Signing in":"Wird angemeldet",Skip:"Überspringen",Submit:"Abschicken",Submitting:"Wird gesendet",Username:"Benutzername","Verify Contact":"Kontakt verifizieren",Verify:"Verifizieren","We Sent A Code":"Wir haben einen Code gesendet","We Texted You":"Wir haben Ihnen eine SMS-Textur","Your code is on the way. To log in, enter the code we sent you":"Ihr Code ist unterwegs. Um sich anzumelden, geben Sie den Code ein, den wir Ihnen gesendet haben","An account with the given email already exists.":"Ein Account mit dieser Email existiert bereits.","Confirm a Code":"Code bestätigen","Confirm Sign In":"Anmeldung bestätigen","Create account":"Hier registrieren","Enter your password":"Geben Sie Ihr Passwort ein","Forgot Password":"Passwort vergessen","Have an account? ":"Schon registriert? ","Incorrect username or password":"Falscher Benutzername oder falsches Passwort","Invalid password format":"Ungültiges Passwort-Format","Invalid phone number format":"Ungültiges Telefonummern-Format. Benutze eine Nummer im Format: +12345678900","It may take a minute to arrive.":"Es könnte eine Minute dauern, bis der Code eintrifft.","Lost your code? ":"Code verloren? ","New Password":"Neues Passwort","No account? ":"Kein Account? ","Password attempts exceeded":"Die maximale Anzahl der fehlerhaften Anmeldeversuche wurde erreicht","Reset password":"Passwort zurücksetzen","Sign Out":"Abmelden","Sign Up":"Registrieren","User already exists":"Dieser Benutzer existiert bereits","User does not exist":"Dieser Benutzer existiert nicht","Username cannot be empty":"Benutzername darf nicht leer sein","We Emailed You":"Email wurde versendet","Your code is on the way. To log in, enter the code we emailed to":"Ihr Bestätigungscode ist unterwegs. Um sich einzuloggen geben Sie den Code ein, den wir verschickt haben an","Your code is on the way. To log in, enter the code we texted to":"Ihr Bestätigungscode ist unterwegs. Um sich einzuloggen geben Sie den Code ein, den wir verschickt haben an"}),J=r.__assign({},{"Account recovery requires verified contact information":"Account recovery requires verified contact information","Back to Sign In":"Back to Sign In","Change Password":"Change Password",Changing:"Changing",Code:"Code","Confirm Password":"Confirm Password","Confirm Sign Up":"Confirm Sign Up","Confirm SMS Code":"Confirm SMS Code","Confirm TOTP Code":"Confirm TOTP Code",Confirm:"Confirm","Confirmation Code":"Confirmation Code",Confirming:"Confirming","Create a new account":"Create a new account","Create Account":"Create Account","Creating Account":"Creating Account","Dismiss alert":"Dismiss alert",Email:"Email","Enter your code":"Enter your code","Enter your email":"Enter your email","Enter your phone number":"Enter your phone number","Enter your username":"Enter your username","Forgot password?":"Forgot password?","Forgot your password?":"Forgot your password?","Hide password":"Hide password","It may take a minute to arrive":"It may take a minute to arrive",Loading:"Loading","New password":"New password",or:"or",Password:"Password","Phone Number":"Phone Number","Resend Code":"Resend Code","Reset your password":"Reset your password","Reset your Password":"Reset your Password","Send code":"Send code","Send Code":"Send Code",Sending:"Sending","Setup TOTP":"Setup TOTP","Show password":"Show password","Sign in to your account":"Sign in to your account","Sign In with Amazon":"Sign In with Amazon","Sign In with Apple":"Sign In with Apple","Sign In with Facebook":"Sign In with Facebook","Sign In with Google":"Sign In with Google","Sign in":"Sign in","Sign In":"Sign In","Signing in":"Signing in",Skip:"Skip",Submit:"Submit",Submitting:"Submitting",Username:"Username","Verify Contact":"Verify Contact",Verify:"Verify","We Emailed You":"We Emailed You","We Sent A Code":"We Sent A Code","We Texted You":"We Texted You","Your code is on the way. To log in, enter the code we emailed to":"Your code is on the way. To log in, enter the code we emailed to","Your code is on the way. To log in, enter the code we sent you":"Your code is on the way. To log in, enter the code we sent you","Your code is on the way. To log in, enter the code we texted to":"Your code is on the way. To log in, enter the code we texted to"}),X=r.__assign({},{"Account recovery requires verified contact information":"La recuperación de la cuenta requiere información de contacto verificada","Back to Sign In":"Volver a inicio de sesión","Change Password":"Cambiar contraseña",Changing:"Cambiando",Code:"Código","Confirm Password":"Confirmar contraseña","Confirm Sign Up":"Confirmar registro","Confirm SMS Code":"Confirmar el código de SMS","Confirm TOTP Code":"Confirmar código TOTP",Confirm:"Confirmar","Confirmation Code":"Código de confirmación",Confirming:"Confirmando","Create a new account":"Crear una cuenta nueva","Create Account":"Crear cuenta","Creating Account":"Creando cuenta","Dismiss alert":"Descartar alerta",Email:"Email","Enter your code":"Ingrese el código","Enter your email":"Escriba su Email","Enter your phone number":"Ingrese el número de teléfono","Enter your username":"Ingrese el nombre de usuario","Forgot your password?":"¿Olvidó su contraseña?","Hide password":"Ocultar contraseña","It may take a minute to arrive":"Es posible que tarde un minuto en llegar",Loading:"Cargando","New password":"Nueva contraseña",or:"o",Password:"Contraseña","Phone Number":"Número de teléfono","Resend Code":"Reenviar código","Reset your password":"Restablecer su contraseña","Reset your Password":"Restablecer su Contraseña","Send code":"Enviar código","Send Code":"Enviar código",Sending:"Enviando","Setup TOTP":"Configurar TOTP","Show password":"Mostrar contraseña","Sign in to your account":"Iniciar sesión en tu cuenta","Sign In with Amazon":"Iniciar Sesión con Amazon","Sign In with Apple":"Iniciar Sesión con Apple","Sign In with Facebook":"Iniciar Sesión con Facebook","Sign In with Google":"Iniciar Sesión con Google","Sign in":"Iniciar sesión","Sign In":"Iniciar Sesión","Signing in":"Iniciando sesión",Skip:"Omitir",Submit:"Enviar",Submitting:"Enviando",Username:"Nombre de usuario","Verify Contact":"Verificar contacto",Verify:"Verificar","We Emailed You":"Le hemos enviado un correo electrónico","We Sent A Code":"Hemos enviado un código","We Texted You":"Le hemos enviado un mensaje de texto","Your code is on the way. To log in, enter the code we emailed to":"El código está en camino. Para iniciar sesión, escriba el código que hemos enviado por correo electrónico a","Your code is on the way. To log in, enter the code we sent you":"El código está en camino. Para iniciar sesión, escriba el código que le hemos enviado","Your code is on the way. To log in, enter the code we texted to":"El código está en camino. Para iniciar sesión, escriba el código que hemos enviado por mensaje de texto a","An account with the given email already exists.":"Ya existe una cuenta con el correo ingresado.","Confirm a Code":"Confirmar un código","Confirm Sign In":"Confirmar inicio de sesión","Forgot Password":"Olvidé mi contraseña","Incorrect username or password.":"Nombre de usuario o contraseña incorrecta","Invalid password format":"Formato de contraseña inválido","Invalid phone number format":"Formato de número de teléfono inválido","Loading...":"Cargando...","New Password":"Nueva contraseña","Resend a Code":"Reenviar un código","Sign Out":"Cerrar sesión","Sign Up with Amazon":"Crear cuenta con Amazon","Sign Up with Apple":"Crear cuenta con Apple","Sign Up with Facebook":"Crear cuenta con Facebook","Sign Up with Google":"Crear cuenta con Google","Sign Up":"Crear cuenta","User already exists":"El usuario ya existe","User does not exist":"El usuario no existe","Username cannot be empty":"El nombre de usuario no puede estar vacío","Your passwords must match":"Las contraseñas deben coincidir"}),Q=r.__assign({},{"Account recovery requires verified contact information":"La récupération du compte nécessite des informations de contact vérifiées","Back to Sign In":"Retour à la connexion","Change Password":"Modifier le mot de passe",Changing:"Modification en cours",Code:"Code","Confirm Password":"Confirmez le mot de passe","Confirm Sign Up":"Confirmer l'inscription","Confirm SMS Code":"Confirmer le code SMS","Confirm TOTP Code":"Confirmer le code TOTP",Confirm:"Confirmer","Confirmation Code":"Code de confirmation",Confirming:"Confirmation","Create a new account":"Créer un nouveau compte","Create Account":"Créer un compte","Creating Account":"Création d'un compte","Dismiss alert":"Supprimer l'alerte",Email:"Email","Enter your code":"Saisissez cotre code de confirmation","Enter your email":"Saisissez votre adresse email","Enter your phone number":"Saisissez votre numéro de téléphone","Enter your username":"Saisissez votre nom d'utilisateur","Forgot your password?":"Mot de passe oublié ? ","Hide password":"Masquer le mot de passe","It may take a minute to arrive":"Cela peut prendre une minute",Loading:"Chargement en cours","New password":"Nouveau mot de passe",or:"ou",Password:"Mot de passe","Phone Number":"Numéro de téléphone","Resend Code":"Renvoyer le code","Reset your Password":"Réinitialiser votre mot de passe","Reset your password":"Réinitialisez votre mot de passe","Send code":"Envoyer le code","Send Code":"M'envoyer un code",Sending:"Envoi en cours","Setup TOTP":"Configuration de TOTP","Show password":"Afficher le mot de passe","Sign in to your account":"Connexion à votre compte","Sign In with Amazon":"Se connecter avec Amazon","Sign In with Apple":"Se connecter avec Apple","Sign In with Facebook":"Se connecter avec Facebook","Sign In with Google":"Se connecter avec Google","Sign in":"Se connecter","Sign In":"Se connecter","Signing in":"Connexion en cours",Skip:"Passer",Submit:"Soumettre",Submitting:"Envoi en cours",Username:"Nom d'utilisateur","Verify Contact":"Vérifier le contact",Verify:"Vérifier","We Sent A Code":"Nous avons envoyé un code","We Texted You":"Nous vous avons envoyé un SMS","Your code is on the way. To log in, enter the code we sent you":"Votre code est en cours d'envoi. Pour vous connecter, saisissez le code que nous vous avons envoyé","An account with the given email already exists.":"Un utilisateur avec cette adresse email existe déjà.",Change:"Modifier","Confirm a Code":"Confirmer un code","Confirm Sign In":"Confirmer la connexion","Create account":"Créer un compte","Enter your password":"Saisissez votre mot de passe","Forgot Password":"Mot de passe oublié","Have an account? ":"Déjà un compte ? ",Hello:"Bonjour","Incorrect username or password":"Identifiant ou mot de passe incorrect","Invalid password format":"Format de mot de passe invalide","Invalid phone number format":"Format de numéro de téléphone invalide. Veuillez utiliser un format +12345678900","Loading...":"Chargement...","Lost your code? ":"Vous avez perdu votre code ? ","Network error":"Erreur réseau","New Password":"Nouveau mot de passe","No account? ":"Pas de compte ? ","Resend a Code":"Renvoyer un code","Reset password":"Réinitialisez votre mot de passe",Send:"Envoyer","Sign In with AWS":"Se connecter avec AWS","Sign Out":"Déconnexion","Sign Up":"S'inscrire",SMS:"SMS","User already exists":"L'utilisateur existe déjà","User does not exist":"L'utilisateur n'existe pas","Username cannot be empty":"Le nom d'utilisateur doit être renseigné","Username/client id combination not found.":"L'utilisateur n'existe pas","We Emailed You":"Nous vous avons envoyé un code","Your code is on the way. To log in, enter the code we emailed to":"Votre code est en route. Pour vous connecter entrez le code reçu sur cette adresse email","Your code is on the way. To log in, enter the code we texted to":"Votre code est en route. Pour vous connecter entrez le code reçu sur ce numéro de téléphone","It may take a minute to arrive.":"Cela peut prendre quelques minutes."}),ee=r.__assign({},{"Account recovery requires verified contact information":"Il ripristino dell'account richiede informazioni di contatto verificate","Back to Sign In":"Torna alla schermata di accesso","Change Password":"Cambia la password",Changing:"Modifica in corso",Code:"Codice","Confirm Password":"Conferma la password","Confirm Sign Up":"Conferma registrazione","Confirm SMS Code":"Conferma codice SMS","Confirm TOTP Code":"Conferma codice TOTP",Confirm:"Conferma","Confirmation Code":"Codice di verifica",Confirming:"Conferma in corso","Create a new account":"Crea un nuovo account","Create Account":"Crea Account","Creating Account":"Creazione account in corso","Dismiss alert":"Ignora l'avviso",Email:"Email","Enter your code":"Inserisci il tuo codice","Enter your email":"Inserisci la tua e-mail","Enter your phone number":'Inserisci il tuo numero di telefono"',"Enter your username":"Inserisci il tuo nome utente","Forgot your password?":"Password dimenticata?","Hide password":"Nascondi password","It may take a minute to arrive":"L'arrivo potrebbe richiedere qualche minuto",Loading:"Caricamento in corso","New password":"Nuova password",or:"oppure",Password:"Password","Phone Number":"Numero di telefono","Resend Code":"Invia nuovamente il codice","Reset your Password":"Reimposta la tua Password","Reset your password":"Reimposta la tua password","Send code":"Invia codice","Send Code":"Invia codice",Sending:"Invio in corso","Setup TOTP":"Configura TOTP","Show password":"Mostra password","Sign in to your account":"Accedi al tuo account","Sign In with Amazon":"Accedi con Amazon","Sign In with Apple":"Accedi con Apple","Sign In with Facebook":"Accedi con Facebook","Sign In with Google":"Accedi con Google","Sign in":"Accedi","Sign In":"Accedi","Signing in":"Accesso in corso",Skip:"Salta",Submit:"Invia",Submitting:"Invio in corso",Username:"Nome utente","Verify Contact":"Verifica contatto",Verify:"Verifica","We Emailed You":"Ti abbiamo inviato un'e-mail","We Sent A Code":"Ti abbiamo inviato un codice","We Texted You":"Ti abbiamo inviato un SMS","Your code is on the way. To log in, enter the code we emailed to":"Il codice è in arrivo. Per effettuare l'accesso, immetti il codice che ti abbiamo inviato via e-mail","Your code is on the way. To log in, enter the code we sent you":"Il codice è in arrivo. Per accedere, immetti il codice che ti abbiamo inviato","Your code is on the way. To log in, enter the code we texted to":"Il codice è in arrivo. Per accedere, immetti il codice che abbiamo inviato tramite SMS","An account with the given email already exists.":"Questa email è già utilizzata da un altro account.","Confirm a Code":"Conferma un codice","Confirm Sign In":"Conferma l'accesso","Create account":"Crea account","Enter your password":"Inserisci la tua password","Forgot Password?":"Password dimenticata?","Have an account? ":"Già registrato?","Incorrect username or password":"Nome utente o password errati","Invalid password format":"Formato della password non valido","Invalid phone number format":"Formato del numero di telefono non valido","Lost your code?":"Codice smarrito?","New Password":"Nuova password","No account? ":"Non hai un account?","Password attempts exceeded":"Il numero massimo di tentativi di accesso falliti è stato raggiunto","Reset password":"Reimposta password","Sign Out":"Esci","Sign Up":"Registrati","User already exists":"Utente già esistente","User does not exist":"Utente inesistente","Username cannot be empty":"Il nome utente non può essere vuoto"}),te=r.__assign({},{"Account recovery requires verified contact information":"アカウントの復旧には確認済みの連絡先が必要です","Back to Sign In":"サインインに戻る","Change Password":"パスワードを変える ",Changing:"変更中",Code:"コード","Confirm Password":"パスワードの確認","Confirm Sign Up":"登録する","Confirm SMS Code":"SMS コードを確認","Confirm TOTP Code":"TOTP コードを確認",Confirm:"確定","Confirmation Code":"確認コード",Confirming:"確認中","Create a new account":"新しいアカウントを作る","Create Account":"アカウントを作る","Creating Account":"アカウントの作成中","Dismiss alert":"アラートを閉じる",Email:"メールアドレス","Enter your code":"コードを入力","Enter your email":"メールアドレスを入力","Enter your phone number":"電話番号を入力","Enter your username":"ユーザー名を入力 ","Forgot your password?":"パスワードを忘れましたか？ ","Hide password":"パスワードを非表示","It may take a minute to arrive":"到着するまでに 1 分かかることがあります。",Loading:"ロード中","New password":"新しいパスワード",or:"又は",Password:"パスワード ","Phone Number":"電話番号","Resend Code":"コードを再送信","Reset your Password":"パスワードをリセット","Reset your password":"パスワードをリセットする","Send code":"コードを送信","Send Code":"コードを送信",Sending:"送信中","Setup TOTP":"TOTP をセットアップ","Show password":"パスワードを表示","Sign in to your account":"アカウントにサインイン ","Sign In with Amazon":"Amazonでサインイン","Sign In with Apple":"Apple でサインイン","Sign In with Facebook":"Facebookでサインイン","Sign In with Google":"Googleでサインイン","Sign In":"サインイン ","Sign in":"サインイン","Signing in":"サインイン中",Skip:"スキップ",Submit:"送信",Submitting:"送信中",Username:"ユーザー名 ","Verify Contact":"連絡先を確認",Verify:"確認","We Sent A Code":"コードが送信されました","We Texted You":"テキストが送信されました","Your code is on the way. To log in, enter the code we sent you":"コードが途中です。ログインするには、送信したコードを入力してください。","An account with the given email already exists.":"入力されたメールアドレスのアカウントが既に存在します","Confirm a Code":"コードを確認","Confirm Sign In":"サインインする","Create account":"アカウントを作る ","Enter your password":"パスワードを入力 ","Forgot Password":"パスワードを忘れた ","Have an account? ":"アカウントを持っていますか？","Incorrect username or password":"ユーザー名かパスワードが異なります ","Invalid password format":"パスワードの形式が無効です ","Invalid phone number format":"不正な電話番号の形式です。\n+12345678900 の形式で入力してください","It may take a minute to arrive.":"コードを受信するまで数分かかる場合があります。","Lost your code? ":"コードを失くしましたか？","New Password":"新しいパスワード","No account? ":"アカウントが無いとき ","Password attempts exceeded":"サインインの試行回数が上限に達しました","Reset password":"パスワードをリセット ","Sign Out":"サインアウト ","Sign Up":"登録 ","User already exists":"既にユーザーが存在しています ","User does not exist":"ユーザーが存在しません ","Username cannot be empty":"ユーザー名は入力必須です","We Emailed You":"コードを送信しました","Your code is on the way. To log in, enter the code we emailed to":"ログインするには、メールに記載されたコードを入力してください。送信先:","Your code is on the way. To log in, enter the code we texted to":"ログインするには、テキストメッセージに記載されたコードを入力してください。送信先:"}),ne=r.__assign({},{"Account recovery requires verified contact information":"계정 복구를 위해 연락처 확인이 필요합니다","Back to Sign In":"로그인으로 돌아가기","Change Password":"비밀번호 변경하기",Changing:"변경중",Code:"코드","Confirm Password":"비밀번호 재확인","Confirm Sign Up":"회원가입 확인","Confirm SMS Code":"휴대폰 본인 확인","Confirm TOTP Code":"TOTP 인증번호 확인",Confirm:"확인","Confirmation Code":"인증번호",Confirming:"확인중","Create a new account":"회원가입","Create Account":"회원가입","Creating Account":"회원가입중","Dismiss alert":"알림 무시",Email:"이메일","Enter your code":"인증번호를 입력해주세요","Enter your email":"이메일 입력","Enter your phone number":"전화번호 입력","Enter your username":"아이디를 입력해주세요","Hide password":"비밀번호 숨기기","It may take a minute to arrive":"도착하는 데 1분 정도 걸릴 수 있습니다",Loading:"로딩중","New password":"새 비밀번호",or:"또는",Password:"비밀번호","Phone Number":"전화번호","Resend Code":"인증번호 재전송","Reset your password":"비밀번호 재설정","Reset your Password":"비밀번호 재설정","Send code":"인증코드 보내기","Send Code":"코드 전송",Sending:"전송중","Setup TOTP":"TOTP 설정하기","Show password":"비밀번호 보이기","Sign in to your account":"로그인","Sign In with Amazon":"Amazon 로그인","Sign In with Apple":"Apple 로그인","Sign In with Facebook":"Facebook 로그인","Sign In with Google":"Google 로그인","Sign in":"로그인","Sign In":"로그인","Signing in":"로그인중",Skip:"다음에 하기",Submit:"확인",Submitting:"확인중",Username:"아이디","Verify Contact":"연락처 확인",Verify:"인증","We Emailed You":"이메일을 보냄","We Sent A Code":"코드를 보냄","We Texted You":"문자 메시지를 보냄","Your code is on the way. To log in, enter the code we emailed to":"코드가 전송 중입니다. 로그인하려면 이메일로 전송한 코드를 입력하세요","Your code is on the way. To log in, enter the code we sent you":"코드가 전송 중입니다. 로그인하려면 전송한 코드를 입력하세요","Your code is on the way. To log in, enter the code we texted to":"코드가 전송 중입니다. 로그인하려면 문자 메시지로 전송한 코드를 입력하세요",Birthdate:"생년월일","Family Name":"성","Forgot your password?":"비밀번호를 잊으셨나요?","Given Name":"이름",Name:"성함",Nickname:"닉네임","Preferred Username":"닉네임",Profile:"프로필","Reset Password":"비밀번호 재설정",Website:"웹사이트"}),re=r.__assign({},{"Account recovery requires verified contact information":"Accountherstel vereist geverifieerde contactgegevens","Back to Sign In":"Terug naar inloggen","Change Password":"Wachtwoord wijzigen",Changing:"Wordt aangepast",Code:"Code","Confirm Password":"Bevestig Wachtwoord","Confirm Sign Up":"Bevestig inschrijving","Confirm SMS Code":"Bevestig SMS Code","Confirm TOTP Code":"Bevestig TOTP Code",Confirm:"Bevestig","Confirmation Code":"Bevestigingscode",Confirming:"Bevestigen","Create a new account":"Nieuw account aanmaken","Create Account":"Account aanmaken","Creating Account":"Account wordt aangemaakt","Dismiss alert":"Waarschuwing sluiten",Email:"E-mail","Enter your code":"Vul je code in","Enter your email":"Vul je e-mail in","Enter your phone number":"Vul je telefoonnummer in","Enter your username":"Vul je gebruikersnaam in","Forgot your password?":"Wachtwoord vergeten? ","Hide password":"Verberg wachtwoord","It may take a minute to arrive":"Het kan even duren voordat deze aankomt",Loading:"Laden","New password":"Nieuw wachtwoord",or:"of",Password:"Wachtwoord","Phone Number":"Telefoonnummer","Resend Code":"Verstuur code nogmaals","Reset your password":"Reset je wachtwoord","Reset your Password":"Wachtwoord resetten","Send code":"Verstuur code","Send Code":"Verstuur Code",Sending:"Versturen","Setup TOTP":"TOTP Instellingen","Show password":"Toon wachtwoord","Sign in to your account":"Inloggen op je account","Sign In with Amazon":"Inloggen met Amazon","Sign In with Apple":"Inloggen met Apple","Sign In with Facebook":"Inloggen met Facebook","Sign In with Google":"Inloggen met Google","Sign in":"Inloggen","Sign In":"Inloggen","Signing in":"Inloggen",Skip:"Overslaan",Submit:"Versturen",Submitting:"Wordt verstuurd",Username:"Gebruikersnaam","Verify Contact":"Verifieer Contact",Verify:"Verifieer","We Emailed You":"We hebben u een e-mail gestuurd","We Sent A Code":"We hebben een code gestuurd","We Texted You":"We hebben u een sms gestuurd","Your code is on the way. To log in, enter the code we emailed to":"Uw code is onderweg. Om in te loggen, voer de code in die we gemaild hebben naar","Your code is on the way. To log in, enter the code we sent you":"Uw code is onderweg. Om in te loggen, voer de code in die we u hebben gestuurd","Your code is on the way. To log in, enter the code we texted to":"Uw code is onderweg. Om in te loggen, voer de code in die we hebben gestuurd naar"}),oe=r.__assign({},{"Account recovery requires verified contact information":"Odzyskanie konta wymaga zweryfikowanych danych kontaktowych","Back to Sign In":"Powrót do logowania","Change Password":"Zmień hasło",Changing:"Zmienianie",Code:"Kod","Confirm Password":"Potwierdź Hasło","Confirm Sign Up":"Potwierdź rejestrację","Confirm SMS Code":"Potwierdź kod SMS","Confirm TOTP Code":"Potwierdź hasło jednorazowe",Confirm:"Potwierdź","Confirmation Code":"Kod potwierdzenia",Confirming:"Potwierdzanie","Create a new account":"Utwórz nowe konto","Create Account":"Utwórz konto","Creating Account":"Tworzenie konta","Dismiss alert":"Odrzuć alert",Email:"E-mail","Enter your code":"Wprowadź swój kod","Enter your email":"Wpisz swój adres e-mail","Enter your phone number":"Wpisz swój numer telefonu","Enter your username":"Wprowadź swoją nazwę użytkownika","Forgot your password?":"Zapomniałeś hasła? ","Hide password":"Ukryj hasło","It may take a minute to arrive":"Może to chwilę potrwać",Loading:"Ładowanie","New password":"Nowe hasło",or:"albo",Password:"Hasło","Phone Number":"Numer telefonu","Resend Code":"Wyślij kod ponownie","Reset your password":"Zresetuj swoje hasło","Reset your Password":"Zresetuj swoje hasło","Send code":"Wyślij kod","Send Code":"Zresetuj hasło",Sending:"Wysyłanie","Setup TOTP":"Konfiguruj TOTP","Show password":"Pokaż hasło","Sign in to your account":"Zaloguj się na swoje konto","Sign In with Amazon":"Zaloguj z Amazon","Sign In with Apple":"Zaloguj z Apple","Sign In with Facebook":"Zaloguj z Facebook","Sign In with Google":"Zaloguj z Google","Sign In":"Logowanie","Sign in":"Zaloguj","Signing in":"Logowanie",Skip:"Pomiń",Submit:"Wyślij",Submitting:"Wysyłanie",Username:"Nazwa użytkownika","Verify Contact":"Weryfikacja danych kontaktowych",Verify:"Zweryfikuj",Birthdate:"Data urodzenia","Family Name":"Nazwisko","Given Name":"Pierwsze imię","Middle Name":"Drugie imię",Name:"Imię i nazwisko",Nickname:"Pseudonim","Preferred Username":"Preferowana nazwa użytkownika",Profile:"Profil",Website:"Strona internetowa","We Emailed You":"Wysłaliśmy Ci wiadomość e-mail","We Sent A Code":"Wysłaliśmy kod","We Texted You":"Wysłaliśmy Ci wiadomość SMS","Your code is on the way. To log in, enter the code we emailed to":"Twój kod został wysłany. Aby się zalogować, wprowadź kod wysłany na adres e-mail","Your code is on the way. To log in, enter the code we sent you":"Twój kod został wysłany. Aby się zalogować, wprowadź wysłany do Ciebie kod","Your code is on the way. To log in, enter the code we texted to":"Twój kod został wysłany. Aby się zalogować, wprowadź kod wysłany do Ciebie w wiadomości SMS pod numer"}),ie=r.__assign({},{"Account recovery requires verified contact information":"A recuperação da conta requer informações de contato verificadas","Back to Sign In":"Voltar para Entrar","Change Password":"Mudar senha",Changing:"Mudando",Code:"Código","Confirm Password":"Confirme a Senha","Confirm Sign Up":"Confirmar inscrição","Confirm SMS Code":"Confirme o código SMS","Confirm TOTP Code":"Confirme o código TOTP",Confirm:"confirme","Confirmation Code":"Código de confirmação",Confirming:"Confirmando","Create a new account":"Criar uma nova conta","Create Account":"Criar Conta","Creating Account":"Criando conta","Dismiss alert":"Descartar alerta",Email:"O email","Enter your code":"Insira seu código","Enter your email":"Digite seu e-mail","Enter your phone number":"Digite seu número de telefone","Enter your username":"entre com seu nome de usuário","Forgot your password?":"Esqueceu sua senha? ","Hide password":"Esconder a senha","It may take a minute to arrive":"Pode levar um minuto para chegar",Loading:"Carregando","New password":"Nova Senha",or:"ou",Password:"Senha","Phone Number":"Número de telefone","Resend Code":"Reenviar código","Reset your password":"Redefina sua senha","Reset your Password":"Redefina sua senha","Send code":"Enviar código","Send Code":"Enviar código",Sending:"Enviando","Setup TOTP":"Configurar TOTP","Show password":"Mostrar senha","Sign in to your account":"Faça login em sua conta","Sign In with Amazon":"Entrar com a Amazon","Sign In with Apple":"Entrar com a Apple","Sign In with Facebook":"Entrar com o Facebook","Sign In with Google":"Faça login no Google","Sign in":"Entrar","Sign In":"Entrar","Signing in":"Entrando",Skip:"Pular",Submit:"Enviar",Submitting:"Enviando",Username:"Nome do usuário","Verify Contact":"Verificar contato",Verify:"Verificar","We Emailed You":"Enviamos um e-mail para você","We Sent A Code":"Enviamos um código","We Texted You":"Enviamos um SMS para você","Your code is on the way. To log in, enter the code we emailed to":"Seu código está a caminho. Para fazer login, insira o código para o qual enviamos um e-mail","Your code is on the way. To log in, enter the code we sent you":"Seu código está a caminho. Para fazer login, insira o código que enviamos para você","Your code is on the way. To log in, enter the code we texted to":"Seu código está a caminho. Para fazer login, insira o código para o qual enviamos uma mensagem de texto"}),ae=r.__assign({},{"Account recovery requires verified contact information":"账户恢复需要验证过的联系方式","Back to Sign In":"回到登录","Change Password":"更改密码",Changing:"正在修改",Code:"确认码","Confirm Password":"确认密码","Confirm Sign Up":"确认注册","Confirm SMS Code":"确认短信验证码","Confirm TOTP Code":"确认 TOTP 代码",Confirm:"确认","Confirmation Code":"确认码",Confirming:"正在确认","Create a new account":"创建新账户","Create Account":"创建账户","Creating Account":"正在创建账户","Dismiss alert":"关闭警报",Email:"邮箱","Enter your code":"输入验证码","Enter your email":"输入电子邮件","Enter your phone number":"输入电话号码","Enter your username":"输入用户名","Forgot your password?":"忘记密码了？","Hide password":"隐藏密码","It may take a minute to arrive":"可能需要一分钟才能到达",Loading:"正在加载","New password":"新密码",or:"或者",Password:"密码","Phone Number":"电话","Resend Code":"重发验证码","Reset your password":"重置密码","Reset your Password":"重置密码","Send Code":"发送确认码","Send code":"发送验证码",Sending:"正在发送","Setup TOTP":"设置 TOTP","Show password":"显示密码","Sign in to your account":"登录账户","Sign In with Amazon":"通过 Amazon 登录","Sign In with Apple":"通过 Apple 登录","Sign In with Facebook":"通过 Facebook 登录","Sign In with Google":"通过 Google 登录","Sign in":"登录","Sign In":"登录","Signing in":"正在登录",Skip:"跳过",Submit:"提交",Submitting:"正在提交",Username:"用户名","Verify Contact":"验证联系方式",Verify:"验证","We Emailed You":"我们给您发送了电子邮件","We Sent A Code":"我们发送了代码","We Texted You":"我们给您发送了短信","Your code is on the way. To log in, enter the code we emailed to":"您的代码正在发送中。要登录，请输入我们通过电子邮件发送给以下人员的代码：","Your code is on the way. To log in, enter the code we sent you":"您的代码正在发送中。要登录，请输入我们发送给您的代码","Your code is on the way. To log in, enter the code we texted to":"您的代码正在发送中。要登录，请输入我们通过短信发送给以下人员的代码：","Confirm a Code":"确认码","Confirm Sign In":"确认登录","Forgot Password":"忘记密码","Incorrect username or password":"用户名或密码错误","Invalid password format":"密码格式错误","Invalid phone number format":"电话格式错误，请使用格式 +12345678900","New Password":"新密码","Resend a Code":"重发确认码","Sign Out":"退出","Sign Up":"注册","User already exists":"用户已经存在","User does not exist":"用户不存在"}),se=r.__assign({},{"Account recovery requires verified contact information":"För att återställa kontot behöver du ett verifierat konto","Back to Sign In":"Tillbaka till inloggningen","Change Password":"Byt lösenord",Changing:"Ändra",Code:"Kod","Confirm Password":"Bekräfta lösenord","Confirm Sign Up":"Bekräfta registrering","Confirm SMS Code":"Bekräfta SMS-kod","Confirm TOTP Code":"Bekräfta TOTP-kod",Confirm:"Bekräfta","Confirmation Code":"Verifikationskod",Confirming:"Bekräftar","Create a new account":"Skapa ett nytt konto","Create Account":"Skapa konto","Creating Account":"Skapar konto","Dismiss alert":"Avvisa varning",Email:"E-post","Enter your code":"Skriv din kod","Enter your email":"Fyll i din e-post","Enter your phone number":"Ange ditt telefonnummer","Enter your username":"Ange ditt användarnamn","Forgot your password?":"Glömt ditt lösenord? ","Hide password":"Dölj lösenord","It may take a minute to arrive":"Det kan ta en minut att komma fram",Loading:"Laddar","New password":"Nytt lösenord",or:"eller",Password:"Lösenord","Phone Number":"Telefonnummer","Resend Code":"Skicka koden igen","Reset your password":"Återställ ditt lösenord","Reset your Password":"Återställ ditt lösenord","Send code":"Skicka kod","Send Code":"Skicka kod",Sending:"Skickar","Setup TOTP":"Konfigurera TOTP","Show password":"Visa lösenord","Sign in to your account":"Logga in till ditt konto","Sign In with Amazon":"Logga in med Amazon","Sign In with Apple":"Logga in med Apple","Sign In with Facebook":"Logga in med Facebook","Sign In with Google":"Logga in med Google","Sign in":"Logga in","Sign In":"Logga in","Signing in":"Loggar in",Skip:"Hoppa över",Submit:"Skicka",Submitting:"Skickar in",Username:"Användarnamn","Verify Contact":"Verifiera kontakt",Verify:"Verifiera","We Sent A Code":"Vi skickade en kod","We Texted You":"Vi sms:ade dig","Your code is on the way. To log in, enter the code we emailed to":"Din kod är på väg. För att logga in, ange koden vi mejlade till","Your code is on the way. To log in, enter the code we sent you":"Din kod är på väg. För att logga in, ange koden vi skickade till dig","Your code is on the way. To log in, enter the code we texted to":"Din kod är på väg. För att logga in, ange koden vi sms:ade till","An account with the given email already exists.":"Det finns redan ett konto med denna e-postadress","Confirm a Code":"Bekräfta koden","Confirm Sign In":"Bekräfta inloggning","Create account":"Skapa konto","Enter your password":"Ange ditt lösenord","Forgot Password":"Glömt lösenordet","Have an account? ":"Redan registrerad? ","Incorrect username or password":"Felaktigt användarnamn eller lösenord","Invalid password format":"Ogiltigt lösenordsformat","Invalid phone number format":"Ogiltigt format för telefonnummer","Lost your code? ":"Förlorat koden? ","New Password":"Nytt lösenord","No account? ":"Inget konto? ","Password attempts exceeded":"Maximalt antal felaktiga inloggningsförsök har uppnåtts","Reset password":"Återställ lösenord","Sign Out":"Logga ut","Sign Up":"Registrering","User already exists":"Användaren finns redan","User does not exist":"Användaren finns inte","Username cannot be empty":"Användarnamnet kan inte vara tomt","We Emailed You":"Vi har skickat e-post till dig"}),le=r.__assign({},{"Account recovery requires verified contact information":"Pemulihan akun memerlukan informasi kontak terverifikasi","Back to Sign In":"Kembali ke Masuk","Change Password":"Ubah kata sandi",Changing:"Mengubah",Code:"Kode","Confirm Password":"Konfirmasi kata sandi","Confirm Sign Up":"Konfirmasi Pendaftaran","Confirm SMS Code":"Konfirmasi Kode SMS","Confirm TOTP Code":"Konfirmasi Kode TOTP",Confirm:"Konfirmasi","Confirmation Code":"Kode Konfirmasi",Confirming:"Mengkonfirmasi","Create a new account":"Buat akun baru","Create Account":"Buat Akun","Creating Account":"Membuat Akun","Dismiss alert":"Hentikan pemberitahuan",Email:"Email","Enter your code":"Masukkan kode anda","Enter your email":"Masukkan email anda","Enter your phone number":"Masukkan nomor telepon anda","Enter your username":"Masukkan nama akun anda","Forgot your password?":"Lupa kata sandi? ","Hide password":"Sembunyikan kata sandi","It may take a minute to arrive":"Mungkin perlu waktu satu menit untuk tiba",Loading:"Memuat","New password":"Kata sandi baru",or:"atau",Password:"Kata sandi","Phone Number":"Nomor telepon","Resend Code":"Kirim ulang kodenya","Reset your Password":"Reset Kata Sandi","Reset your password":"Ubah kata sandi anda","Send code":"Kirim kode","Send Code":"Kirim Kode",Sending:"Mengirim","Setup TOTP":"Siapkan TOTP","Show password":"Tampilkan kata sandi","Sign in to your account":"Masuk akun anda","Sign In with Amazon":"Masuk dengan Amazon","Sign In with Apple":"Masuk dengan Apple","Sign In with Facebook":"Masuk dengan Facebook","Sign In with Google":"Masuk dengan Google","Sign in":"Masuk","Sign In":"Masuk","Signing in":"Memasuki",Skip:"Lewati",Submit:"Ajukan",Submitting:"Mengajukan",Username:"Nama akun","Verify Contact":"Verifikasi Kontak",Verify:"Verifikasi","We Sent A Code":"Kami Mengirim Kode","We Texted You":"Kami mengirim SMS kepada Anda","Your code is on the way. To log in, enter the code we sent you":"Kode Anda segera hadir. Untuk masuk, masukkan kode yang kami kirimkan kepada Anda","An account with the given email already exists.":"Akun dengan email tersebut sudah terdaftar.","Attempt limit exceeded, please try after some time.":"Batas percobaan terlampaui, mohon coba lagi setelah beberapa waktu.","Cannot reset password for the user as there is no registered/verified email or phone_number":"Tidak dapat mengatur ulang kata sandi karena tidak ada email terdaftar / terverifikasi atau nomor telepon",Change:"Ubah","Confirm a Code":"Konfirmasi kode","Create account":"Buat akun","Enter your password":"Masukkan kata sandi anda","Forgot Password":"Lupa kata sandi","Have an account? ":"Sudah punya akun? ",Hello:"Halo","Incorrect username or password.":"Nama akun atau kata sandi salah.","Invalid phone number format":"Nomor telepon tidak sesuai dengan format.","Invalid verification code provided, please try again.":"Kode verifikasi tidak sesuai, mohon coba lagi.","It may take a minute to arrive.":"Mungkin perlu beberapa waktu untuk tiba.","Lost your code? ":"Kode anda hilang?",Name:"Nama","Network error":"Galat jaringan","No account? ":"Tidak ada akun?","Password did not conform with policy: Password not long enough":"Kata sandi tidak sesuai dengan aturan: Kata sandi kurang panjang","Resend a Code":"Renvoyer un code","Reset password":"Ubah kata sandi anda",Send:"Kirim","Sign In with AWS":"Masuk dengan AWS","Sign Up with Amazon":"Daftar dengan Amazon","Sign Up with AWS":"Daftar dengan AWS","Sign Up with Facebook":"Daftar dengan Facebook","Sign Up with Google":"Daftar dengan Google",SMS:"SMS","User already exists":"Akun sudah terdaftar","User does not exist.":"Akun tidak terdaftar.","User is disabled.":"Akun dinonaktifkan.","Username cannot be empty":"Nama akun tidak boleh kosong","Username/client id combination not found.":"Nama akun atau id tidak ditemukan.","We Emailed You":"Kami mengirimkanmu email","Your code is on the way. To log in, enter the code we emailed to":"Kode anda dalam pengiriman. Untuk masuk, masukkan kode yang kami emailkan ke","Your code is on the way. To log in, enter the code we texted to":"Kode anda dalam pengiriman. Untuk masuk, masukkan kode yang kami tuliskan ke","Your passwords must match":"Kata sandi harus sama"}),ce=r.__assign({},{"Account recovery requires verified contact information":"Hesap kurtarma, doğrulanmış iletişim bilgilerini gerektirir","Back to Sign In":"Oturum Açmaya Geri Dön","Change Password":"Şifreyi Değiştir",Changing:"Değiştiriliyor",Code:"Kod","Confirm Password":"Şifreyi Doğrula","Confirm Sign Up":"Kayıt İşlemini Doğrula","Confirm SMS Code":"SMS Kodunu Doğrula","Confirm TOTP Code":"Tek Kullanımlık Şifreyi Doğrula",Confirm:"Doğrula","Confirmation Code":"Doğrulama Kodu",Confirming:"Doğrulanıyor","Create a new account":"Yeni bir hesap oluştur","Create Account":"Hesap Oluştur","Creating Account":"Hesap Oluşturuluyor","Dismiss alert":"Uyarıyı reddet",Email:"E-posta","Enter your code":"Kodu girin","Enter your email":"E-posta adresinizi girin","Enter your phone number":"Telefon numaranızı girin","Enter your username":"Kullanıcı adınızı girin","Forgot your password?":"Şifrenizi mi unuttunuz?","Hide password":"Şifreyi gizle","It may take a minute to arrive":"Kodun gelmesi bir dakika sürebilir",Loading:"Yükleniyor","New password":"Yeni şifre",or:"veya",Password:"Şifre","Phone Number":"Telefon Numarası","Resend Code":"Kodu Yeniden Gönder","Reset your password":"Şifrenizi sıfırlayın","Reset your Password":"Şifrenizi Sıfırlayın","Send code":"Kod gönder","Send Code":"Kod Gönder",Sending:"Gönderiliyor","Setup TOTP":"Tek kullanımlık şifre kurulumu yap","Show password":"Şifreyi göster","Sign in to your account":"Hesabınızda oturum açın","Sign In with Amazon":"Amazon ile Oturum Aç","Sign In with Apple":"Apple ile Oturum Aç","Sign In with Facebook":"Facebook ile Oturum Aç","Sign In with Google":"Google ile Oturum Aç","Sign in":"Oturum aç","Sign In":"Oturum Aç","Signing in":"Oturum açılıyor",Skip:"Atla",Submit:"Gönder",Submitting:"Gönderiliyor",Username:"Kullanıcı adı","Verify Contact":"Kişiyi Doğrula",Verify:"Doğrula","We Emailed You":"Size E-posta Gönderdik","We Sent A Code":"Bir Kod Gönderdik","We Texted You":"Size Mesaj Gönderdik","Your code is on the way. To log in, enter the code we emailed to":"Kodunuz yolda. Oturum açmak için, gönderdiğimiz e-postadaki kodu girin","Your code is on the way. To log in, enter the code we sent you":"Kodunuz yolda. Oturum açmak için, size gönderdiğimiz kodu girin","Your code is on the way. To log in, enter the code we texted to":"Kodunuz yolda. Oturum açmak için, gönderdiğimiz mesajdaki kodu girin","An account with the given email already exists.":"Bu e-postaya ait zaten bir hesap var.","Confirm Sign In":"Oturum Açmayı Doğrula","Have an account? ":"Hesabınız var mı? ","Incorrect username or password":"Yanlış kullanıcı adı ya da şifre","Invalid password format":"Geçersiz parola formatı","Invalid phone number format":"Geçersiz telefon numarası formatı","Lost your code? ":"Kodu mu kaybettiniz? ","No account? ":"Hesabınız yok mu? ","Password attempts exceeded":"Maksimum oturum açma girişimi aşıldı","Sign Out":"Çıkış yap","Sign Up":"Kayıt Ol","User already exists":"Bu kullanıcı zaten var","User does not exist":"Böyle bir kullanıcı mevcut değil","Username cannot be empty":"Kullanıcı adı boş olamaz"}),ue=r.__assign({},{"Account recovery requires verified contact information":"Восстановление учетной записи требует проверки контактной информации","Back to Sign In":"Назад, чтобы войти","Change Password":"изменять пароль",Changing:"Изменение",Code:"Код","Confirm Password":"Подтверждение пароля","Confirm Sign Up":"Подтверждение зарегистрироваться","Confirm SMS Code":"Подтверждение CMC-Код","Confirm TOTP Code":"Подтверждение TOTP-Код",Confirm:"Подтверждать","Confirmation Code":"код подтверждения",Confirming:"подтверждение","Create a new account":"Создавать новую учетную запись","Create Account":"Создать учетную запись","Creating Account":"создание учетная запись","Dismiss alert":"Закрыть оповещение",Email:"электронная почта","Enter your code":"ввести ваш Код","Enter your email":"ввести ваш электронная почта","Enter your phone number":"ввести ваш номер телефона","Enter your username":"ввести ваш имя пользователя","Forgot your password?":"Забыли ваш пароль?","Hide password":"Скрывать пароль","It may take a minute to arrive":"Доставка может занять некоторое время",Loading:"Загрузка","New password":"Новый пароль",or:"или",Password:"Пароль","Phone Number":"Номер телефона","Resend Code":"Отправь еще раз Код","Reset your password":"сброс ваш пароль","Reset your Password":"сброс ваш Пароль","Send code":"Отправлять Код","Send Code":"Отправлять Код",Sending:"отправка","Setup TOTP":"Настраивать TOTP","Show password":"Показывать пароль","Sign in to your account":"знак в свой аккаунт","Sign In with Amazon":"знак в с Amazon","Sign In with Apple":"знак в с Apple","Sign In with Facebook":"знак в с Facebook","Sign In with Google":"знак в с Google","Sign in":"знак в","Sign In":"знак в","Signing in":"подписание в",Skip:"Пропускать",Submit:"Представлять на рассмотрение",Submitting:"Представив",Username:"Имя пользователя","Verify Contact":"Проверить контакт",Verify:"Проверить","We Emailed You":"Мы отправили вам электронное письмо","We Sent A Code":"Мы отправили код","We Texted You":"Мы отправили вам текстовое сообщение","Your code is on the way. To log in, enter the code we emailed to":"Ваш код отправлен. Чтобы войти в систему, введите код, который мы отправили по электронной почте","Your code is on the way. To log in, enter the code we sent you":"Ваш код отправлен. Чтобы войти в систему, введите код, который мы послали вам","Your code is on the way. To log in, enter the code we texted to":"Ваш код отправлен. Чтобы войти в систему, введите код, который мы отправили текстовым сообщением"}),de=r.__assign({},{"Account recovery requires verified contact information":"שחזור לקוח דורש עוד מידע","Back to Sign In":"חזור להרשמה","Change Password":"עדכון סיסמא",Changing:"מעדכן",Code:"קוד","Confirm Password":"אשר סיסמא","Confirm Sign Up":"אשר הרשמה","Confirm SMS Code":"אשר sms קוד","Confirm TOTP Code":"אשר totp קוד",Confirm:"אישור","Confirmation Code":"אישור קוד",Confirming:"מאשר","Create a new account":"צור משתמש חדש","Create Account":"צור משתמש","Creating Account":"יצירת משתמש","Dismiss alert":"הסר התראה",Email:"אימייל","Enter your code":"הכנס את הקוד","Enter your email":"הכנס את המייל שלך","Enter your phone number":"הכנס את מספר הטלפון שלך","Enter your username":"הכנס את שם המתמש שלך","Forgot your password?":"שחכת סיסמא ?","Hide password":"הסתר סיסמא",Loading:"טוען","New password":"סיסמא חדשה",or:"אוֹ",Password:"סיסמא","Phone Number":"מספר טלפון","Resend Code":"שלח קוד שוב","Reset your password":"אפס סיסמא","Reset your Password":"אפס סיסמא","Send code":"שלח קוד","Send Code":"שלח קוד",Sending:"שולח","Setup TOTP":"Setup TOTP","Show password":"הצג סיסמא","Sign in to your account":"התחבר לחשבון שלך","Sign In with Amazon":"Sign In with Amazon","Sign In with Apple":"Sign In with Apple","Sign In with Facebook":"Sign In with Facebook","Sign In with Google":"Sign In with Google","Sign in":"התחבר","Sign In":"התחבר","Signing in":"מתחבר",Skip:"דלג",Submit:"שלח",Submitting:"שולח",Username:"שם משתמש","Verify Contact":"אמת איש קשר",Verify:"אמת"}),fe=r.__assign({},{"Account recovery requires verified contact information":"Відновлення облікового запису потребує контактної інформації","Back to Sign In":"Назад на сторінку входу","Change Password":"Змінити пароль",Changing:"Змінюємо",Code:"Код","Confirm Password":"Підтвердіть пароль","Confirm Sign Up":"Підтвердіть реєстрацію","Confirm SMS Code":"Підтвердіть SMS код","Confirm TOTP Code":"Підтвердіть TOTP код",Confirm:"Підтвердити","Confirmation Code":"Код підтвердження",Confirming:"Підтверджуємо","Create a new account":"Зареєструватися","Create Account":"Зареєструватися","Creating Account":"Реєструємо","Dismiss alert":"Відхилити сповіщення",Email:"Email","Enter your code":"Введіть код","Enter your email":"Введіть ваш email","Enter your phone number":"Введіть ваш номер телефону","Enter your username":"Введіть ваше імʼя користувача","Forgot password?":"Забули пароль?","Forgot your password?":"Забули ваш пароль?","Hide password":"Сховати пароль","It may take a minute to arrive":"Доставка може тривати хвилину",Loading:"Загружаємо","New password":"Новий пароль",or:"або",Password:"Пароль","Phone Number":"Номер Телефону","Resend Code":"Відправити код повторно","Reset your password":"Скинути пароль","Reset your Password":"Скинути пароль","Send code":"Відправити код","Send Code":"Відправити код",Sending:"Відправляємо","Setup TOTP":"Налаштувати TOTP","Show password":"Показати пароль","Sign in to your account":"Увійти у ваш обліковий запис","Sign In with Amazon":"Увійти з Amazon","Sign In with Apple":"Увійти з Apple","Sign In with Facebook":"Увійти з Facebook","Sign In with Google":"Увійти з Google","Sign in":"Увійти","Sign In":"Увійти","Signing in":"Входимо",Skip:"Пропустити",Submit:"Відправити",Submitting:"Відправляємо",Username:"Імʼя користувача","Verify Contact":"Підтвердити Контакт",Verify:"Підтвердити","We Emailed You":"Ми відправили вам Email","We Sent A Code":"Ми відправили код","We Texted You":"Ми відправили вам текстове повідомлення","Your code is on the way. To log in, enter the code we emailed to":"Ваш код вже в дорозі. Щоб увійти, введіть код, що ми відправили вам на Email","Your code is on the way. To log in, enter the code we sent you":"Ваш код вже в дорозі. Щоб увійти, введіть код, що ми вам відправили","Your code is on the way. To log in, enter the code we texted to":"Ваш код вже в дорозі. Щоб увійти, введіть код, що ми відправили вам текстовим повідомленням","An account with the given email already exists.":"Обліковий запис з цим Email вже існує.","Confirm a Code":"Підтвердіть код","Confirm Sign In":"Підтвердіть вхід","Forgot Password":"Забули пароль","Incorrect username or password.":"Невірне імʼя користувача або пароль","Invalid password format":"Невірний формат паролю","Invalid phone number format":"Невірний формат номеру телефону","Loading...":"Загружаємо...","New Password":"Новий пароль","Resend a Code":"Відправити код повторно","Reset Password":"Скинути пароль","Sign Out":"Вийти","Sign Up with Amazon":"Зареєструватися з Amazon","Sign Up with Apple":"Зареєструватися з Apple","Sign Up with Facebook":"Зареєструватися з Facebook","Sign Up with Google":"Зареєструватися з Google","Sign Up":"Зареєструватися","User already exists":"Користувач вже існує","User does not exist":"Такий користувач не існує","Username cannot be empty":"Імʼя користувача не може бути пустим","Your passwords must match":"Паролі мають збігатися"}),pe=r.__assign({},{BACK_SIGN_IN:"Back to Sign In",BIRTHDATE:"Birthdate",CHANGE_PASSWORD:"Change Password",CHANGING_PASSWORD:"Changing",CODE:"Code",CODE_ARRIVAL:"It may take a minute to arrive",CODE_EMAILED:"Your code is on the way. To log in, enter the code we emailed to",CODE_SENT:"Your code is on the way. To log in, enter the code we sent you",CODE_TEXTED:"Your code is on the way. To log in, enter the code we texted to",CONFIRM_PASSWORD:"Confirm Password",CONFIRM_RESET_PASSWORD_HEADING:"Reset your Password",CONFIRM_SIGNUP_HEADING:"Confirm Sign Up",CONFIRM_SMS:"Confirm SMS Code",CONFIRM_TOTP:"Confirm TOTP Code",CONFIRM:"Confirm",CONFIRMATION_CODE:"Confirmation Code",CONFIRMING:"Confirming",CREATE_ACCOUNT:"Create Account",CREATING_ACCOUNT:"Creating Account",EMAIL_ADDRESS:"Email",ENTER_CODE:"Enter your code",ENTER_USERNAME:"Enter your username",FAMILY_NAME:"Family Name",GIVEN_NAME:"Given Name",FORGOT_PASSWORD:"Forgot Password?",FORGOT_YOUR_PASSWORD:"Forgot your password?",HIDE_PASSWORD:"Hide password",LOADING:"Loading",LOGIN_NAME:"Username",MIDDLE_NAME:"Middle Name",NAME:"Name",NICKNAME:"Nickname",NEW_PASSWORD:"New password",OR:"or",PASSWORD:"Password",PHONE_NUMBER:"Phone Number",PREFERRED_USERNAME:"Preferred Username",PROFILE:"Profile",RESEND_CODE:"Resend Code",RESET_PASSWORD_HEADING:"Reset your password",RESET_PASSWORD:"Reset Password",SEND_CODE:"Send code",SENDING:"Sending",SETUP_TOTP:"Setup TOTP",SHOW_PASSWORD:"Show password",SIGN_IN_BUTTON:"Sign in",SIGN_IN_TAB:"Sign In",SIGN_IN_WITH_AMAZON:"Sign In with Amazon",SIGN_IN_WITH_APPLE:"Sign In with Apple",SIGN_IN_WITH_FACEBOOK:"Sign In with Facebook",SIGN_IN_WITH_GOOGLE:"Sign In with Google",SIGN_IN:"Sign in to your account",SIGN_UP_BUTTON:"Create a new account",SIGNING_IN_BUTTON:"Signing in",SKIP:"Skip",SUBMIT:"Submit",SUBMITTING:"Submitting",UPPERCASE_COPY:"COPY",VERIFY_CONTACT:"Verify Contact",VERIFY_HEADING:"Account recovery requires verified contact information",VERIFY:"Verify",WE_EMAILED:"We Emailed You",WE_SENT_CODE:"We Sent A Code",WE_TEXTED:"We Texted You",WEBSITE:"Website"}),he=r.__assign({},pe);function me(e){return h.I18n.get(e)}var ge={de:Y,en:J,es:X,fr:Q,id:le,it:ee,ja:te,kr:ne,nl:re,pl:oe,pt:ie,zh:ae,sv:se,tr:ce,ru:ue,he:de,ua:fe},ve={birthdate:{label:"Birthdate",placeholder:"Enter your Birthdate",type:"date",autocomplete:"bday",isRequired:!0},confirmation_code:{label:"Confirmation Code",placeholder:"Enter your Confirmation Code",type:"number",autocomplete:"one-time-code",isRequired:!0},confirm_password:{label:"Confirm Password",placeholder:"Please confirm your Password",type:"password",autocomplete:"new-password",isRequired:!0},email:{label:"Email",placeholder:"Enter your Email",type:"email",autocomplete:"username",isRequired:!0},family_name:{label:"Family Name",placeholder:"Enter your Family Name",type:"text",autocomplete:"family-name",isRequired:!0},given_name:{label:"Given Name",placeholder:"Enter your Given Name",type:"text",autocomplete:"given-name",isRequired:!0},middle_name:{label:"Middle Name",placeholder:"Enter your Middle Name",type:"text",autocomplete:"additional-name",isRequired:!0},name:{label:"Name",placeholder:"Enter your Name",type:"text",autocomplete:"name",isRequired:!0},nickname:{label:"Nickname",placeholder:"Enter your Nickname",type:"text",autocomplete:"tel",isRequired:!0},password:{label:"Password",placeholder:"Enter your Password",type:"password",autocomplete:"new-password",isRequired:!0},phone_number:{label:"Phone Number",placeholder:"Enter your Phone Number",type:"tel",autocomplete:"tel",dialCode:"+1",dialCodeList:Z,isRequired:!0},preferred_username:{label:"Preferred Username",placeholder:"Enter your Preferred Username",type:"text",isRequired:!0},profile:{label:"Profile",placeholder:"Add your Profile",type:"url",autocomplete:"url",isRequired:!0},website:{label:"Website",placeholder:"Add your Website",type:"url",autocomplete:"url",isRequired:!0},username:{label:"Username",placeholder:"Enter your Username",type:"text",autocomplete:"username",isRequired:!0}},ye=["^","$","*",".","[","]","{","}","(",")","?",'"',"!","@","#","%","&","/","\\",",",">","<","'",":",";","|","_","~","`","=","+","-"," "],be=function(e){return V.includes(e)},_e=function(e){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,g.waitFor(e,(function(e){return z(e).matches("autoSignIn")}))];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},we=function(e,t){return r.__awaiter(void 0,void 0,void 0,(function(){var n,o,i;return r.__generator(this,(function(r){switch(r.label){case 0:switch(n=t.send,o=t.getSnapshot(),e.payload.event){case"tokenRefresh":return[3,1];case"autoSignIn":return[3,2];case"autoSignIn_failure":return[3,5];case"signOut":case"tokenRefresh_failure":return[3,7]}return[3,8];case 1:return o.matches("authenticated.idle")&&n("TOKEN_REFRESH"),[3,9];case 2:return o.matches("authenticated")?[3,4]:[4,_e(t)];case 3:r.sent(),(null==(i=z(t.getSnapshot()))?void 0:i.matches("autoSignIn"))&&n({type:"AUTO_SIGN_IN",data:e.payload.data}),r.label=4;case 4:return[3,9];case 5:return[4,_e(t)];case 6:return r.sent(),(null==(i=z(t.getSnapshot()))?void 0:i.matches("autoSignIn"))&&n({type:"AUTO_SIGN_IN_FAILURE",data:e.payload.data}),[3,9];case 7:return o.matches("authenticated.idle")&&n("SIGN_OUT"),[3,9];case 8:return[3,9];case 9:return[2]}}))}))},xe=function(e){return ye.some((function(t){return e.includes(t)}))};function Se(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object.entries(e).reduce((function(e,n){var o,i=n[0],a=n[1];return r.__assign(r.__assign({},e),((o={})[i]=t.includes(i)?a:null==a?void 0:a.trim(),o))}),{})}var Ee=function(e,t){var n=F(e).country_code,o=ve[t];return"tel"===o.type&&(o=r.__assign(r.__assign({},o),{dialCode:n})),o},Ce=function(e){var t=W(e);return r.__assign(r.__assign({},Ee(e,t)),{autocomplete:"username"})},ke=function(e){return{confirmation_code:r.__assign(r.__assign({},Ee(e,"confirmation_code")),{label:"Code *",placeholder:"Code"})}},Ae={signIn:function(e){return{username:r.__assign({},Ce(e)),password:r.__assign(r.__assign({},Ee(e,"password")),{autocomplete:"current-password"})}},signUp:function(e){for(var t=e.context.config,n=t.loginMechanisms,o=t.signUpAttributes,i=W(e),a={},s=0,l=Array.from(new Set(r.__spreadArray(r.__spreadArray(r.__spreadArray([],n,!0),["password","confirm_password"],!1),o,!0)));s<l.length;s++){var c=l[s];if(be(c)){var u=c===i?Ce(e):Ee(e,c);a[c]=r.__assign({},u)}else console.debug("Authenticator does not have a default implementation for ".concat(c,". Customize SignUp FormFields to add your own."))}return a},confirmSignUp:function(e){return{confirmation_code:r.__assign(r.__assign({},Ee(e,"confirmation_code")),{placeholder:"Enter your code"})}},confirmSignIn:ke,forceNewPassword:function(e){for(var t=z(e).context.requiredAttributes,n={},o=0,i=Array.from(new Set(r.__spreadArray(["password","confirm_password"],t,!0)));o<i.length;o++){var a=i[o];be(a)?n[a]=r.__assign({},Ee(e,a)):console.debug("Authenticator does not have a default implementation for ".concat(a,". Customize ForceNewPassword FormFields to add your own."))}return n},resetPassword:function(e){var t=W(e),n=ve[t].label;return{username:r.__assign(r.__assign({},Ce(e)),{label:"Enter your ".concat(n.toLowerCase()),placeholder:"Enter your ".concat(n.toLowerCase())})}},confirmResetPassword:function(e){return r.__assign(r.__assign({},ke(e)),{password:r.__assign(r.__assign({},Ee(e,"password")),{label:"New Password",placeholder:"New Password"}),confirm_password:r.__assign(r.__assign({},Ee(e,"confirm_password")),{label:"Confirm Password",placeholder:"Confirm Password"})})},confirmVerifyUser:ke,setupTOTP:ke},Te=function(e){for(var t=r.__assign({},e),n=0,o=Object.entries(e);n<o.length;n++){var i=o[n],a=i[0],s=i[1],l=s.label,c=s.placeholder;t[a]=r.__assign(r.__assign({},s),{label:l?me(l):void 0,placeholder:c?me(c):void 0})}return t},Ie=function(e){return Object.entries(e).sort((function(e,t){return(e[1].order||Number.MAX_VALUE)-(t[1].order||Number.MAX_VALUE)})).filter((function(e){return void 0!==e[1]}))},Pe=function(e,t){return(0,Ae[e])(t)},Oe=function(e,t){var n,o,i=null===(o=null===(n=F(t))||void 0===n?void 0:n.formFields)||void 0===o?void 0:o[e];return i&&0!==Object.keys(i).length?Object.entries(i).reduce((function(n,o){var i,a,s,l=o[0],c=o[1];if("signIn"!==e&&"resetPassword"!==e||"username"!==l)return G(l)?(u=ve[l],d=r.__assign(r.__assign({},u),c),r.__assign(r.__assign({},n),((a={})[l]=d,a))):r.__assign(r.__assign({},n),((s={})[l]=c,s));var u=Ce(t),d=r.__assign(r.__assign({},u),c);return r.__assign(r.__assign({},n),((i={})[l]=d,i))}),{}):{}},Me=function(e,t){var n=Pe(e,t),o=Oe(e,t),i=r.__assign(r.__assign({},n),o);return delete i.QR,Te(i)},Ne=function(e){return e.map((function(e){return[e[0],r.__assign(r.__assign({},e[1]),{order:void 0})]}))},Le={amazon:"Amazon",apple:"Apple",facebook:"Facebook",google:"Google"},Re={getBackToSignInText:function(){return me(he.BACK_SIGN_IN)},getChangePasswordText:function(){return me(he.CHANGE_PASSWORD)},getChangingText:function(){return me(he.CHANGING_PASSWORD)},getConfirmText:function(){return me(he.CONFIRM)},getConfirmingText:function(){return me(he.CONFIRMING)},getCopyText:function(){return me(he.UPPERCASE_COPY)},getHidePasswordText:function(){return me(he.HIDE_PASSWORD)},getLoadingText:function(){return me(he.LOADING)},getOrText:function(){return me(he.OR)},getResendCodeText:function(){return me(he.RESEND_CODE)},getSendCodeText:function(){return me(he.SEND_CODE)},getSendingText:function(){return me(he.SENDING)},getShowPasswordText:function(){return me(he.SHOW_PASSWORD)},getSubmitText:function(){return me(he.SUBMIT)},getSubmittingText:function(){return me(he.SUBMITTING)},getSignInTabText:function(){return me(he.SIGN_IN_TAB)},getSignUpTabText:function(){return me(he.CREATE_ACCOUNT)},getForgotPasswordText:function(e){return me(e?he.FORGOT_PASSWORD:he.FORGOT_YOUR_PASSWORD)},getSigningInText:function(){return me(he.SIGNING_IN_BUTTON)},getSignInText:function(){return me(he.SIGN_IN_BUTTON)},getCreatingAccountText:function(){return me(he.CREATING_ACCOUNT)},getCreateAccountText:function(){return me(he.CREATE_ACCOUNT)},getDeliveryMessageText:function(e){var t=null!=e?e:{},n=t.DeliveryMedium,r=t.Destination,o="EMAIL"===n,i="SMS"===n,a=me(he.CODE_ARRIVAL);if(!o&&!i)return"".concat(me(he.CODE_SENT),". ").concat(a,".");var s=me(o?he.CODE_EMAILED:he.CODE_TEXTED);return"".concat(s," ").concat(r,". ").concat(a,".")},getDeliveryMethodText:function(e){var t=(null!=e?e:{}).DeliveryMedium,n="EMAIL"===t;return me(n||"SMS"!==t?n?he.WE_EMAILED:he.WE_TEXTED:he.WE_SENT_CODE)},getChallengeText:function(e){switch(e){case"SMS_MFA":return me(he.CONFIRM_SMS);case"SOFTWARE_TOKEN_MFA":return me(he.CONFIRM_TOTP);default:throw new Error("".concat(me("Unexpected challengeName encountered in ConfirmSignIn:")," ").concat(e))}},getResetYourPasswordText:function(){return me(he.RESET_PASSWORD)},getSetupTOTPText:function(){return me(he.SETUP_TOTP)},getSetupTOTPInstructionsText:function(){return me("Copy and paste the secret key below into an authenticator app and then enter the code in the text field below.")},getCopiedText:function(){return me("COPIED")},getSignInWithFederationText:function(e,t){return me("Sign ".concat("signIn"===e?"In":"Up"," with ").concat(Le[t]))},getSkipText:function(){return me(he.SKIP)},getVerifyText:function(){return me(he.VERIFY)},getVerifyContactText:function(){return me(he.VERIFY_CONTACT)},getAccountRecoveryInfoText:function(){return me(he.VERIFY_HEADING)}},De=function(e){return new h.Logger("AmplifyUI:".concat(e))},ze=De("Auth"),Fe={validationMode:"onTouched",validator:function(e){return/[a-z]/.test(e)},message:"Password must have lower case letters"},Ue={validationMode:"onTouched",validator:function(e){return/[A-Z]/.test(e)},message:"Password must have upper case letters"},je={validationMode:"onTouched",validator:function(e){return/[0-9]/.test(e)},message:"Password must have numbers"},Be={validationMode:"onTouched",validator:function(e){return xe(e)},message:"Password must have special characters"},Ve=function(e){return{validationMode:"onTouched",validator:function(t){return e===t},message:"Your passwords must match"}};function Ge(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=1);var r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var o=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=-1,a=Math.pow(10,n);do{e/=r,++i}while(Math.round(Math.abs(e)*a)/a>=r&&i<o.length-1);return e.toFixed(n)+" "+o[i]}var qe=v.actions.assign,He=v.actions.stop,We=function(e){return He(e)},Ke=qe({attributeToVerify:function(e){}}),$e=qe({challengeName:function(e){}}),Ze=qe({requiredAttributes:function(e){}}),Ye=qe({remoteError:function(e){return""}}),Je=qe({formValues:function(e){return{}}}),Xe=qe({touched:function(e){return{}}}),Qe=qe({unverifiedContactMethods:function(e){}}),et=qe({username:function(e){}}),tt=qe({validationError:function(e){return{}}}),nt=qe({totpSecretCode:function(e,t){return t.data}}),rt=qe({challengeName:function(e,t){var n;return null===(n=t.data)||void 0===n?void 0:n.challengeName}}),ot=qe({requiredAttributes:function(e,t){var n,r;return null===(r=null===(n=t.data)||void 0===n?void 0:n.challengeParam)||void 0===r?void 0:r.requiredAttributes}}),it=qe({redirectIntent:function(e){return"confirmPasswordReset"}}),at=qe({redirectIntent:function(e){return"confirmSignUp"}}),st=qe({authAttributes:function(e,t){var n,r,o=e.loginMechanisms[0];return{username:null!==(n=e.formValues[o])&&void 0!==n?n:e.formValues.username,password:null===(r=e.formValues)||void 0===r?void 0:r.password}}}),lt=qe({validationError:function(e,t){return t.data}}),ct=qe({remoteError:function(e,t){var n;return"NoUserPoolError"===t.data.name?"Configuration error (see console) – please contact the administrator":(null===(n=t.data)||void 0===n?void 0:n.message)||t.data}}),ut=qe({unverifiedContactMethods:function(e,t){return t.data.unverified}}),dt=qe({user:function(e,t){return t.data.user||t.data}}),ft=qe({username:function(e,t){var n=e.formValues,r=n.username,o=n.country_code;return o&&(r="".concat(o).concat(r)),r}}),pt=qe({codeDeliveryDetails:function(e,t){return t.data.codeDeliveryDetails}}),ht=qe({authAttributes:function(e,t){return{username:e.formValues.username}}}),mt=qe({formValues:function(e,t){var n,o=t.data,i=o.name,a=o.value;return r.__assign(r.__assign({},e.formValues),((n={})[i]=a,n))}}),gt=qe({formValues:function(e,t){return Se(r.__assign(r.__assign({},e.formValues),t.data),"password")}}),vt=qe({touched:function(e,t){var n,o=t.data.name;return r.__assign(r.__assign({},e.touched),((n={})["".concat(o)]=!0,n))}}),yt=function(e){return r.__awaiter(void 0,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return t=e.username,[4,h.Auth.forgotPassword(t)];case 1:return[2,n.sent()]}}))}))},bt=qe({formValues:function(e,t){var n,o,i=e.loginMechanisms[0],a=void 0===i?"username":i;if(!e.formValues.phone_number&&"phone_number"!==a)return e.formValues;var s=e.formValues,l=e.country_code,c=s.phone_number?"phone_number":"username",u="".concat(null!==(o=s.country_code)&&void 0!==o?o:l).concat(s[c]).replace(/[^A-Z0-9+]/gi,""),d=r.__assign(r.__assign({},s),((n={})[c]=u,n));return delete d.country_code,d}}),_t=function(e,t,n,o){return r.__awaiter(void 0,void 0,void 0,(function(){var i,a;return r.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all(o.map((function(r){return r(e,t,n)})))];case 1:return i=s.sent(),a=N.default.apply(void 0,r.__spreadArray([{}],i,!1)),C.default(a)?[2,Promise.resolve()]:[2,Promise.reject(a)]}}))}))},wt={getAmplifyConfig:function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,h.Amplify.configure()]}))}))},getCurrentUser:function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,h.Auth.currentAuthenticatedUser()]}))}))},handleSignUp:function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,h.Auth.signUp(r.__assign(r.__assign({},e),{autoSignIn:{enabled:!0}}))]}))}))},handleSignIn:function(e){var t=e.username,n=e.password;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,h.Auth.signIn(t,n)]}))}))},handleConfirmSignIn:function(e){var t=e.user,n=e.code,o=e.mfaType;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,h.Auth.confirmSignIn(t,n,o)]}))}))},handleConfirmSignUp:function(e){var t=e.username,n=e.code;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,h.Auth.confirmSignUp(t,n)];case 1:return[2,e.sent()]}}))}))},handleForgotPasswordSubmit:function(e){var t=e.username,n=e.code,o=e.password;return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,h.Auth.forgotPasswordSubmit(t,n,o)]}))}))},handleForgotPassword:function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,h.Auth.forgotPassword(e)]}))}))},validateCustomSignUp:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2]}))}))},validateFormPassword:function(e,t,n){return r.__awaiter(this,void 0,void 0,(function(){var o,i,a,s;return r.__generator(this,(function(r){return o=e.password,t.password&&n?(i=[],a=+(null==n?void 0:n.passwordPolicyMinLength),o.length<a&&i.push("Password must have at least ".concat(a," characters")),null==(s=null==n?void 0:n.passwordPolicyCharacters)||s.forEach((function(e){switch(e){case"REQUIRES_LOWERCASE":/[a-z]/.test(o)||i.push("Password must have lower case letters");break;case"REQUIRES_UPPERCASE":/[A-Z]/.test(o)||i.push("Password must have upper case letters");break;case"REQUIRES_NUMBERS":/[0-9]/.test(o)||i.push("Password must have numbers");break;case"REQUIRES_SYMBOLS":xe(o)||i.push("Password must have special characters")}})),[2,0!==i.length?{password:i}:null]):[2,null]}))}))},validateConfirmPassword:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var n,o,i,a;return r.__generator(this,(function(r){return n=e.password,o=e.confirm_password,i=t.confirm_password,a=t.password,n||o?(n||o)&&n!==o&&(i&&a||(null==n?void 0:n.length)>=6&&(null==o?void 0:o.length)>=6)?[2,{confirm_password:"Your passwords must match"}]:[2]:[2,null]}))}))},validatePreferredUsername:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2]}))}))}},xt=["SMS_MFA","SOFTWARE_TOKEN_MFA"],St=function(e){return I.default(e,"data.challengeName")},Et=function(e,t){return e===t},Ct=function(e){return xt.includes(e)},kt=v.createMachine({initial:"pending",id:"signOutActor",predictableActionArguments:!0,states:{pending:{tags:["pending"],invoke:{src:"signOut",onDone:"resolved",onError:"rejected"}},resolved:{type:"final"},rejected:{type:"final"}}},{services:{signOut:function(){return h.Auth.signOut()}}}),At=v.actions.choose;function Tt(e){return e&&Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];r.required=r.isRequired}))})),e}var It={small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},Pt={red:{10:{value:"hsl(0, 75%, 95%)"},20:{value:"hsl(0, 75%, 85%)"},40:{value:"hsl(0, 75%, 75%)"},60:{value:"hsl(0, 50%, 50%)"},80:{value:"hsl(0, 95%, 30%)"},90:{value:"hsl(0, 100%, 20%)"},100:{value:"hsl(0, 100%, 15%)"}},orange:{10:{value:"hsl(30, 75%, 95%)"},20:{value:"hsl(30, 75%, 85%)"},40:{value:"hsl(30, 75%, 75%)"},60:{value:"hsl(30, 50%, 50%)"},80:{value:"hsl(30, 95%, 30%)"},90:{value:"hsl(30, 100%, 20%)"},100:{value:"hsl(30, 100%, 15%)"}},yellow:{10:{value:"hsl(60, 75%, 95%)"},20:{value:"hsl(60, 75%, 85%)"},40:{value:"hsl(60, 75%, 75%)"},60:{value:"hsl(60, 50%, 50%)"},80:{value:"hsl(60, 95%, 30%)"},90:{value:"hsl(60, 100%, 20%)"},100:{value:"hsl(60, 100%, 15%)"}},green:{10:{value:"hsl(130, 60%, 95%)"},20:{value:"hsl(130, 60%, 90%)"},40:{value:"hsl(130, 44%, 63%)"},60:{value:"hsl(130, 43%, 46%)"},80:{value:"hsl(130, 33%, 37%)"},90:{value:"hsl(130, 27%, 29%)"},100:{value:"hsl(130, 22%, 23%)"}},teal:{10:{value:"hsl(190, 75%, 95%)"},20:{value:"hsl(190, 75%, 85%)"},40:{value:"hsl(190, 70%, 70%)"},60:{value:"hsl(190, 50%, 50%)"},80:{value:"hsl(190, 95%, 30%)"},90:{value:"hsl(190, 100%, 20%)"},100:{value:"hsl(190, 100%, 15%)"}},blue:{10:{value:"hsl(220, 95%, 95%)"},20:{value:"hsl(220, 85%, 85%)"},40:{value:"hsl(220, 70%, 70%)"},60:{value:"hsl(220, 50%, 50%)"},80:{value:"hsl(220, 95%, 30%)"},90:{value:"hsl(220, 100%, 20%)"},100:{value:"hsl(220, 100%, 15%)"}},purple:{10:{value:"hsl(300, 95%, 95%)"},20:{value:"hsl(300, 85%, 85%)"},40:{value:"hsl(300, 70%, 70%)"},60:{value:"hsl(300, 50%, 50%)"},80:{value:"hsl(300, 95%, 30%)"},90:{value:"hsl(300, 100%, 20%)"},100:{value:"hsl(300, 100%, 15%)"}},pink:{10:{value:"hsl(340, 95%, 95%)"},20:{value:"hsl(340, 90%, 85%)"},40:{value:"hsl(340, 70%, 70%)"},60:{value:"hsl(340, 50%, 50%)"},80:{value:"hsl(340, 95%, 30%)"},90:{value:"hsl(340, 100%, 20%)"},100:{value:"hsl(340, 100%, 15%)"}},neutral:{10:{value:"hsl(210, 5%, 98%)"},20:{value:"hsl(210, 5%, 94%)"},40:{value:"hsl(210, 5%, 87%)"},60:{value:"hsl(210, 10%, 58%)"},80:{value:"hsl(210, 10%, 40%)"},90:{value:"hsl(210, 25%, 25%)"},100:{value:"hsl(210, 50%, 10%)"}},brand:{primary:{10:{value:"{colors.teal.10.value}"},20:{value:"{colors.teal.20.value}"},40:{value:"{colors.teal.40.value}"},60:{value:"{colors.teal.60.value}"},80:{value:"{colors.teal.80.value}"},90:{value:"{colors.teal.90.value}"},100:{value:"{colors.teal.100.value}"}},secondary:{10:{value:"{colors.purple.10.value}"},20:{value:"{colors.purple.20.value}"},40:{value:"{colors.purple.40.value}"},60:{value:"{colors.purple.60.value}"},80:{value:"{colors.purple.80.value}"},90:{value:"{colors.purple.90.value}"},100:{value:"{colors.purple.100.value}"}}},font:{primary:{value:"{colors.neutral.100.value}"},secondary:{value:"{colors.neutral.90.value}"},tertiary:{value:"{colors.neutral.80.value}"},disabled:{value:"{colors.neutral.60.value}"},inverse:{value:"{colors.white.value}"},interactive:{value:"{colors.brand.primary.80.value}"},hover:{value:"{colors.brand.primary.90.value}"},focus:{value:"{colors.brand.primary.100.value}"},active:{value:"{colors.brand.primary.100.value}"},info:{value:"{colors.blue.90.value}"},warning:{value:"{colors.orange.90.value}"},error:{value:"{colors.red.90.value}"},success:{value:"{colors.green.90.value}"}},background:{primary:{value:"{colors.white.value}"},secondary:{value:"{colors.neutral.10.value}"},tertiary:{value:"{colors.neutral.20.value}"},quaternary:{value:"{colors.neutral.60.value}"},disabled:{value:"{colors.background.tertiary.value}"},info:{value:"{colors.blue.20.value}"},warning:{value:"{colors.orange.20.value}"},error:{value:"{colors.red.20.value}"},success:{value:"{colors.green.20.value}"}},border:{primary:{value:"{colors.neutral.60.value}"},secondary:{value:"{colors.neutral.40.value}"},tertiary:{value:"{colors.neutral.20.value}"},disabled:{value:"{colors.border.tertiary.value}"},pressed:{value:"{colors.brand.primary.100.value}"},focus:{value:"{colors.brand.primary.100.value}"},error:{value:"{colors.red.80.value}"}},shadow:{primary:{value:"hsla(210, 50%, 10%, 0.25)"},secondary:{value:"hsla(210, 50%, 10%, 0.15)"},tertiary:{value:"hsla(210, 50%, 10%, 0.05)"}},overlay:{10:{value:"hsla(0, 0%, 0%, 0.1)"},20:{value:"hsla(0, 0%, 0%, 0.2)"},30:{value:"hsla(0, 0%, 0%, 0.3)"},40:{value:"hsla(0, 0%, 0%, 0.4)"},50:{value:"hsla(0, 0%, 0%, 0.5)"},60:{value:"hsla(0, 0%, 0%, 0.6)"},70:{value:"hsla(0, 0%, 0%, 0.7)"},80:{value:"hsla(0, 0%, 0%, 0.8)"},90:{value:"hsla(0, 0%, 0%, 0.9)"}},black:{value:"hsl(0, 0%, 0%)"},white:{value:"hsl(0, 0%, 100%)"},transparent:{value:"transparent"}},Ot={xxxs:{value:"0.375rem"},xxs:{value:"0.5rem"},xs:{value:"0.75rem"},small:{value:"0.875rem"},medium:{value:"1rem"},large:{value:"1.25rem"},xl:{value:"1.5rem"},xxl:{value:"2rem"},xxxl:{value:"2.5rem"},xxxxl:{value:"3rem"}},Mt={hairline:{value:100},thin:{value:200},light:{value:300},normal:{value:400},medium:{value:500},semibold:{value:600},bold:{value:700},extrabold:{value:800},black:{value:900}},Nt={0:{value:"0"},10:{value:"0.1"},20:{value:"0.2"},30:{value:"0.3"},40:{value:"0.4"},50:{value:"0.5"},60:{value:"0.6"},70:{value:"0.7"},80:{value:"0.8"},90:{value:"0.9"},100:{value:"1"}},Lt={xs:{value:"0.125rem"},small:{value:"0.25rem"},medium:{value:"0.5rem"},large:{value:"1rem"},xl:{value:"2rem"},xxl:{value:"4rem"},xxxl:{value:"8rem"}},Rt={zero:{value:"0"},xxxs:{value:"0.25rem"},xxs:{value:"0.375rem"},xs:{value:"0.5rem"},small:{value:"0.75rem"},medium:{value:"1rem"},large:{value:"1.5rem"},xl:{value:"2.0rem"},xxl:{value:"3.0rem"},xxxl:{value:"4.5rem"},relative:{xxxs:{value:"0.25em"},xxs:{value:"0.375em"},xs:{value:"0.5em"},small:{value:"0.75em"},medium:{value:"1em"},large:{value:"1.5em"},xl:{value:"2.0em"},xxl:{value:"3.0em"},xxxl:{value:"4.5em"},full:{value:"100%"}}},Dt={short:{value:"100ms"},medium:{value:"250ms"},long:{value:"500ms"}},zt={components:{alert:{alignItems:{value:"center"},justifyContent:{value:"space-between"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},paddingBlock:{value:"{space.small.value}"},paddingInline:{value:"{space.medium.value}"},icon:{size:{value:"{fontSizes.xl.value}"}},heading:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}}},authenticator:{maxWidth:{value:"60rem"},modal:{width:{value:"{space.relative.full}"},height:{value:"{space.relative.full}"},backgroundColor:{value:"{colors.overlay.50.value}"},top:{value:"{space.zero}"},left:{value:"{space.zero}"}},container:{widthMax:{value:"30rem"}},router:{borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.medium.value}"}},footer:{paddingBottom:{value:"{space.medium.value}"}},form:{padding:{value:"{space.xl.value}"}},state:{inactive:{backgroundColor:{value:"{colors.background.secondary.value}"}}},orContainer:{color:{value:"{colors.neutral.80.value}"},orLine:{backgroundColor:{value:"{colors.background.primary.value}"}}}},autocomplete:{menu:{width:{value:"100%"},marginBlockStart:{value:"{space.xxxs}"},backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},borderRadius:{value:"{radii.small}"},options:{display:{value:"flex"},flexDirection:{value:"column"},maxHeight:{value:"300px"}},option:{backgroundColor:{value:"{colors.background.primary}"},color:{value:"currentcolor"},cursor:{value:"pointer"},transitionDuration:{value:"{time.short}"},transitionProperty:{value:"background-color, color"},transitionTimingFunction:{value:"ease"},_active:{backgroundColor:{value:"{colors.brand.primary.80}"},color:{value:"{colors.white}"}}},_empty:{display:{value:"flex"}},_loading:{alignItems:{value:"center"},display:{value:"flex"},gap:{value:"{space.xxxs}"}},spaceShared:{paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"}}}},badge:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:1},fontWeight:{value:"{fontWeights.semibold.value}"},fontSize:{value:"{fontSizes.small.value}"},textAlign:{value:"center"},paddingVertical:{value:"{space.xs.value}"},paddingHorizontal:{value:"{space.small.value}"},backgroundColor:{value:"{colors.background.tertiary.value}"},borderRadius:{value:"{radii.xl.value}"},info:{color:{value:"{colors.font.info.value}"},backgroundColor:{value:"{colors.background.info.value}"}},warning:{color:{value:"{colors.font.warning.value}"},backgroundColor:{value:"{colors.background.warning.value}"}},success:{color:{value:"{colors.font.success.value}"},backgroundColor:{value:"{colors.background.success.value}"}},error:{color:{value:"{colors.font.error.value}"},backgroundColor:{value:"{colors.background.error.value}"}},small:{fontSize:{value:"{fontSizes.xs.value}"},paddingVertical:{value:"{space.xxs.value}"},paddingHorizontal:{value:"{space.xs.value}"}},large:{fontSize:{value:"{fontSizes.medium.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"}}},button:{fontWeight:{value:"{fontWeights.bold.value}"},transitionDuration:{value:"{components.fieldcontrol.transitionDuration.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},lineHeight:{value:"{components.fieldcontrol.lineHeight.value}"},paddingBlockStart:{value:"{components.fieldcontrol.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.paddingInlineEnd.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},borderWidth:{value:"{components.fieldcontrol.borderWidth.value}"},borderStyle:{value:"{components.fieldcontrol.borderStyle.value}"},borderRadius:{value:"{components.fieldcontrol.borderRadius.value}"},color:{value:"{colors.font.primary.value}"},_hover:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.brand.primary.10.value}"},borderColor:{value:"{colors.brand.primary.60.value}"}},_focus:{color:{value:"{colors.font.focus.value}"},backgroundColor:{value:"{colors.brand.primary.10.value}"},borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{color:{value:"{colors.font.active.value}"},backgroundColor:{value:"{colors.brand.primary.20.value}"},borderColor:{value:"{colors.brand.primary.100.value}"}},_loading:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}},primary:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.brand.primary.80.value}"},color:{value:"{colors.font.inverse.value}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.90.value}"},color:{value:"{colors.font.inverse.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.90.value}"},color:{value:"{colors.font.inverse.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.100.value}"},color:{value:"{colors.font.inverse.value}"}}},menu:{borderWidth:{value:"{space.zero.value}"},backgroundColor:{value:"transparent"},justifyContent:{value:"start"},_hover:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.brand.primary.80.value}"}},_focus:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.brand.primary.80.value}"}},_active:{color:{value:"{colors.font.inverse.value}"},backgroundColor:{value:"{colors.brand.primary.90.value}"}},_disabled:{color:{value:"{colors.font.disabled.value}"}}},link:{backgroundColor:{value:"transparent"},borderColor:{value:"transparent"},borderWidth:{value:"{space.zero.value}"},color:{value:"{colors.font.interactive.value}"},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.10.value}"},color:{value:"{colors.font.hover.value}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.10.value}"},color:{value:"{colors.font.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.brand.primary.20.value}"},color:{value:"{colors.font.active.value}"}},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled.value}"}}},warning:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.red.60}"},borderWidth:{value:"{borderWidths.small}"},color:{value:"{colors.red.60}"},_hover:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.font.error}"}},_focus:{borderColor:{value:"{colors.red.80}"},backgroundColor:{value:"{colors.red.10}"},color:{value:"{colors.red.80}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"{colors.red.100}"},backgroundColor:{value:"{colors.red.20}"},color:{value:"{colors.red.100}"}},_disabled:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"{colors.border.tertiary}"},backgroundColor:{value:"transparent"},color:{value:"{colors.font.disabled}"}}},destructive:{borderColor:{value:"transparent"},borderWidth:{value:"{borderWidths.small}"},borderStyle:{value:"solid"},backgroundColor:{value:"{colors.red.60}"},color:{value:"{colors.font.inverse}"},_disabled:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_loading:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.background.disabled}"},color:{value:"{colors.font.disabled}"}},_hover:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"}},_focus:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.80}"},color:{value:"{colors.font.inverse}"},boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow}"}},_active:{borderColor:{value:"transparent"},backgroundColor:{value:"{colors.red.100}"},color:{value:"{colors.font.inverse}"}}},small:{fontSize:{value:"{components.fieldcontrol.small.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.small.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.small.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.small.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.small.paddingInlineEnd.value}"}},large:{fontSize:{value:"{components.fieldcontrol.large.fontSize.value}"},paddingBlockStart:{value:"{components.fieldcontrol.large.paddingBlockStart.value}"},paddingBlockEnd:{value:"{components.fieldcontrol.large.paddingBlockEnd.value}"},paddingInlineStart:{value:"{components.fieldcontrol.large.paddingInlineStart.value}"},paddingInlineEnd:{value:"{components.fieldcontrol.large.paddingInlineEnd.value}"}},loaderWrapper:{alignItems:{value:"center"},gap:{value:"{space.xs.value}"}}},card:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"none"},padding:{value:"{space.medium.value}"},outlined:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{components.card.boxShadow.value}"}},elevated:{backgroundColor:{value:"{components.card.backgroundColor.value}"},borderRadius:{value:"{radii.xs.value}"},borderWidth:{value:"0"},borderStyle:{value:"solid"},borderColor:{value:"transparent"},boxShadow:{value:"{shadows.medium.value}"}}},checkbox:{cursor:{value:"pointer"},alignItems:{value:"center"},_disabled:{cursor:{value:"not-allowed"}},button:{position:{value:"relative"},alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},before:{width:{value:"100%"},height:{value:"100%"},borderWidth:{value:"{borderWidths.medium.value}"},borderRadius:{value:"20%"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"}},_focus:{outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},borderColor:{value:"{colors.transparent.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{borderColor:{value:"{colors.transparent.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.error.value}"}}}}},icon:{backgroundColor:{value:"{colors.brand.primary.80.value}"},borderRadius:{value:"20%"},opacity:{value:"{opacities.0.value}"},transform:{value:"scale(0)"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.short.value}"},transitionTimingFunction:{value:"ease-in-out"},_checked:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},_indeterminate:{opacity:{value:"{opacities.100.value}"},transform:{value:"scale(1)"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}}},label:{_disabled:{color:{value:"{colors.font.disabled.value}"}}}},checkboxfield:{alignItems:{value:"flex-start"},alignContent:{value:"center"},flexDirection:{value:"column"},justifyContent:{value:"center"}},collection:{pagination:{current:{color:{value:"{components.pagination.current.color}"},backgroundColor:{value:"{components.pagination.current.backgroundColor}"}},button:{color:{value:"{components.pagination.button.color}"},_hover:{backgroundColor:{value:"{components.pagination.button.hover.backgroundColor}"},color:{value:"{components.pagination.button.hover.color}"}},_disabled:{color:{value:"{components.pagination.button.disabled.color}"}}}},search:{input:{color:{value:"{components.searchfield.color}"}},button:{color:{value:"{components.searchfield.button.color}"},_active:{backgroundColor:{value:"{components.searchfield.button._active.backgroundColor}"},borderColor:{value:"{components.searchfield.button._active.borderColor}"},color:{value:"{components.searchfield.button._active.color}"}},_disabled:{backgroundColor:{value:"{components.searchfield.button._disabled.backgroundColor}"},borderColor:{value:"{components.searchfield.button._disabled.borderColor}"},color:{value:"{components.searchfield.button._disabled.color}"}},_focus:{backgroundColor:{value:"{components.searchfield.button._focus.backgroundColor}"},borderColor:{value:"{components.searchfield.button._focus.borderColor}"},color:{value:"{components.searchfield.button._focus.color}"}},_hover:{backgroundColor:{value:"{components.searchfield.button._hover.backgroundColor}"},borderColor:{value:"{components.searchfield.button._hover.borderColor}"},color:{value:"{components.searchfield.button._hover.color}"}}}}},copy:{fontSize:{value:"{fontSizes.xs}"},gap:{value:"{space.relative.medium}"},svg:{path:{fill:{value:"{colors.font.primary}"}}},toolTip:{bottom:{value:"{space.large}"},color:{value:"{colors.teal.100}"},fontSize:{value:"{fontSizes.xxs}"}}},countrycodeselect:{height:{value:"{space.relative.full.value}"}},divider:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.medium.value}"},label:{color:{value:"{colors.font.tertiary.value}"},paddingInline:{value:"{space.medium.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.background.primary.value}"}},small:{borderWidth:{value:"{borderWidths.small.value}"}},large:{borderWidth:{value:"{borderWidths.large.value}"}},opacity:{value:"{opacities.60.value}"}},expander:{display:{value:"block"},backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},boxShadow:{value:"{shadows.large.value}"},width:{value:"100%"},item:{marginTop:{value:"1px"},boxShadow:{value:"{shadows.small.value}"},borderBottomLeftRadius:{value:"{radii.medium.value}"},borderBottomRightRadius:{value:"{radii.medium.value}"},borderTopLeftRadius:{value:"{radii.medium.value}"},borderTopRightRadius:{value:"{radii.medium.value}"},borderStartStartRadius:{value:"{radii.medium.value}"},borderStartEndRadius:{value:"{radii.medium.value}"},borderEndStartRadius:{value:"{radii.medium.value}"},borderEndEndRadius:{value:"{radii.medium.value}"},_focus:{boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},header:{boxShadow:{value:{offsetX:"0",offsetY:"1px",blurRadius:"0",color:"{colors.overlay.20.value}"}}},trigger:{minHeight:{value:"3rem"},paddingInlineStart:{value:"{space.large.value}"},paddingInlineEnd:{value:"{space.large.value}"},alignItems:{value:"center"},justifyContent:{value:"space-between"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}}},content:{paddingInlineStart:{value:"{space.large.value}"},paddingInlineEnd:{value:"{space.large.value}"},text:{color:{value:"{colors.font.secondary.value}"},paddingBlockStart:{value:"{space.medium.value}"},paddingBlockEnd:{value:"{space.medium.value}"}},_open:{animationDuration:{value:"{time.medium.value}"},animationTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}},_closed:{animationDuration:{value:"{time.medium.value}"},animationTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}},icon:{transitionDuration:{value:"{time.medium.value}"},transitionTimingFunction:{value:"cubic-bezier(0.87, 0, 0.13, 1)"}}},field:{gap:{value:"{space.xs.value}"},fontSize:{value:"{fontSizes.medium.value}"},small:{gap:{value:"{space.xxxs.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{gap:{value:"{space.small.value}"},fontSize:{value:"{fontSizes.large.value}"}},label:{color:{value:"{colors.font.secondary.value}"}}},fieldcontrol:{borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderRadius:{value:"{radii.small.value}"},color:{value:"{colors.font.primary.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"},fontSize:{value:"{components.field.fontSize.value}"},lineHeight:{value:"{lineHeights.medium.value}"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},small:{fontSize:{value:"{components.field.small.fontSize.value}"},paddingBlockStart:{value:"{space.xxs.value}"},paddingBlockEnd:{value:"{space.xxs.value}"},paddingInlineStart:{value:"{space.small.value}"},paddingInlineEnd:{value:"{space.small.value}"}},large:{fontSize:{value:"{components.field.large.fontSize.value}"},paddingBlockStart:{value:"{space.xs.value}"},paddingBlockEnd:{value:"{space.xs.value}"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}},quiet:{borderStyle:{value:"none"},borderInlineStart:{value:"none"},borderInlineEnd:{value:"none"},borderBlockStart:{value:"none"},borderRadius:{value:"0"},_focus:{borderBlockEndColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"1px",color:"{colors.border.focus.value}",blurRadius:"0px"}}},_error:{borderBlockEndColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"1px",color:"{colors.border.error.value}",blurRadius:"0px"}}}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"1px",color:"{colors.border.focus.value}"}}},_disabled:{color:{value:"{colors.font.disabled.value}"},cursor:{value:"not-allowed"},borderColor:{value:"{colors.transparent.value}"},backgroundColor:{value:"{colors.background.disabled.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"1px",color:"{colors.border.error.value}"}}}}},fieldgroup:{gap:{value:"{space.zero.value}"},vertical:{alignItems:{value:"center"}},outer:{alignItems:{value:"center"}}},fieldmessages:{error:{color:{value:"{colors.font.error.value}"},fontSize:{value:"{fontSizes.small.value}"}},description:{color:{value:"{colors.font.secondary.value}"},fontStyle:{value:"italic"},fontSize:{value:"{fontSizes.small.value}"}}},fileuploader:{dropzone:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"dashed"},borderWidth:{value:"{borderWidths.small}"},gap:{value:"{space.small}"},paddingBlock:{value:"{space.xl}"},paddingInline:{value:"{space.large}"},textAlign:{value:"center"},_active:{backgroundColor:{value:"{colors.brand.primary.10}"},borderRadius:{value:"{components.fileuploader.dropzone.borderRadius}"},borderColor:{value:"{colors.border.pressed}"},borderStyle:{value:"{components.fileuploader.dropzone.borderStyle}"},borderWidth:{value:"{borderWidths.medium}"}},icon:{color:{value:"{colors.border.primary}"},fontSize:{value:"{fontSizes.xxl}"}},text:{color:{value:"{colors.font.tertiary}"},fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"}}},file:{backgroundColor:{value:"{colors.background.primary}"},borderRadius:{value:"{radii.small}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.xs}"},paddingInline:{value:"{space.small}"},gap:{value:"{space.small}"},alignItems:{value:"baseline"},name:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},size:{fontSize:{value:"{fontSizes.small}"},fontWeight:{value:"{fontWeights.normal}"},color:{value:"{colors.font.tertiary}"}},image:{width:{value:"{space.xxl}"},height:{value:"{space.xxl}"},backgroundColor:{value:"{colors.background.secondary}"},color:{value:"{colors.font.tertiary}"},borderRadius:{value:"{radii.small}"}}},loader:{strokeLinecap:{value:"round"},strokeEmpty:{value:"{colors.border.secondary}"},strokeFilled:{value:"{components.loader.strokeFilled}"},strokeWidth:{value:"{borderWidths.large}"}},previewer:{backgroundColor:{value:"{colors.background.primary}"},borderColor:{value:"{colors.border.primary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},borderRadius:{value:"{radii.small}"},paddingBlock:{value:"{space.zero}"},paddingInline:{value:"{space.zero}"},maxHeight:{value:"40rem"},maxWidth:{value:"auto"},text:{fontSize:{value:"{fontSizes.medium}"},fontWeight:{value:"{fontWeights.bold}"},color:{value:"{colors.font.primary}"}},body:{paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},gap:{value:"{space.small}"}},footer:{borderColor:{value:"{colors.border.secondary}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small}"},paddingBlock:{value:"{space.medium}"},paddingInline:{value:"{space.medium}"},justifyContent:{value:"space-between"}}}},flex:{gap:{value:"{space.medium.value}"},justifyContent:{value:"normal"},alignItems:{value:"stretch"},alignContent:{value:"normal"},flexWrap:{value:"nowrap"}},heading:{color:{value:"{colors.font.primary.value}"},lineHeight:{value:"{lineHeights.small.value}"},1:{fontSize:{value:"{fontSizes.xxxxl.value}"},fontWeight:{value:"{fontWeights.light.value}"}},2:{fontSize:{value:"{fontSizes.xxxl.value}"},fontWeight:{value:"{fontWeights.normal.value}"}},3:{fontSize:{value:"{fontSizes.xxl.value}"},fontWeight:{value:"{fontWeights.medium.value}"}},4:{fontSize:{value:"{fontSizes.xl.value}"},fontWeight:{value:"{fontWeights.semibold.value}"}},5:{fontSize:{value:"{fontSizes.large.value}"},fontWeight:{value:"{fontWeights.bold.value}"}},6:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},icon:{lineHeight:{value:1},height:{value:"1em"}},highlightmatch:{highlighted:{fontWeight:{value:"{fontWeights.bold}"}}},image:{maxWidth:{value:"100%"},height:{value:"auto"},objectFit:{value:"initial"},objectPosition:{value:"initial"}},inappmessaging:{banner:{height:{value:"150px "},width:{value:"400px "}},button:{backgroundColor:{value:"#e8e8e8"},borderRadius:{value:"5px"},color:{value:"black"}},dialog:{height:{value:"50vh"},minHeight:{value:"400px"},minWidth:{value:"400px"},width:{value:"30vw"}},header:{fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.extrabold.value}"}}},link:{active:{color:{value:"{colors.font.active.value}"}},color:{value:"{colors.font.interactive.value}"},focus:{color:{value:"{colors.font.focus.value}"}},hover:{color:{value:"{colors.font.hover.value}"}},visited:{color:{value:"{colors.font.interactive.value}"}}},loader:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},fontSize:{value:"{fontSizes.xs.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeFilled:{value:"{colors.brand.primary.80.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.xxs.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.small.value}"}},linear:{width:{value:"100%"},minWidth:{value:"5rem"},fontSize:{value:"{fontSizes.medium.value}"},strokeWidth:{value:"{fontSizes.medium.value}"},strokeFilled:{value:"{colors.brand.primary.80.value}"},strokeEmpty:{value:"{colors.neutral.20.value}"},strokeLinecap:{value:"round"},animationDuration:{value:"1s"},small:{strokeWidth:{value:"{fontSizes.small.value}"},fontSize:{value:"{fontSizes.small.value}"}},large:{strokeWidth:{value:"{fontSizes.large.value}"},fontSize:{value:"{fontSizes.large.value}"}}},text:{fill:{value:"{colors.font.primary.value}"}}},menu:{backgroundColor:{value:"{colors.background.primary.value}"},borderRadius:{value:"{radii.medium.value}"},borderWidth:{value:"{borderWidths.small.value}"},borderStyle:{value:"solid"},borderColor:{value:"{colors.border.primary.value}"},boxShadow:{value:"{shadows.large.value}"},flexDirection:{value:"column"},gap:{value:"{space.zero.value}"},maxWidth:{value:"30rem"},minWidth:{value:"14rem"},small:{width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"}},large:{width:{value:"{fontSizes.xxxl.value}"},height:{value:"{fontSizes.xxxl.value}"}},item:{minHeight:{value:"2.5rem"},paddingInlineStart:{value:"{space.medium.value}"},paddingInlineEnd:{value:"{space.medium.value}"}}},pagination:{current:{alignItems:{value:"center"},justifyContent:{value:"center"},color:{value:"{colors.font.inverse.value}"},fontSize:{value:"{fontSizes.small.value}"},backgroundColor:{value:"{colors.overlay.40.value}"}},button:{color:{value:"{colors.font.primary.value}"},paddingInlineStart:{value:"{space.xxs.value}"},paddingInlineEnd:{value:"{space.xxs.value}"},transitionProperty:{value:"background-color"},transitionDuration:{value:"{time.medium.value}"},hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},disabled:{color:{value:"{colors.font.disabled.value}"}}},ellipsis:{alignItems:{value:"baseline"},justifyContent:{value:"center"},paddingInlineStart:{value:"{space.xs.value}"},paddingInlineEnd:{value:"{space.xs.value}"}},itemContainer:{marginLeft:{value:"{space.xxxs.value}"},marginRight:{value:"{space.xxxs.value}"}},itemShared:{height:{value:"{fontSizes.xxl.value}"},minWidth:{value:"{fontSizes.xxl.value}"},borderRadius:{value:"{fontSizes.medium.value}"}}},passwordfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},phonenumberfield:{color:{value:"{components.fieldcontrol.color}"},borderColor:{value:"{components.fieldcontrol.borderColor}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}}},placeholder:{borderRadius:{value:"{radii.small.value}"},transitionDuration:{value:"{time.long.value}"},startColor:{value:"{colors.background.secondary.value}"},endColor:{value:"{colors.background.tertiary.value}"},small:{height:{value:"{space.small.value}"}},default:{height:{value:"{space.medium.value}"}},large:{height:{value:"{space.large.value}"}}},radio:{alignItems:{value:"center"},justifyContent:{value:"flex-start"},gap:{value:"inherit"},_disabled:{cursor:{value:"not-allowed"}},button:{alignItems:{value:"center"},justifyContent:{value:"center"},width:{value:"{fontSizes.medium.value}"},height:{value:"{fontSizes.medium.value}"},boxSizing:{value:"border-box"},borderWidth:{value:"{borderWidths.medium.value}"},borderStyle:{value:"solid"},borderRadius:{value:"50%"},borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.background.primary.value}"},backgroundColor:{value:"{colors.background.primary.value}"},transitionProperty:{value:"all"},transitionDuration:{value:"{time.medium.value}"},outlineColor:{value:"{colors.transparent.value}"},outlineStyle:{value:"solid"},outlineWidth:{value:"{outlineWidths.medium.value}"},outlineOffset:{value:"{outlineOffsets.medium.value}"},padding:{value:"{borderWidths.medium.value}"},small:{width:{value:"{fontSizes.small.value}"},height:{value:"{fontSizes.small.value}"}},large:{width:{value:"{fontSizes.large.value}"},height:{value:"{fontSizes.large.value}"}},_checked:{color:{value:"{colors.brand.primary.80.value}"},_disabled:{color:{value:"{colors.background.disabled.value}"}}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"}},_error:{borderColor:{value:"{colors.border.error.value}"},_focus:{boxShadow:{value:"{components.fieldcontrol._error._focus.boxShadow.value}"}}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.primary.value}"}}},label:{color:{value:"{components.text.color.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}}},radiogroup:{radio:{borderWidth:{value:"{components.radio.button.borderWidth}"},borderColor:{value:"{components.radio.button.borderColor}"},backgroundColor:{value:"{components.radio.button.backgroundColor}"},_checked:{color:{value:"{components.radio.button._checked.color}"}},label:{color:{value:"{components.radio.label.color}"}}},label:{color:{value:"{components.field.label.color}"}}},rating:{large:{size:{value:"{fontSizes.xxxl.value}"}},default:{size:{value:"{fontSizes.xl.value}"}},small:{size:{value:"{fontSizes.small.value}"}},filled:{color:{value:"{colors.brand.secondary.80.value}"}},empty:{color:{value:"{colors.background.tertiary.value}"}}},searchfield:{color:{value:"{components.fieldcontrol.color.value}"},button:{color:{value:"{components.button.color.value}"},backgroundColor:{value:"{colors.background.primary.value}"},_active:{backgroundColor:{value:"{components.button._active.backgroundColor.value}"},borderColor:{value:"{components.button._active.borderColor.value}"},color:{value:"{components.button._active.color.value}"}},_disabled:{backgroundColor:{value:"{components.button._disabled.backgroundColor.value}"},borderColor:{value:"{components.button._disabled.borderColor.value}"},color:{value:"{components.button._disabled.color.value}"}},_focus:{backgroundColor:{value:"{components.button._focus.backgroundColor.value}"},borderColor:{value:"{components.button._focus.borderColor.value}"},color:{value:"{components.button._focus.color.value}"}},_hover:{backgroundColor:{value:"{components.button._hover.backgroundColor.value}"},borderColor:{value:"{components.button._hover.borderColor.value}"},color:{value:"{components.button._hover.color.value}"}}}},select:{paddingInlineEnd:{value:"{space.xxl.value}"},wrapper:{flex:{value:"1"},display:{value:"block"},position:{value:"relative"},cursor:{value:"pointer"}},iconWrapper:{alignItems:{value:"center"},position:{value:"absolute"},top:{value:"50%"},right:{value:"{space.medium.value}"},transform:{value:"translateY(-50%)"},pointerEvents:{value:"none"}},option:{backgroundColor:{value:"{colors.background.primary.value}"},color:{value:"{colors.font.primary.value}"},_disabled:{color:{value:"{colors.font.disabled.value}"}}},whiteSpace:{value:"nowrap"},minWidth:{value:"6.5rem"},small:{minWidth:{value:"5.5rem"}},large:{minWidth:{value:"7.5rem"}}},selectfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},color:{value:"{components.fieldcontrol.color}"},flexDirection:{value:"column"},fontSize:{value:"{components.fieldcontrol.fontSize}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor}"}},label:{color:{value:"{components.field.label.color}"}}},sliderfield:{paddingBlock:{value:"{space.xs.value}"},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"9999px"},height:{value:"0.375rem"},minWidth:{value:"10rem"}},range:{backgroundColor:{value:"{colors.brand.primary.80.value}"},borderRadius:{value:"9999px"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"}}},thumb:{width:{value:"1.25rem"},height:{value:"1.25rem"},backgroundColor:{value:"{colors.background.primary.value}"},boxShadow:{value:"{shadows.small.value}"},borderRadius:{value:"50%"},borderWidth:{value:"{borderWidths.medium.value}"},borderColor:{value:"{colors.border.primary.value}"},borderStyle:{value:"solid"},_disabled:{backgroundColor:{value:"{colors.background.disabled.value}"},borderColor:{value:"transparent"},boxShadow:{value:"none"}},_hover:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.focus.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},boxShadow:{value:{offsetX:"0",offsetY:"0",blurRadius:"0",spreadRadius:"2px",color:"{colors.border.focus.value}"}}}},small:{track:{height:{value:"0.25rem"}},thumb:{width:{value:"1rem"},height:{value:"1rem"}}},large:{track:{height:{value:"0.625rem"}},thumb:{width:{value:"1.5rem"},height:{value:"1.5rem"}}}},stepperfield:{borderColor:{value:"{components.fieldcontrol.borderColor}"},flexDirection:{value:"column"},input:{color:{value:"{components.fieldcontrol.color}"},fontSize:{value:"{components.fieldcontrol.fontSize}"},textAlign:{value:"center"}},button:{color:{value:"{components.button.color}"},backgroundColor:{value:"{colors.transparent}"},_active:{color:{value:"{components.button._active.color}"},backgroundColor:{value:"{components.button._active.backgroundColor}"}},_focus:{color:{value:"{components.button._focus.color}"},backgroundColor:{value:"{components.button._focus.backgroundColor}"}},_disabled:{color:{value:"{components.button._disabled.color}"},backgroundColor:{value:"{components.fieldcontrol._disabled.backgroundColor}"}},_hover:{color:{value:"{components.button._hover.color}"},backgroundColor:{value:"{components.button._hover.backgroundColor}"}}}},switchfield:{_disabled:{opacity:{value:"{opacities.60.value}"}},_focused:{shadow:{value:{offsetX:"0px",offsetY:"0px",blurRadius:"0px",spreadRadius:"2px",color:"{colors.border.focus.value}"}}},fontSize:{value:"{fontSizes.medium.value}"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}},label:{padding:{value:"{space.xs.value}"}},thumb:{backgroundColor:{value:"{colors.background.primary.value}"},borderColor:{value:"{colors.border.tertiary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{transform:{value:"{transforms.slideX.medium.value}"}},transition:{duration:{value:"{time.medium.value}"}},width:{value:"{space.relative.medium.value}"}},track:{backgroundColor:{value:"{colors.background.quaternary.value}"},borderRadius:{value:"{radii.xxxl.value}"},checked:{backgroundColor:{value:"{colors.brand.primary.80.value}"}},height:{value:"{space.relative.medium.value}"},padding:{value:"{outlineWidths.medium.value}"},transition:{duration:{value:"{time.short.value}"}},width:{value:"{space.relative.xl.value}"},_error:{backgroundColor:{value:"{colors.background.error.value}"}}}},table:{borderCollapse:{value:"collapse"},display:{value:"table"},width:{value:"100%"},head:{display:{value:"table-header-group"},verticalAlign:{value:"middle"}},body:{display:{value:"table-row-group"},verticalAlign:{value:"middle"}},foot:{display:{value:"table-footer-group"},verticalAlign:{value:"middle"}},row:{display:{value:"table-row"},verticalAlign:{value:"middle"},hover:{backgroundColor:{value:"{colors.background.tertiary.value}"}},striped:{backgroundColor:{value:"{colors.background.secondary.value}"}}},header:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},data:{borderColor:{value:"{colors.border.tertiary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.small.value}"},color:{value:"{colors.font.primary.value}"},display:{value:"table-cell"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.normal.value}"},padding:{value:"{space.medium.value}"},verticalAlign:{value:"middle"},large:{fontSize:{value:"{fontSizes.large.value}"},padding:{value:"{space.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"},padding:{value:"{space.xs.value}"}}},caption:{captionSide:{value:"bottom"},color:{value:"{colors.font.primary.value}"},display:{value:"table-caption"},fontSize:{value:"{fontSizes.medium.value}"},textAlign:{value:"center"},wordBreak:{value:"break-all"},large:{fontSize:{value:"{fontSizes.large.value}"}},small:{fontSize:{value:"{fontSizes.small.value}"}}}},tabs:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},gap:{value:"0"},item:{backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.secondary.value}"},borderStyle:{value:"solid"},borderWidth:{value:"{borderWidths.medium.value}"},color:{value:"{colors.font.secondary.value}"},fontSize:{value:"{fontSizes.medium.value}"},fontWeight:{value:"{fontWeights.bold.value}"},paddingVertical:{value:"{space.small.value}"},paddingHorizontal:{value:"{space.medium.value}"},textAlign:{value:"center"},transitionDuration:{value:"{time.medium.value}"},_hover:{color:{value:"{colors.font.hover.value}"}},_focus:{color:{value:"{colors.font.focus.value}"}},_active:{color:{value:"{colors.font.interactive.value}"},borderColor:{value:"{colors.font.interactive.value}"},backgroundColor:{value:"transparent"}},_disabled:{color:{value:"{colors.font.disabled.value}"},backgroundColor:{value:"transparent"},borderColor:{value:"{colors.border.tertiary.value}"}}}},text:{color:{value:"{colors.font.primary.value}"},primary:{color:{value:"{colors.font.primary.value}"}},secondary:{color:{value:"{colors.font.secondary.value}"}},tertiary:{color:{value:"{colors.font.tertiary.value}"}},error:{color:{value:"{colors.font.error.value}"}},warning:{color:{value:"{colors.font.warning.value}"}},success:{color:{value:"{colors.font.success.value}"}},info:{color:{value:"{colors.font.info.value}"}}},textareafield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},textfield:{color:{value:"{components.fieldcontrol.color.value}"},borderColor:{value:"{components.fieldcontrol.borderColor.value}"},fontSize:{value:"{components.fieldcontrol.fontSize.value}"},_focus:{borderColor:{value:"{components.fieldcontrol._focus.borderColor.value}"}}},togglebutton:{borderColor:{value:"{colors.border.primary.value}"},color:{value:"{colors.font.primary.value}"},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"}},_focus:{borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.font.primary.value}"}},_active:{backgroundColor:{value:"{colors.transparent.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},borderColor:{value:"{colors.border.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{borderColor:{value:"{colors.border.pressed.value}"},color:{value:"{colors.font.primary.value}"},backgroundColor:{value:"{colors.overlay.20.value}"},_hover:{backgroundColor:{value:"{colors.overlay.30.value}"}}},primary:{backgroundColor:{value:"{colors.transparent.value}"},borderWidth:{value:"{borderWidths.small.value}"},_focus:{borderColor:{value:"{colors.border.focus.value}"},backgroundColor:{value:"{colors.transparent.value}"},boxShadow:{value:"{components.fieldcontrol._focus.boxShadow.value}"},color:{value:"{colors.font.primary.value}"}},_hover:{backgroundColor:{value:"{colors.overlay.10.value}"},color:{value:"{colors.font.primary.value}"}},_disabled:{borderColor:{value:"{colors.border.disabled.value}"},backgroundColor:{value:"{colors.background.disabled.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.brand.primary.80.value}"},borderColor:{value:"{colors.brand.primary.80.value}"},color:{value:"{colors.background.primary.value}"},_focus:{backgroundColor:{value:"{colors.border.focus.value}"},borderColor:{value:"{colors.border.focus.value}"},color:{value:"{colors.background.primary.value}"}},_hover:{borderColor:{value:"{colors.brand.primary.60.value}"},backgroundColor:{value:"{colors.brand.primary.60.value}"},boxShadow:{value:"{colors.brand.primary.60.value}"},color:{value:"{colors.background.primary.value}"}}}},link:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"},_hover:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.50.value}"}},_disabled:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.font.disabled.value}"}},_pressed:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"},_focus:{backgroundColor:{value:"{colors.transparent.value}"},color:{value:"{colors.overlay.90.value}"}},_hover:{color:{value:"{colors.overlay.90.value}"},backgroundColor:{value:"{colors.transparent.value}"}}}}},togglebuttongroup:{alignItems:{value:"center"},alignContent:{value:"center"},justifyContent:{value:"flex-start"}}},borderWidths:It,colors:Pt,fonts:{default:{variable:{value:"'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,\n        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',\n        sans-serif"},static:{value:"'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',\n        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif"}}},fontSizes:Ot,fontWeights:Mt,lineHeights:{small:{value:"1.25"},medium:{value:"1.5"},large:{value:"2"}},opacities:Nt,outlineOffsets:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},outlineWidths:{small:{value:"1px"},medium:{value:"2px"},large:{value:"3px"}},radii:Lt,shadows:{small:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"4px",color:"{colors.shadow.tertiary.value}"}},medium:{value:{offsetX:"0px",offsetY:"2px",blurRadius:"6px",color:"{colors.shadow.secondary.value}"}},large:{value:{offsetX:"0px",offsetY:"4px",blurRadius:"12px",color:"{colors.shadow.primary.value}"}}},space:Rt,time:Dt,transforms:{slideX:{small:{value:"translateX(0.5em)"},medium:{value:"translateX(1em)"},large:{value:"translateX(2em)"}}}},Ft={colors:Pt,borderWidths:It,fontSizes:{xxs:Ot.xxs,xs:Ot.xs,small:Ot.small,medium:Ot.medium,large:Ot.large,xl:Ot.xl,xxl:Ot.xxl,xxxl:Ot.xxxl},fontWeights:Mt,opacities:Nt,space:{xxs:Rt.xxxs,xs:Rt.xs,small:Rt.small,medium:Rt.medium,large:Rt.large,xl:Rt.xl,xxl:Rt.xxl,xxxl:Rt.xxxl},radii:Lt,time:Dt},Ut={tokens:zt,breakpoints:{values:{base:0,small:480,medium:768,large:992,xl:1280,xxl:1536},defaultBreakpoint:"base"},name:"default-theme"},jt=["offsetX","offsetY","blurRadius","spreadRadius","color"];function Bt(e){if(!e)return"";if(D.default(e)){var t=e.replace(/\{|\}/g,"").replace(".value","").split(".");return"var(--".concat(Vt({path:t}),")")}return e}function Vt(e){var t=e.path,n=void 0===t?[]:t;return"".concat(M.default(r.__spreadArray(["amplify"],n,!0).join(" ")))}function Gt(e){return q(e)&&O.default(e,"offsetX")}function qt(e){var t=e.tokens,n=e.path,r=void 0===n?[]:n,o=e.setupToken;if(O.default(t,"value"))return o({token:t,path:r});var i={};for(var a in t)if(O.default(t,a)){var s=t[a],l=q(s)?s:{value:s};i[a]=qt({tokens:l,path:r.concat(a),setupToken:o})}return i}var Ht=function(e){var t=e.token,n=e.path,r="--".concat(Vt({path:n})),o=t.value,i=function(e){var t=e.value;return H(t)?Bt(t):Gt(t)?jt.map((function(n){return Bt(Gt(e)?e[n]:t[n])})).join(" "):t}(t);return{name:r,original:o,path:n,value:i,toString:function(){return"var(".concat(r,")")}}},Wt={colors:{red:{10:zt.colors.red[100],20:zt.colors.red[90],40:zt.colors.red[80],80:zt.colors.red[40],90:zt.colors.red[20],100:zt.colors.red[10]},orange:{10:zt.colors.orange[100],20:zt.colors.orange[90],40:zt.colors.orange[80],80:zt.colors.orange[40],90:zt.colors.orange[20],100:zt.colors.orange[10]},yellow:{10:zt.colors.yellow[100],20:zt.colors.yellow[90],40:zt.colors.yellow[80],80:zt.colors.yellow[40],90:zt.colors.yellow[20],100:zt.colors.yellow[10]},green:{10:zt.colors.green[100],20:zt.colors.green[90],40:zt.colors.green[80],80:zt.colors.green[40],90:zt.colors.green[20],100:zt.colors.green[10]},teal:{10:zt.colors.teal[100],20:zt.colors.teal[90],40:zt.colors.teal[80],80:zt.colors.teal[40],90:zt.colors.teal[20],100:zt.colors.teal[10]},blue:{10:zt.colors.blue[100],20:zt.colors.blue[90],40:zt.colors.blue[80],80:zt.colors.blue[40],90:zt.colors.blue[20],100:zt.colors.blue[10]},purple:{10:zt.colors.purple[100],20:zt.colors.purple[90],40:zt.colors.purple[80],80:zt.colors.purple[40],90:zt.colors.purple[20],100:zt.colors.purple[10]},pink:{10:zt.colors.pink[100],20:zt.colors.pink[90],40:zt.colors.pink[80],80:zt.colors.pink[40],90:zt.colors.pink[20],100:zt.colors.pink[10]},neutral:{10:zt.colors.neutral[100],20:zt.colors.neutral[90],40:zt.colors.neutral[80],80:zt.colors.neutral[40],90:zt.colors.neutral[20],100:zt.colors.neutral[10]},font:{primary:"{colors.white}",secondary:"{colors.neutral.100}",tertiary:"{colors.neutral.90}",inverse:"{colors.neutral.10}"},background:{primary:"{colors.neutral.10}",secondary:"{colors.neutral.20}",tertiary:"{colors.neutral.40}"},border:{primary:"{colors.neutral.60}",secondary:"{colors.neutral.40}",tertiary:"{colors.neutral.20}"},overlay:{10:"hsla(0, 0%, 100%, 0.1)",20:"hsla(0, 0%, 100%, 0.2)",30:"hsla(0, 0%, 100%, 0.3)",40:"hsla(0, 0%, 100%, 0.4)",50:"hsla(0, 0%, 100%, 0.5)",60:"hsla(0, 0%, 100%, 0.6)",70:"hsla(0, 0%, 100%, 0.7)",80:"hsla(0, 0%, 100%, 0.8)",90:"hsla(0, 0%, 100%, 0.9)"}}},Kt={colorMode:"dark",tokens:Wt},$t=r.__assign({},Wt);Object.defineProperty(t,"isEqual",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"isNil",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"includes",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"get",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"pickBy",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"has",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"kebabCase",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return N.default}}),t.ALLOWED_SPECIAL_CHARACTERS=ye,t.DefaultTexts=he,t.LoginMechanismArray=B,t.applyTranslation=Te,t.authFieldsWithDefaults=V,t.authenticatorTextUtil=Re,t.censorAllButFirstAndLast=function(e){for(var t=e.trim().split(""),n=0;n<t.length;n++)n>0&&n<t.length-1&&(t[n]="*");return t.join("")},t.censorPhoneNumber=function(e){if(e.length<4)return e;for(var t=e.split(""),n=0;n<t.length-4;n++)t[n]="*";return t.join("")},t.changePassword=function(e){var t=e.user,n=e.currentPassword,o=e.newPassword;return r.__awaiter(void 0,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),ze.debug("calling Auth.changePassword"),[4,h.Auth.changePassword(t,n,o)];case 1:return r.sent(),ze.debug("Auth.changePassword was successful"),[2,Promise.resolve()];case 2:return e=r.sent(),ze.debug("Auth.changePassword failed with error",e),[2,Promise.reject(e)];case 3:return[2]}}))}))},t.checkMaxSize=function(e,t){return e&&t.size>e?me("File size must be below ")+Ge(e,!0):null},t.configureComponent=function(e){var t=e.packageName,n=e.version;m.appendToCognitoUserAgent("".concat(t,"/").concat(n))},t.countryDialCodes=Z,t.createAuthenticatorMachine=function(){return v.createMachine({id:"authenticator",initial:"idle",context:{user:void 0,config:{},services:wt,actorRef:void 0,hasSetup:!1},predictableActionArguments:!0,states:{idle:{invoke:{src:"getCurrentUser",onDone:{actions:"setUser",target:"authenticated"},onError:{target:"setup"}}},setup:{initial:"waitConfig",states:{waitConfig:{on:{INIT:{actions:["configure","setHasSetup"],target:"applyConfig"}}},applyConfig:{invoke:{src:"getAmplifyConfig",onDone:{actions:"applyAmplifyConfig",target:"goToInitialState"}}},goToInitialState:{always:[{target:"#authenticator.signUp",cond:"isInitialStateSignUp"},{target:"#authenticator.resetPassword",cond:"isInitialStateResetPassword"},{target:"#authenticator.signIn"}]}}},signIn:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignInActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:"stopSignInActor"}},on:{SIGN_UP:"signUp",RESET_PASSWORD:"resetPassword","done.invoke.signInActor":[{target:"signUp",actions:"setActorDoneData",cond:"shouldRedirectToSignUp"},{target:"resetPassword",actions:"setActorDoneData",cond:"shouldRedirectToResetPassword"},{target:"authenticated",actions:"setActorDoneData"}]}},signUp:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignUpActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:"stopSignUpActor"},autoSignIn:{invoke:{src:"getCurrentUser",onDone:"#authenticator.authenticated",onError:"#authenticator.setup.goToInitialState"}}},on:{SIGN_IN:"signIn","done.invoke.signUpActor":{target:"#authenticator.signIn",actions:"setActorDoneData",cond:"shouldAutoSignIn"}}},resetPassword:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnResetPasswordActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:"stopResetPasswordActor"}},on:{SIGN_IN:"signIn","done.invoke.resetPasswordActor":{target:"signIn",actions:"setActorDoneData"}}},signOut:{initial:"spawnActor",states:{spawnActor:{always:{actions:"spawnSignOutActor",target:"runActor"}},runActor:{entry:"clearActorDoneData",exit:["stopSignOutActor","clearUser"]}},on:{"done.invoke.signOutActor":[{target:"setup",cond:"shouldSetup"},{target:"setup.goToInitialState"}]}},authenticated:{initial:"idle",states:{idle:{on:{TOKEN_REFRESH:"refreshUser"}},refreshUser:{invoke:{src:"getCurrentUser",onDone:{actions:"setUser",target:"idle"},onError:{target:"#authenticator.signOut"}}}},on:{SIGN_OUT:"signOut"}}},on:{CHANGE:{actions:"forwardToActor"},BLUR:{actions:"forwardToActor"},SUBMIT:{actions:"forwardToActor"},FEDERATED_SIGN_IN:{actions:"forwardToActor"},AUTO_SIGN_IN:{actions:"forwardToActor"},RESEND:{actions:"forwardToActor"},SIGN_IN:{actions:"forwardToActor"},SKIP:{actions:"forwardToActor"}}},{actions:{forwardToActor:At([{cond:"hasActor",actions:v.forwardTo((function(e){return e.actorRef}))}]),setUser:v.assign({user:function(e,t){return t.data}}),setActorDoneData:v.assign({actorDoneData:function(e,t){var n,o;return{authAttributes:r.__assign({},null===(n=t.data)||void 0===n?void 0:n.authAttributes),intent:null===(o=t.data)||void 0===o?void 0:o.intent}},user:function(e,t){var n;return null===(n=t.data)||void 0===n?void 0:n.user}}),clearUser:v.assign({user:void 0}),clearActorDoneData:v.assign({actorDoneData:void 0}),applyAmplifyConfig:v.assign({config:function(e,t){var n,o,i,a,s,l,c,u,d,f=null!==(o=null===(n=t.data.aws_cognito_username_attributes)||void 0===n?void 0:n.map((function(e){return e.toLowerCase()})))&&void 0!==o?o:[],p=null!==(a=null===(i=t.data.aws_cognito_verification_mechanisms)||void 0===i?void 0:i.map((function(e){return e.toLowerCase()})))&&void 0!==a?a:[],h=null!==(l=null===(s=t.data.aws_cognito_signup_attributes)||void 0===s?void 0:s.map((function(e){return e.toLowerCase()})))&&void 0!==l?l:[],m=null!==(u=null===(c=t.data.aws_cognito_social_providers)||void 0===c?void 0:c.map((function(e){return e.toLowerCase()})))&&void 0!==u?u:[],g=t.data.aws_cognito_password_protection_settings||{};0===f.length&&f.push("username");var v=e.config,y=v.loginMechanisms,b=v.signUpAttributes,_=v.socialProviders,w=v.initialState;return{loginMechanisms:null!=y?y:f,formFields:null!==(d=Tt(v.formFields))&&void 0!==d?d:{},passwordSettings:g,signUpAttributes:null!=b?b:Array.from(new Set(r.__spreadArray(r.__spreadArray([],p,!0),h,!0))),socialProviders:null!=_?_:m.sort(),initialState:w}}}),spawnSignInActor:v.assign({actorRef:function(e,t){var n,o,i,a,s,l,c,u=function(e){var t=e.services;return v.createMachine({initial:"init",id:"signInActor",predictableActionArguments:!0,states:{init:{always:[{target:"autoSignIn.submit",cond:"shouldAutoSubmit"},{target:"autoSignIn",cond:"shouldAutoSignIn"},{target:"signIn"}]},signIn:{initial:"edit",exit:["clearFormValues","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},FEDERATED_SIGN_IN:"federatedSignIn"}},federatedSignIn:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"federatedSignIn",onError:{actions:"setRemoteError"}}},submit:{tags:["pending"],entry:["parsePhoneNumber","clearError","sendUpdate"],invoke:{src:"signIn",onDone:[{cond:"shouldSetupTOTP",actions:["setUser","setChallengeName"],target:"#signInActor.setupTOTP"},{cond:"shouldConfirmSignIn",actions:["setUser","setChallengeName"],target:"#signInActor.confirmSignIn"},{cond:"shouldForceChangePassword",actions:["setUser","setChallengeName","setRequiredAttributes"],target:"#signInActor.forceNewPassword"},{actions:"setUser",target:"verifying"}],onError:[{cond:"shouldRedirectToConfirmSignUp",actions:["setCredentials","setConfirmSignUpIntent"],target:"rejected"},{cond:"shouldRedirectToConfirmResetPassword",actions:["setUsernameAuthAttributes","setConfirmResetPasswordIntent"],target:"rejected"},{actions:"setRemoteError",target:"edit"}]}},verifying:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"checkVerifiedContact",onDone:[{cond:"shouldRequestVerification",target:"#signInActor.verifyUser",actions:"setUnverifiedContactMethods"},{target:"resolved"}],onError:{actions:"setRemoteError",target:"edit"}}},resolved:{always:"#signInActor.resolved"},rejected:{always:"#signInActor.rejected"}}},autoSignIn:{initial:"pending",states:{pending:{tags:["pending"],entry:["clearError","sendUpdate"],on:{AUTO_SIGN_IN:[{cond:"shouldSetupTOTP",actions:["setUser","setChallengeName"],target:"#signInActor.setupTOTP"},{cond:"shouldConfirmSignIn",actions:["setUser","setChallengeName"],target:"#signInActor.confirmSignIn"},{cond:"shouldForceChangePassword",actions:["setUser","setChallengeName","setRequiredAttributes"],target:"#signInActor.forceNewPassword"},{actions:"setUser",target:"#signInActor.resolved"}],AUTO_SIGN_IN_FAILURE:{actions:"setRemoteError",target:"pending"}}},submit:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"signIn",onDone:[{cond:"shouldSetupTOTP",actions:["setUser","setChallengeName"],target:"#signInActor.setupTOTP"},{cond:"shouldConfirmSignIn",actions:["setUser","setChallengeName"],target:"#signInActor.confirmSignIn"},{cond:"shouldForceChangePassword",actions:["setUser","setChallengeName","setRequiredAttributes"],target:"#signInActor.forceNewPassword"},{actions:"setUser",target:"#signInActor.resolved"}],onError:{actions:"setRemoteError",target:"#signInActor.signIn"}}},resolved:{always:"#signInActor.resolved"},rejected:{always:"#signInActor.rejected"}}},confirmSignIn:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"confirmSignIn",onDone:{target:"#signInActor.resolved",actions:["setUser","clearChallengeName","clearRequiredAttributes"]},onError:{target:"edit",actions:"setRemoteError"}}}}},forceNewPassword:{type:"parallel",exit:["clearFormValues","clearError","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateFields",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submit:{initial:"idle",entry:"clearError",states:{idle:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"}}},validate:{entry:"sendUpdate",invoke:{src:"validateFields",onDone:{target:"pending",actions:"clearValidationError"},onError:{target:"idle",actions:"setFieldErrors"}}},pending:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"forceNewPassword",onDone:[{cond:"shouldConfirmSignIn",actions:["setUser","setChallengeName"],target:"#signInActor.confirmSignIn"},{cond:"shouldSetupTOTP",actions:["setUser","setChallengeName"],target:"#signInActor.setupTOTP"},{target:"resolved",actions:["setUser","setCredentials"]}],onError:{target:"idle",actions:"setRemoteError"}}},resolved:{type:"final",always:"#signInActor.resolved"}}}}},setupTOTP:{initial:"getTotpSecretCode",exit:["clearFormValues","clearError","clearTouched"],states:{getTotpSecretCode:{invoke:{src:"getTotpSecretCode",onDone:{target:"edit",actions:"setTotpSecretCode"},onError:{target:"edit",actions:"setRemoteError"}}},edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SIGN_IN:"#signInActor.signIn",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"verifyTotpToken",onDone:{actions:["clearChallengeName","clearRequiredAttributes"],target:"#signInActor.resolved"},onError:{actions:"setRemoteError",target:"edit"}}}}},verifyUser:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SKIP:"#signInActor.resolved",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:"clearError",invoke:{src:"verifyUser",onDone:{target:"#signInActor.confirmVerifyUser"},onError:{actions:"setRemoteError",target:"edit"}}}}},confirmVerifyUser:{initial:"edit",exit:["clearFormValues","clearError","clearUnverifiedContactMethods","clearAttributeToVerify","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},SKIP:"#signInActor.resolved",CHANGE:{actions:"handleInput"}}},submit:{tags:["pending"],entry:"clearError",invoke:{src:"confirmVerifyUser",onDone:{target:"#signInActor.resolved"},onError:{actions:"setRemoteError",target:"edit"}}}}},resolved:{type:"final",data:function(e){return{user:e.user}}},rejected:{type:"final",data:function(e,t){return{intent:e.redirectIntent,authAttributes:e.authAttributes}}}}},{actions:{clearAttributeToVerify:Ke,clearChallengeName:$e,clearRequiredAttributes:Ze,clearError:Ye,clearFormValues:Je,clearTouched:Xe,clearUnverifiedContactMethods:Qe,clearValidationError:tt,handleInput:mt,handleSubmit:gt,handleBlur:vt,parsePhoneNumber:bt,setChallengeName:rt,setConfirmResetPasswordIntent:it,setConfirmSignUpIntent:at,setRequiredAttributes:ot,setCredentials:st,setFieldErrors:lt,setRemoteError:ct,setTotpSecretCode:nt,setUnverifiedContactMethods:ut,setUser:dt,setUsernameAuthAttributes:ht,sendUpdate:v.sendUpdate()},guards:{shouldAutoSignIn:function(e){return"autoSignIn"===(null==e?void 0:e.intent)},shouldAutoSubmit:function(e){return"autoSignInSubmit"===(null==e?void 0:e.intent)},shouldConfirmSignIn:function(e,t){return Ct(St(t))},shouldForceChangePassword:function(e,t){return Et(St(t),"NEW_PASSWORD_REQUIRED")},shouldRedirectToConfirmResetPassword:function(e,t){return"PasswordResetRequiredException"===t.data.code},shouldRedirectToConfirmSignUp:function(e,t){return"UserNotConfirmedException"===t.data.code},shouldRequestVerification:function(e,t){var n=t.data,r=n.unverified,o=n.verified;return C.default(o)&&!C.default(r)},shouldSetupTOTP:function(e,t){return Et(St(t),"MFA_SETUP")}},services:{signIn:function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,o,i,a,s,l,c;return r.__generator(this,(function(u){switch(u.label){case 0:return n=e.authAttributes,o=void 0===n?{}:n,i=e.formValues,a=void 0===i?{}:i,s=r.__assign(r.__assign({},o),a),l=s.username,c=s.password,[4,t.handleSignIn({username:l,password:c})];case 1:return[2,u.sent()]}}))}))},confirmSignIn:function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,o,i,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=e.challengeName,o=e.user,i=e.formValues.confirmation_code,a=Ct(n)?n:void 0,[4,t.handleConfirmSignIn({user:o,code:i,mfaType:a})];case 1:return r.sent(),[4,h.Auth.currentAuthenticatedUser()];case 2:return[2,r.sent()]}}))}))},forceNewPassword:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o,i,a,s,l,c,u;return r.__generator(this,(function(d){switch(d.label){case 0:t=e.user,n=e.formValues,o=n.password,n.confirm_password,i=n.phone_number,a=n.country_code,s=r.__rest(n,["password","confirm_password","phone_number","country_code"]),i&&(l="".concat(a).concat(i).replace(/[^A-Z0-9+]/gi,""),s=r.__assign(r.__assign({},s),{phone_number:l})),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,h.Auth.completeNewPassword(t,o,s)];case 2:return(c=d.sent()).challengeName?[2,c]:[2,h.Auth.currentAuthenticatedUser()];case 3:return u=d.sent(),[2,Promise.reject(u)];case 4:return[2]}}))}))},getTotpSecretCode:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){return t=e.user,[2,h.Auth.setupTOTP(t)]}))}))},verifyTotpToken:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o;return r.__generator(this,(function(r){return t=e.formValues,n=e.user,o=t.confirmation_code,[2,h.Auth.verifyTotpToken(n,o)]}))}))},federatedSignIn:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=t.data.provider,[4,h.Auth.federatedSignIn({provider:e})];case 1:return[2,n.sent()]}}))}))},checkVerifiedContact:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return t=e.user,[4,h.Auth.verifiedContact(t)];case 1:return[2,n.sent()]}}))}))},verifyUser:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return t=e.formValues.unverifiedAttr,[4,h.Auth.verifyCurrentUserAttribute(t)];case 1:return n=r.sent(),e.attributeToVerify=t,[2,n]}}))}))},confirmVerifyUser:function(e){return r.__awaiter(this,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return t=e.attributeToVerify,n=e.formValues.confirmation_code,[4,h.Auth.verifyCurrentUserAttributeSubmit(t,n)];case 1:return[2,r.sent()]}}))}))},validateFields:function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,_t(e.formValues,e.touched,e.passwordSettings,[wt.validateFormPassword,wt.validateConfirmPassword])]}))}))}}})}({services:e.services}).withContext({authAttributes:null!==(o=null===(n=e.actorDoneData)||void 0===n?void 0:n.authAttributes)&&void 0!==o?o:{},user:e.user,intent:null===(i=e.actorDoneData)||void 0===i?void 0:i.intent,country_code:"+1",formValues:{},touched:{},validationError:{},passwordSettings:null===(a=e.config)||void 0===a?void 0:a.passwordSettings,loginMechanisms:null===(s=e.config)||void 0===s?void 0:s.loginMechanisms,socialProviders:null===(l=e.config)||void 0===l?void 0:l.socialProviders,formFields:null===(c=e.config)||void 0===c?void 0:c.formFields});return v.spawn(u,{name:"signInActor"})}}),spawnSignUpActor:v.assign({actorRef:function(e,t){var n,o,i,a,s,l,c,u=function(e){var t=e.services;return v.createMachine({id:"signUpActor",initial:"init",predictableActionArguments:!0,states:{init:{always:[{target:"confirmSignUp",cond:"shouldInitConfirmSignUp"},{target:"signUp"}]},signUp:{type:"parallel",exit:["clearError","clearFormValues","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateSignUp",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submission:{initial:"idle",states:{idle:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"},FEDERATED_SIGN_IN:"federatedSignIn"}},federatedSignIn:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"federatedSignIn",onDone:"#signUpActor.resolved",onError:{actions:"setRemoteError"}}},validate:{entry:"sendUpdate",invoke:{src:"validateSignUp",onDone:{target:"pending",actions:"clearValidationError"},onError:{target:"idle",actions:"setFieldErrors"}}},pending:{tags:["pending"],entry:["parsePhoneNumber","sendUpdate","clearError"],invoke:{src:"signUp",onDone:[{cond:"shouldSkipConfirm",target:"skipConfirm",actions:["setUser","setCredentials"]},{target:"resolved",actions:["setUser","setCredentials","setCodeDeliveryDetails"]}],onError:{target:"idle",actions:"setRemoteError"}}},skipConfirm:{always:{target:"#signUpActor.resolved",actions:"setAutoSignInIntent"}},resolved:{type:"final",always:"#signUpActor.confirmSignUp"}}}}},confirmSignUp:{initial:"edit",states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"},RESEND:"resend"}},resend:{tags:["pending"],entry:"sendUpdate",invoke:{src:"resendConfirmationCode",onDone:{target:"edit"},onError:[{target:"#signUpActor.resolved",actions:"setAutoSignInIntent",cond:"isUserAlreadyConfirmed"},{target:"edit",actions:"setRemoteError"}]}},submit:{tags:["pending"],entry:["sendUpdate","clearError"],invoke:{src:"confirmSignUp",onDone:{target:"#signUpActor.resolved",actions:"setAutoSignInIntent"},onError:{target:"edit",actions:"setRemoteError"}}}}},resolved:{type:"final",data:function(e,t){var n=e.authAttributes,r=n.username,o=n.password;return{user:I.default(t,"data.user")||e.user,authAttributes:{username:r,password:o},intent:e.intent}}}}},{guards:{isUserAlreadyConfirmed:function(e,t){return"User is already confirmed."===t.data.message},shouldInitConfirmSignUp:function(e){return e.intent&&"confirmSignUp"===e.intent},shouldSkipConfirm:function(e,t){return t.data.userConfirmed}},actions:{clearError:Ye,clearFormValues:Je,clearTouched:Xe,clearValidationError:tt,handleInput:mt,handleSubmit:gt,handleBlur:vt,parsePhoneNumber:bt,setCredentials:st,setFieldErrors:lt,setRemoteError:ct,setCodeDeliveryDetails:pt,setUser:dt,sendUpdate:v.sendUpdate(),setAutoSignInIntent:v.assign({intent:function(e){return"confirmSignUp"===(null==e?void 0:e.intent)?"autoSignInSubmit":"autoSignIn"}})},services:{confirmSignUp:function(e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,o,i,a,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=e.user,o=e.authAttributes,i=e.formValues,a=i.confirmation_code,s=I.default(n,"username")||I.default(o,"username"),[4,t.handleConfirmSignUp({username:s,code:a})];case 1:return[2,r.sent()]}}))}))},resendConfirmationCode:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var t,n,o;return r.__generator(this,(function(r){return t=e.user,n=e.authAttributes,o=I.default(t,"username")||I.default(n,"username"),[2,h.Auth.resendSignUp(o)]}))}))},federatedSignIn:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=t.data.provider,[4,h.Auth.federatedSignIn({provider:e})];case 1:return[2,n.sent()]}}))}))},signUp:function(e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,o,i,a,s,l,c;return r.__generator(this,(function(r){switch(r.label){case 0:return n=e.formValues,o=e.loginMechanisms,i=o[0],s=(a=n)[void 0===i?"username":i],l=a.password,c=P.default(n,(function(e,t){switch(t){case"address":case"birthdate":case"email":case"family_name":case"gender":case"given_name":case"locale":case"middle_name":case"name":case"nickname":case"phone_number":case"picture":case"preferred_username":case"profile":case"updated_at":case"website":case"zoneinfo":return!0;default:return t.startsWith("custom:")}})),[4,t.handleSignUp({username:s,password:l,attributes:c})];case 1:return[2,r.sent()]}}))}))},validateSignUp:function(e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return[2,_t(e.formValues,e.touched,e.passwordSettings,[t.validateFormPassword,t.validateConfirmPassword,t.validatePreferredUsername,t.validateCustomSignUp])]}))}))}}})}({services:e.services}).withContext({authAttributes:null!==(o=null===(n=e.actorDoneData)||void 0===n?void 0:n.authAttributes)&&void 0!==o?o:{},country_code:"+1",intent:null===(i=e.actorDoneData)||void 0===i?void 0:i.intent,formValues:{},touched:{},validationError:{},loginMechanisms:null===(a=e.config)||void 0===a?void 0:a.loginMechanisms,socialProviders:null===(s=e.config)||void 0===s?void 0:s.socialProviders,formFields:null===(l=e.config)||void 0===l?void 0:l.formFields,passwordSettings:null===(c=e.config)||void 0===c?void 0:c.passwordSettings});return v.spawn(u,{name:"signUpActor"})}}),spawnResetPasswordActor:v.assign({actorRef:function(e,t){var n,o,i,a,s,l=function(e){var t=e.services;return v.createMachine({id:"resetPasswordActor",initial:"init",predictableActionArguments:!0,states:{init:{always:[{target:"confirmResetPassword",cond:"shouldAutoConfirmReset",actions:"resendCode"},{target:"resetPassword"}]},resetPassword:{initial:"edit",exit:["clearFormValues","clearError","clearTouched"],states:{edit:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"submit"},CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"}}},submit:{tags:["pending"],entry:["sendUpdate","setUsername","clearError"],invoke:{src:"resetPassword",onDone:{target:"#resetPasswordActor.confirmResetPassword"},onError:{actions:["setRemoteError"],target:"edit"}}}}},confirmResetPassword:{type:"parallel",exit:["clearFormValues","clearError","clearUsername","clearTouched"],states:{validation:{initial:"pending",states:{pending:{invoke:{src:"validateFields",onDone:{target:"valid",actions:"clearValidationError"},onError:{target:"invalid",actions:"setFieldErrors"}}},valid:{entry:"sendUpdate"},invalid:{entry:"sendUpdate"}},on:{CHANGE:{actions:"handleInput",target:".pending"},BLUR:{actions:"handleBlur",target:".pending"}}},submission:{initial:"idle",states:{idle:{entry:"sendUpdate",on:{SUBMIT:{actions:"handleSubmit",target:"validate"},RESEND:"resendCode",CHANGE:{actions:"handleInput"},BLUR:{actions:"handleBlur"}}},validate:{entry:"sendUpdate",invoke:{src:"validateFields",onDone:{target:"pending",actions:"clearValidationError"},onError:{target:"idle",actions:"setFieldErrors"}}},resendCode:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"resetPassword",onDone:{target:"idle"},onError:{actions:"setRemoteError",target:"idle"}}},pending:{tags:["pending"],entry:["clearError","sendUpdate"],invoke:{src:"confirmResetPassword",onDone:{actions:"clearUsername",target:"#resetPasswordActor.resolved"},onError:{actions:"setRemoteError",target:"idle"}}}}}}},resolved:{type:"final"}}},{actions:{clearError:Ye,clearFormValues:Je,clearTouched:Xe,clearUsername:et,clearValidationError:tt,handleInput:mt,handleSubmit:gt,handleBlur:vt,resendCode:yt,setFieldErrors:lt,setRemoteError:ct,setUsername:ft,sendUpdate:v.sendUpdate()},guards:{shouldAutoConfirmReset:function(e,t){return!(!e.intent||"confirmPasswordReset"!==e.intent)}},services:{resetPassword:function(e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){return n=e.username,[2,t.handleForgotPassword(n)]}))}))},confirmResetPassword:function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,o,i,a;return r.__generator(this,(function(r){return n=e.username,o=e.formValues,i=o.confirmation_code,a=o.password,[2,t.handleForgotPasswordSubmit({username:n,code:i,password:a})]}))}))},validateFields:function(e,t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,_t(e.formValues,e.touched,e.passwordSettings,[wt.validateFormPassword,wt.validateConfirmPassword])]}))}))}}})}({services:e.services}).withContext({formValues:{},touched:{},intent:null===(n=e.actorDoneData)||void 0===n?void 0:n.intent,username:null===(i=null===(o=e.actorDoneData)||void 0===o?void 0:o.authAttributes)||void 0===i?void 0:i.username,formFields:null===(a=e.config)||void 0===a?void 0:a.formFields,validationError:{},passwordSettings:null===(s=e.config)||void 0===s?void 0:s.passwordSettings});return v.spawn(l,{name:"resetPasswordActor"})}}),spawnSignOutActor:v.assign({actorRef:function(e){var t=kt.withContext({user:e.user});return v.spawn(t,{name:"signOutActor"})}}),stopSignInActor:We("signInActor"),stopSignUpActor:We("signUpActor"),stopResetPasswordActor:We("resetPasswordActor"),stopSignOutActor:We("signOutActor"),configure:v.assign((function(e,t){var n=t.data,o=n.services,i=r.__rest(n,["services"]);return{services:r.__assign(r.__assign({},wt),o),config:i}})),setHasSetup:v.assign({hasSetup:!0})},guards:{isInitialStateSignUp:function(e){return"signUp"===e.config.initialState},isInitialStateResetPassword:function(e){return"resetPassword"===e.config.initialState},shouldRedirectToSignUp:function(e,t){var n;return"confirmSignUp"===(null===(n=t.data)||void 0===n?void 0:n.intent)},shouldRedirectToResetPassword:function(e,t){var n;return"confirmPasswordReset"===(null===(n=t.data)||void 0===n?void 0:n.intent)},shouldAutoSignIn:function(e,t){var n,r;return"autoSignIn"===(null===(n=t.data)||void 0===n?void 0:n.intent)||"autoSignInSubmit"===(null===(r=t.data)||void 0===r?void 0:r.intent)},shouldSetup:function(e){return!1===e.hasSetup},hasActor:function(e){return!!e.actorRef}},services:{getCurrentUser:function(e,t){return e.services.getCurrentUser()},getAmplifyConfig:function(e,t){return e.services.getAmplifyConfig()}}})},t.createTheme=function(e,t){void 0===t&&(t=Ut);var n=L.default([{},t,e]),o=qt({tokens:n.tokens,setupToken:Ht}),i=n.breakpoints,a=n.name,s='[data-amplify-theme="'.concat(a,'"] {\n')+R.default(o).map((function(e){return"".concat(e.name,": ").concat(e.value,";")})).join("\n")+"\n}\n",l=[];return n.overrides&&(l=n.overrides.map((function(e){var t=qt({tokens:e.tokens,setupToken:Ht}),o=R.default(t).map((function(e){return"".concat(e.name,": ").concat(e.value,";")})).join("\n");if("selector"in e&&(s+="\n".concat(e.selector," {\n").concat(o,"\n}\n")),"mediaQuery"in e&&(s+="\n@media (".concat(e.mediaQuery,') {\n  [data-amplify-theme="').concat(a,'"] {\n    ').concat(o,"\n  }\n}\n")),"breakpoint"in e){var i=n.breakpoints.values[e.breakpoint];s+="\n@media (min-width: ".concat(i,'px) {\n  [data-amplify-theme="').concat(a,'"] {\n    ').concat(o,"\n  }\n}\n")}return"colorMode"in e&&(s+="\n@media (prefers-color-scheme: ".concat(e.colorMode,') {\n          [data-amplify-theme="').concat(a,'"][data-amplify-color-mode="system"] {\n').concat(o,"\n}\n        }\n"),s+='\n[data-amplify-theme="'.concat(a,'"][data-amplify-color-mode="').concat(e.colorMode,'"] {\n').concat(o,"\n}\n")),r.__assign(r.__assign({},e),{tokens:t})}))),{tokens:o,breakpoints:i,name:a,cssText:s,overrides:l}},t.cssNameTransform=Vt,t.defaultAuthHubHandler=we,t.defaultDarkModeOverride=Kt,t.defaultFormFieldOptions=ve,t.defaultFormFieldsGetters=Ae,t.defaultTheme=Ut,t.deleteUser=function(){return r.__awaiter(void 0,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),ze.debug("calling Auth.deleteUser"),[4,h.Auth.deleteUser()];case 1:return t.sent(),ze.debug("Auth.deleteUser was successful"),[2,Promise.resolve()];case 2:return e=t.sent(),ze.debug("Auth.deleteUser failed with error",e),[2,Promise.reject(e)];case 3:return[2]}}))}))},t.getActorContext=F,t.getActorState=z,t.getAliasDefaultFormField=Ce,t.getConfiguredAliases=function(e){var t,n=(null===(t=e.config)||void 0===t?void 0:t.loginMechanisms).filter((function(e){return T.default(B,e)}));return{primaryAlias:n[0],secondaryAliases:n.slice(1)}},t.getCustomFormFields=Oe,t.getDefaultConfirmPasswordValidators=function(e){return[Ve(e)]},t.getDefaultFormFields=Pe,t.getDefaultPasswordValidators=function(){var e=function(){var e=h.Amplify.configure(),t=null==e?void 0:e.aws_cognito_password_protection_settings;if(!t)return null;var n=t.passwordPolicyCharacters,r=void 0===n?[]:n;return{minLength:t.passwordPolicyMinLength,needsLowerCase:r.includes("REQUIRES_LOWERCASE"),needsUpperCase:r.includes("REQUIRES_UPPERCASE"),needsNumber:r.includes("REQUIRES_NUMBERS"),needsSpecialChar:r.includes("REQUIRES_SYMBOLS")}}();if(!e)return[];var t=[],n=e.minLength,r=e.needsLowerCase,o=e.needsUpperCase,i=e.needsNumber,a=e.needsSpecialChar;return n&&t.push(function(e){return{validationMode:"onTouched",validator:function(t){return t.length>=e},message:"Password must have at least ".concat(e," characters")}}(n)),r&&t.push(Fe),o&&t.push(Ue),i&&t.push(je),a&&t.push(Be),t},t.getErrors=function(e){return e?(t=e,Array.isArray(t)?e:[e]):null;var t},t.getFormDataFromEvent=function(e){var t=new FormData(e.target);return Object.fromEntries(t)},t.getFormFields=Me,t.getLogger=De,t.getPrimaryAlias=W,t.getSendEventAliases=K,t.getServiceContextFacade=$,t.getServiceFacade=function(e){var t=e.send,n=e.state,o=K(t),i=$(n);return r.__assign(r.__assign({},o),i)},t.getSortedFormFields=function(e,t){var n=Me(e,t);return Ne(Ie(n))},t.getTotpCodeURL=function(e,t,n){return encodeURI("otpauth://totp/".concat(e,":").concat(t,"?secret=").concat(n,"&issuer=").concat(e))},t.hasSpecialChars=xe,t.hasTranslation=function(e){return h.I18n.get(e)!==e},t.humanFileSize=Ge,t.isAuthFieldWithDefaults=be,t.isAuthFieldsWithDefaults=G,t.isDesignToken=function(e){return q(e)&&O.default(e,"value")},t.isObject=q,t.isString=H,t.isUndefined=function(e){return void 0===e},t.isUnverifiedContactMethodType=function(e){return Object.values(t.UnverifiedContactMethodType).findIndex((function(t){return t===e}))>=0},t.isValidExtension=function(e,t){var n=e.split(".").pop();return t.split(".").pop()===n},t.listenToAuthHub=function(e,t){return void 0===t&&(t=we),h.Hub.listen("auth",function(e,t){return function(n){t(n,e)}}(e,t),"authenticator-hub-handler")},t.reactNativeDarkTokens=$t,t.reactNativeTokens=Ft,t.removeOrderKeys=Ne,t.returnAcceptedFiles=function(e,t){return e.filter((function(e){var n=e.name||"",r=(e.type||"").toLowerCase(),o=r.replace(/\/.*$/,"");return t.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?n.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):r===t}))}))},t.runFieldValidators=function(e){var t=e.value,n=e.validators,o=e.eventType,i=e.hasBlurred;return t?n.reduce((function(e,n){var a=n.validator,s=n.validationMode,l=n.message;if(function(e){var t=e.eventType,n=e.hasBlurred;switch(e.validationMode){case"onBlur":return"blur"===t;case"onChange":return"change"===t;case"onTouched":return"blur"===t||n}}({validationMode:s,eventType:o,hasBlurred:i}))return a(t)?e:r.__spreadArray(r.__spreadArray([],e,!0),[l],!1)}),[]):[]},t.sanitizeNamespaceImport=function(e){var t,n=r.__assign({default:void 0},e);return null!==(t=n.default)&&void 0!==t?t:n},t.setFormOrder=function(e,t){var n=[];return e&&(n=Object.keys(e).reduce((function(t,n){var r;return t.push([n,null===(r=e[n])||void 0===r?void 0:r.order]),t}),[]).sort((function(e,t){return e[1]-t[1]})).filter((function(e){return void 0!==e[1]})).map((function(e){return e[0]}))),Array.from(new Set(r.__spreadArray(r.__spreadArray([],n,!0),t,!0)))},t.setupTokens=qt,t.signUpFieldsWithDefault=j,t.signUpFieldsWithoutDefault=["address","gender","locale","picture","updated_at","zoneinfo"],t.sortFormFields=Ie,t.translate=me,t.translations=ge,t.trimValues=Se,t.uploadFile=function(e){var t=e.file,n=e.fileName,o=e.level,i=void 0===o?"private":o,a=e.progressCallback,s=e.errorCallback,l=e.completeCallback,c=e.isResumable,u=void 0!==c&&c,d=r.__rest(e,["file","fileName","level","progressCallback","errorCallback","completeCallback","isResumable"]),f=t.type||"binary/octet-stream";return!0===u?h.Storage.put(n,t,r.__assign({level:i,resumable:u,progressCallback:a,errorCallback:s,completeCallback:l,contentType:f},d)):h.Storage.put(n,t,r.__assign({level:i,resumable:!1,progressCallback:a,contentType:f},d)).then(l,s)}},48260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},16665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},30969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},55287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},40087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11980);r.__exportStar(n(48260),t),r.__exportStar(n(16665),t),r.__exportStar(n(35470),t),r.__exportStar(n(30969),t),r.__exportStar(n(55287),t)},11980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},57333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},52769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(63479),o=n(38889),i=n(41938),a=n(21),s=n(40087),l=n(56495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,l.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,l.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},63479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(38036),o=n(57333),i=n(62084),a=n(56495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",l(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(l(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function l(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},77643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(75789).__exportStar)(n(52769),t);var r=n(63479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(38889);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},38036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},38889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(17658),o=n(57333),i=n(56495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},75789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},10914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(89945),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(h+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(r.KEY[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;u=c,c=l,l=s,s=a+m|0,a=i,i=o,o=n,n=m+g|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}();t.RawSha256=o},89945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},41938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(73541).__exportStar)(n(65430),t)},65430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(73541),o=n(89945),i=n(10914),a=n(17658),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},73541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},21:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(57840).__exportStar(n(97787),t)},97787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(57840),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},57840:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},51106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(62084),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},17658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(51106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(84304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(22174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(81558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},84304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},22174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},81558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},47150:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53630:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},82662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},74653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16977);r.__exportStar(n(47150),t),r.__exportStar(n(14607),t),r.__exportStar(n(53630),t),r.__exportStar(n(35338),t),r.__exportStar(n(82662),t)},16977:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},96585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},79815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(99941),o=n(49699),i=n(83779),a=n(61746),s=n(74653),l=n(56495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,l.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,l.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},99941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(37107),o=n(96585),i=n(99843),a=n(56495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",l(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(l(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function l(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},57752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(58463).__exportStar)(n(79815),t);var r=n(99941);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(49699);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},37107:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},49699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(59998),o=n(96585),i=n(56495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},58463:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},15849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(40408),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(h+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(r.KEY[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;u=c,c=l,l=s,s=a+m|0,a=i,i=o,o=n,n=m+g|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}();t.RawSha256=o},40408:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},83779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(37524).__exportStar)(n(40779),t)},40779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(37524),o=n(40408),i=n(15849),a=n(59998),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},37524:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},61746:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(32413).__exportStar(n(65681),t)},65681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(32413),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},32413:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},98392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(99843),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},59998:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(98392);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(74506);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(39396);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(12277);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},74506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},39396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},12277:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},99843:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},62665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},42650:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},54742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},16896:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},85225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,o=t.subtle;return n.map((function(e){return o[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},72041:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94806);r.__exportStar(n(62665),t),r.__exportStar(n(42650),t),r.__exportStar(n(54742),t),r.__exportStar(n(16896),t),r.__exportStar(n(85225),t)},94806:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},97035:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},38685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(49339),o=n(4313),i=n(53249),a=n(83378),s=n(72041),l=n(56495),c=function(){function e(e){(0,a.supportsWebCrypto)((0,l.locateWindow)())?this.hash=new o.Sha256(e):(0,s.isMsWindow)((0,l.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new i.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},49339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(55519),o=n(97035),i=n(28200),a=n(56495),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",l(e),o.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(o.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(l(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function l(e){return"string"==typeof e?(0,i.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},47546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(35955).__exportStar)(n(38685),t);var r=n(49339);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var o=n(4313);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return o.Sha256}})},55519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},4313:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(94196),o=n(97035),i=n(56495),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,i.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),o.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,i.locateWindow)().crypto.subtle.sign(o.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(o.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,i.locateWindow)().crypto.subtle.digest(o.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},35955:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},57948:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(66323),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(r.DIGEST_LENGTH);for(o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=0;d<r.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(255&e[4*d])<<24|(255&e[4*d+1])<<16|(255&e[4*d+2])<<8|255&e[4*d+3];else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[d-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(h+this.temp[d-16]|0)}var m=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&l^~s&c)|0)+(u+(r.KEY[d]+this.temp[d]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;u=c,c=l,l=s,s=a+m|0,a=i,i=o,o=n,n=m+g|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=l,t[6]+=c,t[7]+=u},e}();t.RawSha256=o},66323:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},53249:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(12960).__exportStar)(n(62139),t)},62139:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(12960),o=n(66323),i=n(57948),a=n(94196),s=function(){function e(e){if(this.hash=new i.RawSha256,e){this.outer=new i.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(o.BLOCK_SIZE);n.set(t);for(var r=0;r<o.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;for(this.hash.update(t),this.outer.update(n),r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},12960:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},83378:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(79077).__exportStar(n(43551),t)},43551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(79077),o=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function i(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function a(e){return e&&o.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!i(e)||"object"!=typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=i,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},79077:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},23496:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(28200),o="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},94196:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(23496);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(19233);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(91428);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(55763);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},19233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},91428:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},55763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},28200:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},o=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},47138:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(70655),o=n(98578),i=n(52616),a=n(15865),s=n(22593),l=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,s.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.AB)(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:o.fGc.filterSensitiveLog,outputFilterSensitiveLog:o.fip.filterSensitiveLog},l=t.requestHandler;return r.resolve((function(e){return l.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,i.CEs)(e,t)},t.prototype.deserialize=function(e,t){return(0,i.WqK)(e,t)},t}(n(82254).mY)},67485:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(70655),o=n(98578),i=n(52616),a=n(15865),s=n(83112),l=n(22593),c=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,l.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,s.mS)(t)),this.middlewareStack.use((0,a.AB)(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:o.HvU.filterSensitiveLog,outputFilterSensitiveLog:o.Gvb.filterSensitiveLog},c=t.requestHandler;return r.resolve((function(e){return c.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,i.l7b)(e,t)},t.prototype.deserialize=function(e,t){return(0,i.W5_)(e,t)},t}(n(82254).mY)},6675:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var r=n(70655),o=n(98578),i=n(52616),a=n(15865),s=n(22593),l=n(59847),c=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,s.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,l.gc)(t)),this.middlewareStack.use((0,a.AB)(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:o.bQY.filterSensitiveLog,outputFilterSensitiveLog:o.r90.filterSensitiveLog},c=t.requestHandler;return r.resolve((function(e){return c.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,i.jPT)(e,t)},t.prototype.deserialize=function(e,t){return(0,i.rVu)(e,t)},t}(n(82254).mY)},19099:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var r=n(70655),o=n(98578),i=n(52616),a=n(15865),s=n(22593),l=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,s.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.AB)(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:o.Szx.filterSensitiveLog,outputFilterSensitiveLog:o.pZk.filterSensitiveLog},l=t.requestHandler;return r.resolve((function(e){return l.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,i.Sdo)(e,t)},t.prototype.deserialize=function(e,t){return(0,i.efb)(e,t)},t}(n(82254).mY)},47908:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var r=n(70655),o=n(98578),i=n(52616),a=n(15865),s=n(22593),l=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,r.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,s.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,a.AB)(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:o.myr.filterSensitiveLog,outputFilterSensitiveLog:o.hoG.filterSensitiveLog},l=t.requestHandler;return r.resolve((function(e){return l.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return(0,i.DEn)(e,t)},t.prototype.deserialize=function(e,t){return(0,i.Y6h)(e,t)},t}(n(82254).mY)},60664:(e,t,n)=>{"use strict";n.d(t,{c:()=>q});var r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T,I,P,O,M,N,L,R,D,z=n(70655),F=n(98578),U=n(82254);!function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.Encryption&&{Encryption:F.dWY.filterSensitiveLog(e.Encryption)})}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.S3&&{S3:o.filterSensitiveLog(e.S3)})}}(i||(i={})),function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(s||(s={})),function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(d||(d={})),function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(g||(g={})),function(e){e.SELECT="SELECT"}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.OutputLocation&&{OutputLocation:i.filterSensitiveLog(e.OutputLocation)})}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.RestoreRequest&&{RestoreRequest:y.filterSensitiveLog(e.RestoreRequest)})}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(k||(k={})),function(e){e.visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:E.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:k.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:S.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:_.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:w.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:U.oc})}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:U.oc})}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:U.oc})}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:U.oc})}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,z.__assign)((0,z.__assign)((0,z.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:U.oc}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:U.oc})}}(D||(D={}));var j=n(52616),B=n(15865),V=n(22593),G=n(59847),q=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,z.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,V.p2)(t,this.serialize,this.deserialize)),this.middlewareStack.use((0,G.gc)(t)),this.middlewareStack.use((0,B.AB)(t));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:N.filterSensitiveLog,outputFilterSensitiveLog:M.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return(0,j.t82)(e,t)},t.prototype.deserialize=function(e,t){return(0,j.R7p)(e,t)},t}(U.mY)},98578:(e,t,n)=>{"use strict";n.d(t,{FDr:()=>B,Gvb:()=>p,HvU:()=>g,NDW:()=>Sr,Szx:()=>Gn,Zfp:()=>V,_4d:()=>xr,bQY:()=>A,dWY:()=>Fr,eU0:()=>Zt,fGc:()=>i,fip:()=>o,hoG:()=>Zn,myr:()=>Yn,nXp:()=>y,pZk:()=>Vn,r90:()=>k,ufJ:()=>b,ynn:()=>Yt});var r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T,I,P,O,M,N,L,R,D,z,F,U,j,B,V,G,q,H,W,K,$,Z,Y,J,X,Q,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,fe,pe,he,me,ge,ve,ye,be,_e,we,xe,Se,Ee,Ce,ke,Ae,Te,Ie,Pe,Oe,Me,Ne,Le,Re,De,ze,Fe,Ue,je,Be,Ve,Ge,qe,He,We,Ke,$e,Ze,Ye,Je,Xe,Qe,et,tt,nt,rt,ot,it,at,st,lt,ct,ut,dt,ft,pt,ht,mt,gt,vt,yt,bt,_t,wt,xt,St,Et,Ct,kt,At,Tt,It,Pt,Ot,Mt,Nt,Lt,Rt,Dt,zt,Ft,Ut,jt,Bt,Vt,Gt,qt,Ht,Wt,Kt,$t,Zt,Yt,Jt,Xt,Qt,en,tn,nn,rn,on,an,sn,ln,cn,un,dn,fn,pn,hn,mn,gn,vn,yn,bn,_n,wn,xn,Sn,En,Cn,kn,An,Tn,In,Pn,On,Mn,Nn,Ln,Rn,Dn,zn,Fn,Un,jn,Bn,Vn,Gn,qn,Hn,Wn,Kn,$n,Zn,Yn,Jn,Xn,Qn,er,tr,nr,rr,or,ir,ar,sr,lr,cr,ur,dr,fr,pr,hr,mr,gr,vr,yr,br,_r,wr,xr,Sr,Er,Cr,kr,Ar,Tr,Ir,Pr,Or,Mr,Nr,Lr,Rr,Dr,zr,Fr,Ur=n(70655),jr=n(82254);!function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(r||(r={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(o||(o={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(i||(i={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(a||(a={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(s||(s={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(l||(l={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(c||(c={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(u||(u={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc})}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:jr.oc})}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:jr.oc}),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:jr.oc}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:jr.oc})}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:jr.oc})}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:jr.oc}),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:jr.oc})}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(re||(re={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:re.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Filter&&{Filter:oe.filterSensitiveLog(e.Filter)})}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:ce.filterSensitiveLog(e.AnalyticsConfiguration)})}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:jr.oc})}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:me.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return ge.filterSensitiveLog(e)}))})}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:ve.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.KeyId&&{KeyId:jr.oc})}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.SSEKMS&&{SSEKMS:ke.filterSensitiveLog(e.SSEKMS)})}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Encryption&&{Encryption:Te.filterSensitiveLog(e.Encryption)})}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.S3BucketDestination&&{S3BucketDestination:Ie.filterSensitiveLog(e.S3BucketDestination)})}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Destination&&{Destination:Pe.filterSensitiveLog(e.Destination)})}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.InventoryConfiguration&&{InventoryConfiguration:Ne.filterSensitiveLog(e.InventoryConfiguration)})}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ze||(ze={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:ze.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Filter&&{Filter:Fe.filterSensitiveLog(e.Filter)})}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Ve.filterSensitiveLog(e)}))})}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Je||(Je={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Je.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Filter&&{Filter:Xe.filterSensitiveLog(e.Filter)})}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.MetricsConfiguration&&{MetricsConfiguration:Qe.filterSensitiveLog(e.MetricsConfiguration)})}}(et||(et={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(rt||(rt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ot||(ot={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(it||(it={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(at||(at={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(st||(st={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(lt||(lt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ct||(ct={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ut||(ut={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(dt||(dt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ft||(ft={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(pt||(pt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ht||(ht={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(mt||(mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(gt||(gt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(vt||(vt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(yt||(yt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(bt||(bt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(_t||(_t={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(wt||(wt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(xt||(xt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(St||(St={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ct||(Ct={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(kt||(kt={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:ne.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:kt.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(At||(At={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Tt||(Tt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(It||(It={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Pt||(Pt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Filter&&{Filter:At.filterSensitiveLog(e.Filter)})}}(Ot||(Ot={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Ot.filterSensitiveLog(e)}))})}}(Mt||(Mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:Mt.filterSensitiveLog(e.ReplicationConfiguration)})}}(Nt||(Nt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Lt||(Lt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Rt||(Rt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Dt||(Dt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(zt||(zt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ft||(Ft={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ut||(Ut={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(jt||(jt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Bt||(Bt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Vt||(Vt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Gt||(Gt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(qt||(qt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ht||(Ht={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Wt||(Wt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Kt||(Kt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}($t||($t={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc})}}(Zt||(Zt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:jr.oc})}}(Yt||(Yt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Jt||(Jt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Xt||(Xt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Qt||(Qt={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(en||(en={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(tn||(tn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(nn||(nn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(rn||(rn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(on||(on={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(an||(an={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(sn||(sn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ln||(ln={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(cn||(cn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(un||(un={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(dn||(dn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(fn||(fn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(pn||(pn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(hn||(hn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(mn||(mn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(gn||(gn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(vn||(vn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(yn||(yn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(bn||(bn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(_n||(_n={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(wn||(wn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc})}}(xn||(xn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:jr.oc})}}(Sn||(Sn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return ce.filterSensitiveLog(e)}))})}}(En||(En={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Cn||(Cn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(kn||(kn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(An||(An={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return Ne.filterSensitiveLog(e)}))})}}(Tn||(Tn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(In||(In={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return Qe.filterSensitiveLog(e)}))})}}(Pn||(Pn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(On||(On={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Mn||(Mn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Nn||(Nn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ln||(Ln={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Rn||(Rn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Dn||(Dn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(zn||(zn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Fn||(Fn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Un||(Un={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(jn||(jn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Bn||(Bn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Vn||(Vn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Gn||(Gn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(qn||(qn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Hn||(Hn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Wn||(Wn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Kn||(Kn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}($n||($n={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Zn||(Zn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Yn||(Yn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Jn||(Jn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Xn||(Xn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:ce.filterSensitiveLog(e.AnalyticsConfiguration)})}}(Qn||(Qn={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(er||(er={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(tr||(tr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:ve.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(nr||(nr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(rr||(rr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.InventoryConfiguration&&{InventoryConfiguration:Ne.filterSensitiveLog(e.InventoryConfiguration)})}}(or||(or={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Ve.filterSensitiveLog(e)}))})}}(ir||(ir={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:ir.filterSensitiveLog(e.LifecycleConfiguration)})}}(ar||(ar={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(sr||(sr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(lr||(lr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.MetricsConfiguration&&{MetricsConfiguration:Qe.filterSensitiveLog(e.MetricsConfiguration)})}}(cr||(cr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(ur||(ur={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(dr||(dr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(fr||(fr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:Mt.filterSensitiveLog(e.ReplicationConfiguration)})}}(pr||(pr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(hr||(hr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(mr||(mr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(gr||(gr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(vr||(vr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(yr||(yr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(br||(br={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(_r||(_r={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(wr||(wr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:jr.oc})}}(xr||(xr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)((0,Ur.__assign)({},e),e.SSECustomerKey&&{SSECustomerKey:jr.oc}),e.SSEKMSKeyId&&{SSEKMSKeyId:jr.oc}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:jr.oc})}}(Sr||(Sr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Er||(Er={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Cr||(Cr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(kr||(kr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ar||(Ar={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Tr||(Tr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Ir||(Ir={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Pr||(Pr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Or||(Or={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Mr||(Mr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Nr||(Nr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Lr||(Lr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Rr||(Rr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(Dr||(Dr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)({},e)}}(zr||(zr={})),function(e){e.filterSensitiveLog=function(e){return(0,Ur.__assign)((0,Ur.__assign)({},e),e.KMSKeyId&&{KMSKeyId:jr.oc})}}(Fr||(Fr={}))},52616:(e,t,n)=>{"use strict";n.d(t,{WqK:()=>b,W5_:()=>w,gur:()=>S,rVu:()=>C,IY3:()=>A,P3C:()=>I,efb:()=>O,Y6h:()=>N,iIy:()=>R,R7p:()=>z,CEs:()=>c,l7b:()=>u,R89:()=>d,jPT:()=>f,BrV:()=>p,LHU:()=>h,Sdo:()=>m,DEn:()=>g,gYi:()=>v,t82:()=>y});var r=n(70655),o=n(75882),i=n(82254);var a=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,o=this.attributes;try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(o)),a=i.next();!a.done;a=i.next()){var s=a.value,l=o[s];null!=l&&(r+=" "+s+'="'+(""+l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"')}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}(),s=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),l=n(36965),c=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:if(n=(0,r.__assign)((0,r.__assign)({},ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l=(0,r.__assign)({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,d=c.protocol,f=void 0===d?"https":d,p=c.port,[2,new o.aW({protocol:f,hostname:u,port:p,method:"DELETE",headers:n,path:a,query:l,body:void 0})]}}))}))},u=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p,h,m;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:if(n=(0,r.__assign)((0,r.__assign)({"content-type":"application/xml"},ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l=(0,r.__assign)({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(u=q(e.MultipartUpload,t),c='<?xml version="1.0" encoding="UTF-8"?>',u.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),c+=u.toString()),[4,t.endpoint()];case 1:return d=g.sent(),f=d.hostname,p=d.protocol,h=void 0===p?"https":p,m=d.port,[2,new o.aW({protocol:h,hostname:f,port:m,method:"POST",headers:n,path:a,query:l,body:c})]}}))}))},d=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:if(n=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},ee(e.ACL)&&{"x-amz-acl":e.ACL}),ee(e.CacheControl)&&{"cache-control":e.CacheControl}),ee(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),ee(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),ee(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),ee(e.ContentType)&&{"content-type":e.ContentType}),ee(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),ee(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),ee(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":(0,i._w)(e.CopySourceIfModifiedSince).toString()}),ee(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),ee(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":(0,i._w)(e.CopySourceIfUnmodifiedSince).toString()}),ee(e.Expires)&&{expires:(0,i._w)(e.Expires).toString()}),ee(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),ee(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),ee(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),ee(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),ee(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),ee(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),ee(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),ee(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),ee(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),ee(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),ee(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),ee(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),ee(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),ee(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),ee(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),ee(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),ee(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),ee(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.Tagging)&&{"x-amz-tagging":e.Tagging}),ee(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),ee(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),ee(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),ee(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var o;return(0,r.__assign)((0,r.__assign)({},t),((o={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],o))}),{})),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,d=c.protocol,f=void 0===d?"https":d,p=c.port,[2,new o.aW({protocol:f,hostname:u,port:p,method:"PUT",headers:n,path:a,query:l,body:void 0})]}}))}))},f=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:if(n=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},ee(e.ACL)&&{"x-amz-acl":e.ACL}),ee(e.CacheControl)&&{"cache-control":e.CacheControl}),ee(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),ee(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),ee(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),ee(e.ContentType)&&{"content-type":e.ContentType}),ee(e.Expires)&&{expires:(0,i._w)(e.Expires).toString()}),ee(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),ee(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),ee(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),ee(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),ee(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),ee(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),ee(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),ee(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),ee(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),ee(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),ee(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),ee(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),ee(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.Tagging)&&{"x-amz-tagging":e.Tagging}),ee(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),ee(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),ee(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var o;return(0,r.__assign)((0,r.__assign)({},t),((o={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],o))}),{})),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l={uploads:""},[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,d=c.protocol,f=void 0===d?"https":d,p=c.port,[2,new o.aW({protocol:f,hostname:u,port:p,method:"POST",headers:n,path:a,query:l,body:void 0})]}}))}))},p=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:if(n=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},ee(e.MFA)&&{"x-amz-mfa":e.MFA}),ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l=(0,r.__assign)({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,d=c.protocol,f=void 0===d?"https":d,p=c.port,[2,new o.aW({protocol:f,hostname:u,port:p,method:"DELETE",headers:n,path:a,query:l,body:void 0})]}}))}))},h=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:if(n=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({},ee(e.IfMatch)&&{"if-match":e.IfMatch}),ee(e.IfModifiedSince)&&{"if-modified-since":(0,i._w)(e.IfModifiedSince).toString()}),ee(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),ee(e.IfUnmodifiedSince)&&{"if-unmodified-since":(0,i._w)(e.IfUnmodifiedSince).toString()}),ee(e.Range)&&{range:e.Range}),ee(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),ee(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),ee(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,d=c.protocol,f=void 0===d?"https":d,p=c.port,[2,new o.aW({protocol:f,hostname:u,port:p,method:"GET",headers:n,path:a,query:l,body:void 0})]}}))}))},m=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:if(n=(0,r.__assign)((0,r.__assign)({},ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return a=a.replace("{Bucket}",(0,i.jc)(s)),l=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,d=c.protocol,f=void 0===d?"https":d,p=c.port,[2,new o.aW({protocol:f,hostname:u,port:p,method:"GET",headers:n,path:a,query:l,body:void 0})]}}))}))},g=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p;return(0,r.__generator)(this,(function(h){switch(h.label){case 0:if(n=(0,r.__assign)((0,r.__assign)({},ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l=(0,r.__assign)((0,r.__assign)((0,r.__assign)({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,d=c.protocol,f=void 0===d?"https":d,p=c.port,[2,new o.aW({protocol:f,hostname:u,port:p,method:"GET",headers:n,path:a,query:l,body:void 0})]}}))}))},v=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p,h,m;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:if(n=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({"content-type":"application/octet-stream"},ee(e.ACL)&&{"x-amz-acl":e.ACL}),ee(e.CacheControl)&&{"cache-control":e.CacheControl}),ee(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),ee(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),ee(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),ee(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),ee(e.ContentMD5)&&{"content-md5":e.ContentMD5}),ee(e.ContentType)&&{"content-type":e.ContentType}),ee(e.Expires)&&{expires:(0,i._w)(e.Expires).toString()}),ee(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),ee(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),ee(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),ee(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),ee(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),ee(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),ee(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),ee(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),ee(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),ee(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),ee(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),ee(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),ee(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.Tagging)&&{"x-amz-tagging":e.Tagging}),ee(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),ee(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),ee(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var o;return(0,r.__assign)((0,r.__assign)({},t),((o={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],o))}),{})),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l={"x-id":"PutObject"},void 0!==e.Body&&(u=e.Body,c=u),[4,t.endpoint()];case 1:return d=g.sent(),f=d.hostname,p=d.protocol,h=void 0===p?"https":p,m=d.port,[2,new o.aW({protocol:h,hostname:f,port:m,method:"PUT",headers:n,path:a,query:l,body:c})]}}))}))},y=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,c,u,d,f,p,h,m;return(0,r.__generator)(this,(function(g){switch(g.label){case 0:if(n=(0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)((0,r.__assign)({"content-type":"application/octet-stream"},ee(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),ee(e.ContentMD5)&&{"content-md5":e.ContentMD5}),ee(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),ee(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),ee(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),ee(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),ee(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((s=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(a=a.replace("{Bucket}",(0,i.jc)(s)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((s=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return a=a.replace("{Key+}",s.split("/").map((function(e){return(0,i.jc)(e)})).join("/")),l=(0,r.__assign)((0,r.__assign)({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(u=e.Body,c=u),[4,t.endpoint()];case 1:return d=g.sent(),f=d.hostname,p=d.protocol,h=void 0===p?"https":p,m=d.port,[2,new o.aW({protocol:h,hostname:f,port:m,method:"PUT",headers:n,path:a,query:l,body:c})]}}))}))},b=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,_(e,t)]:(n={$metadata:X(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Q(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},_=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c,u;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:return o=[(0,r.__assign)({},e)],u={},[4,te(e.body,t)];case 1:switch(n=r.__assign.apply(void 0,o.concat([(u.body=d.sent(),u)])),a="UnknownError",a=ne(e,n.body)){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,V(n,t)];case 3:return i=r.__assign.apply(void 0,[r.__assign.apply(void 0,s.concat([d.sent()])),{name:a,$metadata:X(e)}]),[3,5];case 4:l=n.body,a=l.code||l.Code||a,i=(0,r.__assign)((0,r.__assign)({},l),{name:""+a,message:l.message||l.Message||a,$fault:"client",$metadata:X(e)}),d.label=5;case 5:return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},w=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,x(e,t)]:(n={$metadata:X(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,te(e.body,t)]);case 1:return void 0!==(o=r.sent()).Bucket&&(n.Bucket=o.Bucket),void 0!==o.ETag&&(n.ETag=o.ETag),void 0!==o.Key&&(n.Key=o.Key),void 0!==o.Location&&(n.Location=o.Location),[2,Promise.resolve(n)]}}))}))},x=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return o=[(0,r.__assign)({},e)],c={},[4,te(e.body,t)];case 1:return n=r.__assign.apply(void 0,o.concat([(c.body=u.sent(),c)])),a="UnknownError",a=ne(e,n.body),s=n.body,a=s.code||s.Code||a,i=(0,r.__assign)((0,r.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:X(e)}),l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},S=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,E(e,t)]:(n={$metadata:X(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,te(e.body,t)]);case 1:return o=r.sent(),n.CopyObjectResult=K(o,t),[2,Promise.resolve(n)]}}))}))},E=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c,u;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:return o=[(0,r.__assign)({},e)],u={},[4,te(e.body,t)];case 1:switch(n=r.__assign.apply(void 0,o.concat([(u.body=d.sent(),u)])),a="UnknownError",a=ne(e,n.body)){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return s=[{}],[4,G(n,t)];case 3:return i=r.__assign.apply(void 0,[r.__assign.apply(void 0,s.concat([d.sent()])),{name:a,$metadata:X(e)}]),[3,5];case 4:l=n.body,a=l.code||l.Code||a,i=(0,r.__assign)((0,r.__assign)({},l),{name:""+a,message:l.message||l.Message||a,$fault:"client",$metadata:X(e)}),d.label=5;case 5:return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},C=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,k(e,t)]:(n={$metadata:X(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,te(e.body,t)]);case 1:return void 0!==(o=r.sent()).Bucket&&(n.Bucket=o.Bucket),void 0!==o.Key&&(n.Key=o.Key),void 0!==o.UploadId&&(n.UploadId=o.UploadId),[2,Promise.resolve(n)]}}))}))},k=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return o=[(0,r.__assign)({},e)],c={},[4,te(e.body,t)];case 1:return n=r.__assign.apply(void 0,o.concat([(c.body=u.sent(),c)])),a="UnknownError",a=ne(e,n.body),s=n.body,a=s.code||s.Code||a,i=(0,r.__assign)((0,r.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:X(e)}),l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},A=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,T(e,t)]:(n={$metadata:X(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Q(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},T=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return o=[(0,r.__assign)({},e)],c={},[4,te(e.body,t)];case 1:return n=r.__assign.apply(void 0,o.concat([(c.body=u.sent(),c)])),a="UnknownError",a=ne(e,n.body),s=n.body,a=s.code||s.Code||a,i=(0,r.__assign)((0,r.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:X(e)}),l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},I=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){return 200!==e.statusCode&&e.statusCode>=300?[2,P(e,t)]:(n={$metadata:X(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),o=e.body,n.Body=o,[2,Promise.resolve(n)])}))}))},P=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c,u,d;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return o=[(0,r.__assign)({},e)],d={},[4,te(e.body,t)];case 1:switch(n=r.__assign.apply(void 0,o.concat([(d.body=f.sent(),d)])),a="UnknownError",a=ne(e,n.body)){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,U(n,t)];case 3:return i=r.__assign.apply(void 0,[r.__assign.apply(void 0,s.concat([f.sent()])),{name:a,$metadata:X(e)}]),[3,7];case 4:return l=[{}],[4,B(n,t)];case 5:return i=r.__assign.apply(void 0,[r.__assign.apply(void 0,l.concat([f.sent()])),{name:a,$metadata:X(e)}]),[3,7];case 6:c=n.body,a=c.code||c.Code||a,i=(0,r.__assign)((0,r.__assign)({},c),{name:""+a,message:c.message||c.Message||a,$fault:"client",$metadata:X(e)}),f.label=7;case 7:return u=i.message||i.Message||a,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},O=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,M(e,t)]:(n={$metadata:X(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,te(e.body,t)]);case 1:return""===(o=r.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==o.CommonPrefixes&&(n.CommonPrefixes=W((0,i.L)(o.CommonPrefixes),t)),""===o.Contents&&(n.Contents=[]),void 0!==o.Contents&&(n.Contents=Z((0,i.L)(o.Contents),t)),void 0!==o.ContinuationToken&&(n.ContinuationToken=o.ContinuationToken),void 0!==o.Delimiter&&(n.Delimiter=o.Delimiter),void 0!==o.EncodingType&&(n.EncodingType=o.EncodingType),void 0!==o.IsTruncated&&(n.IsTruncated="true"==o.IsTruncated),void 0!==o.KeyCount&&(n.KeyCount=parseInt(o.KeyCount)),void 0!==o.MaxKeys&&(n.MaxKeys=parseInt(o.MaxKeys)),void 0!==o.Name&&(n.Name=o.Name),void 0!==o.NextContinuationToken&&(n.NextContinuationToken=o.NextContinuationToken),void 0!==o.Prefix&&(n.Prefix=o.Prefix),void 0!==o.StartAfter&&(n.StartAfter=o.StartAfter),[2,Promise.resolve(n)]}}))}))},M=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c,u;return(0,r.__generator)(this,(function(d){switch(d.label){case 0:return o=[(0,r.__assign)({},e)],u={},[4,te(e.body,t)];case 1:switch(n=r.__assign.apply(void 0,o.concat([(u.body=d.sent(),u)])),a="UnknownError",a=ne(e,n.body)){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,j(n,t)];case 3:return i=r.__assign.apply(void 0,[r.__assign.apply(void 0,s.concat([d.sent()])),{name:a,$metadata:X(e)}]),[3,5];case 4:l=n.body,a=l.code||l.Code||a,i=(0,r.__assign)((0,r.__assign)({},l),{name:""+a,message:l.message||l.Message||a,$fault:"client",$metadata:X(e)}),d.label=5;case 5:return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},N=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,L(e,t)]:(n={$metadata:X(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,te(e.body,t)]);case 1:return void 0!==(o=r.sent()).Bucket&&(n.Bucket=o.Bucket),void 0!==o.Initiator&&(n.Initiator=$(o.Initiator,t)),void 0!==o.IsTruncated&&(n.IsTruncated="true"==o.IsTruncated),void 0!==o.Key&&(n.Key=o.Key),void 0!==o.MaxParts&&(n.MaxParts=parseInt(o.MaxParts)),void 0!==o.NextPartNumberMarker&&(n.NextPartNumberMarker=o.NextPartNumberMarker),void 0!==o.Owner&&(n.Owner=Y(o.Owner,t)),void 0!==o.PartNumberMarker&&(n.PartNumberMarker=o.PartNumberMarker),""===o.Part&&(n.Parts=[]),void 0!==o.Part&&(n.Parts=J((0,i.L)(o.Part),t)),void 0!==o.StorageClass&&(n.StorageClass=o.StorageClass),void 0!==o.UploadId&&(n.UploadId=o.UploadId),[2,Promise.resolve(n)]}}))}))},L=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return o=[(0,r.__assign)({},e)],c={},[4,te(e.body,t)];case 1:return n=r.__assign.apply(void 0,o.concat([(c.body=u.sent(),c)])),a="UnknownError",a=ne(e,n.body),s=n.body,a=s.code||s.Code||a,i=(0,r.__assign)((0,r.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:X(e)}),l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},R=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,D(e,t)]:(n={$metadata:X(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Q(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},D=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return o=[(0,r.__assign)({},e)],c={},[4,te(e.body,t)];case 1:return n=r.__assign.apply(void 0,o.concat([(c.body=u.sent(),c)])),a="UnknownError",a=ne(e,n.body),s=n.body,a=s.code||s.Code||a,i=(0,r.__assign)((0,r.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:X(e)}),l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},z=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,F(e,t)]:(n={$metadata:X(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Q(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))},F=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var n,o,i,a,s,l,c;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return o=[(0,r.__assign)({},e)],c={},[4,te(e.body,t)];case 1:return n=r.__assign.apply(void 0,o.concat([(c.body=u.sent(),c)])),a="UnknownError",a=ne(e,n.body),s=n.body,a=s.code||s.Code||a,i=(0,r.__assign)((0,r.__assign)({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:X(e)}),l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}}))}))},U=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,r.__generator)(this,(function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:X(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]}))}))},j=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:X(e)},e.body,[2,t]}))}))},B=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:X(e)},e.body,[2,t]}))}))},V=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:X(e)},e.body,[2,t]}))}))},G=function(e,t){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(n){return t={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:X(e)},e.body,[2,t]}))}))},q=function(e,t){var n=new a("CompletedMultipartUpload");return void 0!==e.Parts&&null!==e.Parts&&H(e.Parts,t).map((function(e){e=e.withName("Part"),n.addChildNode(e)})),n},H=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){if(null===e)return null;var t=function(e,t){var n=new a("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var r=new a("ETag").addChildNode(new s(e.ETag)).withName("ETag");n.addChildNode(r)}return void 0!==e.PartNumber&&null!==e.PartNumber&&(r=new a("PartNumber").addChildNode(new s(String(e.PartNumber))).withName("PartNumber"),n.addChildNode(r)),n}(e);return t.withName("member")}))},W=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))},K=function(e,t){var n={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),n},$=function(e,t){var n={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(n.ID=e.ID),void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),n},Z=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=Y(e.Owner,t)),n}(e,t)}))},Y=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},J=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))},X=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Q=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},ee=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},te=function(e,t){return function(e,t){return Q(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=(0,l.parse)(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n="#text",r=Object.keys(t)[0],o=t[r];return o[n]&&(o[r]=o[n],delete o[n]),(0,i.sT)(o)}return{}}))},ne=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""}},36118:(e,t,n)=>{"use strict";n.d(t,{g4:()=>o,Xb:()=>s});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};var o=function(e){var t;return r(r({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?i(e):function(){return a(e)},isCustomEndpoint:!!e.endpoint})},i=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var o=Promise.resolve(t);return function(){return o}}return t},a=function(e){return t=void 0,n=void 0,o=function(){var t,n,r,o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(o=(null!==(i=a.sent())&&void 0!==i?i:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}}))},new((r=void 0)||(r=Promise))((function(e,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,s)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o},s=function(e){if(!e.region)throw new Error("Region is missing");return r(r({},e),{region:l(e.region)})},l=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},64735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(12897),o=n(17658),i=n(11423),a=function(){function e(){this.crc32=new i.Crc32}return e.prototype.update=function(e){(0,o.isEmptyData)(e)||this.crc32.update((0,o.convertToBuffer)(e))},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,(0,o.numToUint8)(this.crc32.digest())]}))}))},e}();t.AwsCrc32=a},11423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(12897),o=n(17658);t.crc32=function(e){return(new i).update(e).digest()};var i=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var o=(0,r.__values)(e),i=o.next();!i.done;i=o.next()){var s=i.value;this.checksum=this.checksum>>>8^a[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=i;var a=(0,o.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),s=n(64735);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})},12897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>C,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>x,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof y?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},98927:(e,t,n)=>{"use strict";n.d(t,{VQ:()=>O});var r=n(11423),o=n(12897),i=n(25644),a=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,o=Math.abs(Math.round(t));r>-1&&o>0;r--,o/=256)n[r]=o;return t<0&&s(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&s(e),parseInt((0,i.N)(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function s(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var l,c=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,i,a=[];try{for(var s=(0,o.__values)(Object.keys(e)),l=s.next();!l.done;l=s.next()){var c=l.value,u=this.fromUtf8(c);a.push(Uint8Array.from([u.byteLength]),u,this.formatHeaderValue(e[c]))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var d=new Uint8Array(a.reduce((function(e,t){return e+t.byteLength}),0)),f=0;try{for(var p=(0,o.__values)(a),h=p.next();!h.done;h=p.next()){var m=h.value;d.set(m,f),f+=m.byteLength}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return d},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);var s=new Uint8Array(o.buffer);return s.set(e.value,3),s;case"string":var l=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+l.byteLength));c.setUint8(0,7),c.setUint16(1,l.byteLength,!1);var u=new Uint8Array(c.buffer);return u.set(l,3),u;case"timestamp":var d=new Uint8Array(9);return d[0]=8,d.set(a.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!b.test(e.value))throw new Error("Invalid UUID received: "+e.value);var f=new Uint8Array(17);return f[0]=9,f.set((0,i.H)(e.value.replace(/\-/g,"")),1),f}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[o]={type:u,value:!0};break;case 1:t[o]={type:u,value:!1};break;case 2:t[o]={type:d,value:e.getInt8(n++)};break;case 3:t[o]={type:f,value:e.getInt16(n,!1)},n+=2;break;case 4:t[o]={type:p,value:e.getInt32(n,!1)},n+=4;break;case 5:t[o]={type:h,value:new a(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var s=e.getUint16(n,!1);n+=2,t[o]={type:m,value:new Uint8Array(e.buffer,e.byteOffset+n,s)},n+=s;break;case 7:var l=e.getUint16(n,!1);n+=2,t[o]={type:g,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,l))},n+=l;break;case 8:t[o]={type:v,value:new Date(new a(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[o]={type:y,value:(0,i.N)(c.subarray(0,4))+"-"+(0,i.N)(c.subarray(4,6))+"-"+(0,i.N)(c.subarray(6,8))+"-"+(0,i.N)(c.subarray(8,10))+"-"+(0,i.N)(c.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(l||(l={}));var u="boolean",d="byte",f="short",p="integer",h="long",m="binary",g="string",v="timestamp",y="uuid",b=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,_=function(){function e(e,t){this.headerMarshaller=new c(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,o=this.headerMarshaller.format(t),i=o.byteLength+n.byteLength+16,a=new Uint8Array(i),s=new DataView(a.buffer,a.byteOffset,a.byteLength),l=new r.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,o.byteLength,!1),s.setUint32(8,l.update(a.subarray(0,8)).digest(),!1),a.set(o,12),a.set(n,o.byteLength+12),s.setUint32(i-4,l.update(a.subarray(8,i-4)).digest(),!1),a},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,o=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(o,n,t),a=i.getUint32(0,!1);if(t!==a)throw new Error("Reported message length does not match received message length");var s=i.getUint32(4,!1),l=i.getUint32(8,!1),c=i.getUint32(t-4,!1),u=(new r.Crc32).update(new Uint8Array(o,n,8));if(l!==u.digest())throw new Error("The prelude checksum specified in the message ("+l+") does not match the calculated CRC32 checksum ("+u.digest()+")");if(u.update(new Uint8Array(o,n+8,t-12)),c!==u.digest())throw new Error("The message checksum ("+u.digest()+") did not match the expected value of "+c);return{headers:new DataView(o,n+8+4,s),body:new Uint8Array(o,n+8+4+s,a-s-16)}}(e),n=t.headers,o=t.body;return{headers:this.headerMarshaller.parse(n),body:o}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();function w(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function x(e){return this instanceof x?(this.v=e,this):new x(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof x?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}var C=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new _(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n,r,o,i,a,s,l,c=(n=e,o=0,i=0,a=null,s=null,l=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);o=e,i=4,a=new Uint8Array(e),new DataView(a.buffer).setUint32(0,e,!1)},(r={})[Symbol.asyncIterator]=function(){return S(this,arguments,(function(){var e,t,r,c,u,d,f,p;return w(this,(function(h){switch(h.label){case 0:e=n[Symbol.asyncIterator](),h.label=1;case 1:return[4,x(e.next())];case 2:return t=h.sent(),r=t.value,t.done?o?[3,4]:[4,x(void 0)]:[3,10];case 3:return[2,h.sent()];case 4:return o!==i?[3,7]:[4,x(a)];case 5:return[4,h.sent()];case 6:return h.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,x(void 0)];case 9:return[2,h.sent()];case 10:c=r.length,u=0,h.label=11;case 11:if(!(u<c))return[3,15];if(!a){if(d=c-u,s||(s=new Uint8Array(4)),f=Math.min(4-i,d),s.set(r.slice(u,u+f),i),u+=f,(i+=f)<4)return[3,15];l(new DataView(s.buffer).getUint32(0,!1)),s=null}return p=Math.min(o-i,c-u),a.set(r.slice(u,u+p),i),i+=p,u+=p,o&&o===i?[4,x(a)]:[3,14];case 12:return[4,h.sent()];case 13:h.sent(),a=null,o=0,i=0,h.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},r),u=function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return S(this,arguments,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y;return w(this,(function(b){switch(b.label){case 0:b.trys.push([0,12,13,18]),n=E(e),b.label=1;case 1:return[4,x(n.next())];case 2:if((r=b.sent()).done)return[3,11];if(o=r.value,i=t.eventMarshaller.unmarshall(o),"error"!==(a=i.headers[":message-type"].value))return[3,3];throw(s=new Error(i.headers[":error-message"].value||"UnknownError")).name=i.headers[":error-code"].value,s;case 3:return"exception"!==a?[3,5]:(l=i.headers[":exception-type"].value,(m={})[l]=i,c=m,[4,x(t.deserializer(c))]);case 4:if((u=b.sent()).$unknown)throw(d=new Error(t.toUtf8(i.body))).name=l,d;throw u[l];case 5:return"event"!==a?[3,9]:((g={})[i.headers[":event-type"].value]=i,f=g,[4,x(t.deserializer(f))]);case 6:return(p=b.sent()).$unknown?[3,10]:[4,x(p)];case 7:return[4,b.sent()];case 8:return b.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+i.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return h=b.sent(),v={error:h},[3,18];case 13:return b.trys.push([13,,16,17]),r&&!r.done&&(y=n.return)?[4,x(y.call(n))]:[3,15];case 14:b.sent(),b.label=15;case 15:return[3,17];case 16:if(v)throw v.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}(c,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return u},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return S(this,arguments,(function(){var n,o,i,a,s,l;return w(this,(function(c){switch(c.label){case 0:c.trys.push([0,7,8,13]),n=E(e),c.label=1;case 1:return[4,x(n.next())];case 2:return(o=c.sent()).done?[3,6]:(i=o.value,[4,x(r.eventMarshaller.marshall(t(i)))]);case 3:return[4,c.sent()];case 4:c.sent(),c.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return a=c.sent(),s={error:a},[3,13];case 8:return c.trys.push([8,,11,12]),o&&!o.done&&(l=n.return)?[4,x(l.call(n))]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(s)throw s.error;return[7];case 12:return[7];case 13:return[4,x(new Uint8Array(0))];case 14:return[4,c.sent()];case 15:return c.sent(),[2]}}))}))},n},e}();function k(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function A(e){return this instanceof A?(this.v=e,this):new A(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof A?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}var I=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new _(t,n),this.universalMarshaller=new C({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n,r,o=P(e)?(n=e,(r={})[Symbol.asyncIterator]=function(){return T(this,arguments,(function(){var e,t,r,o;return k(this,(function(i){switch(i.label){case 0:e=n.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,A(e.read())];case 3:return t=i.sent(),r=t.done,o=t.value,r?[4,A(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,A(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))},r):e;return this.universalMarshaller.deserialize(o,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return t=this,r=void 0,i=function(){var t,r,o;return k(this,(function(i){switch(i.label){case 0:return[4,n.next()];case 1:return t=i.sent(),r=t.done,o=t.value,r?[2,e.close()]:(e.enqueue(o),[2])}}))},new((o=void 0)||(o=Promise))((function(e,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,s)}l((i=i.apply(t,r||[])).next())}));var t,r,o,i}})):r},e}(),P=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream},O=function(e){return new I(e)}},66858:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=function(e){return r(r({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})}},16776:(e,t,n)=>{"use strict";function r(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}n.d(t,{B:()=>s,C:()=>c});var i=n(75882),a=n(62108),s=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var o=new Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var s=e.path;if(e.query){var l=(0,a.I)(e.query);l&&(s+="?"+l)}var c=e.port,u=e.method,d=e.protocol+"//"+e.hostname+(c?":"+c:"")+s,f={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(f.signal=n);var p,h=new Request(d,f),m=[fetch(h).then((function(e){var t,n,r=e.headers,o={};try{for(var a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(r.entries()),s=a.next();!s.done;s=a.next()){var l=s.value;o[l[0]]=l[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new i.Zn({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new i.Zn({headers:o,statusCode:e.status,body:t})}}))})),(p=r,void 0===p&&(p=0),new Promise((function(e,t){p&&setTimeout((function(){var e=new Error("Request did not complete within "+p+" ms");e.name="TimeoutError",t(e)}),p)})))];return n&&m.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(m)},e}(),l=n(67157),c=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,u(e)];case 1:return t=r.sent(),n=(0,l.G)(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a,s,l;return o(this,(function(o){switch(o.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,o.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=o.sent(),a=i.done,(s=i.value)&&(l=t,(t=new Uint8Array(l.length+s.length)).set(l),t.set(s,l.length)),r=a,[3,1];case 3:return[2,t]}}))}))}(e)};function u(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}},35749:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r=function(e){return function(){return Promise.reject(e)}}},15865:(e,t,n)=>{"use strict";n.d(t,{AB:()=>S,Z4:()=>E});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var i=n(75882),a=n(45653),s=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,l=/(\d+\.){3}\d+/,c=/\.\./,u=/\./,d=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,f=/^s3(-external-1)?\.amazonaws\.com$/,p="amazonaws.com",h=function(e){return g(e)?e.replace(/fips-|-fips/,""):e},m=function(e){var t=e.match(d);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},g=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},v=function(e,t){return e===t||h(e)===t||e===h(t)},y=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&u.test(e))throw new Error("Invalid DNS label "+e)},b=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),o=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(o)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?w(r(r({},e),{isCustomEndpoint:t})):_(r(r({},e),{isCustomEndpoint:t}))},_=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,i=o(n?[e.clientRegion,r]:(t=r,f.test(t)?[t.replace("."+p,""),p]:m(t)),2),a=i[0],s=i[1],l=e.pathStyleEndpoint,c=e.dualstackEndpoint,u=void 0!==c&&c,d=e.accelerateEndpoint,h=void 0!==d&&d,b=e.tlsCompatible,_=void 0===b||b,w=e.useArnRegion,x=e.bucketName,S=e.clientPartition,E=void 0===S?"aws":S,C=e.clientSigningRegion,k=void 0===C?a:C;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:l,accelerateEndpoint:h,tlsCompatible:_});var A=x.service,T=x.partition,I=x.accountId,P=x.region,O=x.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(A),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(T,{clientPartition:E}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(I),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!v(e,t.clientRegion)&&!v(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&g(e))throw new Error("Endpoint does not support FIPS region")}(P,{useArnRegion:w,clientRegion:a,clientSigningRegion:k});var M=function(e){var t=e.includes(":")?":":"/",n=o(e.split(t)),r=n[0],i=n.slice(1);if("accesspoint"===r){if(1!==i.length||""===i[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===r){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var a=o(i,3),s=a[0];return a[1],{outpostId:s,accesspointName:a[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(O),N=M.accesspointName,L=M.outpostId;y(N+"-"+I,{tlsCompatible:_});var R=w?P:a,D=w?P:k;return L?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(A),y(L,{tlsCompatible:_}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(u),function(e){if(g(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(R),{bucketEndpoint:!0,hostname:N+"-"+I+"."+L+(n?"":".s3-outposts."+R)+"."+s,signingRegion:D,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(A),{bucketEndpoint:!0,hostname:N+"-"+I+(n?"":".s3-accesspoint"+(u?".dualstack":"")+"."+R)+"."+s,signingRegion:D})},w=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,i=e.clientRegion,a=e.baseHostname,d=e.bucketName,h=e.dualstackEndpoint,g=void 0!==h&&h,v=e.pathStyleEndpoint,y=void 0!==v&&v,b=e.tlsCompatible,_=void 0===b||b,w=e.isCustomEndpoint,x=o(void 0!==w&&w?[i,a]:(t=a,f.test(t)?["us-east-1",p]:m(t)),2),S=x[0],E=x[1];return y||!function(e){return s.test(e)&&!l.test(e)&&!c.test(e)}(d)||_&&u.test(d)?{bucketEndpoint:!1,hostname:g?"s3.dualstack."+S+"."+E:a}:(r?a="s3-accelerate"+(g?".dualstack":"")+"."+E:g&&(a="s3.dualstack."+S+"."+E),{bucketEndpoint:!0,hostname:d+"."+a})},x={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},S=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(o){return s=void 0,l=void 0,u=function(){var s,l,c,u,d,f,p,m,g,v,y,_,w,x,S,E,C,k;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(A){switch(A.label){case 0:return s=o.input.Bucket,l=e.bucketEndpoint,c=o.request,i.aW.isInstance(c)?e.bucketEndpoint?(c.hostname=s,[3,7]):[3,1]:[3,8];case 1:return(0,a.Gu)(s)?(u=(0,a.Qc)(s),d=h,[4,e.region()]):[3,5];case 2:return x=d.apply(void 0,[A.sent()]),[4,e.regionInfoProvider(x)];case 3:return f=A.sent()||{},p=f.partition,m=f.signingRegion,g=void 0===m?x:m,[4,e.useArnRegion()];case 4:return v=A.sent(),y=b({bucketName:u,baseHostname:c.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===c.protocol,useArnRegion:v,clientPartition:p,clientSigningRegion:g,clientRegion:x,isCustomEndpoint:e.isCustomEndpoint}),C=y.hostname,k=y.bucketEndpoint,_=y.signingRegion,w=y.signingService,_&&_!==g&&(n.signing_region=_),w&&"s3"!==w&&(n.signing_service=w),c.hostname=C,l=k,[3,7];case 5:return S=h,[4,e.region()];case 6:x=S.apply(void 0,[A.sent()]),E=b({bucketName:s,clientRegion:x,baseHostname:c.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===c.protocol,isCustomEndpoint:e.isCustomEndpoint}),C=E.hostname,k=E.bucketEndpoint,c.hostname=C,l=k,A.label=7;case 7:l&&(c.path=c.path.replace(/^(\/)?[^\/]+/,""),""===c.path&&(c.path="/")),A.label=8;case 8:return[2,t(r(r({},o),{request:c}))]}}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,r)}o((u=u.apply(s,l||[])).next())}));var s,l,c,u}}}(e),x)}}};function E(e){var t=e.bucketEndpoint,n=void 0!==t&&t,o=e.forcePathStyle,i=void 0!==o&&o,a=e.useAccelerateEndpoint,s=void 0!==a&&a,l=e.useDualstackEndpoint,c=void 0!==l&&l,u=e.useArnRegion,d=void 0!==u&&u;return r(r({},e),{bucketEndpoint:n,forcePathStyle:i,useAccelerateEndpoint:s,useDualstackEndpoint:c,useArnRegion:"function"==typeof d?d:function(){return Promise.resolve(d)}})}},43488:(e,t,n)=>{"use strict";n.d(t,{VG:()=>s});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};var o=n(75882),i="content-length",a={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},s=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(a){return s=t,l=void 0,u=function(){var t,s,l,c,u;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(d){return t=a.request,o.aW.isInstance(t)&&(s=t.body,l=t.headers,s&&-1===Object.keys(l).map((function(e){return e.toLowerCase()})).indexOf(i)&&void 0!==(c=e(s))&&(t.headers=r(r({},t.headers),((u={})[i]=String(c),u)))),[2,n(r(r({},a),{request:t}))]}))},new((c=void 0)||(c=Promise))((function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(n,r)}o((u=u.apply(s,l||[])).next())}));var s,l,c,u}}}(e.bodyLengthChecker),a)}}}},73775:(e,t,n)=>{"use strict";n.d(t,{G2:()=>a,S8:()=>o});var r=n(75882);function o(e){return e}var i={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},a=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return o=void 0,i=void 0,s=function(){var o,i;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){return r.aW.isInstance(n.request)?(o=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!o.headers[":authority"]?(delete o.headers.host,o.headers[":authority"]=""):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function r(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}l((s=s.apply(o,i||[])).next())}));var o,i,a,s}}}(e),i)}}}},30379:(e,t,n)=>{"use strict";n.d(t,{cV:()=>i});var r=function(){return function(e,t){return function(n){return r=void 0,o=void 0,a=function(){var r,o,i,a,s,l,c,u,d;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){switch(f.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return l=f.sent(),a?("function"==typeof a.info&&(c=l.output,u=c.$metadata,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(d),metadata:u})),[2,l]):[2,l]}}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,s)}l((a=a.apply(r,o||[])).next())}));var r,o,i,a}}},o={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},i=function(e){return{applyToStack:function(e){e.add(r(),o)}}}},48777:(e,t,n)=>{"use strict";n.d(t,{eV:()=>s});var r=n(70655),o=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,r.__assign)((0,r.__assign)({},this),{headers:(0,r.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var o,i=t[n];return(0,r.__assign)((0,r.__assign)({},e),((o={})[n]=Array.isArray(i)?(0,r.__spreadArray)([],(0,r.__read)(i),!1):i,o))}),{}))),n},e}(),i="X-Amzn-Trace-Id",a={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},s=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var a,s,l,c;return(0,r.__generator)(this,(function(u){return a=n.request,!o.isInstance(a)||"node"!==e.runtime||a.headers.hasOwnProperty(i)?[2,t(n)]:(s=process.env.AWS_LAMBDA_FUNCTION_NAME,l=process.env._X_AMZN_TRACE_ID,(c=function(e){return"string"==typeof e&&e.length>0})(s)&&c(l)&&(a.headers[i]=l),[2,t((0,r.__assign)((0,r.__assign)({},n),{request:a}))])}))}))}}}(e),a)}}}},57224:(e,t,n)=>{"use strict";n.d(t,{J:()=>y,NQ:()=>l,BC:()=>_});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var s={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},l=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){return(null===(o=null==e?void 0:e.retryStrategy)||void 0===o?void 0:o.mode)&&(n.userAgent=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),s)}}},c=n(75882),u=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],d=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],f=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],p=[500,502,503,504],h=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||d.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},m=n(84776),g=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},v=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return u.includes(e.name)}(e)||h(e)||function(e){var t;return f.includes(e.name)||p.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},y=3,b=function(){function e(e,t){var n,r,o,i,a,s,l;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:v,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:g,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=500,a=500,s=function(e){return"TimeoutError"===e.name?10:5},l=function(e){return s(e)<=a},Object.freeze({hasRetryTokens:l,retrieveRetryTokens:function(e){if(!l(e))throw new Error("No retry token available");var t=s(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,i)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=y,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,s,l,u,d;return i(this,(function(f){switch(f.label){case 0:return r=0,o=0,[4,this.getMaxAttempts()];case 1:a=f.sent(),s=t.request,c.aW.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,m.v4)()),l=function(){var l,d,f,p,m;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,5]),c.aW.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+a),[4,e(t)];case 1:return l=i.sent(),d=l.response,f=l.output,u.retryQuota.releaseRetryTokens(n),f.$metadata.attempts=r+1,f.$metadata.totalRetryDelay=o,[2,{value:{response:d,output:f}}];case 2:return p=i.sent(),r++,u.shouldRetry(p,r,a)?(n=u.retryQuota.retrieveRetryTokens(p),m=u.delayDecider(h(p)?500:100,r),o+=m,[4,new Promise((function(e){return setTimeout(e,m)}))]):[3,4];case 3:return i.sent(),[2,"continue"];case 4:throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=r,p.$metadata.totalRetryDelay=o,p;case 5:return[2]}}))},u=this,f.label=2;case 2:return[5,l()];case 3:return"object"==typeof(d=f.sent())?[2,d.value]:[3,2];case 4:return[2]}}))}))},e}(),_=function(e){var t=w(e.maxAttempts);return r(r({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new b(t)})},w=function(e){if(void 0===e&&(e=y),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},84776:(e,t,n)=>{var r=n(62694),o=n(69946),i=o;i.v1=r,i.v4=o,e.exports=i},48724:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},14488:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},62694:(e,t,n)=>{var r,o,i=n(14488),a=n(48724),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=h-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,l=m,o=f;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=h/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=f>>>8|128,u[c++]=255&f;for(var b=0;b<6;++b)u[c+b]=d[b];return t||a(u)}},69946:(e,t,n)=>{var r=n(14488),o=n(48724);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},83112:(e,t,n)=>{"use strict";n.d(t,{mS:()=>h,wM:()=>d,D4:()=>l});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var a=n(45653),s={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},l=function(e){return{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return o(e,void 0,void 0,(function(){var e,o;return i(this,(function(i){if("string"==typeof(e=n.input.Bucket)&&!(0,a.Gu)(e)&&e.indexOf("/")>=0)throw(o=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",o;return[2,t(r({},n))]}))}))}}}(),s)}}},c=n(75882),u={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},d=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return o(void 0,void 0,void 0,(function(){var o,a;return i(this,(function(i){switch(i.label){case 0:return o=n.request,!c.aW.isInstance(o)||e.isCustomEndpoint?[2,t(r({},n))]:"s3.amazonaws.com"!==o.hostname?[3,1]:(o.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return a="aws-global",[4,e.region()];case 2:a===i.sent()&&(o.hostname="s3.amazonaws.com"),i.label=3;case 3:return[2,t(r({},n))]}}))}))}}}(e),u)}}},f=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},p={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},h=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return o(void 0,void 0,void 0,(function(){var r,o,a,s,l,u,d;return i(this,(function(i){switch(i.label){case 0:return[4,t(n)];case 1:return r=i.sent(),o=r.response,c.Zn.isInstance(o)?(a=o.statusCode,s=o.body,a<200&&a>=300?[2,r]:[4,f(s,e)]):[2,r];case 2:return l=i.sent(),[4,(p=l,h=e,f(p,h).then((function(e){return h.utf8Encoder(e)})))];case 3:if(u=i.sent(),0===l.length)throw(d=new Error("S3 aborted request")).name="InternalError",d;return u&&u.match("<Error>")&&(o.statusCode=400),o.body=l,[2,r]}var p,h}))}))}}}(e),p)}}}},22593:(e,t,n)=>{"use strict";n.d(t,{p2:()=>l});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var a={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},s={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function l(e,t,n){return{applyToStack:function(l){l.add(function(e,t){return function(n,r){return function(r){return o(void 0,void 0,void 0,(function(){var o,a;return i(this,(function(i){switch(i.label){case 0:return[4,n(r)];case 1:return o=i.sent().response,[4,t(o,e)];case 2:return a=i.sent(),[2,{response:o,output:a}]}}))}))}}}(e,n),a),l.add(function(e,t){return function(n,a){return function(a){return o(void 0,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:return[4,t(a.input,e)];case 1:return o=i.sent(),[2,n(r(r({},a),{request:o}))]}}))}))}}}(e,t),s)}}}},89722:(e,t,n)=>{"use strict";n.d(t,{yt:()=>f,A$:()=>s});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var a=n(52325);function s(e){var t,n=this,s=l(e.credentials||e.credentialDefaultProvider(e)),c=e.signingEscapePath,u=void 0===c||c,d=e.systemClockOffset,f=void 0===d?e.systemClockOffset||0:d,p=e.sha256;return t=e.signer?l(e.signer):function(){return l(e.region)().then((function(t){return o(n,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t,2),r=n[0],o=n[1],i=r.signingRegion,l=r.signingService;return e.signingRegion=e.signingRegion||i||o,e.signingName=e.signingName||l||e.serviceId,new a.L1({credentials:s,region:e.signingRegion,service:e.signingName,sha256:p,uriEscapePath:u})}))},r(r({},e),{systemClockOffset:f,signingEscapePath:u,credentials:s,signer:t})}function l(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var c=n(75882);function u(e){return function(t,n){return function(a){return o(this,void 0,void 0,(function(){var o,s,l,u,d,f,p,h,m;return i(this,(function(i){switch(i.label){case 0:return c.aW.isInstance(a.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(a)];case 1:return s=i.sent(),[3,3];case 2:s=e.signer,i.label=3;case 3:return o=s,u=t,d=[r({},a)],m={},[4,o.sign(a.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,u.apply(void 0,[r.apply(void 0,d.concat([(m.request=i.sent(),m)]))])];case 5:return l=i.sent(),f=l.response.headers,(p=f&&(f.date||f.Date))&&(g=h=Date.parse(p),v=e.systemClockOffset,Math.abs(function(e){return new Date(Date.now()+e)}(v).getTime()-g)>=3e5&&(e.systemClockOffset=h-Date.now())),[2,l]}var g,v}))}))}}}var d={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},f=function(e){return{applyToStack:function(t){t.addRelativeTo(u(e),d)}}}},59847:(e,t,n)=>{"use strict";n.d(t,{gc:()=>i});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};var o={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},i=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(o){return i=t,a=void 0,l=function(){var t,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(w){switch(w.label){case 0:t=r({},o.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],w.label=1;case 1:w.trys.push([1,6,7,8]),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=a.next(),w.label=2;case 2:return s.done?[3,5]:(l=s.value,(c=t[l.target])?(u=ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):"string"==typeof c?e.utf8Decoder(c):new Uint8Array(c),d=e.base64Encoder(u),(f=new e.md5).update(u),p=[r({},t)],(_={})[l.target]=d,h=l.hash,g=(m=e).base64Encoder,[4,f.digest()]):[3,4]);case 3:t=r.apply(void 0,p.concat([(_[h]=g.apply(m,[w.sent()]),_)])),w.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return v=w.sent(),y={error:v},[3,8];case 7:try{s&&!s.done&&(b=a.return)&&b.call(a)}finally{if(y)throw y.error}return[7];case 8:return[2,n(r(r({},o),{input:t}))]}}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(n,r)}o((l=l.apply(i,a||[])).next())}));var i,a,s,l}}}(e),o)}}}},8384:(e,t,n)=>{"use strict";n.d(t,{XJ:()=>f,er:()=>a});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}function a(e){return r(r({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var s=n(75882),l="user-agent",c=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,u=function(e){var t=o(e,2),n=t[0],r=t[1],i=n.indexOf("/"),a=n.substring(0,i),s=n.substring(i+1);return"api"===a&&(s=s.toLowerCase()),[a,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(c,"_")})).join("/")},d={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},f=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(o){return a=void 0,c=void 0,f=function(){var a,c,d,f,p,h,m,g;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(v){switch(v.label){case 0:return a=o.request,s.aW.isInstance(a)?(c=a.headers,d=(null===(m=null==t?void 0:t.userAgent)||void 0===m?void 0:m.map(u))||[],[4,n.defaultUserAgentProvider()]):[2,e(o)];case 1:return f=v.sent().map(u),p=(null===(g=null==n?void 0:n.customUserAgent)||void 0===g?void 0:g.map(u))||[],c["x-amz-user-agent"]=i(f,d,p).join(" "),h=i(f.filter((function(e){return e.startsWith("aws-sdk-")})),p).join(" "),"browser"!==n.runtime&&h&&(c[l]=c[l]?c[l]+" "+h:h),[2,e(r(r({},o),{request:a}))]}}))},new((d=void 0)||(d=Promise))((function(e,t){function n(e){try{o(f.next(e))}catch(e){t(e)}}function r(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof d?o:new d((function(e){e(o)}))).then(n,r)}o((f=f.apply(a,c||[])).next())}));var a,c,d,f}}),d)}}}},75882:(e,t,n)=>{"use strict";n.d(t,{aW:()=>a,Zn:()=>r});var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var a=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(o(o({},this),{headers:o({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,a=t[n];return o(o({},e),((r={})[n]=Array.isArray(a)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}(a):a,r))}),{}))),n},e}()},62108:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(98143);function o(e){var t,n,o=[];try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e).sort()),a=i.next();!a.done;a=i.next()){var s=a.value,l=e[s];if(s=(0,r.i)(s),Array.isArray(l))for(var c=0,u=l.length;c<u;c++)o.push(s+"="+(0,r.i)(l[c]));else{var d=s;(l||"string"==typeof l)&&(d+="="+(0,r.i)(l)),o.push(d)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o.join("&")}},52325:(e,t,n)=>{"use strict";n.d(t,{L1:()=>L});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var l=n(25644),c="X-Amz-Date",u="X-Amz-Signature",d="X-Amz-Security-Token",f="authorization",p=c.toLowerCase(),h=[f,p,"date"],m=u.toLowerCase(),g="x-amz-content-sha256",v=d.toLowerCase(),y={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b=/^proxy-/,_=/^sec-/,w="AWS4-HMAC-SHA256",x="AWS4-HMAC-SHA256-PAYLOAD",S="aws4_request",E={},C=[];function k(e,t,n){return e+"/"+t+"/"+n+"/"+S}function A(e,t,n){var r=new e(t);return r.update(n),r.digest()}function T(e,t,n){var r,o,i=e.headers,s={};try{for(var l=a(Object.keys(i).sort()),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.toLowerCase();(d in y||(null==t?void 0:t.has(d))||b.test(d)||_.test(d))&&(!n||n&&!n.has(d))||(s[d]=i[u].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return s}var I=n(98143);function P(e,t){var n=e.headers,r=e.body;return o(this,void 0,void 0,(function(){var e,o,s,c,u,d,f;return i(this,(function(i){switch(i.label){case 0:try{for(e=a(Object.keys(n)),o=e.next();!o.done;o=e.next())if((s=o.value).toLowerCase()===g)return[2,n[s]]}catch(e){d={error:e}}finally{try{o&&!o.done&&(f=e.return)&&f.call(e)}finally{if(d)throw d.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(p=r,"function"==typeof ArrayBuffer&&p instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(p))?((c=new t).update(r),u=l.N,[4,c.digest()]):[3,3];case 2:return[2,u.apply(void 0,[i.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var p}))}))}function O(e){var t=e.headers,n=e.query,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["headers","query"]);return r(r({},o),{headers:r({},t),query:n?M(n):void 0})}function M(e){return Object.keys(e).reduce((function(t,n){var o,i=e[n];return r(r({},t),((o={})[n]=Array.isArray(i)?function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}(i):i,o))}),{})}function N(e){var t,n;e="function"==typeof e.clone?e.clone():O(e);try{for(var r=a(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;h.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}var L=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=z(r),this.credentialProvider=F(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var n,o,s,l,f,p,h,m,g,v,y,b,_,x,S,E,C,A,I,M,L,z,F,U;return i(this,(function(i){switch(i.label){case 0:return n=t.signingDate,o=void 0===n?new Date:n,s=t.expiresIn,l=void 0===s?3600:s,f=t.unsignableHeaders,p=t.unhoistableHeaders,h=t.signableHeaders,m=t.signingRegion,g=t.signingService,[4,this.credentialProvider()];case 1:return v=i.sent(),null==m?[3,2]:(b=m,[3,4]);case 2:return[4,this.regionProvider()];case 3:b=i.sent(),i.label=4;case 4:return y=b,_=R(o),x=_.longDate,S=_.shortDate,l>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(E=k(S,y,null!=g?g:this.service),C=function(e,t){var n,o,i;void 0===t&&(t={});var s="function"==typeof e.clone?e.clone():O(e),l=s.headers,c=s.query,u=void 0===c?{}:c;try{for(var d=a(Object.keys(l)),f=d.next();!f.done;f=d.next()){var p=f.value,h=p.toLowerCase();"x-amz-"!==h.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(h))||(u[p]=l[p],delete l[p])}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return r(r({},e),{headers:l,query:u})}(N(e),{unhoistableHeaders:p}),v.sessionToken&&(C.query[d]=v.sessionToken),C.query["X-Amz-Algorithm"]=w,C.query["X-Amz-Credential"]=v.accessKeyId+"/"+E,C.query[c]=x,C.query["X-Amz-Expires"]=l.toString(10),A=T(C,f,h),C.query["X-Amz-SignedHeaders"]=D(A),I=C.query,M=u,L=this.getSignature,z=[x,E,this.getSigningKey(v,y,S,g)],F=this.createCanonicalRequest,U=[C,A],[4,P(e,this.sha256)]);case 5:return[4,L.apply(this,z.concat([F.apply(this,U.concat([i.sent()]))]))];case 6:return I[M]=i.sent(),[2,C]}}))}))},e.prototype.sign=function(e,t){return o(this,void 0,void 0,(function(){return i(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,a=t.signingDate,s=void 0===a?new Date:a,c=t.priorSignature,u=t.signingRegion,d=t.signingService;return o(this,void 0,void 0,(function(){var e,t,o,a,f,p,h,m,g,v,y;return i(this,(function(i){switch(i.label){case 0:return null==u?[3,1]:(t=u,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=i.sent(),i.label=3;case 3:return e=t,o=R(s),a=o.shortDate,f=o.longDate,p=k(a,e,null!=d?d:this.service),[4,P({headers:{},body:r},this.sha256)];case 4:return h=i.sent(),(m=new this.sha256).update(n),v=l.N,[4,m.digest()];case 5:return g=v.apply(void 0,[i.sent()]),y=[x,f,p,c,g,h].join("\n"),[2,this.signString(y,{signingDate:s,signingRegion:e,signingService:d})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,a=void 0===r?new Date:r,s=n.signingRegion,c=n.signingService;return o(this,void 0,void 0,(function(){var t,n,r,o,u,d,f,p;return i(this,(function(i){switch(i.label){case 0:return[4,this.credentialProvider()];case 1:return t=i.sent(),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=i.sent(),i.label=4;case 4:return n=r,o=R(a).shortDate,f=(d=this.sha256).bind,[4,this.getSigningKey(t,n,o,c)];case 5:return(u=new(f.apply(d,[void 0,i.sent()]))).update(e),p=l.N,[4,u.digest()];case 6:return[2,p.apply(void 0,[i.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,s=void 0===r?new Date:r,l=n.signableHeaders,c=n.unsignableHeaders,u=n.signingRegion,d=n.signingService;return o(this,void 0,void 0,(function(){var t,n,r,o,h,m,y,b,_,x,S;return i(this,(function(i){switch(i.label){case 0:return[4,this.credentialProvider()];case 1:return t=i.sent(),null==u?[3,2]:(r=u,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=i.sent(),i.label=4;case 4:return n=r,o=N(e),h=R(s),m=h.longDate,y=h.shortDate,b=k(y,n,null!=d?d:this.service),o.headers[p]=m,t.sessionToken&&(o.headers[v]=t.sessionToken),[4,P(o,this.sha256)];case 5:return _=i.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=a(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(g,o.headers)&&this.applyChecksum&&(o.headers[g]=_),x=T(o,c,l),[4,this.getSignature(m,b,this.getSigningKey(t,n,y,d),this.createCanonicalRequest(o,x,_))];case 6:return S=i.sent(),o.headers[f]=w+" Credential="+t.accessKeyId+"/"+b+", SignedHeaders="+D(x)+", Signature="+S,[2,o]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],s={},l=function(e){if(e.toLowerCase()===m)return"continue";i.push(e);var t=o[e];"string"==typeof t?s[e]=(0,I.i)(e)+"="+(0,I.i)(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([(0,I.i)(e)+"="+(0,I.i)(n)])}),[]).join("&"))};try{for(var c=a(Object.keys(o).sort()),u=c.next();!u.done;u=c.next())l(u.value)}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return i.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return o(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,w+"\n"+e+"\n"+t+"\n"+(0,l.N)(o)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return o(this,void 0,void 0,(function(){var o,a,s,c,u;return i(this,(function(i){switch(i.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=i.sent(),c=(s=this.sha256).bind,[4,n];case 2:return(a=new(c.apply(s,[void 0,i.sent()]))).update(o),u=l.N,[4,a.digest()];case 3:return[2,u.apply(void 0,[i.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,s){return o(void 0,void 0,void 0,(function(){var o,c,u,d,f,p,h,m,g;return i(this,(function(i){switch(i.label){case 0:return[4,A(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=i.sent(),(c=n+":"+r+":"+s+":"+(0,l.N)(o)+":"+t.sessionToken)in E)return[2,E[c]];for(C.push(c);C.length>50;)delete E[C.shift()];u="AWS4"+t.secretAccessKey,i.label=2;case 2:i.trys.push([2,7,8,9]),d=a([n,r,s,S]),f=d.next(),i.label=3;case 3:return f.done?[3,6]:(p=f.value,[4,A(e,u,p)]);case 4:u=i.sent(),i.label=5;case 5:return f=d.next(),[3,3];case 6:return[3,9];case 7:return h=i.sent(),m={error:h},[3,9];case 8:try{f&&!f.done&&(g=d.return)&&g.call(d)}finally{if(m)throw m.error}return[7];case 9:return[2,E[c]=u]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),R=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},D=function(e){return Object.keys(e).sort().join(";")},z=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},F=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},82254:(e,t,n)=>{"use strict";n.d(t,{KU:()=>c,mY:()=>u,QT:()=>y,oc:()=>x,_w:()=>w,jc:()=>d,L:()=>f,sT:()=>p});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var a=function(){var e=[],t=[],n=new Set,o=function(n){return e.forEach((function(e){n.add(e.middleware,r({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,r({},e))})),n},c=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,i(c(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,i(c(e)))})),t},u={add:function(t,o){void 0===o&&(o={});var i=o.name,a=o.override,s=r({step:"initialize",priority:"normal",middleware:t},o);if(i){if(n.has(i)){if(!a)throw new Error("Duplicate middleware name '"+i+"'");var l=e.findIndex((function(e){return e.name===i})),c=e[l];if(c.step!==s.step||c.priority!==s.priority)throw new Error('"'+i+'" middleware with '+c.priority+" priority in "+c.step+" step cannot be overridden by same-name middleware with "+s.priority+" priority in "+s.step+" step.");e.splice(l,1)}n.add(i)}e.push(s)},addRelativeTo:function(e,o){var i=o.name,a=o.override,s=r({middleware:e},o);if(i){if(n.has(i)){if(!a)throw new Error("Duplicate middleware name '"+i+"'");var l=t.findIndex((function(e){return e.name===i})),c=t[l];if(c.toMiddleware!==s.toMiddleware||c.relation!==s.relation)throw new Error('"'+i+'" middleware '+c.relation+' "'+c.toMiddleware+'" middleware cannot be overridden by same-name middleware '+s.relation+' "'+s.toMiddleware+'" middleware.');t.splice(l,1)}n.add(i)}t.push(s)},clone:function(){return o(a())},use:function(e){e.applyToStack(u)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=o(a());return t.use(e),t},applyToStack:o,resolve:function(n,o){var a,u;try{for(var d=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(function(){var n,o=[],a=[],u={};return e.forEach((function(e){var t=r(r({},e),{before:[],after:[]});t.name&&(u[t.name]=t),o.push(t)})),t.forEach((function(e){var t=r(r({},e),{before:[],after:[]});t.name&&(u[t.name]=t),a.push(t)})),a.forEach((function(e){if(e.toMiddleware){var t=u[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=o,n.sort((function(e,t){return s[t.step]-s[e.step]||l[t.priority||"normal"]-l[e.priority||"normal"]}))).map(c).reduce((function(e,t){return e.push.apply(e,i(t)),e}),[]).map((function(e){return e.middleware}))}().reverse()),f=d.next();!f.done;f=d.next())n=(0,f.value)(n,o)}catch(e){a={error:e}}finally{try{f&&!f.done&&(u=d.return)&&u.call(d)}finally{if(a)throw a.error}}return n}};return u},s={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},l={high:3,normal:2,low:1},c=function(){function e(e){this.middlewareStack=a(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),u=function(){this.middlewareStack=a()};function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var f=function(e){return Array.isArray(e)?e:[e]},p=function(e){var t="#text";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n][t]?e[n]=e[n][t]:"object"==typeof e[n]&&null!==e[n]&&(e[n]=p(e[n]));return e},h=function(e,t){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},h(e,t)};function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}var v=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,g([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};v.prototype=Object.create(String.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(v,String);var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(v),b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds();return b[r]+", "+(o<10?"0"+o:""+o)+" "+_[n]+" "+t+" "+(i<10?"0"+i:""+i)+":"+(a<10?"0"+a:""+a)+":"+(s<10?"0"+s:""+s)+" GMT"}var x="***SensitiveInformation***"},87897:(e,t,n)=>{"use strict";function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}n.d(t,{e:()=>o});var o=function(e){var t,n=new URL(e),o=n.hostname,i=n.pathname,a=n.port,s=n.protocol,l=n.search;return l&&(t=function(e){var t,n,o={};if(e=e.replace(/^\?/,""))try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e.split("&")),a=i.next();!a.done;a=i.next()){var s=r(a.value.split("="),2),l=s[0],c=s[1],u=void 0===c?null:c;l=decodeURIComponent(l),u&&(u=decodeURIComponent(u)),l in o?Array.isArray(o[l])?o[l].push(u):o[l]=[o[l],u]:o[l]=u}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}(l)),{hostname:o,port:a?parseInt(a):void 0,protocol:s,path:i,query:t}}},45653:(e,t,n)=>{"use strict";n.d(t,{Qc:()=>o,Gu:()=>r});var r=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},o=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}},67157:(e,t,n)=>{"use strict";n.d(t,{G:()=>u,s:()=>d});for(var r={},o=new Array(64),i=0,a="A".charCodeAt(0),s="Z".charCodeAt(0);i+a<=s;i++){var l=String.fromCharCode(i+a);r[l]=i,o[i]=l}for(i=0,a="a".charCodeAt(0),s="z".charCodeAt(0);i+a<=s;i++){l=String.fromCharCode(i+a);var c=i+26;r[l]=c,o[c]=l}for(i=0;i<10;i++)r[i.toString(10)]=i+52,l=i.toString(10),c=i+52,r[l]=c,o[c]=l;function u(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),o=new DataView(n),i=0;i<e.length;i+=4){for(var a=0,s=0,l=i,c=i+3;l<=c;l++)"="!==e[l]?(a|=r[e[l]]<<6*(c-l),s+=6):a>>=6;var u=i/4*3;a>>=s%8;for(var d=Math.floor(s/8),f=0;f<d;f++){var p=8*(d-f-1);o.setUint8(u+f,(a&255<<p)>>p)}}return new Uint8Array(n)}function d(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,a=n,s=Math.min(n+3,e.length);a<s;a++)r|=e[a]<<8*(s-a-1),i+=8;var l=Math.ceil(i/6);r<<=6*l-i;for(var c=1;c<=l;c++){var u=6*(l-c);t+=o[(r&63<<u)>>u]}t+="==".slice(0,4-l)}return t}r["+"]=62,o[62]="+",r["/"]=63,o[63]="/"},22795:(e,t,n)=>{"use strict";function r(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}n.d(t,{W:()=>r})},51891:(e,t,n)=>{"use strict";var r;n.d(t,{B:()=>r,h:()=>o}),function(e){e.ENV="env",e.CONFIG="shared config entry"}(r||(r={}));var o=function(e,t,n){if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw new Error("Cannot load ".concat(n,' "').concat(t,'". Expected "true" or "false", got ').concat(e[t],"."))}}},32924:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var r,o=n(70655),i=function(e){function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n)||this;return o.tryNextLink=r,o.name="ProviderError",Object.setPrototypeOf(o,t.prototype),o}return(0,o.__extends)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);r=i,(0,o.__extends)((function e(t,n){void 0===n&&(n=!0);var o=r.call(this,t,n)||this;return o.tryNextLink=n,o.name="CredentialsProviderError",Object.setPrototypeOf(o,e.prototype),o}),r),function(e){(0,o.__extends)((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="TokenProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)}(i);var a=n(51206),s=n.n(a),l=["in-region","cross-region","mobile","standard","legacy"],c=function(e){var t,n,r,i,a,s=(void 0===e?{}:e).defaultsMode;return t=function(){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return"function"!=typeof s?[3,2]:[4,s()];case 1:return t=n.sent(),[3,3];case 2:t=s,n.label=3;case 3:switch(null==(e=t)?void 0:e.toLowerCase()){case"auto":return[2,Promise.resolve(u()?"mobile":"standard")];case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return[2,Promise.resolve(null==e?void 0:e.toLocaleLowerCase())];case void 0:return[2,Promise.resolve("legacy")];default:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(l.join(", "),", got ").concat(e))}return[2]}}))}))},!1,a=function(){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:r||(r=t()),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,r];case 2:return n=e.sent(),i=!0,!1,[3,4];case 3:return r=void 0,[7];case 4:return[2,n]}}))}))},function(e){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return i&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,a()];case 1:n=t.sent(),t.label=2;case 2:return[2,n]}}))}))}},u=function(){var e,t,n="undefined"!=typeof window&&(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)?s().parse(window.navigator.userAgent):void 0,r=null===(t=null==n?void 0:n.platform)||void 0===t?void 0:t.type;return"tablet"===r||"mobile"===r}},25644:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,N:()=>l});for(var r={},o={},i=0;i<256;i++){var a=i.toString(16).toLowerCase();1===a.length&&(a="0"+a),r[i]=a,o[a]=i}function s(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in o))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=o[r]}return t}function l(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},56495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>o});const r={};function o(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},57079:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});var r=function(e){if("function"==typeof e)return e;var t=Promise.resolve(e);return function(){return t}}},98143:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,o)},o=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}},81784:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var r=n(51206),o=n.n(r),i=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return e=void 0,r=void 0,a=function(){var e,r,i,a,s,l,c,u,d;return function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?o().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(c=null===(l=null==e?void 0:e.browser)||void 0===l?void 0:l.name)&&void 0!==c?c:"unknown")+"_"+(null!==(d=null===(u=null==e?void 0:e.browser)||void 0===u?void 0:u.version)&&void 0!==d?d:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))},new((i=void 0)||(i=Promise))((function(t,n){function o(e){try{l(a.next(e))}catch(e){n(e)}}function s(e){try{l(a.throw(e))}catch(e){n(e)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}l((a=a.apply(e,r||[])).next())}));var e,r,i,a}}},62084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>o});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const o=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),o=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const o=e[++n];t+=String.fromCharCode((31&r)<<6|63&o)}else if(240<=r&&r<365){const o="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},76613:e=>{function t(e){if(!(this instanceof t))return new t(e);this._bbox=e||[1/0,1/0,-1/0,-1/0],this._valid=!!e}e.exports=t,t.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},t.prototype.equals=function(e){var n;return n=e instanceof t?e.bbox():e,this._bbox[0]==n[0]&&this._bbox[1]==n[1]&&this._bbox[2]==n[2]&&this._bbox[3]==n[3]},t.prototype.center=function(e){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},t.prototype.union=function(e){var n;return this._valid=!0,n=e instanceof t?e.bbox():e,this._bbox[0]=Math.min(this._bbox[0],n[0]),this._bbox[1]=Math.min(this._bbox[1],n[1]),this._bbox[2]=Math.max(this._bbox[2],n[2]),this._bbox[3]=Math.max(this._bbox[3],n[3]),this},t.prototype.bbox=function(){return this._valid?this._bbox:null},t.prototype.contains=function(e){if(!e)return this._fastContains();if(!this._valid)return null;var t=e[0],n=e[1];return this._bbox[0]<=t&&this._bbox[1]<=n&&this._bbox[2]>=t&&this._bbox[3]>=n},t.prototype.intersect=function(e){return this._valid?(n=e instanceof t?e.bbox():e,!(this._bbox[0]>n[2]||this._bbox[2]<n[0]||this._bbox[3]<n[1]||this._bbox[1]>n[3])):null;var n},t.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var e="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",e)},t.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},7829:e=>{e.exports=function(e){return function e(t){return Array.isArray(t)&&t.length&&"number"==typeof t[0]?[t]:t.reduce((function(t,n){return Array.isArray(n)&&Array.isArray(n[0])?t.concat(e(n)):(t.push(n),t)}),[])}(e)}},34506:(e,t,n)=>{var r=n(99340),o=n(63),i=n(7829);o instanceof Function||(o=o.default),e.exports=function(e){if(!e)return[];var t=o(r(e)),n=[];return t.features.forEach((function(e){e.geometry&&(n=n.concat(i(e.geometry.coordinates)))})),n}},29319:(e,t,n)=>{var r=n(34506),o=n(13692),i=n(76613),a={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},s=Object.keys(a);function l(e){for(var t=i(),n=r(e),o=0;o<n.length;o++)t.include(n[o]);return t}e.exports=function(e){return l(e).bbox()},e.exports.polygon=function(e){return l(e).polygon()},e.exports.bboxify=function(e){return o(e).map((function(e){e&&s.some((function(t){return!!e[t]&&-1!==a[t].indexOf(e.type)}))&&(e.bbox=l(e).bbox(),this.update(e))}))}},99340:e=>{e.exports=function(e){if(!e||!e.type)return null;var n=t[e.type];return n?"geometry"===n?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===n?{type:"FeatureCollection",features:[e]}:"featurecollection"===n?e:void 0:null};var t={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},1307:function(e,t,n){e.exports=function(){"use strict";var e=function(e,t){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},r={on:function(e,t,r){if(void 0===n[e])throw new Error("Invalid event type: "+e);n[e].push({selector:t,fn:r})},render:function(e){t.store.featureChanged(e)}},o=function(e,o){for(var i=n[e],a=i.length;a--;){var s=i[a];if(s.selector(o)){s.fn.call(r,o)||t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(r),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),t.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){o("drag",e)},click:function(e){o("click",e)},mousemove:function(e){o("mousemove",e)},mousedown:function(e){o("mousedown",e)},mouseup:function(e){o("mouseup",e)},mouseout:function(e){o("mouseout",e)},keydown:function(e){o("keydown",e)},keyup:function(e){o("keyup",e)},touchstart:function(e){o("touchstart",e)},touchmove:function(e){o("touchmove",e)},touchend:function(e){o("touchend",e)},tap:function(e){o("tap",e)}}};var t={},r=6378137;function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}function i(e){var t,n,o,i,s,l,c=0,u=e.length;if(u>2){for(l=0;l<u;l++)l===u-2?(o=u-2,i=u-1,s=0):l===u-1?(o=u-1,i=0,s=1):(o=l,i=l+1,s=l+2),t=e[o],n=e[i],c+=(a(e[s][0])-a(t[0]))*Math.sin(a(n[1]));c=c*r*r/2}return c}function a(e){return e*Math.PI/180}t.geometry=function e(t){var n,r=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)r+=o(t.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)r+=e(t.geometries[n]);return r}},t.ring=i;var s={CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},l={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},c={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},u={POLYGON:"polygon",LINE:"line_string",POINT:"point"},d={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},f={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},p={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},h={MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},m={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},g={ACTIVE:"true",INACTIVE:"false"},v=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],y=Object.freeze({__proto__:null,classes:s,sources:l,cursors:c,types:u,geojsonTypes:d,modes:f,events:p,updateActions:h,meta:m,activeStates:g,interactions:v,LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}),b={Point:0,LineString:1,MultiLineString:1,Polygon:2};function _(e,t){var n=b[e.geometry.type]-b[t.geometry.type];return 0===n&&e.geometry.type===d.POLYGON?e.area-t.area:n}function w(e){return e.map((function(e){return e.geometry.type===d.POLYGON&&(e.area=t.geometry({type:d.FEATURE,property:{},geometry:e.geometry})),e})).sort(_).map((function(e){return delete e.area,e}))}function x(e,t){return void 0===t&&(t=0),[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}function S(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(var t=0,n=e.length;t<n;t++)this.add(e[t]),void 0!==e[t]&&("string"==typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}S.prototype.add=function(e){return this.has(e)||(this._length++,"string"==typeof e?this._items[e]=this._length:this._nums[e]=this._length),this},S.prototype.delete=function(e){return!1===this.has(e)||(this._length--,delete this._items[e],delete this._nums[e]),this},S.prototype.has=function(e){return!("string"!=typeof e&&"number"!=typeof e||void 0===this._items[e]&&void 0===this._nums[e])},S.prototype.values=function(){var e=this,t=[];return Object.keys(this._items).forEach((function(n){t.push({k:n,v:e._items[n]})})),Object.keys(this._nums).forEach((function(n){t.push({k:JSON.parse(n),v:e._nums[n]})})),t.sort((function(e,t){return e.v-t.v})).map((function(e){return e.k}))},S.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var E=[m.FEATURE,m.MIDPOINT,m.VERTEX],C={click:function(e,t,n){return k(e,t,n,n.options.clickBuffer)},touch:function(e,t,n){return k(e,t,n,n.options.touchBuffer)}};function k(e,t,n,r){if(null===n.map)return[];var o=e?x(e,r):t,i={};n.options.styles&&(i.layers=n.options.styles.map((function(e){return e.id})));var a=n.map.queryRenderedFeatures(o,i).filter((function(e){return-1!==E.indexOf(e.properties.meta)})),s=new S,l=[];return a.forEach((function(e){var t=e.properties.id;s.has(t)||(s.add(t),l.push(e))})),w(l)}function A(e,t){var n=C.click(e,null,t),r={mouse:c.NONE};return n[0]&&(r.mouse=n[0].properties.active===g.ACTIVE?c.MOVE:c.POINTER,r.feature=n[0].properties.meta),-1!==t.events.currentModeName().indexOf("draw")&&(r.mouse=c.ADD),t.ui.queueMapClasses(r),t.ui.updateMapClasses(),n[0]}function T(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function I(e,t,n){void 0===n&&(n={});var r=null!=n.fineTolerance?n.fineTolerance:4,o=null!=n.grossTolerance?n.grossTolerance:12,i=null!=n.interval?n.interval:500;e.point=e.point||t.point,e.time=e.time||t.time;var a=T(e.point,t.point);return a<r||a<o&&t.time-e.time<i}function P(e,t,n){void 0===n&&(n={});var r=null!=n.tolerance?n.tolerance:25,o=null!=n.interval?n.interval:250;return e.point=e.point||t.point,e.time=e.time||t.time,T(e.point,t.point)<r&&t.time-e.time<o}var O={},M={get exports(){return O},set exports(e){O=e}}.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0)return"0";for(var n=Math.log(Math.pow(2,e))/Math.log(t),r=2;n===1/0;r*=2)n=Math.log(Math.pow(2,e/r))/Math.log(t)*r;var o=n-Math.floor(n),i="";for(r=0;r<Math.floor(n);r++)i=Math.floor(Math.random()*t).toString(t)+i;if(o){var a=Math.pow(t,o);i=Math.floor(Math.random()*a).toString(t)+i}var s=parseInt(i,t);return s!==1/0&&s>=Math.pow(2,e)?M(e,t):i};M.rack=function(e,t,n){var r=function(r){var i=0;do{if(i++>10){if(!n)throw new Error("too many ID collisions, use more bits");e+=n}var a=M(e,t)}while(Object.hasOwnProperty.call(o,a));return o[a]=r,a},o=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=t||16,r};var N=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||O(),this.type=t.geometry.type};N.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},N.prototype.incomingCoords=function(e){this.setCoordinates(e)},N.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},N.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},N.prototype.setProperty=function(e,t){this.properties[e]=t},N.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:d.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},N.prototype.internal=function(e){var t={id:this.id,meta:m.FEATURE,"meta:type":this.type,active:g.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(var n in this.properties)t["user_"+n]=this.properties[n];return{type:d.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var L=function(e,t){N.call(this,e,t)};(L.prototype=Object.create(N.prototype)).isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},L.prototype.updateCoordinate=function(e,t,n){this.coordinates=3===arguments.length?[t,n]:[e,t],this.changed()},L.prototype.getCoordinate=function(){return this.getCoordinates()};var R=function(e,t){N.call(this,e,t)};(R.prototype=Object.create(N.prototype)).isValid=function(){return this.coordinates.length>1},R.prototype.addCoordinate=function(e,t,n){this.changed();var r=parseInt(e,10);this.coordinates.splice(r,0,[t,n])},R.prototype.getCoordinate=function(e){var t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},R.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},R.prototype.updateCoordinate=function(e,t,n){var r=parseInt(e,10);this.coordinates[r]=[t,n],this.changed()};var D=function(e,t){N.call(this,e,t),this.coordinates=this.coordinates.map((function(e){return e.slice(0,-1)}))};(D.prototype=Object.create(N.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((function(e){return e.length>2}))},D.prototype.incomingCoords=function(e){this.coordinates=e.map((function(e){return e.slice(0,-1)})),this.changed()},D.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},D.prototype.addCoordinate=function(e,t,n){this.changed();var r=e.split(".").map((function(e){return parseInt(e,10)}));this.coordinates[r[0]].splice(r[1],0,[t,n])},D.prototype.removeCoordinate=function(e){this.changed();var t=e.split(".").map((function(e){return parseInt(e,10)})),n=this.coordinates[t[0]];n&&(n.splice(t[1],1),n.length<3&&this.coordinates.splice(t[0],1))},D.prototype.getCoordinate=function(e){var t=e.split(".").map((function(e){return parseInt(e,10)})),n=this.coordinates[t[0]];return JSON.parse(JSON.stringify(n[t[1]]))},D.prototype.getCoordinates=function(){return this.coordinates.map((function(e){return e.concat([e[0]])}))},D.prototype.updateCoordinate=function(e,t,n){this.changed();var r=e.split("."),o=parseInt(r[0],10),i=parseInt(r[1],10);void 0===this.coordinates[o]&&(this.coordinates[o]=[]),this.coordinates[o][i]=[t,n]};var z={MultiPoint:L,MultiLineString:R,MultiPolygon:D},F=function(e,t,n,r,o){var i=n.split("."),a=parseInt(i[0],10),s=i[1]?i.slice(1).join("."):null;return e[a][t](s,r,o)},U=function(e,t){if(N.call(this,e,t),delete this.coordinates,this.model=z[t.geometry.type],void 0===this.model)throw new TypeError(t.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(t.geometry.coordinates)};function j(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}(U.prototype=Object.create(N.prototype))._coordinatesToFeatures=function(e){var t=this,n=this.model.bind(this);return e.map((function(e){return new n(t.ctx,{id:O(),type:d.FEATURE,properties:{},geometry:{coordinates:e,type:t.type.replace("Multi","")}})}))},U.prototype.isValid=function(){return this.features.every((function(e){return e.isValid()}))},U.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},U.prototype.getCoordinate=function(e){return F(this.features,"getCoordinate",e)},U.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(e){return e.type===d.POLYGON?e.getCoordinates():e.coordinates}))))},U.prototype.updateCoordinate=function(e,t,n){F(this.features,"updateCoordinate",e,t,n),this.changed()},U.prototype.addCoordinate=function(e,t,n){F(this.features,"addCoordinate",e,t,n),this.changed()},U.prototype.removeCoordinate=function(e){F(this.features,"removeCoordinate",e),this.changed()},U.prototype.getFeatures=function(){return this.features},j.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},j.prototype.setSelectedCoordinates=function(e){var t=this;this._ctx.store.setSelectedCoordinates(e),e.reduce((function(e,n){return void 0===e[n.feature_id]&&(e[n.feature_id]=!0,t._ctx.store.get(n.feature_id).changed()),e}),{})},j.prototype.getSelected=function(){return this._ctx.store.getSelected()},j.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},j.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},j.prototype.getFeature=function(e){return this._ctx.store.get(e)},j.prototype.select=function(e){return this._ctx.store.select(e)},j.prototype.deselect=function(e){return this._ctx.store.deselect(e)},j.prototype.deleteFeature=function(e,t){return void 0===t&&(t={}),this._ctx.store.delete(e,t)},j.prototype.addFeature=function(e){return this._ctx.store.add(e)},j.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},j.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},j.prototype.setActionableState=function(e){void 0===e&&(e={});var t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},j.prototype.changeMode=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),this._ctx.events.changeMode(e,t,n)},j.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},j.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},j.prototype.featuresAt=function(e,t,n){if(void 0===n&&(n="click"),"click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return C[n](e,t,this._ctx)},j.prototype.newFeature=function(e){var t=e.geometry.type;return t===d.POINT?new L(this._ctx,e):t===d.LINE_STRING?new R(this._ctx,e):t===d.POLYGON?new D(this._ctx,e):new U(this._ctx,e)},j.prototype.isInstanceOf=function(e,t){if(e===d.POINT)return t instanceof L;if(e===d.LINE_STRING)return t instanceof R;if(e===d.POLYGON)return t instanceof D;if("MultiFeature"===e)return t instanceof U;throw new Error("Unknown feature class: "+e)},j.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)},j.prototype.onSetup=function(){},j.prototype.onDrag=function(){},j.prototype.onClick=function(){},j.prototype.onMouseMove=function(){},j.prototype.onMouseDown=function(){},j.prototype.onMouseUp=function(){},j.prototype.onMouseOut=function(){},j.prototype.onKeyUp=function(){},j.prototype.onKeyDown=function(){},j.prototype.onTouchStart=function(){},j.prototype.onTouchMove=function(){},j.prototype.onTouchEnd=function(){},j.prototype.onTap=function(){},j.prototype.onStop=function(){},j.prototype.onTrash=function(){},j.prototype.onCombineFeature=function(){},j.prototype.onUncombineFeature=function(){},j.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var B={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},V=Object.keys(B);function G(e){return[].concat(e).filter((function(e){return void 0!==e}))}function q(){var e=this;if(!e.ctx.map||void 0===e.ctx.map.getSource(l.HOT))return c();var t=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:t});var n=[],r=[];e.isDirty?r=e.getAllIds():(n=e.getChangedIds().filter((function(t){return void 0!==e.get(t)})),r=e.sources.hot.filter((function(t){return t.properties.id&&-1===n.indexOf(t.properties.id)&&void 0!==e.get(t.properties.id)})).map((function(e){return e.properties.id}))),e.sources.hot=[];var o=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter((function(e){var t=e.properties.id||e.properties.parent;return-1===n.indexOf(t)}));var i=o!==e.sources.cold.length||r.length>0;function a(n,r){var o=e.get(n).internal(t);e.ctx.events.currentModeRender(o,(function(t){e.sources[r].push(t)}))}if(n.forEach((function(e){return a(e,"hot")})),r.forEach((function(e){return a(e,"cold")})),i&&e.ctx.map.getSource(l.COLD).setData({type:d.FEATURE_COLLECTION,features:e.sources.cold}),e.ctx.map.getSource(l.HOT).setData({type:d.FEATURE_COLLECTION,features:e.sources.hot}),e._emitSelectionChange&&(e.ctx.map.fire(p.SELECTION_CHANGE,{features:e.getSelected().map((function(e){return e.toGeoJSON()})),points:e.getSelectedCoordinates().map((function(e){return{type:d.FEATURE,properties:{},geometry:{type:d.POINT,coordinates:e.coordinates}}}))}),e._emitSelectionChange=!1),e._deletedFeaturesToEmit.length){var s=e._deletedFeaturesToEmit.map((function(e){return e.toGeoJSON()}));e._deletedFeaturesToEmit=[],e.ctx.map.fire(p.DELETE,{features:s})}function c(){e.isDirty=!1,e.clearChangedIds()}c(),e.ctx.map.fire(p.RENDER,{})}function H(e){var t,n=this;this._features={},this._featureIds=new S,this._selectedFeatureIds=new S,this._selectedCoordinates=[],this._changedFeatureIds=new S,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=function(){t||(t=requestAnimationFrame((function(){t=null,q.call(n)})))},this.isDirty=!1}function W(e,t){var n=e._selectedCoordinates.filter((function(t){return e._selectedFeatureIds.has(t.feature_id)}));e._selectedCoordinates.length===n.length||t.silent||(e._emitSelectionChange=!0),e._selectedCoordinates=n}H.prototype.createRenderBatch=function(){var e=this,t=this.render,n=0;return this.render=function(){n++},function(){e.render=t,n>0&&e.render()}},H.prototype.setDirty=function(){return this.isDirty=!0,this},H.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},H.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},H.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},H.prototype.getAllIds=function(){return this._featureIds.values()},H.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},H.prototype.delete=function(e,t){var n=this;return void 0===t&&(t={}),G(e).forEach((function(e){n._featureIds.has(e)&&(n._featureIds.delete(e),n._selectedFeatureIds.delete(e),t.silent||-1===n._deletedFeaturesToEmit.indexOf(n._features[e])&&n._deletedFeaturesToEmit.push(n._features[e]),delete n._features[e],n.isDirty=!0)})),W(this,t),this},H.prototype.get=function(e){return this._features[e]},H.prototype.getAll=function(){var e=this;return Object.keys(this._features).map((function(t){return e._features[t]}))},H.prototype.select=function(e,t){var n=this;return void 0===t&&(t={}),G(e).forEach((function(e){n._selectedFeatureIds.has(e)||(n._selectedFeatureIds.add(e),n._changedFeatureIds.add(e),t.silent||(n._emitSelectionChange=!0))})),this},H.prototype.deselect=function(e,t){var n=this;return void 0===t&&(t={}),G(e).forEach((function(e){n._selectedFeatureIds.has(e)&&(n._selectedFeatureIds.delete(e),n._changedFeatureIds.add(e),t.silent||(n._emitSelectionChange=!0))})),W(this,t),this},H.prototype.clearSelected=function(e){return void 0===e&&(e={}),this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},H.prototype.setSelected=function(e,t){var n=this;return void 0===t&&(t={}),e=G(e),this.deselect(this._selectedFeatureIds.values().filter((function(t){return-1===e.indexOf(t)})),{silent:t.silent}),this.select(e.filter((function(e){return!n._selectedFeatureIds.has(e)})),{silent:t.silent}),this},H.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},H.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},H.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},H.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map((function(t){return e.get(t)}))},H.prototype.getSelectedCoordinates=function(){var e=this;return this._selectedCoordinates.map((function(t){return{coordinates:e.get(t.feature_id).getCoordinate(t.coord_path)}}))},H.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},H.prototype.setFeatureProperty=function(e,t,n){this.get(e).setProperty(t,n),this.featureChanged(e)},H.prototype.storeMapConfig=function(){var e=this;v.forEach((function(t){e.ctx.map[t]&&(e._mapInitialConfig[t]=e.ctx.map[t].isEnabled())}))},H.prototype.restoreMapConfig=function(){var e=this;Object.keys(this._mapInitialConfig).forEach((function(t){e._mapInitialConfig[t]?e.ctx.map[t].enable():e.ctx.map[t].disable()}))},H.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]};var K=function(){for(var e=arguments,t={},n=0;n<arguments.length;n++){var r=e[n];for(var o in r)$.call(r,o)&&(t[o]=r[o])}return t},$=Object.prototype.hasOwnProperty,Z=["mode","feature","mouse"];function Y(t){var n=null,r=null,o={onRemove:function(){return t.map.off("load",o.connect),clearInterval(r),o.removeLayers(),t.store.restoreMapConfig(),t.ui.removeButtons(),t.events.removeEventListeners(),t.ui.clearMapClasses(),t.map=null,t.container=null,t.store=null,n&&n.parentNode&&n.parentNode.removeChild(n),n=null,this},connect:function(){t.map.off("load",o.connect),clearInterval(r),o.addLayers(),t.store.storeMapConfig(),t.events.addEventListeners()},onAdd:function(i){var a=i.fire;return i.fire=function(e,t){var n=arguments;return 1===a.length&&1!==arguments.length&&(n=[K({},{type:e},t)]),a.apply(i,n)},t.map=i,t.events=function(t){var n=Object.keys(t.options.modes).reduce((function(e,n){return e[n]=function(e){var t=Object.keys(e);return function(n,r){void 0===r&&(r={});var o={},i=t.reduce((function(t,n){return t[n]=e[n],t}),new j(n));return{start:function(){var t=this;o=i.onSetup(r),V.forEach((function(n){var r,a=B[n],s=function(){return!1};e[a]&&(s=function(){return!0}),t.on(n,s,(r=a,function(e){return i[r](o,e)}))}))},stop:function(){i.onStop(o)},trash:function(){i.onTrash(o)},combineFeatures:function(){i.onCombineFeatures(o)},uncombineFeatures:function(){i.onUncombineFeatures(o)},render:function(e,t){i.toDisplayFeatures(o,e,t)}}}}(t.options.modes[n]),e}),{}),r={},o={},i={},a=null,s=null;i.drag=function(e,n){n({point:e.point,time:(new Date).getTime()})?(t.ui.queueMapClasses({mouse:c.DRAG}),s.drag(e)):e.originalEvent.stopPropagation()},i.mousedrag=function(e){i.drag(e,(function(e){return!I(r,e)}))},i.touchdrag=function(e){i.drag(e,(function(e){return!P(o,e)}))},i.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return i.mousedrag(e);var n=A(e,t);e.featureTarget=n,s.mousemove(e)},i.mousedown=function(e){r={time:(new Date).getTime(),point:e.point};var n=A(e,t);e.featureTarget=n,s.mousedown(e)},i.mouseup=function(e){var n=A(e,t);e.featureTarget=n,I(r,{point:e.point,time:(new Date).getTime()})?s.click(e):s.mouseup(e)},i.mouseout=function(e){s.mouseout(e)},i.touchstart=function(e){if(t.options.touchEnabled){o={time:(new Date).getTime(),point:e.point};var n=C.touch(e,null,t)[0];e.featureTarget=n,s.touchstart(e)}},i.touchmove=function(e){if(t.options.touchEnabled)return s.touchmove(e),i.touchdrag(e)},i.touchend=function(e){if(t.options.touchEnabled){var n=C.touch(e,null,t)[0];e.featureTarget=n,P(o,{time:(new Date).getTime(),point:e.point})?s.tap(e):s.touchend(e)}};var l=function(e){return!(8===e||46===e||e>=48&&e<=57)};function u(r,o,i){void 0===i&&(i={}),s.stop();var l=n[r];if(void 0===l)throw new Error(r+" is not valid");a=r;var c=l(t,o);s=e(c,t),i.silent||t.map.fire(p.MODE_CHANGE,{mode:r}),t.store.setDirty(),t.store.render()}i.keydown=function(e){"mapboxgl-canvas"===(e.srcElement||e.target).classList[0]&&(8!==e.keyCode&&46!==e.keyCode||!t.options.controls.trash?l(e.keyCode)?s.keydown(e):49===e.keyCode&&t.options.controls.point?u(f.DRAW_POINT):50===e.keyCode&&t.options.controls.line_string?u(f.DRAW_LINE_STRING):51===e.keyCode&&t.options.controls.polygon&&u(f.DRAW_POLYGON):(e.preventDefault(),s.trash()))},i.keyup=function(e){l(e.keyCode)&&s.keyup(e)},i.zoomend=function(){t.store.changeZoom()},i.data=function(e){if("style"===e.dataType){var n=t.setup,r=t.map,o=t.options,i=t.store;o.styles.some((function(e){return r.getLayer(e.id)}))||(n.addLayers(),i.setDirty(),i.render())}};var d={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){a=t.options.defaultMode,s=e(n[a](t),t)},changeMode:u,actionable:function(e){var n=!1;Object.keys(e).forEach((function(t){if(void 0===d[t])throw new Error("Invalid action type");d[t]!==e[t]&&(n=!0),d[t]=e[t]})),n&&t.map.fire(p.ACTIONABLE,{actions:d})},currentModeName:function(){return a},currentModeRender:function(e,t){return s.render(e,t)},fire:function(e,t){i[e]&&i[e](t)},addEventListeners:function(){t.map.on("mousemove",i.mousemove),t.map.on("mousedown",i.mousedown),t.map.on("mouseup",i.mouseup),t.map.on("data",i.data),t.map.on("touchmove",i.touchmove,{passive:!0}),t.map.on("touchstart",i.touchstart,{passive:!0}),t.map.on("touchend",i.touchend,{passive:!0}),t.container.addEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.addEventListener("keydown",i.keydown),t.container.addEventListener("keyup",i.keyup))},removeEventListeners:function(){t.map.off("mousemove",i.mousemove),t.map.off("mousedown",i.mousedown),t.map.off("mouseup",i.mouseup),t.map.off("data",i.data),t.map.off("touchmove",i.touchmove),t.map.off("touchstart",i.touchstart),t.map.off("touchend",i.touchend),t.container.removeEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.removeEventListener("keydown",i.keydown),t.container.removeEventListener("keyup",i.keyup))},trash:function(e){s.trash(e)},combineFeatures:function(){s.combineFeatures()},uncombineFeatures:function(){s.uncombineFeatures()},getMode:function(){return a}}}(t),t.ui=function(e){var t={},n=null,r={mode:null,feature:null,mouse:null},o={mode:null,feature:null,mouse:null};function i(e){o=K(o,e)}function a(){var t,n;if(e.container){var i=[],a=[];Z.forEach((function(e){o[e]!==r[e]&&(i.push(e+"-"+r[e]),null!==o[e]&&a.push(e+"-"+o[e]))})),i.length>0&&(t=e.container.classList).remove.apply(t,i),a.length>0&&(n=e.container.classList).add.apply(n,a),r=K(r,o)}}function l(e,t){void 0===t&&(t={});var r=document.createElement("button");return r.className=s.CONTROL_BUTTON+" "+t.className,r.setAttribute("title",t.title),t.container.appendChild(r),r.addEventListener("click",(function(r){if(r.preventDefault(),r.stopPropagation(),r.target===n)return c(),void t.onDeactivate();d(e),t.onActivate()}),!0),r}function c(){n&&(n.classList.remove(s.ACTIVE_BUTTON),n=null)}function d(e){c();var r=t[e];r&&r&&"trash"!==e&&(r.classList.add(s.ACTIVE_BUTTON),n=r)}return{setActiveButton:d,queueMapClasses:i,updateMapClasses:a,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),a()},addButtons:function(){var n=e.options.controls,r=document.createElement("div");return r.className=s.CONTROL_GROUP+" "+s.CONTROL_BASE,n?(n[u.LINE]&&(t[u.LINE]=l(u.LINE,{container:r,className:s.CONTROL_BUTTON_LINE,title:"LineString tool "+(e.options.keybindings?"(l)":""),onActivate:function(){return e.events.changeMode(f.DRAW_LINE_STRING)},onDeactivate:function(){return e.events.trash()}})),n[u.POLYGON]&&(t[u.POLYGON]=l(u.POLYGON,{container:r,className:s.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(e.options.keybindings?"(p)":""),onActivate:function(){return e.events.changeMode(f.DRAW_POLYGON)},onDeactivate:function(){return e.events.trash()}})),n[u.POINT]&&(t[u.POINT]=l(u.POINT,{container:r,className:s.CONTROL_BUTTON_POINT,title:"Marker tool "+(e.options.keybindings?"(m)":""),onActivate:function(){return e.events.changeMode(f.DRAW_POINT)},onDeactivate:function(){return e.events.trash()}})),n.trash&&(t.trash=l("trash",{container:r,className:s.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){e.events.trash()}})),n.combine_features&&(t.combine_features=l("combineFeatures",{container:r,className:s.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){e.events.combineFeatures()}})),n.uncombine_features&&(t.uncombine_features=l("uncombineFeatures",{container:r,className:s.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){e.events.uncombineFeatures()}})),r):r},removeButtons:function(){Object.keys(t).forEach((function(e){var n=t[e];n.parentNode&&n.parentNode.removeChild(n),delete t[e]}))}}}(t),t.container=i.getContainer(),t.store=new H(t),n=t.ui.addButtons(),t.options.boxSelect&&(i.boxZoom.disable(),i.dragPan.disable(),i.dragPan.enable()),i.loaded()?o.connect():(i.on("load",o.connect),r=setInterval((function(){i.loaded()&&o.connect()}),16)),t.events.start(),n},addLayers:function(){t.map.addSource(l.COLD,{data:{type:d.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.map.addSource(l.HOT,{data:{type:d.FEATURE_COLLECTION,features:[]},type:"geojson"}),t.options.styles.forEach((function(e){t.map.addLayer(e)})),t.store.setDirty(!0),t.store.render()},removeLayers:function(){t.options.styles.forEach((function(e){t.map.getLayer(e.id)&&t.map.removeLayer(e.id)})),t.map.getSource(l.COLD)&&t.map.removeSource(l.COLD),t.map.getSource(l.HOT)&&t.map.removeSource(l.HOT)}};return t.setup=o,o}var J=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function X(e){return function(t){var n=t.featureTarget;return!!n&&!!n.properties&&n.properties.meta===e}}function Q(e){return!!e.originalEvent&&!!e.originalEvent.shiftKey&&0===e.originalEvent.button}function ee(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===g.ACTIVE&&e.featureTarget.properties.meta===m.FEATURE}function te(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===g.INACTIVE&&e.featureTarget.properties.meta===m.FEATURE}function ne(e){return void 0===e.featureTarget}function re(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.meta===m.FEATURE}function oe(e){var t=e.featureTarget;return!!t&&!!t.properties&&t.properties.meta===m.VERTEX}function ie(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey}function ae(e){return 27===e.keyCode}function se(e){return 13===e.keyCode}var le=Object.freeze({__proto__:null,isOfMetaType:X,isShiftMousedown:Q,isActiveFeature:ee,isInactiveFeature:te,noTarget:ne,isFeature:re,isVertex:oe,isShiftDown:ie,isEscapeKey:ae,isEnterKey:se,isTrue:function(){return!0}}),ce=ue;function ue(e,t){this.x=e,this.y=t}function de(e,t){var n=t.getBoundingClientRect();return new ce(e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0))}function fe(e,t,n,r){return{type:d.FEATURE,properties:{meta:m.VERTEX,parent:e,coord_path:n,active:r?g.ACTIVE:g.INACTIVE},geometry:{type:d.POINT,coordinates:t}}}function pe(e,t,n){var r=t.geometry.coordinates,o=n.geometry.coordinates;if(r[1]>85||r[1]<-85||o[1]>85||o[1]<-85)return null;var i={lng:(r[0]+o[0])/2,lat:(r[1]+o[1])/2};return{type:d.FEATURE,properties:{meta:m.MIDPOINT,parent:e,lng:i.lng,lat:i.lat,coord_path:n.properties.coord_path},geometry:{type:d.POINT,coordinates:[i.lng,i.lat]}}}function he(e,t,n){void 0===t&&(t={}),void 0===n&&(n=null);var r,o=e.geometry,i=o.type,a=o.coordinates,s=e.properties&&e.properties.id,l=[];function c(e,n){var r="",o=null;e.forEach((function(e,i){var a=null!=n?n+"."+i:String(i),c=fe(s,e,a,u(a));if(t.midpoints&&o){var d=pe(s,o,c);d&&l.push(d)}o=c;var f=JSON.stringify(e);r!==f&&l.push(c),0===i&&(r=f)}))}function u(e){return!!t.selectedPaths&&-1!==t.selectedPaths.indexOf(e)}return i===d.POINT?l.push(fe(s,a,n,u(n))):i===d.POLYGON?a.forEach((function(e,t){c(e,null!==n?n+"."+t:String(t))})):i===d.LINE_STRING?c(a,n):0===i.indexOf(d.MULTI_PREFIX)&&(r=i.replace(d.MULTI_PREFIX,""),a.forEach((function(n,o){var i={type:d.FEATURE,properties:e.properties,geometry:{type:r,coordinates:n}};l=l.concat(he(i,t,o))}))),l}ue.prototype={clone:function(){return new ue(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,o=n*this.x+t*this.y;return this.x=r,this.y=o,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),o=t.x+n*(this.x-t.x)-r*(this.y-t.y),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ue.convert=function(e){return e instanceof ue?e:Array.isArray(e)?new ue(e[0],e[1]):e};var me={enable:function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},disable:function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)}},ge={},ve={get exports(){return ge},set exports(e){ge=e}},ye=function(e){if(!e||!e.type)return null;var t=be[e.type];return t?"geometry"===t?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===t?{type:"FeatureCollection",features:[e]}:"featurecollection"===t?e:void 0:null},be={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"},_e=Object.freeze({__proto__:null,default:function e(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce((function(t,n){return t.concat(e(n))}),[]),t;case"Feature":return t.geometry?e(t.geometry).map((function(e){var n={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(n.id=t.id),n})):[t];case"MultiPoint":return t.coordinates.map((function(e){return{type:"Point",coordinates:e}}));case"MultiPolygon":return t.coordinates.map((function(e){return{type:"Polygon",coordinates:e}}));case"MultiLineString":return t.coordinates.map((function(e){return{type:"LineString",coordinates:e}}));case"GeometryCollection":return t.geometries.map(e).reduce((function(e,t){return e.concat(t)}),[]);case"Point":case"Polygon":case"LineString":return[t]}}}),we=ye,xe=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}(_e);xe instanceof Function||(xe=xe.default);var Se={},Ee={get exports(){return Se},set exports(e){Se=e}}.exports=function(e){return new Ce(e)};function Ce(e){this.value=e}function ke(e,t,n){var r=[],o=[],i=!0;return function e(a){var s=n?Ae(a):a,l={},c=!0,u={node:s,node_:a,path:[].concat(r),parent:o[o.length-1],parents:o,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){u.isRoot||(u.parent.node[u.key]=e),u.node=e,t&&(c=!1)},delete:function(e){delete u.parent.node[u.key],e&&(c=!1)},remove:function(e){Pe(u.parent.node)?u.parent.node.splice(u.key,1):delete u.parent.node[u.key],e&&(c=!1)},keys:null,before:function(e){l.before=e},after:function(e){l.after=e},pre:function(e){l.pre=e},post:function(e){l.post=e},stop:function(){i=!1},block:function(){c=!1}};if(!i)return u;function d(){if("object"==typeof u.node&&null!==u.node){u.keys&&u.node_===u.node||(u.keys=Te(u.node)),u.isLeaf=0==u.keys.length;for(var e=0;e<o.length;e++)if(o[e].node_===a){u.circular=o[e];break}}else u.isLeaf=!0,u.keys=null;u.notLeaf=!u.isLeaf,u.notRoot=!u.isRoot}d();var f=t.call(u,u.node);return void 0!==f&&u.update&&u.update(f),l.before&&l.before.call(u,u.node),c?("object"!=typeof u.node||null===u.node||u.circular||(o.push(u),d(),Oe(u.keys,(function(t,o){r.push(t),l.pre&&l.pre.call(u,u.node[t],t);var i=e(u.node[t]);n&&Me.call(u.node,t)&&(u.node[t]=i.node),i.isLast=o==u.keys.length-1,i.isFirst=0==o,l.post&&l.post.call(u,i),r.pop()})),o.pop()),l.after&&l.after.call(u,u.node),u):u}(e).node}function Ae(e){if("object"==typeof e&&null!==e){var t;if(Pe(e))t=[];else if("[object Date]"===Ie(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===Ie(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===Ie(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===Ie(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===Ie(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===Ie(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return Oe(Te(e),(function(n){t[n]=e[n]})),t}return e}Ce.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!Me.call(t,r)){t=void 0;break}t=t[r]}return t},Ce.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!Me.call(t,r))return!1;t=t[r]}return!0},Ce.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];Me.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t,t},Ce.prototype.map=function(e){return ke(this.value,e,!0)},Ce.prototype.forEach=function(e){return this.value=ke(this.value,e,!1),this.value},Ce.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach((function(t){this.isRoot&&n||(r=e.call(this,r,t))})),r},Ce.prototype.paths=function(){var e=[];return this.forEach((function(t){e.push(this.path)})),e},Ce.prototype.nodes=function(){var e=[];return this.forEach((function(t){e.push(this.node)})),e},Ce.prototype.clone=function(){var e=[],t=[];return function n(r){for(var o=0;o<e.length;o++)if(e[o]===r)return t[o];if("object"==typeof r&&null!==r){var i=Ae(r);return e.push(r),t.push(i),Oe(Te(r),(function(e){i[e]=n(r[e])})),e.pop(),t.pop(),i}return r}(this.value)};var Te=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function Ie(e){return Object.prototype.toString.call(e)}var Pe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Oe=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};Oe(Te(Ce.prototype),(function(e){Ee[e]=function(t){var n=[].slice.call(arguments,1),r=new Ce(t);return r[e].apply(r,n)}}));var Me=Object.hasOwnProperty||function(e,t){return t in e},Ne=Le;function Le(e){if(!(this instanceof Le))return new Le(e);this._bbox=e||[1/0,1/0,-1/0,-1/0],this._valid=!!e}Le.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},Le.prototype.equals=function(e){var t;return t=e instanceof Le?e.bbox():e,this._bbox[0]==t[0]&&this._bbox[1]==t[1]&&this._bbox[2]==t[2]&&this._bbox[3]==t[3]},Le.prototype.center=function(e){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},Le.prototype.union=function(e){var t;return this._valid=!0,t=e instanceof Le?e.bbox():e,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[2]),this._bbox[3]=Math.max(this._bbox[3],t[3]),this},Le.prototype.bbox=function(){return this._valid?this._bbox:null},Le.prototype.contains=function(e){if(!e)return this._fastContains();if(!this._valid)return null;var t=e[0],n=e[1];return this._bbox[0]<=t&&this._bbox[1]<=n&&this._bbox[2]>=t&&this._bbox[3]>=n},Le.prototype.intersect=function(e){return this._valid?(t=e instanceof Le?e.bbox():e,!(this._bbox[0]>t[2]||this._bbox[2]<t[0]||this._bbox[3]<t[1]||this._bbox[1]>t[3])):null;var t},Le.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var e="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",e)},Le.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var Re=function(e){if(!e)return[];var t=xe(we(e)),n=[];return t.features.forEach((function(e){e.geometry&&(n=n.concat(function(e){return function e(t){return Array.isArray(t)&&t.length&&"number"==typeof t[0]?[t]:t.reduce((function(t,n){return Array.isArray(n)&&Array.isArray(n[0])?t.concat(e(n)):(t.push(n),t)}),[])}(e)}(e.geometry.coordinates)))})),n},De=Se,ze=Ne,Fe={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},Ue=Object.keys(Fe);function je(e){for(var t=ze(),n=Re(e),r=0;r<n.length;r++)t.include(n[r]);return t}ve.exports=function(e){return je(e).bbox()},ge.polygon=function(e){return je(e).polygon()},ge.bboxify=function(e){return De(e).map((function(e){e&&Ue.some((function(t){return!!e[t]&&-1!==Fe[t].indexOf(e.type)}))&&(e.bbox=je(e).bbox(),this.update(e))}))};var Be=-90;function Ve(e,t){var n=Be,r=90,o=Be,i=90,a=270,s=-270;e.forEach((function(e){var t=ge(e),l=t[1],c=t[3],u=t[0],d=t[2];l>n&&(n=l),c<r&&(r=c),c>o&&(o=c),l<i&&(i=l),u<a&&(a=u),d>s&&(s=d)}));var l=t;return n+l.lat>85&&(l.lat=85-n),o+l.lat>90&&(l.lat=90-o),r+l.lat<-85&&(l.lat=-85-r),i+l.lat<Be&&(l.lat=Be-i),a+l.lng<=-270&&(l.lng+=360*Math.ceil(Math.abs(l.lng)/360)),s+l.lng>=270&&(l.lng-=360*Math.ceil(Math.abs(l.lng)/360)),l}function Ge(e,t){var n=Ve(e.map((function(e){return e.toGeoJSON()})),t);e.forEach((function(e){var t,r=e.getCoordinates(),o=function(e){var t={lng:e[0]+n.lng,lat:e[1]+n.lat};return[t.lng,t.lat]},i=function(e){return e.map((function(e){return o(e)}))};e.type===d.POINT?t=o(r):e.type===d.LINE_STRING||e.type===d.MULTI_POINT?t=r.map(o):e.type===d.POLYGON||e.type===d.MULTI_LINE_STRING?t=r.map(i):e.type===d.MULTI_POLYGON&&(t=r.map((function(e){return e.map((function(e){return i(e)}))}))),e.incomingCoords(t)}))}var qe={onSetup:function(e){var t=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter((function(e){return void 0!==t.getFeature(e)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(p.UPDATE,{action:h.MOVE,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(){var e=this,t=this.getSelected(),n=t.filter((function(t){return e.isInstanceOf("MultiFeature",t)})),r=!1;if(t.length>1){r=!0;var o=t[0].type.replace("Multi","");t.forEach((function(e){e.type.replace("Multi","")!==o&&(r=!1)}))}var i=n.length>0,a=t.length>0;this.setActionableState({combineFeatures:r,uncombineFeatures:i,trash:a})},getUniqueIds:function(e){return e.length?e.map((function(e){return e.properties.id})).filter((function(e){return void 0!==e})).reduce((function(e,t){return e.add(t),e}),new S).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){me.enable(this)},onMouseMove:function(e){return this.stopExtendedInteractions(e),!0},onMouseOut:function(e){return!e.dragMoving||this.fireUpdate()}};qe.onTap=qe.onClick=function(e,t){return ne(t)?this.clickAnywhere(e,t):X(m.VERTEX)(t)?this.clickOnVertex(e,t):re(t)?this.clickOnFeature(e,t):void 0},qe.clickAnywhere=function(e){var t=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach((function(e){return t.doRender(e)}))),me.enable(this),this.stopExtendedInteractions(e)},qe.clickOnVertex=function(e,t){this.changeMode(f.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:c.MOVE})},qe.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},qe.clickOnFeature=function(e,t){var n=this;me.disable(this),this.stopExtendedInteractions(e);var r=ie(t),o=this.getSelectedIds(),i=t.featureTarget.properties.id,a=this.isSelected(i);if(!r&&a&&this.getFeature(i).type!==d.POINT)return this.changeMode(f.DIRECT_SELECT,{featureId:i});a&&r?(this.deselect(i),this.updateUIClasses({mouse:c.POINTER}),1===o.length&&me.enable(this)):!a&&r?(this.select(i),this.updateUIClasses({mouse:c.MOVE})):a||r||(o.forEach((function(e){return n.doRender(e)})),this.setSelected(i),this.updateUIClasses({mouse:c.MOVE})),this.doRender(i)},qe.onMouseDown=function(e,t){return ee(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&Q(t)?this.startBoxSelect(e,t):void 0},qe.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=de(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},qe.onTouchStart=function(e,t){if(ee(t))return this.startOnActiveFeature(e,t)},qe.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},qe.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:c.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(s.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));var n=de(t.originalEvent,this.map.getContainer()),r=Math.min(e.boxSelectStartLocation.x,n.x),o=Math.max(e.boxSelectStartLocation.x,n.x),i=Math.min(e.boxSelectStartLocation.y,n.y),a=Math.max(e.boxSelectStartLocation.y,n.y),l="translate("+r+"px, "+i+"px)";e.boxSelectElement.style.transform=l,e.boxSelectElement.style.WebkitTransform=l,e.boxSelectElement.style.width=o-r+"px",e.boxSelectElement.style.height=a-i+"px"},qe.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};Ge(this.getSelected(),n),e.dragMoveLocation=t.lngLat},qe.onTouchEnd=qe.onMouseUp=function(e,t){var n=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var r=[e.boxSelectStartLocation,de(t.originalEvent,this.map.getContainer())],o=this.featuresAt(null,r,"click"),i=this.getUniqueIds(o).filter((function(e){return!n.isSelected(e)}));i.length&&(this.select(i),i.forEach((function(e){return n.doRender(e)})),this.updateUIClasses({mouse:c.MOVE}))}this.stopExtendedInteractions(e)},qe.toDisplayFeatures=function(e,t,n){t.properties.active=this.isSelected(t.properties.id)?g.ACTIVE:g.INACTIVE,n(t),this.fireActionable(),t.properties.active===g.ACTIVE&&t.geometry.type!==d.POINT&&he(t).forEach(n)},qe.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},qe.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],n=[],r=e[0].type.replace("Multi",""),o=0;o<e.length;o++){var i=e[o];if(i.type.replace("Multi","")!==r)return;i.type.includes("Multi")?i.getCoordinates().forEach((function(e){t.push(e)})):t.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var a=this.newFeature({type:d.FEATURE,properties:n[0].properties,geometry:{type:"Multi"+r,coordinates:t}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire(p.COMBINE_FEATURES,{createdFeatures:[a.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},qe.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var n=[],r=[],o=function(o){var i=t[o];e.isInstanceOf("MultiFeature",i)&&(i.getFeatures().forEach((function(t){e.addFeature(t),t.properties=i.properties,n.push(t.toGeoJSON()),e.select([t.id])})),e.deleteFeature(i.id,{silent:!0}),r.push(i.toGeoJSON()))},i=0;i<t.length;i++)o(i);n.length>1&&this.map.fire(p.UNCOMBINE_FEATURES,{createdFeatures:n,deletedFeatures:r}),this.fireActionable()}};var He=X(m.VERTEX),We=X(m.MIDPOINT),Ke={fireUpdate:function(){this.map.fire(p.UPDATE,{action:h.CHANGE_COORDINATES,features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties,r=e.selectedCoordPaths.indexOf(n.coord_path);ie(t)||-1!==r?ie(t)&&-1===r&&e.selectedCoordPaths.push(n.coord_path):e.selectedCoordPaths=[n.coord_path];var o=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(o)},onMidpoint:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties;e.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),e.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(e,t){return t.map((function(t){return{feature_id:e,coord_path:t}}))},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,n){Ge(this.getSelected(),n),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,n){for(var r=e.selectedCoordPaths.map((function(t){return e.feature.getCoordinate(t)})),o=Ve(r.map((function(e){return{type:d.FEATURE,properties:{},geometry:{type:d.POINT,coordinates:e}}})),n),i=0;i<r.length;i++){var a=r[i];e.feature.updateCoordinate(e.selectedCoordPaths[i],a[0]+o.lng,a[1]+o.lat)}},clickNoTarget:function(){this.changeMode(f.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(f.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,n=this.getFeature(t);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===d.POINT)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:t,feature:n,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,r.selectedCoordPaths)),this.setSelected(t),me.disable(this),this.setActionableState({trash:!0}),r},onStop:function(){me.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,n){e.featureId===t.properties.id?(t.properties.active=g.ACTIVE,n(t),he(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(n)):(t.properties.active=g.INACTIVE,n(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort((function(e,t){return t.localeCompare(e,"en",{numeric:!0})})).forEach((function(t){return e.feature.removeCoordinate(t)})),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(f.SIMPLE_SELECT,{}))},onMouseMove:function(e,t){var n=ee(t),r=He(t),o=0===e.selectedCoordPaths.length;return n&&o||r&&!o?this.updateUIClasses({mouse:c.MOVE}):this.updateUIClasses({mouse:c.NONE}),this.stopDragging(e),!0},onMouseOut:function(e){return e.dragMoving&&this.fireUpdate(),!0}};Ke.onTouchStart=Ke.onMouseDown=function(e,t){return He(t)?this.onVertex(e,t):ee(t)?this.onFeature(e,t):We(t)?this.onMidpoint(e,t):void 0},Ke.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,n):this.dragFeature(e,t,n),e.dragMoveLocation=t.lngLat}},Ke.onClick=function(e,t){return ne(t)?this.clickNoTarget(e,t):ee(t)?this.clickActiveFeature(e,t):te(t)?this.clickInactive(e,t):void this.stopDragging(e)},Ke.onTap=function(e,t){return ne(t)?this.clickNoTarget(e,t):ee(t)?this.clickActiveFeature(e,t):te(t)?this.clickInactive(e,t):void 0},Ke.onTouchEnd=Ke.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};var $e={};function Ze(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}$e.onSetup=function(){var e=this.newFeature({type:d.FEATURE,properties:{},geometry:{type:d.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:c.ADD}),this.activateUIButton(u.POINT),this.setActionableState({trash:!0}),{point:e}},$e.stopDrawingAndRemove=function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},$e.onTap=$e.onClick=function(e,t){this.updateUIClasses({mouse:c.MOVE}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.map.fire(p.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.point.id]})},$e.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},$e.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.point.id;if(t.properties.active=r?g.ACTIVE:g.INACTIVE,!r)return n(t)},$e.onTrash=$e.stopDrawingAndRemove,$e.onKeyUp=function(e,t){if(ae(t)||se(t))return this.stopDrawingAndRemove(e,t)};var Ye={onSetup:function(){var e=this.newFeature({type:d.FEATURE,properties:{},geometry:{type:d.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),me.disable(this),this.updateUIClasses({mouse:c.ADD}),this.activateUIButton(u.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Ze(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:c.ADD}),e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),oe(t)&&this.updateUIClasses({mouse:c.POINTER})}};Ye.onTap=Ye.onClick=function(e,t){return oe(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},Ye.onKeyUp=function(e,t){ae(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)):se(t)&&this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},Ye.onStop=function(e){this.updateUIClasses({mouse:c.NONE}),me.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0."+e.currentVertexPosition),e.polygon.isValid()?this.map.fire(p.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},Ye.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.polygon.id;if(t.properties.active=r?g.ACTIVE:g.INACTIVE,!r)return n(t);if(0!==t.geometry.coordinates.length){var o=t.geometry.coordinates[0].length;if(!(o<3)){if(t.properties.meta=m.FEATURE,n(fe(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),o>3){var i=t.geometry.coordinates[0].length-3;n(fe(e.polygon.id,t.geometry.coordinates[0][i],"0."+i,!1))}if(o<=4){var a=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(n({type:d.FEATURE,properties:t.properties,geometry:{coordinates:a,type:d.LINE_STRING}}),3===o)return}return n(t)}}},Ye.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)};var Je={onSetup:function(e){var t,n,r=(e=e||{}).featureId,o="forward";if(r){if(!(t=this.getFeature(r)))throw new Error("Could not find a feature with the provided featureId");var i=e.from;if(i&&"Feature"===i.type&&i.geometry&&"Point"===i.geometry.type&&(i=i.geometry),i&&"Point"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error("Please use the `from` property to indicate which point to continue the line from");var a=t.coordinates.length-1;if(t.coordinates[a][0]===i[0]&&t.coordinates[a][1]===i[1])n=a+1,t.addCoordinate.apply(t,[n].concat(t.coordinates[a]));else{if(t.coordinates[0][0]!==i[0]||t.coordinates[0][1]!==i[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");o="backwards",n=0,t.addCoordinate.apply(t,[n].concat(t.coordinates[0]))}}else t=this.newFeature({type:d.FEATURE,properties:{},geometry:{type:d.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(t);return this.clearSelectedFeatures(),me.disable(this),this.updateUIClasses({mouse:c.ADD}),this.activateUIButton(u.LINE),this.setActionableState({trash:!0}),{line:t,currentVertexPosition:n,direction:o}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Ze(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&Ze(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:c.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),oe(t)&&this.updateUIClasses({mouse:c.POINTER})}};Je.onTap=Je.onClick=function(e,t){if(oe(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},Je.onKeyUp=function(e,t){se(t)?this.changeMode(f.SIMPLE_SELECT,{featureIds:[e.line.id]}):ae(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT))},Je.onStop=function(e){me.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(""+e.currentVertexPosition),e.line.isValid()?this.map.fire(p.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT,{},{silent:!0})))},Je.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(f.SIMPLE_SELECT)},Je.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.line.id;if(t.properties.active=r?g.ACTIVE:g.INACTIVE,!r)return n(t);t.geometry.coordinates.length<2||(t.properties.meta=m.FEATURE,n(fe(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],""+("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),n(t))};var Xe={simple_select:qe,direct_select:Ke,draw_point:$e,draw_polygon:Ye,draw_line_string:Je},Qe={defaultMode:f.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:J,modes:Xe,controls:{},userProperties:!1},et={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},tt={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function nt(e,t){return e.map((function(e){return e.source?e:K(e,{id:e.id+"."+t,source:"hot"===t?l.HOT:l.COLD})}))}var rt={};!function(e,t){var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",h="[object Promise]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[i]=S[a]=S[b]=S[s]=S[_]=S[l]=S[c]=S[u]=S[d]=S[f]=S[p]=S[m]=S[g]=S[v]=S[y]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,k=E||C||Function("return this")(),A=t&&!t.nodeType&&t,T=A&&e&&!e.nodeType&&e,I=T&&T.exports===A,P=I&&E.process,O=function(){try{return P&&P.binding&&P.binding("util")}catch(e){}}(),M=O&&O.isTypedArray;function N(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var D,z,F,U=Array.prototype,j=Function.prototype,B=Object.prototype,V=k["__core-js_shared__"],G=j.toString,q=B.hasOwnProperty,H=(D=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",W=B.toString,K=RegExp("^"+G.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=I?k.Buffer:void 0,Z=k.Symbol,Y=k.Uint8Array,J=B.propertyIsEnumerable,X=U.splice,Q=Z?Z.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=$?$.isBuffer:void 0,ne=(z=Object.keys,F=Object,function(e){return z(F(e))}),re=Te(k,"DataView"),oe=Te(k,"Map"),ie=Te(k,"Promise"),ae=Te(k,"Set"),se=Te(k,"WeakMap"),le=Te(Object,"create"),ce=Me(re),ue=Me(oe),de=Me(ie),fe=Me(ae),pe=Me(se),he=Z?Z.prototype:void 0,me=he?he.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function _e(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){for(var n=e.length;n--;)if(Ne(e[n][0],t))return n;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=q.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(e){}var o=W.call(e);return r&&(t?e[Q]=n:delete e[Q]),o}(e):function(e){return W.call(e)}(e)}function Se(e){return je(e)&&xe(e)==i}function Ee(e,t,n,r,o){return e===t||(null==e||null==t||!je(e)&&!je(t)?e!=e&&t!=t:function(e,t,n,r,o,u){var h=Re(e),y=Re(t),w=h?a:Pe(e),x=y?a:Pe(t),S=(w=w==i?p:w)==p,E=(x=x==i?p:x)==p,C=w==x;if(C&&De(e)){if(!De(t))return!1;h=!0,S=!1}if(C&&!S)return u||(u=new _e),h||Be(e)?Ce(e,t,n,r,o,u):function(e,t,n,r,o,i,a){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!i(new Y(e),new Y(t)));case s:case l:case f:return Ne(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case d:var u=L;case g:var p=1&r;if(u||(u=R),e.size!=t.size&&!p)return!1;var h=a.get(e);if(h)return h==t;r|=2,a.set(e,t);var y=Ce(u(e),u(t),r,o,i,a);return a.delete(e),y;case"[object Symbol]":if(me)return me.call(e)==me.call(t)}return!1}(e,t,w,n,r,o,u);if(!(1&n)){var k=S&&q.call(e,"__wrapped__"),A=E&&q.call(t,"__wrapped__");if(k||A){var T=k?e.value():e,I=A?t.value():t;return u||(u=new _e),o(T,I,n,r,u)}}return!!C&&(u||(u=new _e),function(e,t,n,r,o,i){var a=1&n,s=ke(e),l=s.length;if(l!=ke(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:q.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<l;){var h=e[u=s[c]],m=t[u];if(r)var g=a?r(m,h,u,t,e,i):r(h,m,u,e,t,i);if(!(void 0===g?h===m||o(h,m,n,r,i):g)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,u))}(e,t,n,r,Ee,o))}function Ce(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,f=2&n?new be:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var p=e[u],h=t[u];if(r)var m=a?r(h,p,u,t,e,i):r(p,h,u,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!N(t,(function(e,t){if(a=t,!f.has(a)&&(p===e||o(p,e,n,r,i)))return f.push(t);var a}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function ke(e){return function(e,t,n){var r=t(e);return Re(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ve,Ie)}function Ae(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Te(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ue(e)||function(e){return!!H&&H in e}(e))&&(ze(e)?K:w).test(Me(e))}(n)?n:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return q.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:q.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=we(t,e);return!(n<0||(n==t.length-1?t.pop():X.call(t,n,1),--this.size,0))},ve.prototype.get=function(e){var t=this.__data__,n=we(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return we(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=we(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(oe||ve),string:new ge}},ye.prototype.delete=function(e){var t=Ae(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Ae(this,e).get(e)},ye.prototype.has=function(e){return Ae(this,e).has(e)},ye.prototype.set=function(e,t){var n=Ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,r),this},be.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new ve,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Ie=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a)&&(i[o++]=a)}return i}(ee(e),(function(t){return J.call(e,t)})))}:function(){return[]},Pe=xe;function Oe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function Me(e){if(null!=e){try{return G.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ne(e,t){return e===t||e!=e&&t!=t}(re&&Pe(new re(new ArrayBuffer(1)))!=_||oe&&Pe(new oe)!=d||ie&&Pe(ie.resolve())!=h||ae&&Pe(new ae)!=g||se&&Pe(new se)!=y)&&(Pe=function(e){var t=xe(e),n=t==p?e.constructor:void 0,r=n?Me(n):"";if(r)switch(r){case ce:return _;case ue:return d;case de:return h;case fe:return g;case pe:return y}return t});var Le=Se(function(){return arguments}())?Se:function(e){return je(e)&&q.call(e,"callee")&&!J.call(e,"callee")},Re=Array.isArray,De=te||function(){return!1};function ze(e){if(!Ue(e))return!1;var t=xe(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ue(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return null!=e&&"object"==typeof e}var Be=M?function(e){return function(t){return e(t)}}(M):function(e){return je(e)&&Fe(e.length)&&!!S[xe(e)]};function Ve(e){return null!=(t=e)&&Fe(t.length)&&!ze(t)?function(e,t){var n=Re(e),r=!n&&Le(e),o=!n&&!r&&De(e),i=!n&&!r&&!o&&Be(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!q.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Oe(c,l))||s.push(c);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||B))return ne(e);var t,n,r=[];for(var o in Object(e))q.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t}e.exports=function(e,t){return Ee(e,t)}}({get exports(){return rt},set exports(e){rt=e}},rt);var ot=rt;function it(e,t){return e.length===t.length&&JSON.stringify(e.map((function(e){return e})).sort())===JSON.stringify(t.map((function(e){return e})).sort())}var at={Polygon:D,LineString:R,Point:L,MultiPolygon:U,MultiLineString:U,MultiPoint:U},st=Object.freeze({__proto__:null,CommonSelectors:le,constrainFeatureMovement:Ve,createMidPoint:pe,createSupplementaryPoints:he,createVertex:fe,doubleClickZoom:me,euclideanDistance:T,featuresAt:C,getFeatureAtAndSetCursors:A,isClick:I,isEventAtCoordinates:Ze,isTap:P,mapEventToBoundingBox:x,ModeHandler:e,moveFeatures:Ge,sortFeatures:w,stringSetsAreEqual:it,StringSet:S,theme:J,toDenseArray:G});function lt(e){!function(e,t){var n={options:e=function(e){void 0===e&&(e={});var t=K(e);return e.controls||(t.controls={}),!1===e.displayControlsDefault?t.controls=K(tt,e.controls):t.controls=K(et,e.controls),(t=K(Qe,t)).styles=nt(t.styles,"cold").concat(nt(t.styles,"hot")),t}(e)};t=function(e,t){return t.modes=f,t.getFeatureIdsAt=function(t){return C.click({point:t},null,e).map((function(e){return e.properties.id}))},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:d.FEATURE_COLLECTION,features:e.store.getSelectedIds().map((function(t){return e.store.get(t)})).map((function(e){return e.toGeoJSON()}))}},t.getSelectedPoints=function(){return{type:d.FEATURE_COLLECTION,features:e.store.getSelectedCoordinates().map((function(e){return{type:d.FEATURE,properties:{},geometry:{type:d.POINT,coordinates:e.coordinates}}}))}},t.set=function(n){if(void 0===n.type||n.type!==d.FEATURE_COLLECTION||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var r=e.store.createRenderBatch(),o=e.store.getAllIds().slice(),i=t.add(n),a=new S(i);return(o=o.filter((function(e){return!a.has(e)}))).length&&t.delete(o),r(),i},t.add=function(t){var n=JSON.parse(JSON.stringify(ye(t))).features.map((function(t){if(t.id=t.id||O(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){var n=at[t.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: "+t.geometry.type+".");var r=new n(e,t);e.store.add(r)}else{var o=e.store.get(t.id);o.properties=t.properties,ot(o.getCoordinates(),t.geometry.coordinates)||o.incomingCoords(t.geometry.coordinates)}return t.id}));return e.store.render(),n},t.get=function(t){var n=e.store.get(t);if(n)return n.toGeoJSON()},t.getAll=function(){return{type:d.FEATURE_COLLECTION,features:e.store.getAll().map((function(e){return e.toGeoJSON()}))}},t.delete=function(n){return e.store.delete(n,{silent:!0}),t.getMode()!==f.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:!0}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:!0}),t.getMode()===f.DIRECT_SELECT?e.events.changeMode(f.SIMPLE_SELECT,void 0,{silent:!0}):e.store.render(),t},t.changeMode=function(n,r){return void 0===r&&(r={}),n===f.SIMPLE_SELECT&&t.getMode()===f.SIMPLE_SELECT?(it(r.featureIds||[],e.store.getSelectedIds())||(e.store.setSelected(r.featureIds,{silent:!0}),e.store.render()),t):(n===f.DIRECT_SELECT&&t.getMode()===f.DIRECT_SELECT&&r.featureId===e.store.getSelectedIds()[0]||e.events.changeMode(n,r,{silent:!0}),t)},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:!0}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:!0}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:!0}),t},t.setFeatureProperty=function(n,r,o){return e.store.setFeatureProperty(n,r,o),t},t}(n,t),n.api=t;var r=Y(n);t.onAdd=r.onAdd,t.onRemove=r.onRemove,t.types=u,t.options=e}(e,this)}return lt.modes=Xe,lt.constants=y,lt.lib=st,lt}()},71909:e=>{e.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},606:(e,t,n)=>{"use strict";var r=n(59162),o=n(91296),i=n(47529),a=n(17187).EventEmitter,s=n(71909),l=n(20217),c=n(94395);function u(e,t){this._eventEmitter=new a,this.options=i({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geocoderApi=e}u.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,showResultsWhileTyping:!1,minLength:2,reverseGeocode:!1,limit:5,enableEventLogging:!0,marker:!0,popup:!1,maplibregl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(e){return void 0!==e.text?e.text:e.place_name},render:function(e){if(e.geometry){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--result maplibregl-ctrl-geocoder--result"><svg class="mapboxgl-ctrl-geocoder--result-icon maplibre-ctrl-geocoder--result-icon" viewBox="0 0 24 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.36571 0 0 5.38676 0 12.0471C0 21.0824 12 32 12 32C12 32 24 21.0824 24 12.0471C24 5.38676 18.6343 0 12 0ZM12 16.3496C9.63428 16.3496 7.71429 14.4221 7.71429 12.0471C7.71429 9.67207 9.63428 7.74454 12 7.74454C14.3657 7.74454 16.2857 9.67207 16.2857 12.0471C16.2857 14.4221 14.3657 16.3496 12 16.3496Z" fill="#687078"/></svg><div><div class="mapboxgl-ctrl-geocoder--result-title maplibregl-ctrl-geocoder--result-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--result-address maplibregl-ctrl-geocoder--result-address">'+t.splice(1,t.length).join(",")+"</div></div></div>"}var n=e.text,r=n.toLowerCase().indexOf(this.query.toLowerCase()),o=this.query.length;return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibregl-ctrl-geocoder--suggestion"><svg class="mapboxgl-ctrl-geocoder--suggestion-icon maplibre-ctrl-geocoder--suggestion-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22.8702 20.1258H21.4248L20.9125 19.6318C22.7055 17.546 23.785 14.8382 23.785 11.8925C23.785 5.32419 18.4608 0 11.8925 0C5.32419 0 0 5.32419 0 11.8925C0 18.4608 5.32419 23.785 11.8925 23.785C14.8382 23.785 17.546 22.7055 19.6318 20.9125L20.1258 21.4248V22.8702L29.2739 32L32 29.2739L22.8702 20.1258ZM11.8925 20.1258C7.33676 20.1258 3.65923 16.4483 3.65923 11.8925C3.65923 7.33676 7.33676 3.65923 11.8925 3.65923C16.4483 3.65923 20.1258 7.33676 20.1258 11.8925C20.1258 16.4483 16.4483 20.1258 11.8925 20.1258Z" fill="#687078"/></svg><div class="mapboxgl-ctrl-geocoder--suggestion-info maplibregl-ctrl-geocoder--suggestion-info"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibregl-ctrl-geocoder--suggestion-title">'+n.substring(0,r)+'<span class="mapboxgl-ctrl-geocoder--suggestion-match maplibregl-ctrl-geocoder--suggestion-match">'+n.substring(r,r+o)+"</span>"+n.substring(r+o)+"</div></div></div>"},popupRender:function(e){var t=e.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion maplibre-ctrl-geocoder--suggestion popup-suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title maplibre-ctrl-geocoder--suggestion-title popup-suggestion-title">'+t[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address maplibre-ctrl-geocoder--suggestion-address popup-suggestion-address">'+t.splice(1,t.length).join(",")+"</div></div>"},showResultMarkers:!0,debounceSearch:200},addTo:function(e){function t(e,t){if(!document.body.contains(t))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var n=e.onAdd();t.appendChild(n)}if(e._controlContainer)e.addControl(this);else if(e instanceof HTMLElement)t(this,e);else{if("string"!=typeof e)throw new Error("Error: addTo must be a maplibre-gl-js map, an html element, or a CSS selector query for a single html element");var n=document.querySelectorAll(e);if(0===n.length)throw new Error("Element ",e,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");t(this,n[0])}},onAdd:function(e){if(e&&"string"!=typeof e&&(this._map=e),this.setLanguage(),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var t=this.container=document.createElement("div");t.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl maplibregl-ctrl-geocoder maplibregl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input maplibregl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",o(this._onKeyDown,this.options.debounceSearch)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton);var i=document.createElement("div");i.classList.add("mapboxgl-ctrl-geocoder--pin-right","maplibregl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button maplibregl-ctrl-geocoder--button";var a=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(a),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),i.appendChild(this._clearEl),i.appendChild(this._loadingEl),t.appendChild(n),t.appendChild(this._inputEl),t.appendChild(i),this._typeahead=new r(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit,noInitialSelection:!0}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this.resultMarkers=[],this._handleMarker=this._handleMarker.bind(this),this._handleResultMarkers=this._handleResultMarkers.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._maplibregl=this.options.maplibregl,!this._maplibregl&&this.options.marker&&(console.error("No maplibregl detected in options. Map markers are disabled. Please set options.maplibregl."),this.options.marker=!1)),t},createIcon:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+e+" maplibregl-ctrl-geocoder--icon maplibregl-ctrl-geocoder--icon-"+e),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=t;else{var r=document.createElement("div");r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";var o=r.firstChild.firstChild;n.appendChild(o)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");t.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(t)},_onKeyDown:function(e){var t=27,n=9;if(e.keyCode===t&&this.options.clearAndBlurOnEsc)return this._clear(e),this._inputEl.blur();var r=e.target&&e.target.shadowRoot?e.target.shadowRoot.activeElement:e.target;if(!r||!r.value)return this.fresh=!0,e.keyCode!==n&&this.clear(e),this._clearEl.style.display="none";if(!e.metaKey&&-1===[n,t,37,39,38,40].indexOf(e.keyCode)){if(13===e.keyCode){if(this.options.showResultsWhileTyping)return void(null==this._typeahead.selected&&this.geocoderApi.getSuggestions?this._geocode(r.value,!0):null==this._typeahead.selected&&this.options.showResultMarkers&&this._fitBoundsForMarkers());this._typeahead.selected||this._geocode(r.value)}r.value.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(r.value)}},_showButton:function(){this._inputEl.value.length>0&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(e){this.options.clearOnBlur&&this._clearOnBlur(e),this.options.collapsed&&this._collapse()},_onChange:function(){var e=this._typeahead.selected;if(e&&!e.geometry)e.placeId?this._geocode(e.placeId,!0,!0):this._geocode(e.text,!0);else if(e&&JSON.stringify(e)!==this.lastSelected){var t;if(this._clearEl.style.display="none",this.options.flyTo)if(this._removeResultMarkers(),e.properties&&s[e.properties.short_code])t=i({},this.options.flyTo),this._map&&this._map.fitBounds(s[e.properties.short_code].bbox,t);else if(e.bbox){var n=e.bbox;t=i({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],t)}else{var r={zoom:this.options.zoom};t=i({},r,this.options.flyTo),e.center?t.center=e.center:e.geometry&&e.geometry.type&&"Point"===e.geometry.type&&e.geometry.coordinates&&(t.center=e.geometry.coordinates),this._map&&this._map.flyTo(t)}this.options.marker&&this._maplibregl&&this._handleMarker(e),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(e),this._typeahead.selected=null,this._eventEmitter.emit("result",{result:e})}},_getConfigForRequest:function(){var e=this;return["bbox","limit","proximity","countries","types","language","reverseMode"].reduce((function(t,n){return e.options[n]&&(["countries","types","language"].indexOf(n)>-1?t[n]=e.options[n].split(/[\s,]+/):t[n]=e.options[n],"proximity"===n&&e.options[n]&&"number"==typeof e.options[n].longitude&&"number"==typeof e.options[n].latitude&&(t[n]=[e.options[n].longitude,e.options[n].latitude])),t}),{})},_geocode:function(e,t,n){this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:e}),this.inputString=e;var r,o=null,a=this._getConfigForRequest();if(this.options.localGeocoderOnly)r=Promise.resolve();else if(this.options.reverseGeocode&&/(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)){var s=e.split(/[\s(,)?]+/).map((function(e){return parseFloat(e,10)})).reverse();!a.types||a.types[0],"proximity"in(a=i(a,{query:s,limit:1}))&&delete a.proximity,r=this.geocoderApi.reverseGeocode(a)}else a=i(a,{query:e}),r=this.geocoderApi.getSuggestions?t?this.geocoderApi.searchByPlaceId&&n?this.geocoderApi.searchByPlaceId(a):this.geocoderApi.forwardGeocode(a):this.geocoderApi.getSuggestions(a):this.geocoderApi.forwardGeocode(a);var l=[];this.options.localGeocoder&&((l=this.options.localGeocoder(e))||(l=[]));var c=[];return r.catch(function(e){o=e}.bind(this)).then(function(t){this._loadingEl.style.display="none";var n={};return(n=t||{type:"FeatureCollection",features:[]}).config=a,this.fresh&&(this.fresh=!1),n.features=n.features?l.concat(n.features):l,this.options.externalGeocoder?(c=this.options.externalGeocoder(e,n.features,a)||[]).then((function(e){return n.features=n.features?e.concat(n.features):e,n}),(function(){return n})):n}.bind(this)).then(function(e){if(o)throw o;this.options.filter&&e.features.length&&(e.features=e.features.filter(this.options.filter));var n;(n=e.suggestions?e.suggestions:e.place?[e.place]:e.features).length?(this._clearEl.style.display="block",this._typeahead.update(n),(!this.options.showResultsWhileTyping||t)&&this.options.showResultMarkers&&(e.features.length>0||e.place)&&this._fitBoundsForMarkers(),this._eventEmitter.emit("results",e)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",e))}.bind(this)).catch(function(e){this._loadingEl.style.display="none",l.length&&this.options.localGeocoder||c.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(l)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:l}),this._eventEmitter.emit("error",{error:e})}.bind(this)),r},_clear:function(e){e&&e.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this._removeResultMarkers(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(e){this._clear(e),this._inputEl.focus()},_clearOnBlur:function(e){e.relatedTarget&&this._clear(e)},_onQueryResult:function(e){var t=e;if(t.features.length){var n=t.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var e=this._map.getCenter().wrap();this.setProximity({longitude:e.lng,latitude:e.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed","maplibregl-ctrl-geocoder--collapsed")},query:function(e){return this._geocode(e).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error maplibre-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results maplibre-gl-geocoder--error maplibre-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(e){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(e)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var e=this.options.language.split(",")[0],t=c.language(e),n=l.placeholder[t];if(n)return n}return"Search"},_fitBoundsForMarkers:function(){if(!(this._typeahead.data.length<1)){var e=this._typeahead.data.filter((function(e){return"string"!=typeof e})).slice(0,this.options.limit);if(this._clearEl.style.display="none",this.options.flyTo&&this._maplibregl&&this._map){var t=i({},{padding:100},this.options.flyTo),n=new this._maplibregl.LngLatBounds;e.forEach((function(e){n.extend(e.geometry.coordinates)})),this._map.fitBounds(n.toArray(),t)}return e.length>0&&this._maplibregl&&this._handleResultMarkers(e),this}},setInput:function(e){return this._inputEl.value=e,this._typeahead.selected=null,this._typeahead.clear(),e.length>=this.options.minLength&&this.options.showResultsWhileTyping&&this._geocode(e),this},setProximity:function(e){return this.options.proximity=e,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(e){return e&&"function"==typeof e&&(this._typeahead.render=e),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(e){var t=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=e||this.options.language||t,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(e){return this.options.zoom=e,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(e){return this.options.flyTo=e,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(e){return this.placeholder=e||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(e){return this.options.bbox=e,this},getCountries:function(){return this.options.countries},setCountries:function(e){return this.options.countries=e,this},getTypes:function(){return this.options.types},setTypes:function(e){return this.options.types=e,this},getMinLength:function(){return this.options.minLength},setMinLength:function(e){return this.options.minLength=e,this._typeahead&&(this._typeahead.options.minLength=e),this},getLimit:function(){return this.options.limit},setLimit:function(e){return this.options.limit=e,this._typeahead&&(this._typeahead.options.limit=e),this},getFilter:function(){return this.options.filter},setFilter:function(e){return this.options.filter=e,this},setGeocoderApi:function(e){return this.geocoderApi=e,this},getGeocoderApi:function(){return this.geocoderApi},_handleMarker:function(e){if(this._map){this._removeMarker();var t,n=i({},{color:"#4668F2"},this.options.marker);if(this.mapMarker=new this._maplibregl.Marker(n),this.options.popup){var r=i({},{},this.options.popup);t=new this._maplibregl.Popup(r).setHTML(this.options.popupRender(e))}return e.center?(this.mapMarker.setLngLat(e.center).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(t)):e.geometry&&e.geometry.type&&"Point"===e.geometry.type&&e.geometry.coordinates&&(this.mapMarker.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&this.mapMarker.setPopup(t)),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},_handleResultMarkers:function(e){if(this._map){this._removeResultMarkers();var t=i({},{color:"#4668F2"},this.options.showResultMarkers);return e.forEach(function(e){if(this.options.showResultMarkers&&this.options.showResultMarkers.element){var n=this.options.showResultMarkers.element.cloneNode(!0);t=i(t,{element:n})}var r,o=new this._maplibregl.Marker(i({},t,{element:n}));if(this.options.popup){var a=i({},{},this.options.popup);r=new this._maplibregl.Popup(a).setHTML(this.options.popupRender(e))}e.center?(o.setLngLat(e.center).addTo(this._map),this.options.popup&&o.setPopup(r)):e.geometry&&e.geometry.type&&"Point"===e.geometry.type&&e.geometry.coordinates&&(o.setLngLat(e.geometry.coordinates).addTo(this._map),this.options.popup&&o.setPopup(r)),this.resultMarkers.push(o)}.bind(this)),this}},_removeResultMarkers:function(){this.resultMarkers&&this.resultMarkers.length>0&&(this.resultMarkers.forEach((function(e){e.remove()})),this.resultMarkers=[])},on:function(e,t){return this._eventEmitter.on(e,t),this},off:function(e,t){return this._eventEmitter.removeListener(e,t),this}},e.exports=u},20217:e=>{"use strict";e.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"לחפש",ja:"サーチ",lv:"Meklēt",pt:"Procurar",sr:"Претрага",zh:"搜索",cs:"Vyhledávání",hu:"Keresés",ka:"ძიება",nb:"Søke",sk:"Vyhľadávanie",th:"ค้นหา",fi:"Hae",is:"Leita",ko:"수색",pl:"Szukaj",sl:"Iskanje",fa:"جستجو",ru:"Поиск"}}},76652:(e,t,n)=>{"use strict";function r(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}n.d(t,{M:()=>r})},53455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Accordion:()=>D,AccordionContent:()=>Q,AccordionHeader:()=>Y,AccordionItem:()=>Z,AccordionTrigger:()=>X,Content:()=>oe,Header:()=>ne,Item:()=>te,Root:()=>ee,Trigger:()=>re,createAccordionScope:()=>L});var r=n(87462),o=n(67294),i=n(32707),a=n(64053),s=n(17255),l=n(76652),c=n(39920),u=n(40192),d=n(29563),f=n(43216),p=n(66195);const h="Collapsible",[m,g]=(0,i.b)(h),[v,y]=m(h),b=(0,o.forwardRef)(((e,t)=>{const{__scopeCollapsible:n,open:i,defaultOpen:a,disabled:s,onOpenChange:l,...d}=e,[f=!1,h]=(0,c.T)({prop:i,defaultProp:a,onChange:l});return(0,o.createElement)(v,{scope:n,disabled:s,contentId:(0,p.M)(),open:f,onOpenToggle:(0,o.useCallback)((()=>h((e=>!e))),[h])},(0,o.createElement)(u.WV.div,(0,r.Z)({"data-state":E(f),"data-disabled":s?"":void 0},d,{ref:t})))})),_=(0,o.forwardRef)(((e,t)=>{const{__scopeCollapsible:n,...i}=e,a=y("CollapsibleTrigger",n);return(0,o.createElement)(u.WV.button,(0,r.Z)({type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":E(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled},i,{ref:t,onClick:(0,l.M)(e.onClick,a.onOpenToggle)}))})),w="CollapsibleContent",x=(0,o.forwardRef)(((e,t)=>{const{forceMount:n,...i}=e,a=y(w,e.__scopeCollapsible);return(0,o.createElement)(f.z,{present:n||a.open},(({present:e})=>(0,o.createElement)(S,(0,r.Z)({},i,{ref:t,present:e}))))})),S=(0,o.forwardRef)(((e,t)=>{const{__scopeCollapsible:n,present:i,children:a,...l}=e,c=y(w,n),[f,p]=(0,o.useState)(i),h=(0,o.useRef)(null),m=(0,s.e)(t,h),g=(0,o.useRef)(0),v=g.current,b=(0,o.useRef)(0),_=b.current,x=c.open||f,S=(0,o.useRef)(x),C=(0,o.useRef)();return(0,o.useEffect)((()=>{const e=requestAnimationFrame((()=>S.current=!1));return()=>cancelAnimationFrame(e)}),[]),(0,d.b)((()=>{const e=h.current;if(e){C.current=C.current||{transitionDuration:e.style.transitionDuration,animationDuration:e.style.animationDuration,animationFillMode:e.style.animationFillMode},e.style.transitionDuration="0s",e.style.animationDuration="0s",e.style.animationFillMode="none";const t=e.getBoundingClientRect();g.current=t.height,b.current=t.width,S.current||(e.style.transitionDuration=C.current.transitionDuration,e.style.animationDuration=C.current.animationDuration,e.style.animationFillMode=C.current.animationFillMode),p(i)}}),[c.open,i]),(0,o.createElement)(u.WV.div,(0,r.Z)({"data-state":E(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!x},l,{ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...e.style}}),x&&a)}));function E(e){return e?"open":"closed"}const C=b,k=_,A=x,T="Accordion",I=["Home","End","ArrowDown","ArrowUp"],[P,O,M]=(0,a.B)(T),[N,L]=(0,i.b)(T,[M,g]),R=g(),D=o.forwardRef(((e,t)=>{const{type:n,...i}=e,a=i,s=i;return o.createElement(P.Provider,{scope:e.__scopeAccordion},"multiple"===n?o.createElement(V,(0,r.Z)({},s,{ref:t})):o.createElement(B,(0,r.Z)({},a,{ref:t})))}));D.propTypes={type(e){const t=e.value||e.defaultValue;return e.type&&!["single","multiple"].includes(e.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):"multiple"===e.type&&"string"==typeof t?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):"single"===e.type&&Array.isArray(t)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[z,F]=N(T),[U,j]=N(T,{collapsible:!1}),B=o.forwardRef(((e,t)=>{const{value:n,defaultValue:i,onValueChange:a=(()=>{}),collapsible:s=!1,...l}=e,[u,d]=(0,c.T)({prop:n,defaultProp:i,onChange:a});return o.createElement(z,{scope:e.__scopeAccordion,value:u?[u]:[],onItemOpen:d,onItemClose:o.useCallback((()=>s&&d("")),[s,d])},o.createElement(U,{scope:e.__scopeAccordion,collapsible:s},o.createElement(H,(0,r.Z)({},l,{ref:t}))))})),V=o.forwardRef(((e,t)=>{const{value:n,defaultValue:i,onValueChange:a=(()=>{}),...s}=e,[l=[],u]=(0,c.T)({prop:n,defaultProp:i,onChange:a}),d=o.useCallback((e=>u(((t=[])=>[...t,e]))),[u]),f=o.useCallback((e=>u(((t=[])=>t.filter((t=>t!==e))))),[u]);return o.createElement(z,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:f},o.createElement(U,{scope:e.__scopeAccordion,collapsible:!0},o.createElement(H,(0,r.Z)({},s,{ref:t}))))})),[G,q]=N(T),H=o.forwardRef(((e,t)=>{const{__scopeAccordion:n,disabled:i,...a}=e,c=o.useRef(null),d=(0,s.e)(c,t),f=O(n),p=(0,l.M)(e.onKeyDown,(e=>{var t;if(!I.includes(e.key))return;const n=e.target,r=f().filter((e=>{var t;return!(null!==(t=e.ref.current)&&void 0!==t&&t.disabled)})),o=r.findIndex((e=>e.ref.current===n)),i=r.length;if(-1===o)return;e.preventDefault();let a=o;switch(e.key){case"Home":a=0;break;case"End":a=i-1;break;case"ArrowDown":a=o+1;break;case"ArrowUp":a=o-1,a<0&&(a=i-1)}null===(t=r[a%i].ref.current)||void 0===t||t.focus()}));return o.createElement(G,{scope:n,disabled:i},o.createElement(P.Slot,{scope:n},o.createElement(u.WV.div,(0,r.Z)({},a,{ref:d,onKeyDown:i?void 0:p}))))})),W="AccordionItem",[K,$]=N(W),Z=o.forwardRef(((e,t)=>{const{__scopeAccordion:n,value:i,...a}=e,s=q(W,n),l=F(W,n),c=R(n),u=(0,p.M)(),d=i&&l.value.includes(i)||!1,f=s.disabled||e.disabled;return o.createElement(K,{scope:n,open:d,disabled:f,triggerId:u},o.createElement(C,(0,r.Z)({"data-state":d?"open":"closed"},c,a,{ref:t,disabled:f,open:d,onOpenChange:e=>{e?l.onItemOpen(i):l.onItemClose(i)}})))})),Y=o.forwardRef(((e,t)=>{const{__scopeAccordion:n,...i}=e,a=$("AccordionHeader",n);return o.createElement(u.WV.h3,(0,r.Z)({"data-state":(s=a.open,s?"open":"closed"),"data-disabled":a.disabled?"":void 0},i,{ref:t}));var s})),J="AccordionTrigger",X=o.forwardRef(((e,t)=>{const{__scopeAccordion:n,...i}=e,a=$(J,n),s=j(J,n),l=R(n);return o.createElement(P.ItemSlot,{scope:n},o.createElement(k,(0,r.Z)({"aria-disabled":a.open&&!s.collapsible||void 0,id:a.triggerId},l,i,{ref:t})))})),Q=o.forwardRef(((e,t)=>{const{__scopeAccordion:n,...i}=e,a=$("AccordionContent",n),s=R(n);return o.createElement(A,(0,r.Z)({role:"region","aria-labelledby":a.triggerId},s,i,{ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}}))})),ee=D,te=Z,ne=Y,re=X,oe=Q},64053:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(67294),o=n(32707),i=n(17255),a=n(88820);function s(e){const t=e+"CollectionProvider",[n,s]=(0,o.b)(t),[l,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=e+"CollectionSlot",d=e+"CollectionItemSlot",f="data-radix-collection-item";return[{Provider:e=>{const{scope:t,children:n}=e,o=r.useRef(null),i=r.useRef(new Map).current;return r.createElement(l,{scope:t,itemMap:i,collectionRef:o},n)},Slot:r.forwardRef(((e,t)=>{const{scope:n,children:o}=e,s=c(u,n),l=(0,i.e)(t,s.collectionRef);return r.createElement(a.g7,{ref:l},o)})),ItemSlot:r.forwardRef(((e,t)=>{const{scope:n,children:o,...s}=e,l=r.useRef(null),u=(0,i.e)(t,l),p=c(d,n);return r.useEffect((()=>(p.itemMap.set(l,{ref:l,...s}),()=>{p.itemMap.delete(l)}))),r.createElement(a.g7,{[f]:"",ref:u},o)}))},function(t){const n=c(e+"CollectionConsumer",t);return r.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${f}]`));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},s]}},17255:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,e:()=>i});var r=n(67294);function o(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function i(...e){return(0,r.useCallback)(o(...e),e)}},32707:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(67294);function o(e,t=[]){let n=[];const o=()=>{const t=n.map((e=>(0,r.createContext)(e)));return function(n){const o=(null==n?void 0:n[e])||t;return(0,r.useMemo)((()=>({[`__scope${e}`]:{...n,[e]:o}})),[n,o])}};return o.scopeName=e,[function(t,o){const i=(0,r.createContext)(o),a=n.length;function s(t){const{scope:n,children:o,...s}=t,l=(null==n?void 0:n[e][a])||i,c=(0,r.useMemo)((()=>s),Object.values(s));return(0,r.createElement)(l.Provider,{value:c},o)}return n=[...n,o],s.displayName=t+"Provider",[s,function(n,s){const l=(null==s?void 0:s[e][a])||i,c=(0,r.useContext)(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},i(o,...t)]}function i(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return(0,r.useMemo)((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return n.scopeName=t.scopeName,n}},41931:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DirectionProvider:()=>i,Provider:()=>s,useDirection:()=>a});var r=n(67294);const o=(0,r.createContext)(void 0),i=e=>{const{dir:t,children:n}=e;return(0,r.createElement)(o.Provider,{value:t},n)};function a(e){const t=(0,r.useContext)(o);return e||t||"ltr"}const s=i},47537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Arrow:()=>Hr,CheckboxItem:()=>jr,Content:()=>Dr,DropdownMenu:()=>vr,DropdownMenuArrow:()=>Ir,DropdownMenuCheckboxItem:()=>Er,DropdownMenuContent:()=>_r,DropdownMenuGroup:()=>wr,DropdownMenuItem:()=>Sr,DropdownMenuItemIndicator:()=>Ar,DropdownMenuLabel:()=>xr,DropdownMenuPortal:()=>br,DropdownMenuRadioGroup:()=>Cr,DropdownMenuRadioItem:()=>kr,DropdownMenuSeparator:()=>Tr,DropdownMenuSub:()=>Pr,DropdownMenuSubContent:()=>Mr,DropdownMenuSubTrigger:()=>Or,DropdownMenuTrigger:()=>yr,Group:()=>zr,Item:()=>Ur,ItemIndicator:()=>Gr,Label:()=>Fr,Portal:()=>Rr,RadioGroup:()=>Br,RadioItem:()=>Vr,Root:()=>Nr,Separator:()=>qr,Sub:()=>Wr,SubContent:()=>$r,SubTrigger:()=>Kr,Trigger:()=>Lr,createDropdownMenuScope:()=>pr});var r=n(87462),o=n(67294),i=n(76652),a=n(17255),s=n(32707),l=n(39920),c=n(40192),u=n(64053),d=n(41931),f=n(95355);const p="dismissableLayer.update";let h;const m=(0,o.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),g=(0,o.forwardRef)(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,onDismiss:g,...b}=e,_=(0,o.useContext)(m),[w,x]=(0,o.useState)(null),[,S]=(0,o.useState)({}),E=(0,a.e)(t,(e=>x(e))),C=Array.from(_.layers),[k]=[..._.layersWithOutsidePointerEventsDisabled].slice(-1),A=C.indexOf(k),T=w?C.indexOf(w):-1,I=_.layersWithOutsidePointerEventsDisabled.size>0,P=T>=A,O=function(e){const t=(0,f.W)(e),n=(0,o.useRef)(!1),r=(0,o.useRef)((()=>{}));return(0,o.useEffect)((()=>{const e=e=>{if(e.target&&!n.current){const o={originalEvent:e};function i(){y("dismissableLayer.pointerDownOutside",t,o,{discrete:!0})}"touch"===e.pointerType?(document.removeEventListener("click",r.current),r.current=i,document.addEventListener("click",r.current,{once:!0})):i()}n.current=!1},o=window.setTimeout((()=>{document.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",e),document.removeEventListener("click",r.current)}}),[t]),{onPointerDownCapture:()=>n.current=!0}}((e=>{const t=e.target,n=[..._.branches].some((e=>e.contains(t)));P&&!n&&(null==l||l(e),null==d||d(e),e.defaultPrevented||null==g||g())})),M=function(e){const t=(0,f.W)(e),n=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{const e=e=>{e.target&&!n.current&&y("dismissableLayer.focusOutside",t,{originalEvent:e},{discrete:!1})};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)}),[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}((e=>{const t=e.target;[..._.branches].some((e=>e.contains(t)))||(null==u||u(e),null==d||d(e),e.defaultPrevented||null==g||g())}));return function(e){const t=(0,f.W)(e);(0,o.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[t])}((e=>{T===_.layers.size-1&&(null==s||s(e),!e.defaultPrevented&&g&&(e.preventDefault(),g()))})),(0,o.useEffect)((()=>{if(w)return n&&(0===_.layersWithOutsidePointerEventsDisabled.size&&(h=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),_.layersWithOutsidePointerEventsDisabled.add(w)),_.layers.add(w),v(),()=>{n&&1===_.layersWithOutsidePointerEventsDisabled.size&&(document.body.style.pointerEvents=h)}}),[w,n,_]),(0,o.useEffect)((()=>()=>{w&&(_.layers.delete(w),_.layersWithOutsidePointerEventsDisabled.delete(w),v())}),[w,_]),(0,o.useEffect)((()=>{const e=()=>S({});return document.addEventListener(p,e),()=>document.removeEventListener(p,e)}),[]),(0,o.createElement)(c.WV.div,(0,r.Z)({},b,{ref:E,style:{pointerEvents:I?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,i.M)(e.onFocusCapture,M.onFocusCapture),onBlurCapture:(0,i.M)(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:(0,i.M)(e.onPointerDownCapture,O.onPointerDownCapture)}))}));function v(){const e=new CustomEvent(p);document.dispatchEvent(e)}function y(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?(0,c.jH)(o,i):o.dispatchEvent(i)}let b=0;function _(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const w="focusScope.autoFocusOnMount",x="focusScope.autoFocusOnUnmount",S={bubbles:!1,cancelable:!0},E=(0,o.forwardRef)(((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:l,...u}=e,[d,p]=(0,o.useState)(null),h=(0,f.W)(s),m=(0,f.W)(l),g=(0,o.useRef)(null),v=(0,a.e)(t,(e=>p(e))),y=(0,o.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,o.useEffect)((()=>{if(i){function e(e){if(y.paused||!d)return;const t=e.target;d.contains(t)?g.current=t:T(g.current,{select:!0})}function t(e){!y.paused&&d&&(d.contains(e.relatedTarget)||T(g.current,{select:!0}))}return document.addEventListener("focusin",e),document.addEventListener("focusout",t),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[i,d,y.paused]),(0,o.useEffect)((()=>{if(d){I.add(y);const e=document.activeElement;if(!d.contains(e)){const t=new CustomEvent(w,S);d.addEventListener(w,h),d.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(T(r,{select:t}),document.activeElement!==n)return}(C(d).filter((e=>"A"!==e.tagName)),{select:!0}),document.activeElement===e&&T(d))}return()=>{d.removeEventListener(w,h),setTimeout((()=>{const t=new CustomEvent(x,S);d.addEventListener(x,m),d.dispatchEvent(t),t.defaultPrevented||T(null!=e?e:document.body,{select:!0}),d.removeEventListener(x,m),I.remove(y)}),0)}}}),[d,h,m,y]);const b=(0,o.useCallback)((e=>{if(!n&&!i)return;if(y.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[o,i]=function(e){const t=C(e);return[k(t,e),k(t.reverse(),e)]}(t);o&&i?e.shiftKey||r!==i?e.shiftKey&&r===o&&(e.preventDefault(),n&&T(i,{select:!0})):(e.preventDefault(),n&&T(o,{select:!0})):r===t&&e.preventDefault()}}),[n,i,y.paused]);return(0,o.createElement)(c.WV.div,(0,r.Z)({tabIndex:-1},u,{ref:v,onKeyDown:b}))}));function C(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function k(e,t){for(const n of e)if(!A(n,{upTo:t}))return n}function A(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function T(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const I=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=P(e,t),e.unshift(t)},remove(t){var n;e=P(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function P(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var O=n(66195);function M(e){return e.split("-")[0]}function N(e){return e.split("-")[1]}function L(e){return["top","bottom"].includes(M(e))?"x":"y"}function R(e){return"y"===e?"height":"width"}function D(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,s=L(t),l=R(s),c=r[l]/2-o[l]/2,u="x"===s;let d;switch(M(t)){case"top":d={x:i,y:r.y-o.height};break;case"bottom":d={x:i,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:a};break;case"left":d={x:r.x-o.width,y:a};break;default:d={x:r.x,y:r.y}}switch(N(t)){case"start":d[s]-=c*(n&&u?-1:1);break;case"end":d[s]+=c*(n&&u?-1:1)}return d}function z(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function F(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function U(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=t,h=z(p),m=s[f?"floating"===d?"reference":"floating":d],g=F(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v=F(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===d?{...a.floating,x:r,y:o}:a.reference,offsetParent:await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),strategy:l}):a[d]);return{top:g.top-v.top+h.top,bottom:v.bottom-g.bottom+h.bottom,left:g.left-v.left+h.left,right:v.right-g.right+h.right}}const j=Math.min,B=Math.max;function V(e,t,n){return B(e,j(t,n))}const G=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=null!=e?e:{},{x:o,y:i,placement:a,rects:s,platform:l}=t;if(null==n)return{};const c=z(r),u={x:o,y:i},d=L(a),f=N(a),p=R(d),h=await l.getDimensions(n),m="y"===d?"top":"left",g="y"===d?"bottom":"right",v=s.reference[p]+s.reference[d]-u[d]-s.floating[p],y=u[d]-s.reference[d],b=await(null==l.getOffsetParent?void 0:l.getOffsetParent(n));let _=b?"y"===d?b.clientHeight||0:b.clientWidth||0:0;0===_&&(_=s.floating[p]);const w=v/2-y/2,x=c[m],S=_-h[p]-c[g],E=_/2-h[p]/2+w,C=V(x,E,S),k=("start"===f?c[m]:c[g])>0&&E!==C&&s.reference[p]<=s.floating[p];return{[d]:u[d]-(k?E<x?x-E:S-E:0),data:{[d]:C,centerOffset:E-C}}}}),q={left:"right",right:"left",bottom:"top",top:"bottom"};function H(e){return e.replace(/left|right|bottom|top/g,(e=>q[e]))}function W(e,t,n){void 0===n&&(n=!1);const r=N(e),o=L(e),i=R(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=H(a)),{main:a,cross:H(a)}}const K={start:"end",end:"start"};function $(e){return e.replace(/start|end/g,(e=>K[e]))}const Z=["top","right","bottom","left"],Y=(Z.reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:a,platform:s,elements:l}=t,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",flipAlignment:p=!0,...h}=e,m=M(r),g=d||(m!==a&&p?function(e){const t=H(e);return[$(e),t,$(t)]}(a):[H(a)]),v=[a,...g],y=await U(t,h),b=[];let _=(null==(n=o.flip)?void 0:n.overflows)||[];if(c&&b.push(y[m]),u){const{main:e,cross:t}=W(r,i,await(null==s.isRTL?void 0:s.isRTL(l.floating)));b.push(y[e],y[t])}if(_=[..._,{placement:r,overflows:b}],!b.every((e=>e<=0))){var w,x;const e=(null!=(w=null==(x=o.flip)?void 0:x.index)?w:0)+1,t=v[e];if(t)return{data:{index:e,overflows:_},reset:{placement:t}};let n="bottom";switch(f){case"bestFit":{var S;const e=null==(S=_.map((e=>[e,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:S[0].placement;e&&(n=e);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}});function J(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function X(e){return Z.some((t=>e[t]>=0))}const Q=function(e){let{strategy:t="referenceHidden",...n}=void 0===e?{}:e;return{name:"hide",async fn(e){const{rects:r}=e;switch(t){case"referenceHidden":{const t=J(await U(e,{...n,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:X(t)}}}case"escaped":{const t=J(await U(e,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:t,escaped:X(t)}}}default:return{}}}}},ee=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=M(n),s=N(n),l="x"===L(n),c=["left","top"].includes(a)?-1:1,u=i&&l?-1:1,d="function"==typeof t?t(e):t;let{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof h&&(p="end"===s?-1*h:h),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function te(e){return"x"===e?"y":"x"}const ne=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=e,c={x:n,y:r},u=await U(t,l),d=L(M(o)),f=te(d);let p=c[d],h=c[f];if(i){const e="y"===d?"bottom":"right";p=V(p+u["y"===d?"top":"left"],p,p-u[e])}if(a){const e="y"===f?"bottom":"right";h=V(h+u["y"===f?"top":"left"],h,h-u[e])}const m=s.fn({...t,[d]:p,[f]:h});return{...m,data:{x:m.x-n,y:m.y-r}}}}},re=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=e,u={x:n,y:r},d=L(o),f=te(d);let p=u[d],h=u[f];const m="function"==typeof s?s({...i,placement:o}):s,g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===d?"height":"width",t=i.reference[d]-i.floating[e]+g.mainAxis,n=i.reference[d]+i.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var v,y,b,_;const e="y"===d?"width":"height",t=["top","left"].includes(M(o)),n=i.reference[f]-i.floating[e]+(t&&null!=(v=null==(y=a.offset)?void 0:y[f])?v:0)+(t?0:g.crossAxis),r=i.reference[f]+i.reference[e]+(t?0:null!=(b=null==(_=a.offset)?void 0:_[f])?b:0)-(t?g.crossAxis:0);h<n?h=n:h>r&&(h=r)}return{[d]:p,[f]:h}}}};function oe(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ie(e){if(null==e)return window;if(!oe(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function ae(e){return ie(e).getComputedStyle(e)}function se(e){return oe(e)?"":e?(e.nodeName||"").toLowerCase():""}function le(){const e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((e=>e.brand+"/"+e.version)).join(" "):navigator.userAgent}function ce(e){return e instanceof ie(e).HTMLElement}function ue(e){return e instanceof ie(e).Element}function de(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ie(e).ShadowRoot||e instanceof ShadowRoot)}function fe(e){const{overflow:t,overflowX:n,overflowY:r}=ae(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function pe(e){return["table","td","th"].includes(se(e))}function he(e){const t=/firefox/i.test(le()),n=ae(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}function me(){return!/^((?!chrome|android).)*safari/i.test(le())}const ge=Math.min,ve=Math.max,ye=Math.round;function be(e,t,n){var r,o,i,a;void 0===t&&(t=!1),void 0===n&&(n=!1);const s=e.getBoundingClientRect();let l=1,c=1;t&&ce(e)&&(l=e.offsetWidth>0&&ye(s.width)/e.offsetWidth||1,c=e.offsetHeight>0&&ye(s.height)/e.offsetHeight||1);const u=ue(e)?ie(e):window,d=!me()&&n,f=(s.left+(d&&null!=(r=null==(o=u.visualViewport)?void 0:o.offsetLeft)?r:0))/l,p=(s.top+(d&&null!=(i=null==(a=u.visualViewport)?void 0:a.offsetTop)?i:0))/c,h=s.width/l,m=s.height/c;return{width:h,height:m,top:p,right:f+h,bottom:p+m,left:f,x:f,y:p}}function _e(e){return(t=e,(t instanceof ie(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function we(e){return ue(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function xe(e){return be(_e(e)).left+we(e).scrollLeft}function Se(e,t,n){const r=ce(t),o=_e(t),i=be(e,r&&function(e){const t=be(e);return ye(t.width)!==e.offsetWidth||ye(t.height)!==e.offsetHeight}(t),"fixed"===n);let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==se(t)||fe(o))&&(a=we(t)),ce(t)){const e=be(t,!0);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else o&&(s.x=xe(o));return{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function Ee(e){return"html"===se(e)?e:e.assignedSlot||e.parentNode||(de(e)?e.host:null)||_e(e)}function Ce(e){return ce(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function ke(e){const t=ie(e);let n=Ce(e);for(;n&&pe(n)&&"static"===getComputedStyle(n).position;)n=Ce(n);return n&&("html"===se(n)||"body"===se(n)&&"static"===getComputedStyle(n).position&&!he(n))?t:n||function(e){let t=Ee(e);for(de(t)&&(t=t.host);ce(t)&&!["html","body"].includes(se(t));){if(he(t))return t;t=t.parentNode}return null}(e)||t}function Ae(e){if(ce(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=be(e);return{width:t.width,height:t.height}}function Te(e){const t=Ee(e);return["html","body","#document"].includes(se(t))?e.ownerDocument.body:ce(t)&&fe(t)?t:Te(t)}function Ie(e,t){var n;void 0===t&&(t=[]);const r=Te(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=ie(r),a=o?[i].concat(i.visualViewport||[],fe(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Ie(a))}function Pe(e,t,n){return"viewport"===t?F(function(e,t){const n=ie(e),r=_e(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=me();(e||!e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,n)):ue(t)?function(e,t){const n=be(e,!1,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft;return{top:r,left:o,x:o,y:r,right:o+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,n):F(function(e){var t;const n=_e(e),r=we(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=ve(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=ve(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0);let s=-r.scrollLeft+xe(e);const l=-r.scrollTop;return"rtl"===ae(o||n).direction&&(s+=ve(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(_e(e)))}function Oe(e){const t=Ie(e),n=["absolute","fixed"].includes(ae(e).position)&&ce(e)?ke(e):e;return ue(n)?t.filter((e=>ue(e)&&function(e,t){const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&de(n)){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(e,n)&&"body"!==se(e))):[]}const Me={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?Oe(t):[].concat(n),r],a=i[0],s=i.reduce(((e,n)=>{const r=Pe(t,n,o);return e.top=ve(r.top,e.top),e.right=ge(r.right,e.right),e.bottom=ge(r.bottom,e.bottom),e.left=ve(r.left,e.left),e}),Pe(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=ce(n),i=_e(n);if(n===i)return t;let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==se(n)||fe(i))&&(a=we(n)),ce(n))){const e=be(n,!0);s.x=e.x+n.clientLeft,s.y=e.y+n.clientTop}return{...t,x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y}},isElement:ue,getDimensions:Ae,getOffsetParent:ke,getDocumentElement:_e,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Se(t,ke(n),r),floating:{...Ae(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===ae(e).direction};function Ne(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=!0,animationFrame:s=!1}=r,l=o&&!s,c=i&&!s,u=l||c?[...ue(e)?Ie(e):[],...Ie(t)]:[];u.forEach((e=>{l&&e.addEventListener("scroll",n,{passive:!0}),c&&e.addEventListener("resize",n)}));let d,f=null;if(a){let r=!0;f=new ResizeObserver((()=>{r||n(),r=!1})),ue(e)&&!s&&f.observe(e),f.observe(t)}let p=s?be(e):null;return s&&function t(){const r=be(e);!p||r.x===p.x&&r.y===p.y&&r.width===p.width&&r.height===p.height||n(),p=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{l&&e.removeEventListener("scroll",n),c&&e.removeEventListener("resize",n)})),null==(e=f)||e.disconnect(),f=null,s&&cancelAnimationFrame(d)}}var Le=n(73935),Re="undefined"!=typeof document?o.useLayoutEffect:o.useEffect;function De(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!=r--;)if(!De(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){const n=o[r];if(!("_owner"===n&&e.$$typeof||De(e[n],t[n])))return!1}return!0}return e!=e&&t!=t}function ze(e){let{middleware:t,placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=void 0===e?{}:e;const a=o.useRef(null),s=o.useRef(null),l=function(e){const t=o.useRef(e);return Re((()=>{t.current=e})),t}(i),c=o.useRef(null),[u,d]=o.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[f,p]=o.useState(t);De(null==f?void 0:f.map((e=>{let{options:t}=e;return t})),null==t?void 0:t.map((e=>{let{options:t}=e;return t})))||p(t);const h=o.useCallback((()=>{a.current&&s.current&&((e,t,n)=>(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:u}=D(l,r,s),d=r,f={},p=0;for(let n=0;n<i.length;n++){const{name:h,fn:m}=i[n],{x:g,y:v,data:y,reset:b}=await m({x:c,y:u,initialPlacement:r,placement:d,strategy:o,middlewareData:f,rects:l,platform:a,elements:{reference:e,floating:t}});c=null!=g?g:c,u=null!=v?v:u,f={...f,[h]:{...f[h],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(l=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):b.rects),({x:c,y:u}=D(l,d,s))),n=-1)}return{x:c,y:u,placement:d,strategy:o,middlewareData:f}})(e,t,{platform:Me,...n}))(a.current,s.current,{middleware:f,placement:n,strategy:r}).then((e=>{m.current&&Le.flushSync((()=>{d(e)}))}))}),[f,n,r]);Re((()=>{m.current&&h()}),[h]);const m=o.useRef(!1);Re((()=>(m.current=!0,()=>{m.current=!1})),[]);const g=o.useCallback((()=>{if("function"==typeof c.current&&(c.current(),c.current=null),a.current&&s.current)if(l.current){const e=l.current(a.current,s.current,h);c.current=e}else h()}),[h,l]),v=o.useCallback((e=>{a.current=e,g()}),[g]),y=o.useCallback((e=>{s.current=e,g()}),[g]),b=o.useMemo((()=>({reference:a,floating:s})),[]);return o.useMemo((()=>({...u,update:h,refs:b,reference:v,floating:y})),[u,h,b,v,y])}const Fe=e=>{const{element:t,padding:n}=e;return{name:"arrow",options:e,fn(e){return r=t,Object.prototype.hasOwnProperty.call(r,"current")?null!=t.current?G({element:t.current,padding:n}).fn(e):{}:t?G({element:t,padding:n}).fn(e):{};var r}}},Ue=(0,o.forwardRef)(((e,t)=>{const{children:n,width:i=10,height:a=5,...s}=e;return(0,o.createElement)(c.WV.svg,(0,r.Z)({},s,{ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:(0,o.createElement)("polygon",{points:"0,0 30,0 15,10"}))}));var je=n(29563),Be=n(42935);const Ve="Popper",[Ge,qe]=(0,s.b)(Ve),[He,We]=Ge(Ve),Ke=(0,o.forwardRef)(((e,t)=>{const{__scopePopper:n,virtualRef:i,...s}=e,l=We("PopperAnchor",n),u=(0,o.useRef)(null),d=(0,a.e)(t,u);return(0,o.useEffect)((()=>{l.onAnchorChange((null==i?void 0:i.current)||u.current)})),i?null:(0,o.createElement)(c.WV.div,(0,r.Z)({},s,{ref:d}))})),$e="PopperContent",[Ze,Ye]=Ge($e),[Je,Xe]=Ge($e,{hasParent:!1,positionUpdateFns:new Set}),Qe=(0,o.forwardRef)(((e,t)=>{var n,r,i,s,l,u,d,f;const{__scopePopper:p,side:h="bottom",sideOffset:m=0,align:g="center",alignOffset:v=0,arrowPadding:y=0,collisionBoundary:b=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:x=!1,avoidCollisions:S=!0,...E}=e,C=We($e,p),[k,A]=(0,o.useState)(null),T=(0,a.e)(t,(e=>A(e))),[I,P]=(0,o.useState)(null),O=(0,Be.t)(I),M=null!==(n=null==O?void 0:O.width)&&void 0!==n?n:0,N=null!==(r=null==O?void 0:O.height)&&void 0!==r?r:0,L=h+("center"!==g?"-"+g:""),R="number"==typeof _?_:{top:0,right:0,bottom:0,left:0,..._},D=Array.isArray(b)?b:[b],z=D.length>0,F={padding:R,boundary:D.filter(nt),altBoundary:z},{reference:U,floating:j,strategy:B,x:V,y:G,placement:q,middlewareData:H,update:W}=ze({strategy:"fixed",placement:L,whileElementsMounted:Ne,middleware:[ee({mainAxis:m+N,alignmentAxis:v}),S?ne({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?re():void 0,...F}):void 0,I?Fe({element:I,padding:y}):void 0,S?Y({...F}):void 0,rt({arrowWidth:M,arrowHeight:N}),x?Q({strategy:"referenceHidden"}):void 0].filter(tt)});(0,je.b)((()=>{U(C.anchor)}),[U,C.anchor]);const K=null!==V&&null!==G,[$,Z]=ot(q),J=null===(i=H.arrow)||void 0===i?void 0:i.x,X=null===(s=H.arrow)||void 0===s?void 0:s.y,te=0!==(null===(l=H.arrow)||void 0===l?void 0:l.centerOffset),[oe,ie]=(0,o.useState)();(0,je.b)((()=>{k&&ie(window.getComputedStyle(k).zIndex)}),[k]);const{hasParent:ae,positionUpdateFns:se}=Xe($e,p),le=!ae;(0,o.useLayoutEffect)((()=>{if(!le)return se.add(W),()=>{se.delete(W)}}),[le,se,W]),(0,o.useLayoutEffect)((()=>{le&&K&&Array.from(se).reverse().forEach((e=>requestAnimationFrame(e)))}),[le,K,se]);const ce={"data-side":$,"data-align":Z,...E,ref:T,style:{...E.style,animation:K?void 0:"none",opacity:null!==(u=H.hide)&&void 0!==u&&u.referenceHidden?0:void 0}};return(0,o.createElement)("div",{ref:j,"data-radix-popper-content-wrapper":"",style:{position:B,left:0,top:0,transform:K?`translate3d(${Math.round(V)}px, ${Math.round(G)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[null===(d=H.transformOrigin)||void 0===d?void 0:d.x,null===(f=H.transformOrigin)||void 0===f?void 0:f.y].join(" ")}},(0,o.createElement)(Ze,{scope:p,placedSide:$,onArrowChange:P,arrowX:J,arrowY:X,shouldHideArrow:te},le?(0,o.createElement)(Je,{scope:p,hasParent:!0,positionUpdateFns:se},(0,o.createElement)(c.WV.div,ce)):(0,o.createElement)(c.WV.div,ce)))})),et={top:"bottom",right:"left",bottom:"top",left:"right"};function tt(e){return void 0!==e}function nt(e){return null!==e}const rt=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,a;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[p,h]=ot(s),m={start:"0%",center:"50%",end:"100%"}[h],g=(null!==(r=null===(o=c.arrow)||void 0===o?void 0:o.x)&&void 0!==r?r:0)+d/2,v=(null!==(i=null===(a=c.arrow)||void 0===a?void 0:a.y)&&void 0!==i?i:0)+f/2;let y="",b="";return"bottom"===p?(y=u?m:`${g}px`,b=-f+"px"):"top"===p?(y=u?m:`${g}px`,b=`${l.floating.height+f}px`):"right"===p?(y=-f+"px",b=u?m:`${v}px`):"left"===p&&(y=`${l.floating.width+f}px`,b=u?m:`${v}px`),{data:{x:y,y:b}}}});function ot(e){const[t,n="center"]=e.split("-");return[t,n]}const it=e=>{const{__scopePopper:t,children:n}=e,[r,i]=(0,o.useState)(null);return(0,o.createElement)(He,{scope:t,anchor:r,onAnchorChange:i},n)},at=Ke,st=Qe,lt=(0,o.forwardRef)((function(e,t){const{__scopePopper:n,...i}=e,a=Ye("PopperArrow",n),s=et[a.placedSide];return(0,o.createElement)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0}},(0,o.createElement)(Ue,(0,r.Z)({},i,{ref:t,style:{...i.style,display:"block"}})))})),ct=(0,o.forwardRef)(((e,t)=>{var n;const{container:i=(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body),...a}=e;return i?Le.createPortal((0,o.createElement)(c.WV.div,(0,r.Z)({},a,{ref:t})),i):null}));var ut=n(43216),dt=n(863),ft=n(88820),pt=new WeakMap,ht=new WeakMap,mt={},gt=0,vt=function(e){return e&&(e.host||vt(e.parentNode))},yt=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),function(e,t,n,r){var o=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=vt(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);mt[n]||(mt[n]=new WeakMap);var i=mt[n],a=[],s=new Set,l=new Set(o),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};o.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))u(e);else{var t=e.getAttribute(r),o=null!==t&&"false"!==t,l=(pt.get(e)||0)+1,c=(i.get(e)||0)+1;pt.set(e,l),i.set(e,c),a.push(e),1===l&&o&&ht.set(e,!0),1===c&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}}))};return u(t),s.clear(),gt++,function(){a.forEach((function(e){var t=pt.get(e)-1,o=i.get(e)-1;pt.set(e,t),i.set(e,o),t||(ht.has(e)||e.removeAttribute(r),ht.delete(e)),o||e.removeAttribute(n)})),--gt||(pt=new WeakMap,pt=new WeakMap,ht=new WeakMap,mt={})}}(r,o,n,"aria-hidden")):function(){return null}},bt=n(70655),_t="right-scroll-bar-position",wt="width-before-scroll-bar";function xt(e){return e}var St=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=xt);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return o}(null);return t.options=(0,bt.__assign)({async:!0,ssr:!1},e),t}(),Et=function(){},Ct=o.forwardRef((function(e,t){var n=o.useRef(null),r=o.useState({onScrollCapture:Et,onWheelCapture:Et,onTouchMoveCapture:Et}),i=r[0],a=r[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,b=(0,bt.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),_=p,w=function(e,t){return n=t||null,r=function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))},(i=(0,o.useState)((function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0]).callback=r,i.facade;var n,r,i}([n,t]),x=(0,bt.__assign)((0,bt.__assign)({},b),i);return o.createElement(o.Fragment,null,d&&o.createElement(_,{sideCar:St,removeScrollBar:u,shards:f,noIsolation:h,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n}),s?o.cloneElement(o.Children.only(l),(0,bt.__assign)((0,bt.__assign)({},x),{ref:w})):o.createElement(y,(0,bt.__assign)({},x,{className:c,ref:w}),l))}));Ct.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ct.classNames={fullWidth:wt,zeroRight:_t};var kt=function(e){var t=e.sideCar,n=(0,bt.__rest)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,(0,bt.__assign)({},n))};kt.isSideCarExport=!0;var At=function(){var e=0,t=null;return{add:function(r){var o,i;0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n.nc;return t&&e.setAttribute("nonce",t),e}())&&(i=r,(o=t).styleSheet?o.styleSheet.cssText=i:o.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){!--e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Tt=function(){var e,t=(e=At(),function(t,n){o.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},It={left:0,top:0,right:0,gap:0},Pt=function(e){return parseInt(e||"",10)||0},Ot=Tt(),Mt=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(_t," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(wt," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(_t," .").concat(_t," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(wt," .").concat(wt," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},Nt=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r,a=o.useMemo((function(){return function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return It;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[Pt(n),Pt(r),Pt(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}}(i)}),[i]);return o.createElement(Ot,{styles:Mt(a,!t,i,n?"":"!important")})},Lt=!1;if("undefined"!=typeof window)try{var Rt=Object.defineProperty({},"passive",{get:function(){return Lt=!0,!0}});window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch(e){Lt=!1}var Dt=!!Lt&&{passive:!1},zt=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),Ft(e,n)){var r=Ut(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Ft=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},Ut=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},jt=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bt=function(e){return[e.deltaX,e.deltaY]},Vt=function(e){return e&&"current"in e?e.current:e},Gt=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},qt=0,Ht=[];const Wt=(Kt=function(e){var t=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),i=o.useState(qt++)[0],a=o.useState((function(){return Tt()}))[0],s=o.useRef(e);o.useEffect((function(){s.current=e}),[e]),o.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,bt.__spreadArray)([e.lockRef.current],(e.shards||[]).map(Vt),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=o.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var o,i=jt(e),a=n.current,l="deltaX"in e?e.deltaX:a[0]-i[0],c="deltaY"in e?e.deltaY:a[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=zt(d,u);if(!f)return!0;if(f?o=d:(o="v"===d?"h":"v",f=zt(d,u)),!f)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=o),!o)return!0;var p=r.current||o;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,f=0;do{var p=Ut(e,s),h=p[0],m=p[1]-p[2]-i*h;(h||m)&&Ft(e,s)&&(d+=m,f+=h),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(0===d||!1)||!u&&(0===f||!1))&&(c=!0),c}(p,t,e,"h"===p?l:c)}),[]),c=o.useCallback((function(e){var n=e;if(Ht.length&&Ht[Ht.length-1]===a){var r="deltaY"in n?Bt(n):jt(n),o=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(o&&o.should)n.preventDefault();else if(!o){var i=(s.current.shards||[]).map(Vt).filter(Boolean).filter((function(e){return e.contains(n.target)}));(i.length>0?l(n,i[0]):!s.current.noIsolation)&&n.preventDefault()}}}),[]),u=o.useCallback((function(e,n,r,o){var i={name:e,delta:n,target:r,should:o};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),d=o.useCallback((function(e){n.current=jt(e),r.current=void 0}),[]),f=o.useCallback((function(t){u(t.type,Bt(t),t.target,l(t,e.lockRef.current))}),[]),p=o.useCallback((function(t){u(t.type,jt(t),t.target,l(t,e.lockRef.current))}),[]);o.useEffect((function(){return Ht.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Dt),document.addEventListener("touchmove",c,Dt),document.addEventListener("touchstart",d,Dt),function(){Ht=Ht.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,Dt),document.removeEventListener("touchmove",c,Dt),document.removeEventListener("touchstart",d,Dt)}}),[]);var h=e.removeScrollBar,m=e.inert;return o.createElement(o.Fragment,null,m?o.createElement(a,{styles:Gt(i)}):null,h?o.createElement(Nt,{gapMode:"margin"}):null)},St.useMedium(Kt),kt);var Kt,$t=o.forwardRef((function(e,t){return o.createElement(Ct,(0,bt.__assign)({},e,{ref:t,sideCar:Wt}))}));$t.classNames=Ct.classNames;const Zt=$t,Yt=["Enter"," "],Jt=["ArrowUp","PageDown","End"],Xt=["ArrowDown","PageUp","Home",...Jt],Qt={ltr:[...Yt,"ArrowRight"],rtl:[...Yt,"ArrowLeft"]},en={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tn="Menu",[nn,rn,on]=(0,u.B)(tn),[an,sn]=(0,s.b)(tn,[on,qe,dt.Pc]),ln=qe(),cn=(0,dt.Pc)(),[un,dn]=an(tn),[fn,pn]=an(tn),hn=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,...i}=e,a=ln(n);return(0,o.createElement)(at,(0,r.Z)({},a,i,{ref:t}))})),mn="MenuPortal",[gn,vn]=an(mn,{forceMount:void 0}),yn="MenuContent",[bn,_n]=an(yn),wn=(0,o.forwardRef)(((e,t)=>{const n=vn(yn,e.__scopeMenu),{forceMount:i=n.forceMount,...a}=e,s=dn(yn,e.__scopeMenu),l=pn(yn,e.__scopeMenu);return(0,o.createElement)(nn.Provider,{scope:e.__scopeMenu},(0,o.createElement)(ut.z,{present:i||s.open},(0,o.createElement)(nn.Slot,{scope:e.__scopeMenu},l.modal?(0,o.createElement)(xn,(0,r.Z)({},a,{ref:t})):(0,o.createElement)(Sn,(0,r.Z)({},a,{ref:t})))))})),xn=(0,o.forwardRef)(((e,t)=>{const n=dn(yn,e.__scopeMenu),s=(0,o.useRef)(null),l=(0,a.e)(t,s);return(0,o.useEffect)((()=>{const e=s.current;if(e)return yt(e)}),[]),(0,o.createElement)(En,(0,r.Z)({},e,{ref:l,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:(0,i.M)(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))})),Sn=(0,o.forwardRef)(((e,t)=>{const n=dn(yn,e.__scopeMenu);return(0,o.createElement)(En,(0,r.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))})),En=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,onDismiss:v,disableOutsideScroll:y,...w}=e,x=dn(yn,n),S=pn(yn,n),C=ln(n),k=cn(n),A=rn(n),[T,I]=(0,o.useState)(null),P=(0,o.useRef)(null),O=(0,a.e)(t,P,x.onContentChange),M=(0,o.useRef)(0),N=(0,o.useRef)(""),L=(0,o.useRef)(0),R=(0,o.useRef)(null),D=(0,o.useRef)("right"),z=(0,o.useRef)(0),F=y?Zt:o.Fragment,U=y?{as:ft.g7,allowPinchZoom:!0}:void 0;(0,o.useEffect)((()=>()=>window.clearTimeout(M.current)),[]),(0,o.useEffect)((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:_()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:_()),b++,()=>{1===b&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),b--}}),[]);const j=(0,o.useCallback)((e=>{var t,n;return D.current===(null===(t=R.current)||void 0===t?void 0:t.side)&&function(e,t){if(!t)return!1;return function(e,t){const{x:n,y:r}=e;let o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const a=t[e].x,s=t[e].y,l=t[i].x,c=t[i].y;s>r!=c>r&&n<(l-a)*(r-s)/(c-s)+a&&(o=!o)}return o}({x:e.clientX,y:e.clientY},t)}(e,null===(n=R.current)||void 0===n?void 0:n.area)}),[]);return(0,o.createElement)(bn,{scope:n,searchRef:N,onItemEnter:(0,o.useCallback)((e=>{j(e)&&e.preventDefault()}),[j]),onItemLeave:(0,o.useCallback)((e=>{var t;j(e)||(null===(t=P.current)||void 0===t||t.focus(),I(null))}),[j]),onTriggerLeave:(0,o.useCallback)((e=>{j(e)&&e.preventDefault()}),[j]),pointerGraceTimerRef:L,onPointerGraceIntentChange:(0,o.useCallback)((e=>{R.current=e}),[])},(0,o.createElement)(F,U,(0,o.createElement)(E,{asChild:!0,trapped:l,onMountAutoFocus:(0,i.M)(c,(e=>{var t;e.preventDefault(),null===(t=P.current)||void 0===t||t.focus()})),onUnmountAutoFocus:u},(0,o.createElement)(g,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:m,onDismiss:v},(0,o.createElement)(dt.fC,(0,r.Z)({asChild:!0},k,{dir:S.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:I,onEntryFocus:e=>{S.isUsingKeyboardRef.current||e.preventDefault()}}),(0,o.createElement)(st,(0,r.Z)({role:"menu","aria-orientation":"vertical","data-state":Wn(x.open),dir:S.dir},C,w,{ref:O,style:{outline:"none",...w.style},onKeyDown:(0,i.M)(w.onKeyDown,(e=>{const t=e.target.closest('[role="menu"]')===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&(e=>{var t,n;const r=N.current+e,o=A().filter((e=>!e.disabled)),i=document.activeElement,a=null===(t=o.find((e=>e.ref.current===i)))||void 0===t?void 0:t.textValue,s=function(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,o=n?e.indexOf(n):-1;let i=(a=e,s=Math.max(o,0),a.map(((e,t)=>a[(s+t)%a.length])));var a,s;1===r.length&&(i=i.filter((e=>e!==n)));const l=i.find((e=>e.toLowerCase().startsWith(r.toLowerCase())));return l!==n?l:void 0}(o.map((e=>e.textValue)),r,a),l=null===(n=o.find((e=>e.textValue===s)))||void 0===n?void 0:n.ref.current;!function e(t){N.current=t,window.clearTimeout(M.current),""!==t&&(M.current=window.setTimeout((()=>e("")),1e3))}(r),l&&setTimeout((()=>l.focus()))})(e.key));const o=P.current;if(e.target!==o)return;if(!Xt.includes(e.key))return;e.preventDefault();const i=A().filter((e=>!e.disabled)).map((e=>e.ref.current));Jt.includes(e.key)&&i.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(i)})),onBlur:(0,i.M)(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(M.current),N.current="")})),onPointerMove:(0,i.M)(e.onPointerMove,$n((e=>{const t=e.target,n=z.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>z.current?"right":"left";D.current=t,z.current=e.clientX}})))})))))))})),Cn=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,...i}=e;return(0,o.createElement)(c.WV.div,(0,r.Z)({role:"group"},i,{ref:t}))})),kn=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,...i}=e;return(0,o.createElement)(c.WV.div,(0,r.Z)({},i,{ref:t}))})),An="MenuItem",Tn="menu.itemSelect",In=(0,o.forwardRef)(((e,t)=>{const{disabled:n=!1,onSelect:s,...l}=e,u=(0,o.useRef)(null),d=pn(An,e.__scopeMenu),f=_n(An,e.__scopeMenu),p=(0,a.e)(t,u),h=(0,o.useRef)(!1);return(0,o.createElement)(Pn,(0,r.Z)({},l,{ref:p,disabled:n,onClick:(0,i.M)(e.onClick,(()=>{const e=u.current;if(!n&&e){const t=new CustomEvent(Tn,{bubbles:!0,cancelable:!0});e.addEventListener(Tn,(e=>null==s?void 0:s(e)),{once:!0}),(0,c.jH)(e,t),t.defaultPrevented?h.current=!1:d.onClose()}})),onPointerDown:t=>{var n;null===(n=e.onPointerDown)||void 0===n||n.call(e,t),h.current=!0},onPointerUp:(0,i.M)(e.onPointerUp,(e=>{var t;h.current||null===(t=e.currentTarget)||void 0===t||t.click()})),onKeyDown:(0,i.M)(e.onKeyDown,(e=>{const t=""!==f.searchRef.current;n||t&&" "===e.key||Yt.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))}))})),Pn=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:l,...u}=e,d=_n(An,n),f=cn(n),p=(0,o.useRef)(null),h=(0,a.e)(t,p),[m,g]=(0,o.useState)(!1),[v,y]=(0,o.useState)("");return(0,o.useEffect)((()=>{const e=p.current;var t;e&&y((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}),[u.children]),(0,o.createElement)(nn.ItemSlot,{scope:n,disabled:s,textValue:null!=l?l:v},(0,o.createElement)(dt.ck,(0,r.Z)({asChild:!0},f,{focusable:!s}),(0,o.createElement)(c.WV.div,(0,r.Z)({role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0},u,{ref:h,onPointerMove:(0,i.M)(e.onPointerMove,$n((e=>{s?d.onItemLeave(e):(d.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus())}))),onPointerLeave:(0,i.M)(e.onPointerLeave,$n((e=>d.onItemLeave(e)))),onFocus:(0,i.M)(e.onFocus,(()=>g(!0))),onBlur:(0,i.M)(e.onBlur,(()=>g(!1)))}))))})),On=(0,o.forwardRef)(((e,t)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return(0,o.createElement)(zn,{scope:e.__scopeMenu,checked:n},(0,o.createElement)(In,(0,r.Z)({role:"menuitemcheckbox","aria-checked":n},s,{ref:t,"data-state":Kn(n),onSelect:(0,i.M)(s.onSelect,(()=>null==a?void 0:a(!n)),{checkForDefaultPrevented:!1})})))})),[Mn,Nn]=an("MenuRadioGroup",{value:void 0,onValueChange:()=>{}}),Ln=(0,o.forwardRef)(((e,t)=>{const{value:n,onValueChange:i,...a}=e,s=(0,f.W)(i);return(0,o.createElement)(Mn,{scope:e.__scopeMenu,value:n,onValueChange:s},(0,o.createElement)(Cn,(0,r.Z)({},a,{ref:t})))})),Rn=(0,o.forwardRef)(((e,t)=>{const{value:n,...a}=e,s=Nn("MenuRadioItem",e.__scopeMenu),l=n===s.value;return(0,o.createElement)(zn,{scope:e.__scopeMenu,checked:l},(0,o.createElement)(In,(0,r.Z)({role:"menuitemradio","aria-checked":l},a,{ref:t,"data-state":Kn(l),onSelect:(0,i.M)(a.onSelect,(()=>{var e;return null===(e=s.onValueChange)||void 0===e?void 0:e.call(s,n)}),{checkForDefaultPrevented:!1})})))})),Dn="MenuItemIndicator",[zn,Fn]=an(Dn,{checked:!1}),Un=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,forceMount:i,...a}=e,s=Fn(Dn,n);return(0,o.createElement)(ut.z,{present:i||s.checked},(0,o.createElement)(c.WV.span,(0,r.Z)({},a,{ref:t,"data-state":Kn(s.checked)})))})),jn=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,...i}=e;return(0,o.createElement)(c.WV.div,(0,r.Z)({role:"separator","aria-orientation":"horizontal"},i,{ref:t}))})),Bn=(0,o.forwardRef)(((e,t)=>{const{__scopeMenu:n,...i}=e,a=ln(n);return(0,o.createElement)(lt,(0,r.Z)({},a,i,{ref:t}))})),Vn="MenuSub",[Gn,qn]=an(Vn),Hn="MenuSubTrigger";function Wn(e){return e?"open":"closed"}function Kn(e){return e?"checked":"unchecked"}function $n(e){return t=>"mouse"===t.pointerType?e(t):void 0}const Zn=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=e,l=ln(t),[c,u]=(0,o.useState)(null),p=(0,o.useRef)(!1),h=(0,f.W)(a),m=(0,d.useDirection)(i);return(0,o.useEffect)((()=>{const e=()=>{p.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>p.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,o.createElement)(it,l,(0,o.createElement)(un,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u},(0,o.createElement)(fn,{scope:t,onClose:(0,o.useCallback)((()=>h(!1)),[h]),isUsingKeyboardRef:p,dir:m,modal:s},r)))},Yn=hn,Jn=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=dn(mn,t);return(0,o.createElement)(gn,{scope:t,forceMount:n},(0,o.createElement)(ut.z,{present:n||a.open},(0,o.createElement)(ct,{asChild:!0,container:i},r)))},Xn=wn,Qn=Cn,er=kn,tr=In,nr=On,rr=Ln,or=Rn,ir=Un,ar=jn,sr=Bn,lr=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,a=dn(Vn,t),s=ln(t),[l,c]=(0,o.useState)(null),[u,d]=(0,o.useState)(null),p=(0,f.W)(i);return(0,o.useEffect)((()=>(!1===a.open&&p(!1),()=>p(!1))),[a.open,p]),(0,o.createElement)(it,s,(0,o.createElement)(un,{scope:t,open:r,onOpenChange:p,content:u,onContentChange:d},(0,o.createElement)(Gn,{scope:t,contentId:(0,O.M)(),triggerId:(0,O.M)(),trigger:l,onTriggerChange:c},n)))},cr=(0,o.forwardRef)(((e,t)=>{const n=dn(Hn,e.__scopeMenu),s=pn(Hn,e.__scopeMenu),l=qn(Hn,e.__scopeMenu),c=_n(Hn,e.__scopeMenu),u=(0,o.useRef)(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:f}=c,p={__scopeMenu:e.__scopeMenu},h=(0,o.useCallback)((()=>{u.current&&window.clearTimeout(u.current),u.current=null}),[]);return(0,o.useEffect)((()=>h),[h]),(0,o.useEffect)((()=>{const e=d.current;return()=>{window.clearTimeout(e),f(null)}}),[d,f]),(0,o.createElement)(hn,(0,r.Z)({asChild:!0},p),(0,o.createElement)(Pn,(0,r.Z)({id:l.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":l.contentId,"data-state":Wn(n.open)},e,{ref:(0,a.F)(t,l.onTriggerChange),onClick:t=>{var r;null===(r=e.onClick)||void 0===r||r.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:(0,i.M)(e.onPointerMove,$n((t=>{c.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||u.current||(c.onPointerGraceIntentChange(null),u.current=window.setTimeout((()=>{n.onOpenChange(!0),h()}),100))}))),onPointerLeave:(0,i.M)(e.onPointerLeave,$n((e=>{var t;h();const r=null===(t=n.content)||void 0===t?void 0:t.getBoundingClientRect();if(r){var o;const t=null===(o=n.content)||void 0===o?void 0:o.dataset.side,i="right"===t,a=i?-5:5,s=r[i?"left":"right"],l=r[i?"right":"left"];c.onPointerGraceIntentChange({area:[{x:e.clientX+a,y:e.clientY},{x:s,y:r.top},{x:l,y:r.top},{x:l,y:r.bottom},{x:s,y:r.bottom}],side:t}),window.clearTimeout(d.current),d.current=window.setTimeout((()=>c.onPointerGraceIntentChange(null)),300)}else{if(c.onTriggerLeave(e),e.defaultPrevented)return;c.onPointerGraceIntentChange(null)}}))),onKeyDown:(0,i.M)(e.onKeyDown,(t=>{const r=""!==c.searchRef.current;var o;e.disabled||r&&" "===t.key||Qt[s.dir].includes(t.key)&&(n.onOpenChange(!0),null===(o=n.content)||void 0===o||o.focus(),t.preventDefault())}))})))})),ur=(0,o.forwardRef)(((e,t)=>{const n=vn(yn,e.__scopeMenu),{forceMount:s=n.forceMount,...l}=e,c=dn(yn,e.__scopeMenu),u=pn(yn,e.__scopeMenu),d=qn("MenuSubContent",e.__scopeMenu),f=(0,o.useRef)(null),p=(0,a.e)(t,f);return(0,o.createElement)(nn.Provider,{scope:e.__scopeMenu},(0,o.createElement)(ut.z,{present:s||c.open},(0,o.createElement)(nn.Slot,{scope:e.__scopeMenu},(0,o.createElement)(En,(0,r.Z)({id:d.contentId,"aria-labelledby":d.triggerId},l,{ref:p,align:"start",side:"rtl"===u.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;u.isUsingKeyboardRef.current&&(null===(t=f.current)||void 0===t||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:(0,i.M)(e.onFocusOutside,(e=>{e.target!==d.trigger&&c.onOpenChange(!1)})),onEscapeKeyDown:(0,i.M)(e.onEscapeKeyDown,u.onClose),onKeyDown:(0,i.M)(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),n=en[u.dir].includes(e.key);var r;t&&n&&(c.onOpenChange(!1),null===(r=d.trigger)||void 0===r||r.focus(),e.preventDefault())}))})))))})),dr="DropdownMenu",[fr,pr]=(0,s.b)(dr,[sn]),hr=sn(),[mr,gr]=fr(dr),vr=e=>{const{__scopeDropdownMenu:t,children:n,dir:i,open:a,defaultOpen:s,onOpenChange:c,modal:u=!0}=e,d=hr(t),f=(0,o.useRef)(null),[p=!1,h]=(0,l.T)({prop:a,defaultProp:s,onChange:c});return(0,o.createElement)(mr,{scope:t,triggerId:(0,O.M)(),triggerRef:f,contentId:(0,O.M)(),open:p,onOpenChange:h,onOpenToggle:(0,o.useCallback)((()=>h((e=>!e))),[h]),modal:u},(0,o.createElement)(Zn,(0,r.Z)({},d,{open:p,onOpenChange:h,dir:i,modal:u}),n))},yr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...l}=e,u=gr("DropdownMenuTrigger",n),d=hr(n);return(0,o.createElement)(Yn,(0,r.Z)({asChild:!0},d),(0,o.createElement)(c.WV.button,(0,r.Z)({type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":!!u.open||void 0,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":s?"":void 0,disabled:s},l,{ref:(0,a.F)(t,u.triggerRef),onPointerDown:(0,i.M)(e.onPointerDown,(e=>{s||0!==e.button||!1!==e.ctrlKey||(u.onOpenToggle(),u.open||e.preventDefault())})),onKeyDown:(0,i.M)(e.onKeyDown,(e=>{s||(["Enter"," "].includes(e.key)&&u.onOpenToggle(),"ArrowDown"===e.key&&u.onOpenChange(!0),[" ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})))})),br=e=>{const{__scopeDropdownMenu:t,...n}=e,i=hr(t);return(0,o.createElement)(Jn,(0,r.Z)({},i,n))},_r=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...a}=e,s=gr("DropdownMenuContent",n),l=hr(n),c=(0,o.useRef)(!1);return(0,o.createElement)(Xn,(0,r.Z)({id:s.contentId,"aria-labelledby":s.triggerId},l,a,{ref:t,onCloseAutoFocus:(0,i.M)(e.onCloseAutoFocus,(e=>{var t;c.current||null===(t=s.triggerRef.current)||void 0===t||t.focus(),c.current=!1,e.preventDefault()})),onInteractOutside:(0,i.M)(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;s.modal&&!r||(c.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}}))})),wr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(Qn,(0,r.Z)({},a,i,{ref:t}))})),xr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(er,(0,r.Z)({},a,i,{ref:t}))})),Sr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(tr,(0,r.Z)({},a,i,{ref:t}))})),Er=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(nr,(0,r.Z)({},a,i,{ref:t}))})),Cr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(rr,(0,r.Z)({},a,i,{ref:t}))})),kr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(or,(0,r.Z)({},a,i,{ref:t}))})),Ar=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(ir,(0,r.Z)({},a,i,{ref:t}))})),Tr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(ar,(0,r.Z)({},a,i,{ref:t}))})),Ir=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(sr,(0,r.Z)({},a,i,{ref:t}))})),Pr=e=>{const{__scopeDropdownMenu:t,children:n,open:i,onOpenChange:a,defaultOpen:s}=e,c=hr(t),[u=!1,d]=(0,l.T)({prop:i,defaultProp:s,onChange:a});return(0,o.createElement)(lr,(0,r.Z)({},c,{open:u,onOpenChange:d}),n)},Or=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(cr,(0,r.Z)({},a,i,{ref:t}))})),Mr=(0,o.forwardRef)(((e,t)=>{const{__scopeDropdownMenu:n,...i}=e,a=hr(n);return(0,o.createElement)(ur,(0,r.Z)({},a,i,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)"}}))})),Nr=vr,Lr=yr,Rr=br,Dr=_r,zr=wr,Fr=xr,Ur=Sr,jr=Er,Br=Cr,Vr=kr,Gr=Ar,qr=Tr,Hr=Ir,Wr=Pr,Kr=Or,$r=Mr},66195:(e,t,n)=>{"use strict";var r;n.d(t,{M:()=>l});var o=n(67294),i=n(29563);const a=(r||(r=n.t(o,2)))["useId".toString()]||(()=>{});let s=0;function l(e){const[t,n]=o.useState(a());return(0,i.b)((()=>{e||n((e=>null!=e?e:String(s++)))}),[e]),e||(t?`radix-${t}`:"")}},43216:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(67294),o=n(73935),i=n(17255),a=n(29563);const s=e=>{const{present:t,children:n}=e,s=function(e){const[t,n]=(0,r.useState)(),i=(0,r.useRef)({}),s=(0,r.useRef)(e),c=(0,r.useRef)("none"),u=e?"mounted":"unmounted",[d,f]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=l(i.current);c.current="mounted"===d?e:"none"}),[d]),(0,a.b)((()=>{const t=i.current,n=s.current;if(n!==e){const r=c.current,o=l(t);e?f("MOUNT"):"none"===o||"none"===(null==t?void 0:t.display)?f("UNMOUNT"):f(n&&r!==o?"ANIMATION_OUT":"UNMOUNT"),s.current=e}}),[e,f]),(0,a.b)((()=>{if(t){const e=e=>{const n=l(i.current).includes(e.animationName);e.target===t&&n&&(0,o.flushSync)((()=>f("ANIMATION_END")))},n=e=>{e.target===t&&(c.current=l(i.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}f("ANIMATION_END")}),[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:(0,r.useCallback)((e=>{e&&(i.current=getComputedStyle(e)),n(e)}),[])}}(t),c="function"==typeof n?n({present:s.isPresent}):r.Children.only(n),u=(0,i.e)(s.ref,c.ref);return"function"==typeof n||s.isPresent?(0,r.cloneElement)(c,{ref:u}):null};function l(e){return(null==e?void 0:e.animationName)||"none"}s.displayName="Presence"},40192:(e,t,n)=>{"use strict";n.d(t,{WV:()=>s,jH:()=>l});var r=n(87462),o=n(67294),i=n(73935),a=n(88820);const s=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=(0,o.forwardRef)(((e,n)=>{const{asChild:i,...s}=e,l=i?a.g7:t;return(0,o.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,o.createElement)(l,(0,r.Z)({},s,{ref:n}))}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});function l(e,t){e&&(0,i.flushSync)((()=>e.dispatchEvent(t)))}},863:(e,t,n)=>{"use strict";n.d(t,{Pc:()=>w,ck:()=>P,fC:()=>I});var r=n(87462),o=n(67294),i=n(76652),a=n(64053),s=n(17255),l=n(32707),c=n(66195),u=n(40192),d=n(95355),f=n(39920),p=n(41931);const h="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[v,y,b]=(0,a.B)(g),[_,w]=(0,l.b)(g,[b]),[x,S]=_(g),E=(0,o.forwardRef)(((e,t)=>(0,o.createElement)(v.Provider,{scope:e.__scopeRovingFocusGroup},(0,o.createElement)(v.Slot,{scope:e.__scopeRovingFocusGroup},(0,o.createElement)(C,(0,r.Z)({},e,{ref:t})))))),C=(0,o.forwardRef)(((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:l=!1,dir:c,currentTabStopId:g,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:b,onEntryFocus:_,...w}=e,S=(0,o.useRef)(null),E=(0,s.e)(t,S),C=(0,p.useDirection)(c),[k=null,A]=(0,f.T)({prop:g,defaultProp:v,onChange:b}),[I,P]=(0,o.useState)(!1),O=(0,d.W)(_),M=y(n),N=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{const e=S.current;if(e)return e.addEventListener(h,O),()=>e.removeEventListener(h,O)}),[O]),(0,o.createElement)(x,{scope:n,orientation:a,dir:C,loop:l,currentTabStopId:k,onItemFocus:(0,o.useCallback)((e=>A(e)),[A]),onItemShiftTab:(0,o.useCallback)((()=>P(!0)),[])},(0,o.createElement)(u.WV.div,(0,r.Z)({tabIndex:I?-1:0,"data-orientation":a},w,{ref:E,style:{outline:"none",...e.style},onMouseDown:(0,i.M)(e.onMouseDown,(()=>{N.current=!0})),onFocus:(0,i.M)(e.onFocus,(e=>{const t=!N.current;if(e.target===e.currentTarget&&t&&!I){const t=new CustomEvent(h,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=M().filter((e=>e.focusable));T([e.find((e=>e.active)),e.find((e=>e.id===k)),...e].filter(Boolean).map((e=>e.ref.current)))}}N.current=!1})),onBlur:(0,i.M)(e.onBlur,(()=>P(!1)))})))})),k=(0,o.forwardRef)(((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,...l}=e,d=(0,c.M)(),f=S("RovingFocusGroupItem",n),p=f.currentTabStopId===d,h=y(n);return(0,o.createElement)(v.ItemSlot,{scope:n,id:d,focusable:a,active:s},(0,o.createElement)(u.WV.span,(0,r.Z)({tabIndex:p?0:-1,"data-orientation":f.orientation},l,{ref:t,onMouseDown:(0,i.M)(e.onMouseDown,(e=>{a?f.onItemFocus(d):e.preventDefault()})),onFocus:(0,i.M)(e.onFocus,(()=>f.onItemFocus(d))),onKeyDown:(0,i.M)(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:A[r]}(e,f.orientation,f.dir);if(void 0!==t){e.preventDefault();let o=h().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)o.reverse();else if("prev"===t||"next"===t){"prev"===t&&o.reverse();const i=o.indexOf(e.currentTarget);o=f.loop?(r=i+1,(n=o).map(((e,t)=>n[(r+t)%n.length]))):o.slice(i+1)}setTimeout((()=>T(o)))}var n,r}))})))})),A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}const I=E,P=k},14213:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Range:()=>B,Root:()=>U,Slider:()=>E,SliderRange:()=>M,SliderThumb:()=>L,SliderTrack:()=>P,Thumb:()=>V,Track:()=>j,createSliderScope:()=>w});var r=n(87462),o=n(67294),i=n(76652),a=n(17255),s=n(32707),l=n(39920),c=n(41931),u=n(42935),d=n(40192),f=n(64053);const p=["PageUp","PageDown"],h=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],m={ltr:["ArrowDown","Home","ArrowLeft","PageDown"],rtl:["ArrowDown","Home","ArrowRight","PageDown"]},g="Slider",[v,y,b]=(0,f.B)(g),[_,w]=(0,s.b)(g,[b]),[x,S]=_(g),E=(0,o.forwardRef)(((e,t)=>{const{name:n,min:i=0,max:s=100,step:c=1,orientation:u="horizontal",disabled:d=!1,minStepsBetweenThumbs:f=0,defaultValue:m=[i],value:g,onValueChange:y=(()=>{}),...b}=e,[_,w]=(0,o.useState)(null),S=(0,a.e)(t,(e=>w(e))),E=(0,o.useRef)(new Set),C=(0,o.useRef)(0),k="horizontal"===u,I=!_||Boolean(_.closest("form")),P=k?A:T,[O=[],M]=(0,l.T)({prop:g,defaultProp:m,onChange:e=>{var t;null===(t=[...E.current][C.current])||void 0===t||t.focus(),y(e)}});function N(e,t){const n=function(e){return(String(e).split(".")[1]||"").length}(c),r=function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}(Math.round((e-i)/c)*c+i,n),o=function(e,[t,n]){return Math.min(n,Math.max(t,e))}(r,[i,s]);M(((e=[])=>{const n=function(e=[],t,n){const r=[...e];return r[n]=t,r.sort(((e,t)=>e-t))}(e,o,t);return function(e,t){if(t>0){const n=function(e){return e.slice(0,-1).map(((t,n)=>e[n+1]-t))}(e);return Math.min(...n)>=t}return!0}(n,f*c)?(C.current=n.indexOf(o),String(n)===String(e)?e:n):e}))}return(0,o.createElement)(x,{scope:e.__scopeSlider,disabled:d,min:i,max:s,valueIndexToChangeRef:C,thumbs:E.current,values:O,orientation:u},(0,o.createElement)(v.Provider,{scope:e.__scopeSlider},(0,o.createElement)(v.Slot,{scope:e.__scopeSlider},(0,o.createElement)(P,(0,r.Z)({"aria-disabled":d,"data-disabled":d?"":void 0},b,{ref:S,min:i,max:s,onSlideStart:d?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const n=e.map((e=>Math.abs(e-t))),r=Math.min(...n);return n.indexOf(r)}(O,e);N(e,t)},onSlideMove:d?void 0:function(e){N(e,C.current)},onHomeKeyDown:()=>!d&&N(i,0),onEndKeyDown:()=>!d&&N(s,O.length-1),onStepKeyDown:({event:e,direction:t})=>{if(!d){const n=p.includes(e.key)||e.shiftKey&&h.includes(e.key)?10:1,r=C.current;N(O[r]+c*n*t,r)}}})))),I&&O.map(((e,t)=>(0,o.createElement)(D,{key:t,name:n?n+(O.length>1?"[]":""):void 0,value:e}))))})),[C,k]=_(g,{startEdge:"left",endEdge:"right",size:"width",direction:1}),A=(0,o.forwardRef)(((e,t)=>{const{min:n,max:i,dir:s,onSlideStart:l,onSlideMove:u,onStepKeyDown:d,...f}=e,[p,h]=(0,o.useState)(null),g=(0,a.e)(t,(e=>h(e))),v=(0,o.useRef)(),y=(0,c.useDirection)(s),b="ltr"===y;function _(e){const t=v.current||p.getBoundingClientRect(),r=F([0,t.width],b?[n,i]:[i,n]);return v.current=t,r(e-t.left)}return(0,o.createElement)(C,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width"},(0,o.createElement)(I,(0,r.Z)({dir:y,"data-orientation":"horizontal"},f,{ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=_(e.clientX);null==l||l(t)},onSlideMove:e=>{const t=_(e.clientX);null==u||u(t)},onSlideEnd:()=>v.current=void 0,onStepKeyDown:e=>{const t=m[y].includes(e.key);null==d||d({event:e,direction:t?-1:1})}})))})),T=(0,o.forwardRef)(((e,t)=>{const{min:n,max:i,onSlideStart:s,onSlideMove:l,onStepKeyDown:c,...u}=e,d=(0,o.useRef)(null),f=(0,a.e)(t,d),p=(0,o.useRef)();function h(e){const t=p.current||d.current.getBoundingClientRect(),r=F([0,t.height],[i,n]);return p.current=t,r(e-t.top)}return(0,o.createElement)(C,{scope:e.__scopeSlider,startEdge:"bottom",endEdge:"top",size:"height",direction:1},(0,o.createElement)(I,(0,r.Z)({"data-orientation":"vertical"},u,{ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=h(e.clientY);null==s||s(t)},onSlideMove:e=>{const t=h(e.clientY);null==l||l(t)},onSlideEnd:()=>p.current=void 0,onStepKeyDown:e=>{const t=m.ltr.includes(e.key);null==c||c({event:e,direction:t?-1:1})}})))})),I=(0,o.forwardRef)(((e,t)=>{const{__scopeSlider:n,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:f,...m}=e,v=S(g,n);return(0,o.createElement)(d.WV.span,(0,r.Z)({},m,{ref:t,onKeyDown:(0,i.M)(e.onKeyDown,(e=>{"Home"===e.key?(c(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):p.concat(h).includes(e.key)&&(f(e),e.preventDefault())})),onPointerDown:(0,i.M)(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(t)?t.focus():a(e)})),onPointerMove:(0,i.M)(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)})),onPointerUp:(0,i.M)(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),l(e))}))}))})),P=(0,o.forwardRef)(((e,t)=>{const{__scopeSlider:n,...i}=e,a=S("SliderTrack",n);return(0,o.createElement)(d.WV.span,(0,r.Z)({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},i,{ref:t}))})),O="SliderRange",M=(0,o.forwardRef)(((e,t)=>{const{__scopeSlider:n,...i}=e,s=S(O,n),l=k(O,n),c=(0,o.useRef)(null),u=(0,a.e)(t,c),f=s.values.length,p=s.values.map((e=>z(e,s.min,s.max))),h=f>1?Math.min(...p):0,m=100-Math.max(...p);return(0,o.createElement)(d.WV.span,(0,r.Z)({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},i,{ref:u,style:{...e.style,[l.startEdge]:h+"%",[l.endEdge]:m+"%"}}))})),N="SliderThumb",L=(0,o.forwardRef)(((e,t)=>{const n=y(e.__scopeSlider),[i,s]=(0,o.useState)(null),l=(0,a.e)(t,(e=>s(e))),c=(0,o.useMemo)((()=>i?n().findIndex((e=>e.ref.current===i)):-1),[n,i]);return(0,o.createElement)(R,(0,r.Z)({},e,{ref:l,index:c}))})),R=(0,o.forwardRef)(((e,t)=>{const{__scopeSlider:n,index:s,...l}=e,c=S(N,n),f=k(N,n),[p,h]=(0,o.useState)(null),m=(0,a.e)(t,(e=>h(e))),g=(0,u.t)(p),y=c.values[s],b=void 0===y?0:z(y,c.min,c.max),_=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(s,c.values.length),w=null==g?void 0:g[f.size],x=w?function(e,t,n){const r=e/2;return(r-F([0,50],[0,r])(t)*n)*n}(w,b,f.direction):0;return(0,o.useEffect)((()=>{if(p)return c.thumbs.add(p),()=>{c.thumbs.delete(p)}}),[p,c.thumbs]),(0,o.createElement)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${b}% + ${x}px)`}},(0,o.createElement)(v.ItemSlot,{scope:e.__scopeSlider},(0,o.createElement)(d.WV.span,(0,r.Z)({role:"slider","aria-label":e["aria-label"]||_,"aria-valuemin":c.min,"aria-valuenow":y,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0},l,{ref:m,style:void 0===y?{display:"none"}:e.style,onFocus:(0,i.M)(e.onFocus,(()=>{c.valueIndexToChangeRef.current=s}))}))))})),D=e=>{const{value:t,...n}=e,i=(0,o.useRef)(null),a=function(e){const t=(0,o.useRef)({value:e,previous:e});return(0,o.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(t);return(0,o.useEffect)((()=>{const e=i.current,n=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(n,"value").set;if(a!==t&&r){const n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}}),[a,t]),(0,o.createElement)("input",(0,r.Z)({style:{display:"none"}},n,{ref:i,defaultValue:t}))};function z(e,t,n){return 100/(n-t)*(e-t)}function F(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}const U=E,j=P,B=M,V=L},88820:(e,t,n)=>{"use strict";n.d(t,{g7:()=>a});var r=n(87462),o=n(67294),i=n(17255);const a=(0,o.forwardRef)(((e,t)=>{const{children:n,...i}=e,a=o.Children.toArray(n),l=a.find(c);if(l){const e=l.props.children,n=a.map((t=>t===l?o.Children.count(e)>1?o.Children.only(null):(0,o.isValidElement)(e)?e.props.children:null:t));return(0,o.createElement)(s,(0,r.Z)({},i,{ref:t}),(0,o.isValidElement)(e)?(0,o.cloneElement)(e,void 0,n):null)}return(0,o.createElement)(s,(0,r.Z)({},i,{ref:t}),n)}));a.displayName="Slot";const s=(0,o.forwardRef)(((e,t)=>{const{children:n,...r}=e;return(0,o.isValidElement)(n)?(0,o.cloneElement)(n,{...u(r,n.props),ref:(0,i.F)(t,n.ref)}):o.Children.count(n)>1?o.Children.only(null):null}));s.displayName="SlotClone";const l=({children:e})=>(0,o.createElement)(o.Fragment,null,e);function c(e){return(0,o.isValidElement)(e)&&e.type===l}function u(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null==i||i(...e),null==o||o(...e)}:"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}},36888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Content:()=>T,List:()=>k,Root:()=>C,Tabs:()=>b,TabsContent:()=>x,TabsList:()=>_,TabsTrigger:()=>w,Trigger:()=>A,createTabsScope:()=>m});var r=n(87462),o=n(67294),i=n(76652),a=n(32707),s=n(863),l=n(43216),c=n(40192),u=n(41931),d=n(39920),f=n(66195);const p="Tabs",[h,m]=(0,a.b)(p,[s.Pc]),g=(0,s.Pc)(),[v,y]=h(p),b=(0,o.forwardRef)(((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:a,defaultValue:s,orientation:l="horizontal",dir:p,activationMode:h="automatic",...m}=e,g=(0,u.useDirection)(p),[y,b]=(0,d.T)({prop:i,onChange:a,defaultProp:s});return(0,o.createElement)(v,{scope:n,baseId:(0,f.M)(),value:y,onValueChange:b,orientation:l,dir:g,activationMode:h},(0,o.createElement)(c.WV.div,(0,r.Z)({dir:g,"data-orientation":l},m,{ref:t})))})),_=(0,o.forwardRef)(((e,t)=>{const{__scopeTabs:n,loop:i=!0,...a}=e,l=y("TabsList",n),u=g(n);return(0,o.createElement)(s.fC,(0,r.Z)({asChild:!0},u,{orientation:l.orientation,dir:l.dir,loop:i}),(0,o.createElement)(c.WV.div,(0,r.Z)({role:"tablist","aria-orientation":l.orientation},a,{ref:t})))})),w=(0,o.forwardRef)(((e,t)=>{const{__scopeTabs:n,value:a,disabled:l=!1,...u}=e,d=y("TabsTrigger",n),f=g(n),p=S(d.baseId,a),h=E(d.baseId,a),m=a===d.value;return(0,o.createElement)(s.ck,(0,r.Z)({asChild:!0},f,{focusable:!l,active:m}),(0,o.createElement)(c.WV.button,(0,r.Z)({type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:p},u,{ref:t,onMouseDown:(0,i.M)(e.onMouseDown,(e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(a)})),onKeyDown:(0,i.M)(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(a)})),onFocus:(0,i.M)(e.onFocus,(()=>{const e="manual"!==d.activationMode;m||l||!e||d.onValueChange(a)}))})))})),x=(0,o.forwardRef)(((e,t)=>{const{__scopeTabs:n,value:i,forceMount:a,children:s,...u}=e,d=y("TabsContent",n),f=S(d.baseId,i),p=E(d.baseId,i),h=i===d.value,m=(0,o.useRef)(h);return(0,o.useEffect)((()=>{const e=requestAnimationFrame((()=>m.current=!1));return()=>cancelAnimationFrame(e)}),[]),(0,o.createElement)(l.z,{present:a||h},(({present:n})=>(0,o.createElement)(c.WV.div,(0,r.Z)({"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!n,id:p,tabIndex:0},u,{ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0}}),n&&s)))}));function S(e,t){return`${e}-trigger-${t}`}function E(e,t){return`${e}-content-${t}`}const C=b,k=_,A=w,T=x},95355:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(67294);function o(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),(0,r.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}},39920:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(67294),o=n(95355);function i({prop:e,defaultProp:t,onChange:n=(()=>{})}){const[i,a]=function({defaultProp:e,onChange:t}){const n=(0,r.useState)(e),[i]=n,a=(0,r.useRef)(i),s=(0,o.W)(t);return(0,r.useEffect)((()=>{a.current!==i&&(s(i),a.current=i)}),[i,a,s]),n}({defaultProp:t,onChange:n}),s=void 0!==e,l=s?e:i,c=(0,o.W)(n);return[l,(0,r.useCallback)((t=>{if(s){const n="function"==typeof t?t(e):t;n!==e&&c(n)}else a(t)}),[s,e,a,c])]}},29563:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(67294);const o=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:()=>{}},42935:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(67294),o=n(29563);function i(e){const[t,n]=(0,r.useState)(void 0);return(0,o.b)((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let o,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;n({width:o,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}},90265:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(93737)),i=n(84102);t.default=function(e,t,n){void 0===n&&(n={});for(var r=n.steps||64,a=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},s=[],l=0;l<r;l++)s.push(o.default(e,t,-360*l/r,n).geometry.coordinates);return s.push(s[0]),i.polygon([s],a)}},93737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102),o=n(56530);t.default=function(e,t,n,i){void 0===i&&(i={});var a=o.getCoord(e),s=r.degreesToRadians(a[0]),l=r.degreesToRadians(a[1]),c=r.degreesToRadians(n),u=r.lengthToRadians(t,i.units),d=Math.asin(Math.sin(l)*Math.cos(u)+Math.cos(l)*Math.sin(u)*Math.cos(c)),f=s+Math.atan2(Math.sin(c)*Math.sin(u)*Math.cos(l),Math.cos(u)-Math.sin(l)*Math.sin(d)),p=r.radiansToDegrees(f),h=r.radiansToDegrees(d);return r.point([p,h],i.properties)}},31013:(e,t,n)=>{"use strict";var r=n(56530),o=n(84102);t.Z=function(e,t,n){void 0===n&&(n={});var i=r.getCoord(e),a=r.getCoord(t),s=o.degreesToRadians(a[1]-i[1]),l=o.degreesToRadians(a[0]-i[0]),c=o.degreesToRadians(i[1]),u=o.degreesToRadians(a[1]),d=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(c)*Math.cos(u);return o.radiansToLength(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),n.units)}},84102:(e,t)=>{"use strict";function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(e[0])||!p(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function o(e,t,r){void 0===r&&(r={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function i(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function c(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function u(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function d(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function f(e){return e%(2*Math.PI)*180/Math.PI}function p(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return r(t).geometry;case"LineString":return i(t).geometry;case"Polygon":return o(t).geometry;case"MultiPoint":return l(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return c(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=o,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.lineString=i,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=l,t.multiPolygon=c,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=u,t.lengthToRadians=d,t.lengthToDegrees=function(e,t){return f(d(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=f,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return u(d(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[n];if(!o)throw new Error("invalid original units");var i=t.areaFactors[r];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=p,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!p(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},56530:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&r.isNumber(t[0])&&r.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,o=e.features;r<o.length;r++){var i=o[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+i.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},58243:(e,t,n)=>{"use strict";n.d(t,{sD:()=>o,ZA:()=>A,xk:()=>I,bR:()=>P,ws:()=>V,KC:()=>z,AM:()=>te,MZ:()=>N,eR:()=>re,Ic:()=>s,Ib:()=>q});var r,o=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,o=t.Password,i=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=i||{},this.clientMetadata=a||{},this.username=r,this.password=o}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),i=n(48764);if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(56249)}catch(e){}function a(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var s=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(a());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")}(this)},e}(),l=n(41938);const c=u;function u(e,t){null!=e&&this.fromString(e,t)}function d(){return new u(null)}var f,p="undefined"!=typeof navigator;p&&"Microsoft Internet Explorer"==navigator.appName?(u.prototype.am=function(e,t,n,r,o,i){for(var a=32767&t,s=t>>15;--i>=0;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;o=((l=a*l+((32767&u)<<15)+n[r]+(1073741823&o))>>>30)+(u>>>15)+s*c+(o>>>30),n[r++]=1073741823&l}return o},f=30):p&&"Netscape"!=navigator.appName?(u.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},f=26):(u.prototype.am=function(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;--i>=0;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;o=((l=a*l+((16383&u)<<14)+n[r]+o)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return o},f=28),u.prototype.DB=f,u.prototype.DM=(1<<f)-1,u.prototype.DV=1<<f,u.prototype.FV=Math.pow(2,52),u.prototype.F1=52-f,u.prototype.F2=2*f-52;var h,m,g=new Array;for(h="0".charCodeAt(0),m=0;m<=9;++m)g[h++]=m;for(h="a".charCodeAt(0),m=10;m<36;++m)g[h++]=m;for(h="A".charCodeAt(0),m=10;m<36;++m)g[h++]=m;function v(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function y(e,t){var n=g[e.charCodeAt(t)];return null==n?-1:n}function b(e){var t=d();return t.fromInt(e),t}function _(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function w(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function x(e){return i.lW.from((new s).random(e).toString(),"hex")}w.prototype.convert=function(e){var t=d();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(u.ZERO)>0&&this.m.subTo(t,t),t},w.prototype.revert=function(e){var t=d();return e.copyTo(t),this.reduce(t),t},w.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},w.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},w.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},u.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},u.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},u.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,o=!1,i=0;--r>=0;){var a=y(e,r);a<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==i?this[this.t++]=a:i+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=n)>=this.DB&&(i-=this.DB))}this.clamp(),o&&u.ZERO.subTo(this,this)},u.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},u.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},u.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},u.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},u.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},u.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},u.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&u.ZERO.subTo(t,t)},u.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},u.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=d());var i=d(),a=this.s,s=e.s,l=this.DB-_(r[r.t-1]);l>0?(r.lShiftTo(l,i),o.lShiftTo(l,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,f=i[c-1];if(0!=f){var p=f*(1<<this.F1)+(c>1?i[c-2]>>this.F2:0),h=this.FV/p,m=(1<<this.F1)/p,g=1<<this.F2,v=n.t,y=v-c,b=null==t?d():t;for(i.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),u.ONE.dlShiftTo(c,b),b.subTo(i,i);i.t<c;)i[i.t++]=0;for(;--y>=0;){var w=n[--v]==f?this.DM:Math.floor(n[v]*h+(n[v-1]+g)*m);if((n[v]+=i.am(0,w,n,y,0,c))<w)for(i.dlShiftTo(y,b),n.subTo(b,n);n[v]<--w;)n.subTo(b,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&u.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&u.ZERO.subTo(n,n)}}},u.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},u.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},u.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(o=!0,i=v(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(o=!0),o&&(i+=v(n));return o?i:"0"},u.prototype.negate=function(){var e=d();return u.ZERO.subTo(this,e),e},u.prototype.abs=function(){return this.s<0?this.negate():this},u.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},u.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+_(this[this.t-1]^this.s&this.DM)},u.prototype.mod=function(e){var t=d();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(u.ZERO)>0&&e.subTo(t,t),t},u.prototype.equals=function(e){return 0==this.compareTo(e)},u.prototype.add=function(e){var t=d();return this.addTo(e,t),t},u.prototype.subtract=function(e){var t=d();return this.subTo(e,t),t},u.prototype.multiply=function(e){var t=d();return this.multiplyTo(e,t),t},u.prototype.divide=function(e){var t=d();return this.divRemTo(e,t,null),t},u.prototype.modPow=function(e,t,n){var r,o=e.bitLength(),i=b(1),a=new w(t);if(o<=0)return i;r=o<18?1:o<48?3:o<144?4:o<768?5:6;var s=new Array,l=3,c=r-1,u=(1<<r)-1;if(s[1]=a.convert(this),r>1){var f=d();for(a.sqrTo(s[1],f);l<=u;)s[l]=d(),a.mulTo(f,s[l-2],s[l]),l+=2}var p,h,m=e.t-1,g=!0,v=d();for(o=_(e[m])-1;m>=0;){for(o>=c?p=e[m]>>o-c&u:(p=(e[m]&(1<<o+1)-1)<<c-o,m>0&&(p|=e[m-1]>>this.DB+o-c)),l=r;0==(1&p);)p>>=1,--l;if((o-=l)<0&&(o+=this.DB,--m),g)s[p].copyTo(i),g=!1;else{for(;l>1;)a.sqrTo(i,v),a.sqrTo(v,i),l-=2;l>0?a.sqrTo(i,v):(h=i,i=v,v=h),a.mulTo(v,s[p],i)}for(;m>=0&&0==(e[m]&1<<o);)a.sqrTo(i,v),h=i,i=v,v=h,--o<0&&(o=this.DB-1,--m)}var y=a.revert(i);return n(null,y),y},u.ZERO=b(0),u.ONE=b(1);var S=/^[89a-f]/i,E=function(){function e(e){this.N=new c("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new c("2",16),this.k=new c(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=i.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=x(128).toString("hex");return new c(e,16)},t.generateRandomString=function(){return x(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var o=""+e+t+":"+this.randomPassword,i=this.hash(o),a=x(16).toString("hex");this.SaltToHashDevices=this.padHex(new c(a,16)),this.g.modPow(new c(this.hexHash(this.SaltToHashDevices+i),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(c.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new c(this.UHexHash,16)},t.hash=function(e){var t=new l.Sha256;t.update(e);var n=t.digestSync(),r=i.lW.from(n).toString("hex");return new Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(i.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=i.lW.concat([this.infoBits,i.lW.from(String.fromCharCode(1),"utf8")]),r=new l.Sha256(t);r.update(e);var o=r.digestSync(),a=new l.Sha256(o);return a.update(n),a.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,o){var a=this;if(n.mod(this.N).equals(c.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(c.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,l=this.hash(s),u=new c(this.hexHash(this.padHex(r)+l),16);this.calculateS(u,n,(function(e,t){e&&o(e,null);var n=a.computehkdf(i.lW.from(a.padHex(t),"hex"),i.lW.from(a.padHex(a.UValue),"hex"));o(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(o,i){o&&n(o,null),t.subtract(r.k.multiply(i)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof c))throw new Error("Not a BigInteger");var t=e.compareTo(c.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=S.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new c(r,16).add(c.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),C=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(i.lW.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var A=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,k(t,n),r}(C);function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}var I=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,T(t,n),r}(C),P=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),O="aws-amplify/5.0.4",M={userAgent:O+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&(M.product=navigator.product||"",M.navigator=navigator||null,"ReactNative"===navigator.product?(M.userAgent=O+" react-native",M.isReactNative=!0):(M.userAgent=O+" js",M.isReactNative=!1));var N=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,o=t.AccessToken,i=t.ClockDrift;if(null==o||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=o,this.clockDrift=void 0===i?this.calculateClockDrift():i}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=R[e.getUTCDay()],n=L[e.getUTCMonth()],r=e.getUTCDate(),o=e.getUTCHours();o<10&&(o="0"+o);var i=e.getUTCMinutes();i<10&&(i="0"+i);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+o+":"+i+":"+a+" UTC "+e.getUTCFullYear()},e}(),z=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),F={},U=function(){function e(){}return e.setItem=function(e,t){return F[e]=t,F[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(F,e)?F[e]:void 0},e.removeItem=function(e){return delete F[e]},e.clear=function(){return F={}},e}(),j=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=U}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),B="undefined"!=typeof navigator?M.isReactNative?"react-native":navigator.userAgent:"nodejs",V=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new j).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),i={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",i,(function(e,r){if(e)return t.onFailure(e);var o=r.ChallengeName,i=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===o?(n.Session=r.Session,t.customChallenge(i)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,o=this,a=new E(this.pool.getUserPoolName()),s=new D,u={};null!=this.deviceKey&&(u.DEVICE_KEY=this.deviceKey),u.USERNAME=this.username,a.getLargeAValue((function(d,f){d&&t.onFailure(d),u.SRP_A=f.toString(16),"CUSTOM_AUTH"===o.authenticationFlowType&&(u.CHALLENGE_NAME="SRP_A");var p=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),h={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:u,ClientMetadata:p};o.getUserContextData(o.username)&&(h.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",h,(function(u,d){if(u)return t.onFailure(u);var f=d.ChallengeParameters;o.username=f.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",n=new c(f.SRP_B,16),r=new c(f.SALT,16),o.getCachedDeviceKeyAndPassword(),a.getPasswordAuthenticationKey(o.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=s.getNowString(),c=i.lW.concat([i.lW.from(o.pool.getUserPoolName(),"utf8"),i.lW.from(o.username,"utf8"),i.lW.from(f.SECRET_BLOCK,"base64"),i.lW.from(r,"utf8")]),u=new l.Sha256(n);u.update(c);var h=u.digestSync(),m=i.lW.from(h).toString("base64"),g={};g.USERNAME=o.username,g.PASSWORD_CLAIM_SECRET_BLOCK=f.SECRET_BLOCK,g.TIMESTAMP=r,g.PASSWORD_CLAIM_SIGNATURE=m,null!=o.deviceKey&&(g.DEVICE_KEY=o.deviceKey);var v={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:g,Session:d.Session,ClientMetadata:p};o.getUserContextData()&&(v.UserContextData=o.getUserContextData()),function e(t,n){return o.client.request("RespondToAuthChallenge",t,(function(r,i){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(g.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,i)}))}(v,(function(e,n){return e?t.onFailure(e):o.authenticateUserInternal(n,a,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var o=new E(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,o=e.ChallengeName,a=e.ChallengeParameters;if("SMS_MFA"===o)return this.Session=e.Session,n.mfaRequired(o,a);if("SELECT_MFA_TYPE"===o)return this.Session=e.Session,n.selectMFAType(o,a);if("MFA_SETUP"===o)return this.Session=e.Session,n.mfaSetup(o,a);if("SOFTWARE_TOKEN_MFA"===o)return this.Session=e.Session,n.totpRequired(o,a);if("CUSTOM_CHALLENGE"===o)return this.Session=e.Session,n.customChallenge(a);if("NEW_PASSWORD_REQUIRED"===o){this.Session=e.Session;var s=null,l=null,c=[],u=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(a&&(s=JSON.parse(e.ChallengeParameters.userAttributes),l=JSON.parse(e.ChallengeParameters.requiredAttributes)),l)for(var d=0;d<l.length;d++)c[d]=l[d].substr(u.length);return n.newPasswordRequired(s,c)}if("DEVICE_SRP_AUTH"===o)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=o,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(o){if(o)return n.onFailure(o);var a={Salt:i.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:i.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=a.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:B},(function(t,o){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===o.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,o.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var o=this;if(!e)return n.onFailure(new Error("New password is required."));var i=new E(this.pool.getUserPoolName()),a=i.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,(function(e,t){return e?n.onFailure(e):o.authenticateUserInternal(t,i,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new E(this.deviceGroupKey),o=new D,a={};a.USERNAME=this.username,a.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(s,u){s&&e.onFailure(s),a.SRP_A=u.toString(16);var d={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:a,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(d.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",d,(function(t,a){if(t)return e.onFailure(t);var s=a.ChallengeParameters,u=new c(s.SRP_B,16),d=new c(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,u,d,(function(t,r){if(t)return e.onFailure(t);var c=o.getNowString(),u=i.lW.concat([i.lW.from(n.deviceGroupKey,"utf8"),i.lW.from(n.deviceKey,"utf8"),i.lW.from(s.SECRET_BLOCK,"base64"),i.lW.from(c,"utf8")]),d=new l.Sha256(r);d.update(u);var f=d.digestSync(),p=i.lW.from(f).toString("base64"),h={};h.USERNAME=n.username,h.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,h.TIMESTAMP=c,h.PASSWORD_CLAIM_SIGNATURE=p,h.DEVICE_KEY=n.deviceKey;var m={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:h,Session:a.Session};n.getUserContextData()&&(m.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",m,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",o,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,o={};o.USERNAME=this.username,o.ANSWER=e;var i=new E(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)}))},t.sendMFACode=function(e,t,n,r){var o=this,a={};a.USERNAME=this.username,a.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(a.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey);var l={ChallengeName:s,ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(o.signInUserSession=o.getCognitoUserSession(n.AuthenticationResult),o.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(o.signInUserSession);var r=new E(o.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var a={Salt:i.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:i.lW.from(r.getVerifierDevices(),"hex").toString("base64")};o.verifierDevices=a.PasswordVerifier,o.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,o.randomPassword=r.getRandomPassword(),o.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:o.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:a,DeviceName:B},(function(e,r){return e?t.onFailure(e):(o.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,o.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(o.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(o.signInUserSession))}))}))}else o.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e,n){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS",n)}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],o=0;o<n.UserAttributes.length;o++){var i={Name:n.UserAttributes[o].Name,Value:n.UserAttributes[o].Value},a=new z(i);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",o=n+".accessToken",i=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new I({IdToken:this.storage.getItem(r)}),l=new A({AccessToken:this.storage.getItem(o)}),c=new P({RefreshToken:this.storage.getItem(i)}),u=parseInt(this.storage.getItem(a),0)||0,d=new N({IdToken:s,AccessToken:l,RefreshToken:c,ClockDrift:u});if(d.isValid())return this.signInUserSession=d,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,o=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,i={};i.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var l=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(l),i.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),o(t,null);if(n){var i=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(i,"RefreshToken")||(i.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(i),r.cacheTokens(),o(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+"."+this.username+".clockDrift",i=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(o,""+this.signInUserSession.getClockDrift()),this.storage.setItem(i,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",o=e+".LastAuthUser",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(o),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){var t=new I(e),n=new A(e),r=new P(e);return new N({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var o={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",o,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var o={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,(function(r,o){return r?t.onFailure(r):(n.Session=o.Session,"SMS_MFA"===e?t.mfaRequired(o.ChallengeName,o.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(o.ChallengeName,o.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var o={};o.USERNAME=r.username;var i={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:o,Session:r.Session};r.getUserContextData()&&(i.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",i,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();function G(){}n(80204),G.prototype.userAgent=M.userAgent;var q=function(e){e&&(G.prototype.userAgent&&!G.prototype.userAgent.includes(e)&&(G.prototype.userAgent=G.prototype.userAgent.concat(" ",e)),G.prototype.userAgent&&""!==G.prototype.userAgent||(G.prototype.userAgent=e))};const H=G;function W(e){var t="function"==typeof Map?new Map:void 0;return W=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return K(e,arguments,Y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Z(r,e)},W(e)}function K(e,t,n){return K=$()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Z(o,n.prototype),o},K.apply(null,arguments)}function $(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var J=function(e){function t(t,n,r,o){var i;return(i=e.call(this,t)||this).code=n,i.name=r,i.statusCode=o,i}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,Z(n,r),t;var n,r}(W(Error)),X=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,o){n.request(e,t,(function(e,t){e?o(new J(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r,o,i=this;(r=[t],o=5e3,void 0===o&&(o=ee),Q((function(t){return new Promise((function(n,r){i.request(e,t,(function(e,t){e?r(e):n(t)}))}))}),r,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(o))).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":H.prototype.userAgent,"Cache-Control":"no-store"},i=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,i).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),o=new Error(e.message||e.Message||null);return o.name=t,o.code=t,n(o)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],o=new Error(r.status?r.status.toString():null);return o.code=t,o.name=t,o.statusCode=r.status,n(o)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}();function Q(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return e.name,JSON.stringify(t),e.apply(void 0,t).catch((function(o){if(e.name,(i=o)&&i.nonRetryable)throw e.name,o;var i,a=n(r,t,o);if(e.name,!1!==a)return new Promise((function(e){return setTimeout(e,a)})).then((function(){return Q(e,t,n,r+1)}));throw o}))}Error;var ee=3e5,te=function(){function e(e,t){var n=e||{},r=n.UserPoolId,o=n.ClientId,i=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!o)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var l=r.split("_")[0];this.userPoolId=r,this.clientId=o,this.client=new X(l,i,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new j).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,o,i){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:i};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return o(t,null);var r={Username:e,Pool:a,Storage:a.storage},i={user:new V(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return o(null,i)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new V(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),ne=n(36808),re=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),ne.set(e,t,n),ne.get(e)},t.getItem=function(e){return ne.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),ne.remove(e,t)},t.clear=function(){for(var e=ne.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}()},73474:(e,t,n)=>{"use strict";n.r(t),n.d(t,{API:()=>uc.b,APIClass:()=>uc.Y,AWSCloudWatchProvider:()=>xp.P,AWSKinesisFirehoseProvider:()=>Tl,AWSKinesisProvider:()=>Ws,AWSPinpointProvider:()=>rr,AmazonPersonalizeProvider:()=>sc,Amplify:()=>r.d,Analytics:()=>pi,Auth:()=>lc.g,AuthModeStrategyType:()=>fc.sE,Cache:()=>Gn._,ClientDevice:()=>zt._,DataStore:()=>pc.KT,Geo:()=>Ap.l,Hub:()=>Rt.X,I18n:()=>_p.o,Interactions:()=>$f,Logger:()=>Lt.k,Notifications:()=>Zf.Z,Predicates:()=>hc.gA,Predictions:()=>bp,PubSub:()=>mc.p,ServiceWorker:()=>wp.f,Signer:()=>Ft.E,SortDirection:()=>fc.Sr,Storage:()=>cc._,StorageClass:()=>cc.K,XR:()=>hp,graphqlOperation:()=>dc.wT,syncExpression:()=>fc.S6,withSSRContext:()=>kp});var r=n(25387),o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o(e,t)},i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}var d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T,I,P,O,M,N,L,R,D,z,F,U,j,B,V,G,q,H,W,K,$,Z,Y,J,X,Q,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,fe,pe,he,me,ge,ve,ye,be,_e,we,xe,Se,Ee,Ce,ke,Ae,Te,Ie,Pe,Oe,Me,Ne,Le,Re,De,ze,Fe,Ue,je,Be,Ve,Ge,qe,He,We,Ke,$e,Ze,Ye,Je,Xe,Qe,et,tt,nt,rt,ot,it,at,st,lt,ct,ut,dt,ft,pt,ht,mt,gt,vt,yt,bt,_t,wt,xt,St,Et,Ct,kt,At,Tt,It,Pt,Ot,Mt,Nt,Lt=n(35069),Rt=n(20490),Dt=n(99820),zt=n(9733),Ft=n(90633),Ut=n(59222),jt=n(9270),Bt=n(40611),Vt=n(70655);!function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(d||(d={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(f||(f={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(p||(p={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(h||(h={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(m||(m={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(g||(g={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(v||(v={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(y||(y={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(b||(b={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(_||(_={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(w||(w={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(x||(x={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(S||(S={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(E||(E={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(C||(C={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(k||(k={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(A||(A={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(T||(T={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(I||(I={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(P||(P={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(O||(O={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(M||(M={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(N||(N={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(L||(L={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(R||(R={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(D||(D={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(z||(z={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(F||(F={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(U||(U={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(j||(j={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(B||(B={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(V||(V={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(G||(G={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(q||(q={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(H||(H={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(W||(W={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(K||(K={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}($||($={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Z||(Z={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Y||(Y={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(J||(J={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(X||(X={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Q||(Q={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ee||(ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(te||(te={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ne||(ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(re||(re={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(oe||(oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ie||(ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ae||(ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(se||(se={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(le||(le={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ce||(ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ue||(ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(de||(de={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(fe||(fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(he||(he={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ce||(Ce={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Be||(Be={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(qe||(qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(et||(et={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(rt||(rt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ot||(ot={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(it||(it={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(at||(at={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(st||(st={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(lt||(lt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ct||(ct={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ut||(ut={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(dt||(dt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ft||(ft={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(pt||(pt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ht||(ht={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(mt||(mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(gt||(gt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(vt||(vt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(yt||(yt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(bt||(bt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(_t||(_t={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(wt||(wt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(xt||(xt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(St||(St={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Et||(Et={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ct||(Ct={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(kt||(kt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(At||(At={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Tt||(Tt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(It||(It={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Pt||(Pt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ot||(Ot={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Mt||(Mt={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Nt||(Nt={}));var Gt=n(75882),qt=n(82254),Ht=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,m;return(0,Vt.__generator)(this,(function(g){switch(g.label){case 0:return r=[(0,Vt.__assign)({},e)],m={},[4,mn(e.body,t)];case 1:switch(n=Vt.__assign.apply(void 0,r.concat([(m.body=g.sent(),m)])),i="UnknownError",i=gn(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return a=[{}],[4,Kt(n,t)];case 3:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,a.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 4:return s=[{}],[4,$t(n,t)];case 5:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,s.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 6:return l=[{}],[4,Zt(n,t)];case 7:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,l.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 8:return c=[{}],[4,Yt(n,t)];case 9:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,c.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 10:return u=[{}],[4,Jt(n,t)];case 11:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,u.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 12:return d=[{}],[4,Xt(n,t)];case 13:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,d.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 14:return f=[{}],[4,Qt(n,t)];case 15:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,f.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 16:p=n.body,i=p.code||p.Code||i,o=(0,Vt.__assign)((0,Vt.__assign)({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:hn(e)}),g.label=17;case 17:return h=o.message||o.Message||i,o.message=h,delete o.Message,[2,Promise.reject(Object.assign(new Error(h),o))]}}))}))},Wt=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,m;return(0,Vt.__generator)(this,(function(g){switch(g.label){case 0:return r=[(0,Vt.__assign)({},e)],m={},[4,mn(e.body,t)];case 1:switch(n=Vt.__assign.apply(void 0,r.concat([(m.body=g.sent(),m)])),i="UnknownError",i=gn(e,n.body)){case"BadRequestException":case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return a=[{}],[4,Kt(n,t)];case 3:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,a.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 4:return s=[{}],[4,$t(n,t)];case 5:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,s.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 6:return l=[{}],[4,Zt(n,t)];case 7:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,l.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 8:return c=[{}],[4,Yt(n,t)];case 9:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,c.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 10:return u=[{}],[4,Jt(n,t)];case 11:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,u.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 12:return d=[{}],[4,Xt(n,t)];case 13:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,d.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 14:return f=[{}],[4,Qt(n,t)];case 15:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,f.concat([g.sent()])),{name:i,$metadata:hn(e)}]),[3,17];case 16:p=n.body,i=p.code||p.Code||i,o=(0,Vt.__assign)((0,Vt.__assign)({},p),{name:""+i,message:p.message||p.Message||i,$fault:"client",$metadata:hn(e)}),g.label=17;case 17:return h=o.message||o.Message||i,o.message=h,delete o.Message,[2,Promise.reject(Object.assign(new Error(h),o))]}}))}))},Kt=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"BadRequestException",$fault:"client",$metadata:hn(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},$t=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"ForbiddenException",$fault:"client",$metadata:hn(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Zt=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"InternalServerErrorException",$fault:"server",$metadata:hn(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Yt=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"MethodNotAllowedException",$fault:"client",$metadata:hn(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Jt=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"NotFoundException",$fault:"client",$metadata:hn(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Xt=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"PayloadTooLargeException",$fault:"client",$metadata:hn(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},Qt=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"TooManyRequestsException",$fault:"client",$metadata:hn(e),Message:void 0,RequestID:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),void 0!==n.RequestID&&null!==n.RequestID&&(t.RequestID=n.RequestID),[2,t]}))}))},en=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.AppVersion&&null!==e.AppVersion&&{AppVersion:e.AppVersion}),void 0!==e.Locale&&null!==e.Locale&&{Locale:e.Locale}),void 0!==e.Make&&null!==e.Make&&{Make:e.Make}),void 0!==e.Model&&null!==e.Model&&{Model:e.Model}),void 0!==e.ModelVersion&&null!==e.ModelVersion&&{ModelVersion:e.ModelVersion}),void 0!==e.Platform&&null!==e.Platform&&{Platform:e.Platform}),void 0!==e.PlatformVersion&&null!==e.PlatformVersion&&{PlatformVersion:e.PlatformVersion}),void 0!==e.Timezone&&null!==e.Timezone&&{Timezone:e.Timezone})},tn=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.City&&null!==e.City&&{City:e.City}),void 0!==e.Country&&null!==e.Country&&{Country:e.Country}),void 0!==e.Latitude&&null!==e.Latitude&&{Latitude:e.Latitude}),void 0!==e.Longitude&&null!==e.Longitude&&{Longitude:e.Longitude}),void 0!==e.PostalCode&&null!==e.PostalCode&&{PostalCode:e.PostalCode}),void 0!==e.Region&&null!==e.Region&&{Region:e.Region})},nn=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.UserAttributes&&null!==e.UserAttributes&&{UserAttributes:ln(e.UserAttributes,t)}),void 0!==e.UserId&&null!==e.UserId&&{UserId:e.UserId})},rn=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=i,n))}),{})},on=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=i,n))}),{})},an=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=(0,Vt.__read)(n,2),i=o[0],a=o[1];return null===a?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((r={})[i]=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.AppPackageName&&null!==e.AppPackageName&&{AppPackageName:e.AppPackageName}),void 0!==e.AppTitle&&null!==e.AppTitle&&{AppTitle:e.AppTitle}),void 0!==e.AppVersionCode&&null!==e.AppVersionCode&&{AppVersionCode:e.AppVersionCode}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:on(e.Attributes)}),void 0!==e.ClientSdkVersion&&null!==e.ClientSdkVersion&&{ClientSdkVersion:e.ClientSdkVersion}),void 0!==e.EventType&&null!==e.EventType&&{EventType:e.EventType}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:rn(e.Metrics,t)}),void 0!==e.SdkName&&null!==e.SdkName&&{SdkName:e.SdkName}),void 0!==e.Session&&null!==e.Session&&{Session:un(e.Session,t)}),void 0!==e.Timestamp&&null!==e.Timestamp&&{Timestamp:e.Timestamp})}(a,t),r))}),{})},sn=function(e,t){return Object.entries(e).reduce((function(e,n){var r,o=(0,Vt.__read)(n,2),i=o[0],a=o[1];return null===a?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((r={})[i]=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.Endpoint&&null!==e.Endpoint&&{Endpoint:cn(e.Endpoint,t)}),void 0!==e.Events&&null!==e.Events&&{Events:an(e.Events,t)})}(a,t),r))}),{})},ln=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))}(i),n))}),{})},cn=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.Address&&null!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:ln(e.Attributes,t)}),void 0!==e.ChannelType&&null!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&null!==e.Demographic&&{Demographic:en(e.Demographic)}),void 0!==e.EffectiveDate&&null!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&null!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&null!==e.Location&&{Location:tn(e.Location)}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:rn(e.Metrics,t)}),void 0!==e.OptOut&&null!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&null!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&null!==e.User&&{User:nn(e.User,t)})},un=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.Duration&&null!==e.Duration&&{Duration:e.Duration}),void 0!==e.Id&&null!==e.Id&&{Id:e.Id}),void 0!==e.StartTimestamp&&null!==e.StartTimestamp&&{StartTimestamp:e.StartTimestamp}),void 0!==e.StopTimestamp&&null!==e.StopTimestamp&&{StopTimestamp:e.StopTimestamp})},dn=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}},fn=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,StatusCode:void 0!==e.StatusCode&&null!==e.StatusCode?e.StatusCode:void 0}}(i),n))}),{})},pn=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=function(e,t){return{EndpointItemResponse:void 0!==e.EndpointItemResponse&&null!==e.EndpointItemResponse?dn(e.EndpointItemResponse):void 0,EventsItemResponse:void 0!==e.EventsItemResponse&&null!==e.EventsItemResponse?fn(e.EventsItemResponse):void 0}}(i),n))}),{})},hn=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},mn=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},gn=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},vn=n(22593),yn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Vt.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,vn.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:we.filterSensitiveLog,outputFilterSensitiveLog:xe.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){switch(d.label){case 0:if(n={"content-type":"application/json"},r="/v1/apps/{ApplicationId}/events",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((o=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");return r=r.replace("{ApplicationId}",(0,qt.jc)(o)),void 0!==e.EventsRequest&&(i=function(e,t){return(0,Vt.__assign)({},void 0!==e.BatchItem&&null!==e.BatchItem&&{BatchItem:sn(e.BatchItem,t)})}(e.EventsRequest,t)),void 0===i&&(i={}),i=JSON.stringify(i),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,l=a.protocol,c=void 0===l?"https":l,u=a.port,[2,new Gt.aW({protocol:c,hostname:s,port:u,method:"POST",headers:n,path:r,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){switch(o.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,Ht(e,t)]:(n={$metadata:hn(e),EventsResponse:void 0},[4,mn(e.body,t)]);case 1:return r=o.sent(),n.EventsResponse=function(e,t){return{Results:void 0!==e.Results&&null!==e.Results?pn(e.Results,t):void 0}}(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(qt.mY),bn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Vt.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,vn.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PinpointClient",commandName:"UpdateEndpointCommand",inputFilterSensitiveLog:ot.filterSensitiveLog,outputFilterSensitiveLog:it.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){switch(d.label){case 0:if(n={"content-type":"application/json"},r="/v1/apps/{ApplicationId}/endpoints/{EndpointId}",void 0===e.ApplicationId)throw new Error("No value provided for input HTTP label: ApplicationId.");if((o=e.ApplicationId).length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");if(r=r.replace("{ApplicationId}",(0,qt.jc)(o)),void 0===e.EndpointId)throw new Error("No value provided for input HTTP label: EndpointId.");if((o=e.EndpointId).length<=0)throw new Error("Empty value provided for input HTTP label: EndpointId.");return r=r.replace("{EndpointId}",(0,qt.jc)(o)),void 0!==e.EndpointRequest&&(i=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.Address&&null!==e.Address&&{Address:e.Address}),void 0!==e.Attributes&&null!==e.Attributes&&{Attributes:ln(e.Attributes,t)}),void 0!==e.ChannelType&&null!==e.ChannelType&&{ChannelType:e.ChannelType}),void 0!==e.Demographic&&null!==e.Demographic&&{Demographic:en(e.Demographic)}),void 0!==e.EffectiveDate&&null!==e.EffectiveDate&&{EffectiveDate:e.EffectiveDate}),void 0!==e.EndpointStatus&&null!==e.EndpointStatus&&{EndpointStatus:e.EndpointStatus}),void 0!==e.Location&&null!==e.Location&&{Location:tn(e.Location)}),void 0!==e.Metrics&&null!==e.Metrics&&{Metrics:rn(e.Metrics,t)}),void 0!==e.OptOut&&null!==e.OptOut&&{OptOut:e.OptOut}),void 0!==e.RequestId&&null!==e.RequestId&&{RequestId:e.RequestId}),void 0!==e.User&&null!==e.User&&{User:nn(e.User,t)})}(e.EndpointRequest,t)),void 0===i&&(i={}),i=JSON.stringify(i),[4,t.endpoint()];case 1:return a=d.sent(),s=a.hostname,l=a.protocol,c=void 0===l?"https":l,u=a.port,[2,new Gt.aW({protocol:c,hostname:s,port:u,method:"PUT",headers:n,path:r,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){switch(o.label){case 0:return 202!==e.statusCode&&e.statusCode>=300?[2,Wt(e,t)]:(n={$metadata:hn(e),MessageBody:void 0},[4,mn(e.body,t)]);case 1:return r=o.sent(),n.MessageBody=function(e,t){return{Message:void 0!==e.Message&&null!==e.Message?e.Message:void 0,RequestID:void 0!==e.RequestID&&null!==e.RequestID?e.RequestID:void 0}}(r),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(qt.mY),_n=n(77643),wn=n(16776),xn=n(35749),Sn=n(57224),En=n(67157),Cn=n(22795),kn=n(81784),An="pinpoint.{region}.amazonaws.com",Tn=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),In=new Set(["cn-north-1","cn-northwest-1"]),Pn=new Set(["us-iso-east-1"]),On=new Set(["us-isob-east-1"]),Mn=new Set(["us-gov-east-1","us-gov-west-1"]),Nn=n(87897),Ln={apiVersion:"2016-12-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"pinpoint.ap-northeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-northeast-2":n={hostname:"pinpoint.ap-northeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-south-1":n={hostname:"pinpoint.ap-south-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-1":n={hostname:"pinpoint.ap-southeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-2":n={hostname:"pinpoint.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ca-central-1":n={hostname:"pinpoint.ca-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-central-1":n={hostname:"pinpoint.eu-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-1":n={hostname:"pinpoint.eu-west-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-2":n={hostname:"pinpoint.eu-west-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"fips-us-east-1":n={hostname:"pinpoint-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-gov-west-1":n={hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"pinpoint-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"us-east-1":n={hostname:"pinpoint.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"us-gov-west-1":n={hostname:"pinpoint.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-west-2":n={hostname:"pinpoint.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;default:Tn.has(e)&&(n={hostname:An.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"}),In.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Pn.has(e)&&(n={hostname:"pinpoint.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),On.has(e)&&(n={hostname:"pinpoint.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Mn.has(e)&&(n={hostname:"pinpoint.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov",signingService:"mobiletargeting"}),void 0===n&&(n={hostname:An.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"})}return Promise.resolve((0,Vt.__assign)({signingService:"mobiletargeting"},n))},serviceId:"Pinpoint",urlParser:Nn.e},Rn=(0,Vt.__assign)((0,Vt.__assign)({},Ln),{runtime:"browser",base64Decoder:En.G,base64Encoder:En.s,bodyLengthChecker:Cn.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,kn.f)({serviceId:Ln.serviceId,clientVersion:"3.6.1"}),maxAttempts:Sn.J,region:(0,xn.n)("Region is missing"),requestHandler:new wn.B,sha256:_n.Sha256,streamCollector:wn.C,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),Dn=n(36118),zn=n(43488),Fn=n(73775),Un=n(30379),jn=n(89722),Bn=n(8384),Vn=function(e){function t(t){var n=this,r=(0,Vt.__assign)((0,Vt.__assign)({},Rn),t),o=(0,Dn.Xb)(r),i=(0,Dn.g4)(o),a=(0,jn.A$)(i),s=(0,Sn.BC)(a),l=(0,Fn.S8)(s),c=(0,Bn.er)(l);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,jn.yt)(n.config)),n.middlewareStack.use((0,Sn.NQ)(n.config)),n.middlewareStack.use((0,zn.VG)(n.config)),n.middlewareStack.use((0,Fn.G2)(n.config)),n.middlewareStack.use((0,Un.cV)(n.config)),n.middlewareStack.use((0,Bn.XJ)(n.config)),n}return(0,Vt.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(qt.KU),Gn=n(81282),qn=n(15885),Hn=new Lt.k("EventsBuffer"),Wn=[429,500],Kn=[202];const $n=function(){function e(e,t){this._pause=!1,this._flush=!1,Hn.debug("Instantiating buffer with config:",t),this._buffer=[],this._client=e,this._config=t,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(e){var t;if(this._buffer.length>=this._config.bufferSize)return Hn.debug("Exceeded analytics events buffer size"),e.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var n=((t={})[e.params.event.eventId]=e,t);this._buffer.push(n)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.updateClient=function(e){this._client=e},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var e=this._config.flushInterval;this._interval=setInterval(this._sendBatch,e)},e.prototype._sendBatch=function(){var e=this._buffer.length;if(this._flush&&!e&&clearInterval(this._interval),!this._pause&&e){var t=this._config.flushSize,n=Math.min(t,e),r=this._buffer.splice(0,n);this._putEvents(r)}},e.prototype._putEvents=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i;return l(this,(function(a){switch(a.label){case 0:t=this._bufferToMap(e),n=this._generateBatchEventParams(t),a.label=1;case 1:return a.trys.push([1,3,,4]),r=new yn(n),[4,this._client.send(r)];case 2:return o=a.sent(),this._processPutEventsSuccessResponse(o,t),[3,4];case 3:return i=a.sent(),[2,this._handlePutEventsFailure(i,t)];case 4:return[2]}}))}))},e.prototype._generateBatchEventParams=function(e){var t={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(e).forEach((function(e){var n=e.params,r=n.event,o=n.timestamp,i=n.config,a=r.name,s=r.attributes,l=r.metrics,c=r.eventId,u=r.session,d=i.appId,f=i.endpointId,p=t.EventsRequest.BatchItem;t.ApplicationId=t.ApplicationId||d,p[f]||(p[f]={Endpoint:{},Events:{}}),p[f].Events[c]={EventType:a,Timestamp:new Date(o).toISOString(),Attributes:s,Metrics:l,Session:u}})),t},e.prototype._handlePutEventsFailure=function(e,t){Hn.debug("_putEvents Failed: ",e);var n=e.$metadata&&e.$metadata.httpStatusCode;if(Wn.includes(n)){var r=Object.values(t);this._retry(r)}},e.prototype._processPutEventsSuccessResponse=function(e,t){var n=e.EventsResponse.Results,r=[];Object.entries(n).forEach((function(e){var n=c(e,2),o=n[0],i=n[1].EventsItemResponse;Object.entries(i).forEach((function(e){var n,i,a=c(e,2),s=a[0],l=a[1],u=l.StatusCode,d=l.Message,f=t[s],p={EventsResponse:{Results:(n={},n[o]={EventsItemResponse:(i={},i[s]={StatusCode:u,Message:d},i)},n)}};if(Kn.includes(u))f.handlers.resolve(p);else{if(!Wn.includes(u)){var h=f.params.event.name;return Hn.error("event "+s+" : "+h+" failed with error: "+d),f.handlers.reject(p)}r.push(f)}}))})),r.length&&this._retry(r)},e.prototype._retry=function(e){var t,n=[];e.forEach((function(e){var t,r=e.params,o=r.event,i=o.eventId,a=o.name;if(r.resendLimit-- >0)return Hn.debug("resending event "+i+" : "+a+" with "+r.resendLimit+" retry attempts remaining"),void n.push((t={},t[i]=e,t));Hn.debug("no retry attempts remaining for event "+i+" : "+a)})),(t=this._buffer).unshift.apply(t,u(n))},e.prototype._bufferToMap=function(e){return e.reduce((function(e,t){var n=c(Object.entries(t),1),r=c(n[0],2),o=r[0],i=r[1];return e[o]=i,e}),{})},e}();var Zn="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Yn=function(e,t){Rt.X.dispatch("analytics",{event:e,data:t},"Analytics",Zn)},Jn=new Lt.k("AWSPinpointProvider"),Xn=[429,500],Qn=[202],er="_update_endpoint",tr="_session.stop",nr="undefined"!=typeof navigator&&navigator&&"function"==typeof navigator.sendBeacon,rr=function(){function e(e){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._clientInfo=zt._.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(e){var t=this;Jn.debug("configure Analytics",e);var n=e||{};if(this._config=Object.assign({},this._config,n),this._endpointGenerating=!!e.autoSessionRecord,this._config.appId&&!this._config.disabled)if(this._config.endpointId)Yn("pinpointProvider_configured",null);else{var r=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(r).then((function(e){Jn.debug("setting endpoint id from the cache",e),t._config.endpointId=e,Yn("pinpointProvider_configured",null)})).catch((function(e){Jn.debug("Failed to generate endpointId",e)}))}else this._flushBuffer();return this._config},e.prototype.record=function(e,t){return s(this,void 0,void 0,(function(){var n,r;return l(this,(function(o){switch(o.label){case 0:return Jn.debug("_public record",e),[4,this._getCredentials()];case 1:return(n=o.sent())&&this._config.appId&&this._config.region?(this._initClients(n),r=(new Date).getTime(),this._generateSession(e),e.event.eventId=(0,qn.v1)(),Object.assign(e,{timestamp:r,config:this._config}),e.event.immediate?[2,this._send(e,t)]:(this._putToBuffer(e,t),[2])):(Jn.debug("cannot send events without credentials, applicationId or region"),[2,t.reject(new Error("No credentials, applicationId or region"))])}}))}))},e.prototype._sendEndpointUpdate=function(e){return s(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(e),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(e)]);case 1:return n.sent(),t=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,t&&this._sendEndpointUpdate(t),[2]}}))}))},e.prototype._putToBuffer=function(e,t){e.event.name!==er?this._buffer&&this._buffer.push({params:e,handlers:t}):this._sendEndpointUpdate({params:e,handlers:t})},e.prototype._generateSession=function(e){this._sessionId=this._sessionId||(0,qn.v1)();var t=e.event;switch(t.name){case"_session.start":this._sessionStartTimestamp=(new Date).getTime(),this._sessionId=(0,qn.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case tr:var n=(new Date).getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,qn.v1)(),t.session={Id:this._sessionId,Duration:n-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(n).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||(new Date).getTime(),this._sessionId=this._sessionId||(0,qn.v1)(),t.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(e,t){return s(this,void 0,void 0,(function(){return l(this,(function(n){switch(e.event.name){case er:return[2,this._updateEndpoint({params:e,handlers:t})];case tr:return[2,this._pinpointSendStopSession(e,t)];default:return[2,this._pinpointPutEvents(e,t)]}return[2]}))}))},e.prototype._generateBatchItemContext=function(e){var t,n=e.event,r=e.timestamp,o=e.config,i=n.name,a=n.attributes,s=n.metrics,l=n.eventId,c=n.session,u=o.appId,d=o.endpointId,f={ApplicationId:u,EventsRequest:{BatchItem:{}}},p={Endpoint:{}};return p.Events=((t={})[l]={EventType:i,Timestamp:new Date(r).toISOString(),Attributes:a,Metrics:s,Session:c},t),f.EventsRequest.BatchItem[d]=p,f},e.prototype._pinpointPutEvents=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o,i,a,s,c,u,d,f,p;return l(this,(function(l){switch(l.label){case 0:n=e.event.eventId,r=e.config.endpointId,o=this._generateBatchItemContext(e),i=new yn(o),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.pinpointClient.send(i)];case 2:return a=l.sent(),s=r,c=n,u=a.EventsResponse.Results[s].EventsItemResponse[c],d=u.StatusCode,f=u.Message,Qn.includes(d)?(Jn.debug("record event success. ",a),[2,t.resolve(a)]):Xn.includes(d)?(this._retry(e,t),[3,4]):(Jn.error("Event "+n+" is not accepted, the error is "+f),[2,t.reject(a)]);case 3:return p=l.sent(),this._eventError(p),[2,t.reject(p)];case 4:return[2]}}))}))},e.prototype._pinpointSendStopSession=function(e,t){if(nr){var n=this._generateBatchItemContext(e),r=this._config.region,o=n.ApplicationId,i=n.EventsRequest,a={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},s="https://pinpoint."+r+".amazonaws.com/v1/apps/"+o+"/events/legacy",l=JSON.stringify(i),c={url:s,body:l,method:"POST"},u={region:r,service:"mobiletargeting"},d=Ft.E.signUrl(c,a,u,null);return navigator.sendBeacon(d,l)?t.resolve("sendBeacon success"):t.reject("sendBeacon failure")}this._pinpointPutEvents(e,t)},e.prototype._retry=function(e,t){var n=e.config.resendLimit;e.resendLimit="number"==typeof e.resendLimit?e.resendLimit:n,e.resendLimit-- >0?(Jn.debug("resending event "+e.eventName+" with "+e.resendLimit+" retry times left"),this._pinpointPutEvents(e,t)):Jn.debug("retry times used up for event "+e.eventName)},e.prototype._updateEndpoint=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i,a,s,c,u,d,f,p;return l(this,(function(l){switch(l.label){case 0:t=e.params,n=e.handlers,r=t.config,o=t.event,i=r.appId,a=r.endpointId,s=this._endpointRequest(r,(0,Ut.QB)(o,[],["attributes","userAttributes","Attributes","UserAttributes"])),c={ApplicationId:i,EndpointId:a,EndpointRequest:s},l.label=1;case 1:return l.trys.push([1,3,,4]),u=new bn(c),[4,this.pinpointClient.send(u)];case 2:return d=l.sent(),Jn.debug("updateEndpoint success",d),this._endpointGenerating=!1,this._resumeBuffer(),n.resolve(d),[2];case 3:return f=l.sent(),p={err:f,update_params:c,endpointObject:e},[2,this._handleEndpointUpdateFailure(p)];case 4:return[2]}}))}))},e.prototype._handleEndpointUpdateFailure=function(e){return s(this,void 0,void 0,(function(){var t,n,r;return l(this,(function(o){return t=e.err,n=e.endpointObject,r=t.$metadata&&t.$metadata.httpStatusCode,Jn.debug("updateEndpoint error",t),403===r?[2,this._handleEndpointUpdateForbidden(e)]:Xn.includes(r)?[2,this._retryEndpointUpdate(n,!0)]:(Jn.error("updateEndpoint failed",t),n.handlers.reject(t),[2])}))}))},e.prototype._handleEndpointUpdateForbidden=function(e){var t=e.err,n=e.endpointObject,r=t.code,o=t.retryable;if("ExpiredTokenException"!==r&&!o)return n.handlers.reject(t);this._retryEndpointUpdate(n)},e.prototype._retryEndpointUpdate=function(e,t){void 0===t&&(t=!1),Jn.debug("_retryEndpointUpdate",e);var n=e.params,r=n.config.resendLimit;if(n.resendLimit="number"==typeof n.resendLimit?n.resendLimit:r,n.resendLimit-- >0)return Jn.debug("resending endpoint update "+n.event.eventId+" with "+n.resendLimit+" retry attempts remaining"),void(this._endpointBuffer.length?this._endpointBuffer.unshift(e):this._updateEndpoint(e));Jn.warn("resending endpoint update "+n.event.eventId+" failed after "+n.config.resendLimit+" attempts"),this._endpointGenerating&&Jn.error("Initial endpoint update failed. ")},e.prototype._initClients=function(e){return s(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){return Jn.debug("init clients"),this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===e.sessionToken&&this._config.credentials.identityId===e.identityId?(Jn.debug("no change for aws credentials, directly return from init"),[2]):(t=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=e,n=this._config.region,Jn.debug("init clients with credentials",e),this.pinpointClient=new Vn({region:n,credentials:e,customUserAgent:(0,jt.Z)()}),this.pinpointClient.middlewareStack.addRelativeTo((function(e){return function(t){return delete t.request.headers["amz-sdk-invocation-id"],delete t.request.headers["amz-sdk-request"],e(t)}}),{step:"finalizeRequest",relation:"after",toMiddleware:"retryMiddleware"}),this._bufferExists()&&t===e.identityId?this._updateBufferClient():this._initBuffer(),this._customizePinpointClientReq(),[2])}))}))},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof $n},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new $n(this.pinpointClient,this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._updateBufferClient=function(){this._bufferExists()&&this._buffer.updateClient(this.pinpointClient)},e.prototype._flushBuffer=function(){this._bufferExists()&&(this._buffer.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){this._bufferExists()&&this._buffer.resume()},e.prototype._customizePinpointClientReq=function(){},e.prototype._getEndpointId=function(e){return s(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return[4,Gn._.getItem(e)];case 1:return t=r.sent(),Jn.debug("endpointId from cache",t,"type",typeof t),t||(t=(0,qn.v1)(),n=(new Date).getTime()+31536e8,Gn._.setItem(e,t,{expires:n,priority:1})),[2,t]}}))}))},e.prototype._endpointRequest=function(e,t){var n=e.credentials,r=this._clientInfo||{},o=e.clientContext||{},s=e.endpoint||{},l={appVersion:r.appVersion,make:r.make,model:r.model,modelVersion:r.version,platform:r.platform},c=(o.clientId,o.appTitle,o.appVersionName,o.appVersionCode,o.appPackageName,a(o,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"])),u=t.address?"android"===r.platform?"GCM":"APNS":void 0,d=i(i(i({channelType:u,requestId:(0,qn.v1)(),effectiveDate:(new Date).toISOString()},s),t),{attributes:i(i({},s.attributes),t.attributes),demographic:i(i(i(i({},l),c),s.demographic),t.demographic),location:i(i({},s.location),t.location),metrics:i(i({},s.metrics),t.metrics),user:{userId:t.userId||s.userId||n.identityId,userAttributes:i(i({},s.userAttributes),t.userAttributes)}}),f=(d.userId,d.userAttributes,d.name,d.session,d.eventId,d.immediate,a(d,["userId","userAttributes","name","session","eventId","immediate"]));return(0,Ut.I)(f,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(e){Jn.error("record event failed.",e),Jn.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return s(this,void 0,void 0,(function(){var e,t;return l(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Bt.c.get()];case 1:return(e=n.sent())?(Jn.debug("set credentials for analytics",e),[2,Bt.c.shear(e)]):[2,null];case 2:return t=n.sent(),Jn.debug("ensure credentials error",t),[2,null];case 3:return[2]}}))}))},e.category="Analytics",e.providerName="AWSPinpoint",e}(),or=[],ir=function(){function e(e,t){this.context=e,this.methodName=t,this._originalMethod=e[t].bind(e)}return e.add=function(e,t,n){ar(e,t).set(n)},e.remove=function(e,t){ar(e,t).remove()},e.prototype.set=function(e){var t=this;this.context[this.methodName]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t._originalMethod.apply(t,u(n)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function ar(e,t){var n=or.filter((function(n){return n.context===e&&n.methodName===t}))[0];return n||(n=new ir(e,t),or.push(n)),n}var sr=new Lt.k("PageViewTracker"),lr="aws-amplify-analytics-prevUrl",cr={enable:!1,provider:"AWSPinpoint",getUrl:function(){return(0,Ut.lC)().isBrowser?window.location.origin+window.location.pathname:""}},ur=function(){function e(e,t){sr.debug("initialize pageview tracker with opts",t),this._config=Object.assign({},cr,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),"SPA"===this._config.type?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(e){return Object.assign(this._config,e),"SPA"===this._config.type&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){return sessionStorage.getItem(lr)===this._config.getUrl()&&(sr.debug("the url is same"),!0)},e.prototype._pageViewTrackDefault=function(){return s(this,void 0,void 0,(function(){var e,t,n,r;return l(this,(function(o){switch(o.label){case 0:return(0,Ut.lC)().isBrowser&&window.addEventListener&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(sr.debug("not in the supported web enviroment"),[2]);case 1:return n=o.sent(),[3,3];case 2:n=this._config.attributes,o.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){sr.debug("Failed to record the page view event",e)})),sessionStorage.setItem(lr,e)),[2]}}))}))},e.prototype._trackFunc=function(){return s(this,void 0,void 0,(function(){var e,t,n,r;return l(this,(function(o){switch(o.label){case 0:return(0,Ut.lC)().isBrowser&&window.addEventListener&&history.pushState&&window.sessionStorage?(e=this._config.getUrl(),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]):(sr.debug("not in the supported web enviroment"),[2]);case 1:return n=o.sent(),[3,3];case 2:n=this._config.attributes,o.label=3;case 3:return t=n,r=Object.assign({url:e},t),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:r},this._config.provider).catch((function(e){sr.debug("Failed to record the page view event",e)})),sessionStorage.setItem(lr,e)),[2]}}))}))},e.prototype._pageViewTrackSPA=function(){(0,Ut.lC)().isBrowser&&window.addEventListener&&history.pushState?this._config.enable&&!this._hasEnabled?(ir.add(history,"pushState",this._trackFunc),ir.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(ir.remove(history,"pushState"),ir.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1):sr.debug("not in the supported web enviroment")},e}(),dr=(0,Ut.lC)().isBrowser&&window.Element?window.Element.prototype:null,fr=dr?dr.matches||dr.matchesSelector||dr.webkitMatchesSelector||dr.mozMatchesSelector||dr.msMatchesSelector||dr.oMatchesSelector:null;function pr(e,t){if(e&&1===e.nodeType&&t){if("string"==typeof t||1===t.nodeType)return e===t||hr(e,t);if("length"in t)for(var n=0,r=void 0;r=t[n];n++)if(e===r||hr(e,r))return!0}return!1}function hr(e,t){if("string"!=typeof t)return!1;if(fr)return fr.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0,o=void 0;o=n[r];r++)if(o===e)return!0;return!1}var mr,gr,vr,yr,br,_r,wr,xr,Sr,Er,Cr,kr,Ar,Tr,Ir,Pr,Or,Mr,Nr,Lr,Rr,Dr,zr,Fr,Ur,jr,Br,Vr,Gr,qr,Hr,Wr,Kr,$r,Zr,Yr,Jr,Xr,Qr,eo,to,no,ro,oo,io,ao,so,lo,co,uo,fo,po,ho,mo,go,vo,yo,bo,_o,wo,xo,So,Eo,Co,ko,Ao,To,Io,Po,Oo,Mo,No,Lo,Ro,Do,zo,Fo,Uo,jo,Bo,Vo,Go,qo=new Lt.k("EventTracker"),Ho={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},Wo=function(){function e(e,t){(0,Ut.lC)().isBrowser&&window.addEventListener?(this._config=Object.assign({},Ho,t),this._tracker=e,this._delegates={},this._trackFunc=this._trackFunc.bind(this),qo.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)):qo.debug("not in the supported web environment")}return e.prototype.configure=function(e){var t=this;if(Object.assign(this._config,e),this._config.enable){if(this._config.enable&&0===Object.keys(this._delegates).length){var n="["+this._config.selectorPrefix+"on]";this._config.events.forEach((function(e){t._delegates[e]=function(e,t,n,r,o){void 0===o&&(o={});var i=function(e){var t;if(o.composed&&"function"==typeof e.composedPath)for(var i=e.composedPath(),a=0,s=void 0;s=i[a];a++)1===s.nodeType&&pr(s,n)&&(t=s);else t=function(e,t,n){if(void 0===n&&(n=!1),e&&1===e.nodeType&&t)for(var r,o=(n?[e]:[]).concat(function(e){for(var t=[],n=e;n&&n.parentNode&&1===n.parentNode.nodeType;)n=n.parentNode,t.push(n);return t}(e)),i=0;r=o[i];i++)if(pr(r,t))return r}(e.target,n,!0);t&&r.call(t,e,t)};return e.addEventListener(t,i,o.useCapture),{destroy:function(){e.removeEventListener(t,i,o.useCapture)}}}(document,e,n,t._trackFunc,{composed:!0,useCapture:!0})}))}}else Object.keys(this._delegates).forEach((function(e){"function"==typeof t._delegates[e].destroy&&t._delegates[e].destroy()})),this._delegates={};return this._config},e.prototype._trackFunc=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o,i,a,s,c;return l(this,(function(l){switch(l.label){case 0:return n={},r=t.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),o=t.getAttribute(this._config.selectorPrefix+"name"),(i=t.getAttribute(this._config.selectorPrefix+"attrs"))&&i.split(/\s*,\s*/).forEach((function(e){var t=e.trim().split(/\s*:\s*/);n[t[0]]=t[1]})),"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return s=l.sent(),[3,3];case 2:s=this._config.attributes,l.label=3;case 3:return a=s,c=Object.assign({type:e.type,target:e.target.localName+" with id "+e.target.id},a,n),qo.debug("events needed to be recorded",r),qo.debug("attributes needed to be attached",n),r.indexOf(e.type)<0?(qo.debug("event "+e.type+" is not selected to be recorded"),[2]):(this._tracker({name:o||"event",attributes:c},this._config.provider).catch((function(t){qo.debug("Failed to record the "+e.type+" event', "+t)})),[2])}}))}))},e}(),Ko=new Lt.k("SessionTracker"),$o={enable:!1,provider:"AWSPinpoint"},Zo=!1,Yo=function(){function e(e,t){this._config=Object.assign({},$o,t),this._tracker=e,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!(0,Ut.lC)().isBrowser)return!1;if(!document||!document.addEventListener)return Ko.debug("not in the supported web environment"),!1;if(void 0!==document.hidden)this._hidden="hidden",this._visibilityChange="visibilitychange";else if(void 0!==document.msHidden)this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)return Ko.debug("not in the supported web environment"),!1;this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"}return!0},e.prototype._trackFunc=function(){return s(this,void 0,void 0,(function(){var e,t,n;return l(this,(function(r){switch(r.label){case 0:return"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()];case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:n},this._config.provider).catch((function(e){Ko.debug("record session stop event failed.",e)})):this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){Ko.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype._trackBeforeUnload=function(e){var t=this;("function"==typeof this._config.attributes?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes)).then((function(e){var n=Object.assign({},e);t._tracker({name:"_session.stop",attributes:n,immediate:!0},t._config.provider).catch((function(e){Ko.debug("record session stop event failed.",e)}))}))},e.prototype._sendInitialEvent=function(){return s(this,void 0,void 0,(function(){var e,t,n;return l(this,(function(r){switch(r.label){case 0:return Zo?(Ko.debug("the start session has been sent when the page is loaded"),[2]):(Zo=!0,"function"!=typeof this._config.attributes?[3,2]:[4,this._config.attributes()]);case 1:return t=r.sent(),[3,3];case 2:t=this._config.attributes,r.label=3;case 3:return e=t,n=Object.assign({},e),this._tracker({name:"_session.start",attributes:n},this._config.provider).catch((function(e){Ko.debug("record session start event failed.",e)})),[2]}}))}))},e.prototype.configure=function(e){return this._envCheck()?(Object.assign(this._config,e),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}(),Jo=new Lt.k("AnalyticsClass"),Xo="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Qo=function(e,t,n){Rt.X.dispatch("analytics",{event:e,data:t,message:n},"Analytics",Xo)},ei={pageView:ur,event:Wo,session:Yo},ti=null,ni=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},ti=this,this.record=this.record.bind(this),Rt.X.listen("auth",si),Rt.X.listen("storage",si),Rt.X.listen("analytics",si),Rt.X.listen("core",si)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(e){var t=this;if(!e)return this._config;Jo.debug("configure Analytics",e);var n=(0,Dt.h)(e);return this._config=Object.assign({},this._config,n.Analytics,e),this._config.disabled&&(this._disabled=!0),void 0===this._config.autoSessionRecord&&(this._config.autoSessionRecord=!0),this._pluggables.forEach((function(e){var n="AWSPinpoint"!==e.getProviderName()||t._config.AWSPinpoint?t._config[e.getProviderName()]:t._config;e.configure(i({disabled:t._config.disabled,autoSessionRecord:t._config.autoSessionRecord},n))})),0===this._pluggables.length&&this.addPluggable(new rr),Qo("configured",null,"The Analytics category has been configured successfully"),Jo.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(e){if(e&&"Analytics"===e.getCategory()){this._pluggables.push(e);var t="AWSPinpoint"!==e.getProviderName()||this._config.AWSPinpoint?this._config[e.getProviderName()]:this._config,n=i({disabled:this._config.disabled},t);return e.configure(n),n}},e.prototype.getPluggable=function(e){for(var t=0;t<this._pluggables.length;t+=1){var n=this._pluggables[t];if(n.getProviderName()===e)return n}return Jo.debug("No plugin found with providerName",e),null},e.prototype.removePluggable=function(e){for(var t=0;t<this._pluggables.length&&this._pluggables[t].getProviderName()!==e;)t+=1;return t===this._pluggables.length?void Jo.debug("No plugin found with providerName",e):void this._pluggables.splice(t,t+1)},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(e){return s(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){return n={event:t={name:"_session.start"},provider:e},Qo("record",t,"Recording Analytics session start event"),[2,this._sendEvent(n)]}))}))},e.prototype.stopSession=function(e){return s(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){return n={event:t={name:"_session.stop"},provider:e},Qo("record",t,"Recording Analytics session stop event"),[2,this._sendEvent(n)]}))}))},e.prototype.record=function(e,t){return s(this,void 0,void 0,(function(){var n;return l(this,(function(r){return Qo("record",(n={event:e,provider:t}).event,"Recording Analytics event"),[2,this._sendEvent(n)]}))}))},e.prototype.updateEndpoint=function(e,t){return s(this,void 0,void 0,(function(){var n;return l(this,(function(r){return n=i(i({},e),{name:"_update_endpoint"}),[2,this.record(n,t)]}))}))},e.prototype._sendEvent=function(e){var t=this;if(this._disabled)return Jo.debug("Analytics has been disabled"),Promise.resolve();var n=e.provider?e.provider:"AWSPinpoint";return new Promise((function(r,o){t._pluggables.forEach((function(t){t.getProviderName()===n&&t.record(e,{resolve:r,reject:o})}))}))},e.prototype.autoTrack=function(e,t){if(ei[e]){"session"===e&&(this._config.autoSessionRecord=t.enable);var n=this._trackers[e];n?n.configure(t):this._trackers[e]=new ei[e](this.record,t)}else Jo.debug("invalid tracker type")},e}(),ri=!1,oi=!1,ii=!1,ai=!1,si=function(e){var t=e.channel,n=e.payload;switch(Jo.debug("on hub capsule "+t,n),t){case"auth":ci(n);break;case"storage":li(n);break;case"analytics":ui(n);break;case"core":di(n)}},li=function(e){var t=e.data,n=t.attrs,r=t.metrics;n&&ii&&ti.record({name:"Storage",attributes:n,metrics:r}).catch((function(e){Jo.debug("Failed to send the storage event automatically",e)}))},ci=function(e){var t=e.event;if(t){var n=function(e){return s(void 0,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:if(!oi||!ii)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,ti.record({name:"_userauth."+e})];case 2:return[2,n.sent()];case 3:return t=n.sent(),Jo.debug("Failed to send the "+e+" event automatically",t),[3,4];case 4:return[2]}}))}))};switch(t){case"signIn":return n("sign_in");case"signUp":return n("sign_up");case"signOut":return n("sign_out");case"signIn_failure":return n("auth_fail");case"configured":oi=!0,ii&&fi()}}},ui=function(e){var t=e.event;t&&"pinpointProvider_configured"===t&&(ii=!0,(oi||ai)&&fi())},di=function(e){var t=e.event;t&&"credentials_configured"===t&&(ai=!0,ii&&fi())},fi=function(){var e=ti.configure();!ri&&e.autoSessionRecord&&(ti.updateEndpoint({immediate:!0}).catch((function(e){Jo.debug("Failed to update the endpoint",e)})),ri=!0),ti.autoTrack("session",{enable:e.autoSessionRecord})},pi=new ni;r.d.register(pi),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(mr||(mr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(gr||(gr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(vr||(vr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(yr||(yr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(br||(br={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(_r||(_r={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(wr||(wr={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING"}(xr||(xr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Sr||(Sr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Er||(Er={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Cr||(Cr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(kr||(kr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ar||(Ar={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Tr||(Tr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ir||(Ir={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Pr||(Pr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Or||(Or={})),function(e){e.KMS="KMS",e.NONE="NONE"}(Mr||(Mr={})),function(e){e.ALL="ALL",e.INCOMING_BYTES="IncomingBytes",e.INCOMING_RECORDS="IncomingRecords",e.ITERATOR_AGE_MILLISECONDS="IteratorAgeMilliseconds",e.OUTGOING_BYTES="OutgoingBytes",e.OUTGOING_RECORDS="OutgoingRecords",e.READ_PROVISIONED_THROUGHPUT_EXCEEDED="ReadProvisionedThroughputExceeded",e.WRITE_PROVISIONED_THROUGHPUT_EXCEEDED="WriteProvisionedThroughputExceeded"}(Nr||(Nr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Lr||(Lr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Rr||(Rr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Dr||(Dr={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(zr||(zr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Fr||(Fr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ur||(Ur={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(jr||(jr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Br||(Br={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Vr||(Vr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Gr||(Gr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(qr||(qr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Hr||(Hr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Wr||(Wr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Kr||(Kr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}($r||($r={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Zr||(Zr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Yr||(Yr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Jr||(Jr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Xr||(Xr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Qr||(Qr={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(eo||(eo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(to||(to={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(no||(no={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ro||(ro={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(oo||(oo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(io||(io={})),function(e){e.AFTER_SEQUENCE_NUMBER="AFTER_SEQUENCE_NUMBER",e.AT_SEQUENCE_NUMBER="AT_SEQUENCE_NUMBER",e.AT_TIMESTAMP="AT_TIMESTAMP",e.LATEST="LATEST",e.TRIM_HORIZON="TRIM_HORIZON"}(ao||(ao={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(so||(so={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(lo||(lo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(co||(co={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(uo||(uo={})),function(e){e.AFTER_SHARD_ID="AFTER_SHARD_ID",e.AT_LATEST="AT_LATEST",e.AT_TIMESTAMP="AT_TIMESTAMP",e.AT_TRIM_HORIZON="AT_TRIM_HORIZON",e.FROM_TIMESTAMP="FROM_TIMESTAMP",e.FROM_TRIM_HORIZON="FROM_TRIM_HORIZON"}(fo||(fo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(po||(po={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ho||(ho={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(mo||(mo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(go||(go={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(vo||(vo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(yo||(yo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(bo||(bo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(_o||(_o={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(wo||(wo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(xo||(xo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(So||(So={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Eo||(Eo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Co||(Co={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ko||(ko={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ao||(Ao={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(To||(To={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Io||(Io={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Po||(Po={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Oo||(Oo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Mo||(Mo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(No||(No={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Lo||(Lo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ro||(Ro={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Do||(Do={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(zo||(zo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Fo||(Fo={})),function(e){e.visit=function(e,t){return void 0!==e.SubscribeToShardEvent?t.SubscribeToShardEvent(e.SubscribeToShardEvent):void 0!==e.ResourceNotFoundException?t.ResourceNotFoundException(e.ResourceNotFoundException):void 0!==e.ResourceInUseException?t.ResourceInUseException(e.ResourceInUseException):void 0!==e.KMSDisabledException?t.KMSDisabledException(e.KMSDisabledException):void 0!==e.KMSInvalidStateException?t.KMSInvalidStateException(e.KMSInvalidStateException):void 0!==e.KMSAccessDeniedException?t.KMSAccessDeniedException(e.KMSAccessDeniedException):void 0!==e.KMSNotFoundException?t.KMSNotFoundException(e.KMSNotFoundException):void 0!==e.KMSOptInRequired?t.KMSOptInRequired(e.KMSOptInRequired):void 0!==e.KMSThrottlingException?t.KMSThrottlingException(e.KMSThrottlingException):void 0!==e.InternalFailureException?t.InternalFailureException(e.InternalFailureException):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.SubscribeToShardEvent?{SubscribeToShardEvent:Fo.filterSensitiveLog(e.SubscribeToShardEvent)}:void 0!==e.ResourceNotFoundException?{ResourceNotFoundException:br.filterSensitiveLog(e.ResourceNotFoundException)}:void 0!==e.ResourceInUseException?{ResourceInUseException:yr.filterSensitiveLog(e.ResourceInUseException)}:void 0!==e.KMSDisabledException?{KMSDisabledException:eo.filterSensitiveLog(e.KMSDisabledException)}:void 0!==e.KMSInvalidStateException?{KMSInvalidStateException:to.filterSensitiveLog(e.KMSInvalidStateException)}:void 0!==e.KMSAccessDeniedException?{KMSAccessDeniedException:Qr.filterSensitiveLog(e.KMSAccessDeniedException)}:void 0!==e.KMSNotFoundException?{KMSNotFoundException:no.filterSensitiveLog(e.KMSNotFoundException)}:void 0!==e.KMSOptInRequired?{KMSOptInRequired:ro.filterSensitiveLog(e.KMSOptInRequired)}:void 0!==e.KMSThrottlingException?{KMSThrottlingException:oo.filterSensitiveLog(e.KMSThrottlingException)}:void 0!==e.InternalFailureException?{InternalFailureException:uo.filterSensitiveLog(e.InternalFailureException)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Uo||(Uo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),e.EventStream&&{EventStream:"STREAMING_CONTENT"})}}(jo||(jo={})),function(e){e.UNIFORM_SCALING="UNIFORM_SCALING"}(Bo||(Bo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Vo||(Vo={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Go||(Go={}));var hi,mi,gi,vi,yi,bi,_i,wi,xi,Si,Ei,Ci,ki,Ai,Ti,Ii,Pi,Oi,Mi,Ni,Li,Ri,Di,zi,Fi,Ui,ji,Bi,Vi,Gi,qi,Hi,Wi,Ki,$i,Zi,Yi,Ji,Xi,Qi,ea,ta,na,ra,oa,ia,aa,sa,la,ca,ua,da,fa,pa,ha,ma,ga,va,ya,ba,_a,wa,xa,Sa,Ea,Ca,ka,Aa,Ta,Ia,Pa,Oa,Ma,Na,La,Ra,Da,za,Fa,Ua,ja,Ba,Va,Ga,qa,Ha,Wa,Ka,$a,Za,Ya,Ja,Xa,Qa,es,ts,ns,rs,os,is,as,ss=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v;return(0,Vt.__generator)(this,(function(y){switch(y.label){case 0:return r=[(0,Vt.__assign)({},e)],v={},[4,Ps(e.body,t)];case 1:switch(n=Vt.__assign.apply(void 0,r.concat([(v.body=y.sent(),v)])),i="UnknownError",i=Os(e,n.body)){case"InvalidArgumentException":case"com.amazonaws.kinesis#InvalidArgumentException":return[3,2];case"KMSAccessDeniedException":case"com.amazonaws.kinesis#KMSAccessDeniedException":return[3,4];case"KMSDisabledException":case"com.amazonaws.kinesis#KMSDisabledException":return[3,6];case"KMSInvalidStateException":case"com.amazonaws.kinesis#KMSInvalidStateException":return[3,8];case"KMSNotFoundException":case"com.amazonaws.kinesis#KMSNotFoundException":return[3,10];case"KMSOptInRequired":case"com.amazonaws.kinesis#KMSOptInRequired":return[3,12];case"KMSThrottlingException":case"com.amazonaws.kinesis#KMSThrottlingException":return[3,14];case"ProvisionedThroughputExceededException":case"com.amazonaws.kinesis#ProvisionedThroughputExceededException":return[3,16];case"ResourceNotFoundException":case"com.amazonaws.kinesis#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return a=[{}],[4,ls(n,t)];case 3:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,a.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 4:return s=[{}],[4,cs(n,t)];case 5:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,s.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 6:return l=[{}],[4,us(n,t)];case 7:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,l.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 8:return c=[{}],[4,ds(n,t)];case 9:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,c.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 10:return u=[{}],[4,fs(n,t)];case 11:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,u.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 12:return d=[{}],[4,ps(n,t)];case 13:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,d.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 14:return f=[{}],[4,hs(n,t)];case 15:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,f.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 16:return p=[{}],[4,ms(n,t)];case 17:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,p.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 18:return h=[{}],[4,gs(n,t)];case 19:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,h.concat([y.sent()])),{name:i,$metadata:Ts(e)}]),[3,21];case 20:m=n.body,i=m.code||m.Code||i,o=(0,Vt.__assign)((0,Vt.__assign)({},m),{name:""+i,message:m.message||m.Message||i,$fault:"client",$metadata:Ts(e)}),y.label=21;case 21:return g=o.message||o.Message||i,o.message=g,delete o.Message,[2,Promise.reject(Object.assign(new Error(g),o))]}}))}))},ls=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=ys(n,t),[2,(0,Vt.__assign)({name:"InvalidArgumentException",$fault:"client",$metadata:Ts(e)},r)]}))}))},cs=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=bs(n,t),[2,(0,Vt.__assign)({name:"KMSAccessDeniedException",$fault:"client",$metadata:Ts(e)},r)]}))}))},us=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=_s(n,t),[2,(0,Vt.__assign)({name:"KMSDisabledException",$fault:"client",$metadata:Ts(e)},r)]}))}))},ds=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=ws(n,t),[2,(0,Vt.__assign)({name:"KMSInvalidStateException",$fault:"client",$metadata:Ts(e)},r)]}))}))},fs=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=xs(n,t),[2,(0,Vt.__assign)({name:"KMSNotFoundException",$fault:"client",$metadata:Ts(e)},r)]}))}))},ps=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=Ss(n,t),[2,(0,Vt.__assign)({name:"KMSOptInRequired",$fault:"client",$metadata:Ts(e)},r)]}))}))},hs=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=Es(n,t),[2,(0,Vt.__assign)({name:"KMSThrottlingException",$fault:"client",$metadata:Ts(e)},r)]}))}))},ms=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=Cs(n,t),[2,(0,Vt.__assign)({name:"ProvisionedThroughputExceededException",$fault:"client",$metadata:Ts(e)},r)]}))}))},gs=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=As(n,t),[2,(0,Vt.__assign)({name:"ResourceNotFoundException",$fault:"client",$metadata:Ts(e)},r)]}))}))},vs=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.Data&&null!==e.Data&&{Data:t.base64Encoder(e.Data)}),void 0!==e.ExplicitHashKey&&null!==e.ExplicitHashKey&&{ExplicitHashKey:e.ExplicitHashKey}),void 0!==e.PartitionKey&&null!==e.PartitionKey&&{PartitionKey:e.PartitionKey})}(e,t)}))},ys=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},bs=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},_s=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ws=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},xs=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ss=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Es=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Cs=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ks=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:void 0!==e.ErrorCode&&null!==e.ErrorCode?e.ErrorCode:void 0,ErrorMessage:void 0!==e.ErrorMessage&&null!==e.ErrorMessage?e.ErrorMessage:void 0,SequenceNumber:void 0!==e.SequenceNumber&&null!==e.SequenceNumber?e.SequenceNumber:void 0,ShardId:void 0!==e.ShardId&&null!==e.ShardId?e.ShardId:void 0}}(e)}))},As=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ts=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Is=function(e,t,n,r,o){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return i=d.sent(),a=i.hostname,s=i.protocol,l=void 0===s?"https":s,c=i.port,u={protocol:l,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(u.hostname=r),void 0!==o&&(u.body=o),[2,new Gt.aW(u)]}}))}))},Ps=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Os=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},Ms=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Vt.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,vn.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"KinesisClient",commandName:"PutRecordsCommand",inputFilterSensitiveLog:Ao.filterSensitiveLog,outputFilterSensitiveLog:Io.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Kinesis_20131202.PutRecords"},r=JSON.stringify(function(e,t){return(0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.Records&&null!==e.Records&&{Records:vs(e.Records,t)}),void 0!==e.StreamName&&null!==e.StreamName&&{StreamName:e.StreamName})}(e,t)),[2,Is(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,Vt.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,ss(e,t)]:[4,Ps(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{EncryptionType:void 0!==e.EncryptionType&&null!==e.EncryptionType?e.EncryptionType:void 0,FailedRecordCount:void 0!==e.FailedRecordCount&&null!==e.FailedRecordCount?e.FailedRecordCount:void 0,Records:void 0!==e.Records&&null!==e.Records?ks(e.Records,t):void 0}}(n,t),o=(0,Vt.__assign)({$metadata:Ts(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(qt.mY),Ns=n(98927),Ls="kinesis.{region}.amazonaws.com",Rs=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Ds=new Set(["cn-north-1","cn-northwest-1"]),zs=new Set(["us-iso-east-1"]),Fs=new Set(["us-isob-east-1"]),Us=new Set(["us-gov-east-1","us-gov-west-1"]),js={apiVersion:"2013-12-02",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"kinesis.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"kinesis.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"kinesis.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"kinesis.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"kinesis.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"kinesis.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"kinesis.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"kinesis.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"kinesis.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"kinesis.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"kinesis.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"kinesis.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"kinesis.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"kinesis.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"kinesis.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"kinesis-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"kinesis-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":n={hostname:"kinesis-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"kinesis-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"kinesis.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"kinesis.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"kinesis.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"kinesis.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"kinesis.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":n={hostname:"kinesis.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":n={hostname:"kinesis.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"kinesis.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"kinesis.us-west-2.amazonaws.com",partition:"aws"};break;default:Rs.has(e)&&(n={hostname:Ls.replace("{region}",e),partition:"aws"}),Ds.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),zs.has(e)&&(n={hostname:"kinesis.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Fs.has(e)&&(n={hostname:"kinesis.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Us.has(e)&&(n={hostname:"kinesis.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Ls.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,Vt.__assign)({signingService:"kinesis"},n))},serviceId:"Kinesis",urlParser:Nn.e},Bs=(0,Vt.__assign)((0,Vt.__assign)({},js),{runtime:"browser",base64Decoder:En.G,base64Encoder:En.s,bodyLengthChecker:Cn.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,kn.f)({serviceId:js.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:Ns.VQ,maxAttempts:Sn.J,region:(0,xn.n)("Region is missing"),requestHandler:new wn.B,sha256:_n.Sha256,streamCollector:wn.C,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),Vs=n(66858),Gs=function(e){function t(t){var n=this,r=(0,Vt.__assign)((0,Vt.__assign)({},Bs),t),o=(0,Dn.Xb)(r),i=(0,Dn.g4)(o),a=(0,jn.A$)(i),s=(0,Sn.BC)(a),l=(0,Fn.S8)(s),c=(0,Bn.er)(l),u=(0,Vs.t)(c);return(n=e.call(this,u)||this).config=u,n.middlewareStack.use((0,jn.yt)(n.config)),n.middlewareStack.use((0,Sn.NQ)(n.config)),n.middlewareStack.use((0,zn.VG)(n.config)),n.middlewareStack.use((0,Fn.G2)(n.config)),n.middlewareStack.use((0,Un.cV)(n.config)),n.middlewareStack.use((0,Bn.XJ)(n.config)),n}return(0,Vt.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(qt.KU),qs=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},Hs=new Lt.k("AWSKinesisProvider"),Ws=function(){function e(e){this._buffer=[],this._config=e||{},this._config.bufferSize=this._config.bufferSize||1e3,this._config.flushSize=this._config.flushSize||100,this._config.flushInterval=this._config.flushInterval||5e3,this._config.resendLimit=this._config.resendLimit||5,this._setupTimer()}return e.prototype._setupTimer=function(){var e=this;this._timer&&clearInterval(this._timer);var t=this._config,n=t.flushSize,r=t.flushInterval;this._timer=setInterval((function(){for(var t=e._buffer.length<n?e._buffer.length:n,r=[],o=0;o<t;o+=1){var i=e._buffer.shift();r.push(i)}e._sendFromBuffer(r)}),r)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(e){Hs.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),this._setupTimer(),this._config},e.prototype.record=function(e){var t;return s(this,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:return[4,this._getCredentials()];case 1:return(n=r.sent())?(Object.assign(e,{config:this._config,credentials:n}),(null===(t=e.event)||void 0===t?void 0:t.immediate)?(this._sendEvents([e]),[2,Promise.resolve(!0)]):[2,this._putToBuffer(e)]):[2,Promise.resolve(!1)]}}))}))},e.prototype.updateEndpoint=function(){return Hs.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(e){return this._buffer.length<1e3?(this._buffer.push(e),Promise.resolve(!0)):(Hs.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(e){for(var t=this,n=[],r=null,o=[],i=0;i<e.length;i+=1){var a=e[i].credentials;0===i?(o.push(e[i]),r=a):a.sessionToken===r.sessionToken&&a.identityId===r.identityId?(Hs.debug("no change for cred, put event in the same group"),o.push(e[i])):(n.push(o),(o=[]).push(e[i]),r=a)}n.push(o),n.map((function(e){t._sendEvents(e)}))},e.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,o=n.credentials;if(!this._init(r,o))return!1;var i={};e.map((function(e){var t=e.event,n=t.streamName;void 0===i[n]&&(i[n]=[]);var r=t.data&&"string"!=typeof t.data?JSON.stringify(t.data):t.data,a={Data:qs(r),PartitionKey:t.partitionKey||"partition-"+o.identityId};i[n].push(a)})),Object.keys(i).map((function(e){return s(t,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:Hs.debug("putting records to kinesis with records",i[e]),r.label=1;case 1:return r.trys.push([1,3,,4]),t=new Ms({Records:i[e],StreamName:e}),[4,this._kinesis.send(t)];case 2:return r.sent(),Hs.debug("Upload records to stream",e),[3,4];case 3:return n=r.sent(),Hs.debug("Failed to upload records to Kinesis",n),[3,4];case 4:return[2]}}))}))}))}},e.prototype._init=function(e,t){if(Hs.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Hs.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region,r=e.endpoint;return this._initKinesis(n,r,t)},e.prototype._initKinesis=function(e,t,n){return Hs.debug("initialize kinesis with credentials",n),this._kinesis=new Gs({region:e,credentials:n,customUserAgent:(0,jt.Z)(),endpoint:t}),!0},e.prototype._getCredentials=function(){var e=this;return Bt.c.get().then((function(t){return t?(Hs.debug("set credentials for analytics",e._config.credentials),Bt.c.shear(t)):null})).catch((function(e){return Hs.debug("ensure credentials error",e),null}))},e}();!function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(hi||(hi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(mi||(mi={})),function(e){e.GZIP="GZIP",e.HADOOP_SNAPPY="HADOOP_SNAPPY",e.SNAPPY="Snappy",e.UNCOMPRESSED="UNCOMPRESSED",e.ZIP="ZIP"}(gi||(gi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(vi||(vi={})),function(e){e.GZIP="GZIP",e.NONE="NONE"}(yi||(yi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(bi||(bi={})),function(e){e.AWS_OWNED_CMK="AWS_OWNED_CMK",e.CUSTOMER_MANAGED_CMK="CUSTOMER_MANAGED_CMK"}(_i||(_i={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(wi||(wi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(xi||(xi={})),function(e){e.BUFFER_INTERVAL_IN_SECONDS="BufferIntervalInSeconds",e.BUFFER_SIZE_IN_MB="BufferSizeInMBs",e.LAMBDA_ARN="LambdaArn",e.LAMBDA_NUMBER_OF_RETRIES="NumberOfRetries",e.ROLE_ARN="RoleArn"}(Si||(Si={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ei||(Ei={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ci||(Ci={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ki||(ki={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ai||(Ai={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ti||(Ti={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ii||(Ii={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Pi||(Pi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Oi||(Oi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Mi||(Mi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ni||(Ni={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Li||(Li={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ri||(Ri={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Di||(Di={})),function(e){e.NONE="NONE",e.SNAPPY="SNAPPY",e.ZLIB="ZLIB"}(zi||(zi={})),function(e){e.V0_11="V0_11",e.V0_12="V0_12"}(Fi||(Fi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ui||(Ui={})),function(e){e.GZIP="GZIP",e.SNAPPY="SNAPPY",e.UNCOMPRESSED="UNCOMPRESSED"}(ji||(ji={})),function(e){e.V1="V1",e.V2="V2"}(Bi||(Bi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Vi||(Vi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Gi||(Gi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(qi||(qi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Hi||(Hi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Wi||(Wi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ki||(Ki={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}($i||($i={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.Url&&{Url:qt.oc}),e.AccessKey&&{AccessKey:qt.oc})}}(Zi||(Zi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.AttributeName&&{AttributeName:qt.oc}),e.AttributeValue&&{AttributeValue:qt.oc})}}(Yi||(Yi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),e.CommonAttributes&&{CommonAttributes:e.CommonAttributes.map((function(e){return Yi.filterSensitiveLog(e)}))})}}(Ji||(Ji={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Xi||(Xi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.EndpointConfiguration&&{EndpointConfiguration:Zi.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Ji.filterSensitiveLog(e.RequestConfiguration)})}}(Qi||(Qi={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ea||(ea={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ta||(ta={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.Username&&{Username:qt.oc}),e.Password&&{Password:qt.oc})}}(na||(na={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ra||(ra={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(oa||(oa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ia||(ia={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.RedshiftDestinationConfiguration&&{RedshiftDestinationConfiguration:na.filterSensitiveLog(e.RedshiftDestinationConfiguration)}),e.HttpEndpointDestinationConfiguration&&{HttpEndpointDestinationConfiguration:Qi.filterSensitiveLog(e.HttpEndpointDestinationConfiguration)})}}(aa||(aa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(sa||(sa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(la||(la={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ca||(ca={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ua||(ua={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(da||(da={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(fa||(fa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(pa||(pa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ha||(ha={})),function(e){e.CREATE_ENI_FAILED="CREATE_ENI_FAILED",e.CREATE_KMS_GRANT_FAILED="CREATE_KMS_GRANT_FAILED",e.DELETE_ENI_FAILED="DELETE_ENI_FAILED",e.DISABLED_KMS_KEY="DISABLED_KMS_KEY",e.ENI_ACCESS_DENIED="ENI_ACCESS_DENIED",e.INVALID_KMS_KEY="INVALID_KMS_KEY",e.KMS_ACCESS_DENIED="KMS_ACCESS_DENIED",e.KMS_KEY_NOT_FOUND="KMS_KEY_NOT_FOUND",e.KMS_OPT_IN_REQUIRED="KMS_OPT_IN_REQUIRED",e.RETIRE_KMS_GRANT_FAILED="RETIRE_KMS_GRANT_FAILED",e.SECURITY_GROUP_ACCESS_DENIED="SECURITY_GROUP_ACCESS_DENIED",e.SECURITY_GROUP_NOT_FOUND="SECURITY_GROUP_NOT_FOUND",e.SUBNET_ACCESS_DENIED="SUBNET_ACCESS_DENIED",e.SUBNET_NOT_FOUND="SUBNET_NOT_FOUND",e.UNKNOWN_ERROR="UNKNOWN_ERROR"}(ma||(ma={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ga||(ga={})),function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.DISABLING_FAILED="DISABLING_FAILED",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.ENABLING_FAILED="ENABLING_FAILED"}(va||(va={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ya||(ya={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATING_FAILED="CREATING_FAILED",e.DELETING="DELETING",e.DELETING_FAILED="DELETING_FAILED"}(ba||(ba={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(_a||(_a={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(wa||(wa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(xa||(xa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Sa||(Sa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),e.Url&&{Url:qt.oc})}}(Ea||(Ea={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.EndpointConfiguration&&{EndpointConfiguration:Ea.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Ji.filterSensitiveLog(e.RequestConfiguration)})}}(Ca||(Ca={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),e.Username&&{Username:qt.oc})}}(ka||(ka={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Aa||(Aa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.RedshiftDestinationDescription&&{RedshiftDestinationDescription:ka.filterSensitiveLog(e.RedshiftDestinationDescription)}),e.HttpEndpointDestinationDescription&&{HttpEndpointDestinationDescription:Ca.filterSensitiveLog(e.HttpEndpointDestinationDescription)})}}(Ta||(Ta={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ia||(Ia={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Pa||(Pa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),e.Destinations&&{Destinations:e.Destinations.map((function(e){return Ta.filterSensitiveLog(e)}))})}}(Oa||(Oa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ma||(Ma={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),e.DeliveryStreamDescription&&{DeliveryStreamDescription:Oa.filterSensitiveLog(e.DeliveryStreamDescription)})}}(Na||(Na={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(La||(La={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ra||(Ra={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Da||(Da={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(za||(za={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Fa||(Fa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ua||(Ua={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ja||(ja={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ba||(Ba={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Va||(Va={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ga||(Ga={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(qa||(qa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ha||(Ha={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Wa||(Wa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ka||(Ka={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}($a||($a={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Za||(Za={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ya||(Ya={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ja||(Ja={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Xa||(Xa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Qa||(Qa={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(es||(es={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(ts||(ts={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.EndpointConfiguration&&{EndpointConfiguration:Zi.filterSensitiveLog(e.EndpointConfiguration)}),e.RequestConfiguration&&{RequestConfiguration:Ji.filterSensitiveLog(e.RequestConfiguration)})}}(ns||(ns={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.Username&&{Username:qt.oc}),e.Password&&{Password:qt.oc})}}(rs||(rs={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(os||(os={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.RedshiftDestinationUpdate&&{RedshiftDestinationUpdate:rs.filterSensitiveLog(e.RedshiftDestinationUpdate)}),e.HttpEndpointDestinationUpdate&&{HttpEndpointDestinationUpdate:ns.filterSensitiveLog(e.HttpEndpointDestinationUpdate)})}}(is||(is={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(as||(as={}));var Ks,$s,Zs,Ys,Js,Xs,Qs,el,tl=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f;return(0,Vt.__generator)(this,(function(p){switch(p.label){case 0:return r=[(0,Vt.__assign)({},e)],f={},[4,ml(e.body,t)];case 1:switch(n=Vt.__assign.apply(void 0,r.concat([(f.body=p.sent(),f)])),i="UnknownError",i=gl(e,n.body)){case"InvalidArgumentException":case"com.amazonaws.firehose#InvalidArgumentException":return[3,2];case"InvalidKMSResourceException":case"com.amazonaws.firehose#InvalidKMSResourceException":return[3,4];case"ResourceNotFoundException":case"com.amazonaws.firehose#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":case"com.amazonaws.firehose#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return a=[{}],[4,nl(n,t)];case 3:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,a.concat([p.sent()])),{name:i,$metadata:pl(e)}]),[3,11];case 4:return s=[{}],[4,rl(n,t)];case 5:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,s.concat([p.sent()])),{name:i,$metadata:pl(e)}]),[3,11];case 6:return l=[{}],[4,ol(n,t)];case 7:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,l.concat([p.sent()])),{name:i,$metadata:pl(e)}]),[3,11];case 8:return c=[{}],[4,il(n,t)];case 9:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,c.concat([p.sent()])),{name:i,$metadata:pl(e)}]),[3,11];case 10:u=n.body,i=u.code||u.Code||i,o=(0,Vt.__assign)((0,Vt.__assign)({},u),{name:""+i,message:u.message||u.Message||i,$fault:"client",$metadata:pl(e)}),p.label=11;case 11:return d=o.message||o.Message||i,o.message=d,delete o.Message,[2,Promise.reject(Object.assign(new Error(d),o))]}}))}))},nl=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=ll(n,t),[2,(0,Vt.__assign)({name:"InvalidArgumentException",$fault:"client",$metadata:pl(e)},r)]}))}))},rl=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=cl(n,t),[2,(0,Vt.__assign)({name:"InvalidKMSResourceException",$fault:"client",$metadata:pl(e)},r)]}))}))},ol=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=dl(n,t),[2,(0,Vt.__assign)({name:"ResourceNotFoundException",$fault:"client",$metadata:pl(e)},r)]}))}))},il=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n=e.body,r=fl(n,t),[2,(0,Vt.__assign)({name:"ServiceUnavailableException",$fault:"server",$metadata:pl(e)},r)]}))}))},al=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:sl(e,t)}))},sl=function(e,t){return(0,Vt.__assign)({},void 0!==e.Data&&null!==e.Data&&{Data:t.base64Encoder(e.Data)})},ll=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},cl=function(e,t){return{code:void 0!==e.code&&null!==e.code?e.code:void 0,message:void 0!==e.message&&null!==e.message?e.message:void 0}},ul=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ErrorCode:void 0!==e.ErrorCode&&null!==e.ErrorCode?e.ErrorCode:void 0,ErrorMessage:void 0!==e.ErrorMessage&&null!==e.ErrorMessage?e.ErrorMessage:void 0,RecordId:void 0!==e.RecordId&&null!==e.RecordId?e.RecordId:void 0}}(e)}))},dl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},fl=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},pl=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},hl=function(e,t,n,r,o){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){switch(d.label){case 0:return[4,e.endpoint()];case 1:return i=d.sent(),a=i.hostname,s=i.protocol,l=void 0===s?"https":s,c=i.port,u={protocol:l,hostname:a,port:c,method:"POST",path:n,headers:t},void 0!==r&&(u.hostname=r),void 0!==o&&(u.body=o),[2,new Gt.aW(u)]}}))}))},ml=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},gl=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},vl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Vt.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,vn.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"FirehoseClient",commandName:"PutRecordBatchCommand",inputFilterSensitiveLog:Ha.filterSensitiveLog,outputFilterSensitiveLog:Ka.filterSensitiveLog},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"Firehose_20150804.PutRecordBatch"},r=JSON.stringify(function(e,t){return(0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.DeliveryStreamName&&null!==e.DeliveryStreamName&&{DeliveryStreamName:e.DeliveryStreamName}),void 0!==e.Records&&null!==e.Records&&{Records:al(e.Records,t)})}(e,t)),[2,hl(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,Vt.__generator)(this,(function(i){switch(i.label){case 0:return e.statusCode>=300?[2,tl(e,t)]:[4,ml(e.body,t)];case 1:return n=i.sent(),r=function(e,t){return{Encrypted:void 0!==e.Encrypted&&null!==e.Encrypted?e.Encrypted:void 0,FailedPutCount:void 0!==e.FailedPutCount&&null!==e.FailedPutCount?e.FailedPutCount:void 0,RequestResponses:void 0!==e.RequestResponses&&null!==e.RequestResponses?ul(e.RequestResponses,t):void 0}}(n,t),o=(0,Vt.__assign)({$metadata:pl(e)},r),[2,Promise.resolve(o)]}}))}))}(e,t)},t}(qt.mY),yl="firehose.{region}.amazonaws.com",bl=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),_l=new Set(["cn-north-1","cn-northwest-1"]),wl=new Set(["us-iso-east-1"]),xl=new Set(["us-isob-east-1"]),Sl=new Set(["us-gov-east-1","us-gov-west-1"]),El={apiVersion:"2015-08-04",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"firehose.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"firehose.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"firehose.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"firehose.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"firehose.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"firehose.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"firehose.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"firehose.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"firehose.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"firehose.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"firehose.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"firehose.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"firehose.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"firehose.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"firehose.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"firehose.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"firehose-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"firehose-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-east-1":n={hostname:"firehose-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"fips-us-gov-west-1":n={hostname:"firehose-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-1":n={hostname:"firehose-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":n={hostname:"firehose-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":n={hostname:"firehose.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":n={hostname:"firehose.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"firehose.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"firehose.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"firehose.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"firehose.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"firehose.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"firehose.us-west-2.amazonaws.com",partition:"aws"};break;default:bl.has(e)&&(n={hostname:yl.replace("{region}",e),partition:"aws"}),_l.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),wl.has(e)&&(n={hostname:"firehose.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),xl.has(e)&&(n={hostname:"firehose.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Sl.has(e)&&(n={hostname:"firehose.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:yl.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,Vt.__assign)({signingService:"firehose"},n))},serviceId:"Firehose",urlParser:Nn.e},Cl=(0,Vt.__assign)((0,Vt.__assign)({},El),{runtime:"browser",base64Decoder:En.G,base64Encoder:En.s,bodyLengthChecker:Cn.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,kn.f)({serviceId:El.serviceId,clientVersion:"3.6.1"}),maxAttempts:Sn.J,region:(0,xn.n)("Region is missing"),requestHandler:new wn.B,sha256:_n.Sha256,streamCollector:wn.C,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),kl=function(e){function t(t){var n=this,r=(0,Vt.__assign)((0,Vt.__assign)({},Cl),t),o=(0,Dn.Xb)(r),i=(0,Dn.g4)(o),a=(0,jn.A$)(i),s=(0,Sn.BC)(a),l=(0,Fn.S8)(s),c=(0,Bn.er)(l);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,jn.yt)(n.config)),n.middlewareStack.use((0,Sn.NQ)(n.config)),n.middlewareStack.use((0,zn.VG)(n.config)),n.middlewareStack.use((0,Fn.G2)(n.config)),n.middlewareStack.use((0,Un.cV)(n.config)),n.middlewareStack.use((0,Bn.XJ)(n.config)),n}return(0,Vt.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(qt.KU),Al=new Lt.k("AWSKineisFirehoseProvider"),Tl=function(e){function t(t){return e.call(this,t)||this}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getProviderName=function(){return"AWSKinesisFirehose"},t.prototype._sendEvents=function(e){var t=this;if(0!==e.length){var n=e[0],r=n.config,o=n.credentials;if(!this._init(r,o))return!1;var i={};e.map((function(e){var t=e.event,n=t.streamName,r=t.data;void 0===i[n]&&(i[n]=[]);var o=r&&"string"!=typeof r?JSON.stringify(r):r,a={Data:qs(o)};i[n].push(a)})),Object.keys(i).map((function(e){Al.debug("putting records to kinesis",e,"with records",i[e]),t._kinesisFirehose.send(new vl({Records:i[e],DeliveryStreamName:e})).then((function(t){return Al.debug("Upload records to stream",e)})).catch((function(e){return Al.debug("Failed to upload records to Kinesis",e)}))}))}},t.prototype._init=function(e,t){if(Al.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Al.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return this._initFirehose(n,t)},t.prototype._initFirehose=function(e,t){return Al.debug("initialize kinesis firehose with credentials",t),this._kinesisFirehose=new kl({apiVersion:"2015-08-04",region:e,credentials:t}),!0},t}(Ws);!function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ks||(Ks={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}($s||($s={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Zs||(Zs={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Ys||(Ys={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Js||(Js={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Xs||(Xs={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(Qs||(Qs={})),function(e){e.filterSensitiveLog=function(e){return(0,Vt.__assign)({},e)}}(el||(el={}));var Il,Pl,Ol,Ml=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c;return(0,Vt.__generator)(this,(function(u){switch(u.label){case 0:return r=[(0,Vt.__assign)({},e)],c={},[4,Fl(e.body,t)];case 1:switch(n=Vt.__assign.apply(void 0,r.concat([(c.body=u.sent(),c)])),i="UnknownError",i=Ul(e,n.body)){case"InvalidInputException":case"com.amazonaws.personalizeevents#InvalidInputException":return[3,2]}return[3,4];case 2:return a=[{}],[4,Nl(n,t)];case 3:return o=Vt.__assign.apply(void 0,[Vt.__assign.apply(void 0,a.concat([u.sent()])),{name:i,$metadata:Dl(e)}]),[3,5];case 4:s=n.body,i=s.code||s.Code||i,o=(0,Vt.__assign)((0,Vt.__assign)({},s),{name:""+i,message:s.message||s.Message||i,$fault:"client",$metadata:Dl(e)}),u.label=5;case 5:return l=o.message||o.Message||i,o.message=l,delete o.Message,[2,Promise.reject(Object.assign(new Error(l),o))]}}))}))},Nl=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){return t={name:"InvalidInputException",$fault:"client",$metadata:Dl(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},Ll=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.eventId&&null!==e.eventId&&{eventId:e.eventId}),void 0!==e.eventType&&null!==e.eventType&&{eventType:e.eventType}),void 0!==e.eventValue&&null!==e.eventValue&&{eventValue:e.eventValue}),void 0!==e.impression&&null!==e.impression&&{impression:Rl(e.impression,t)}),void 0!==e.itemId&&null!==e.itemId&&{itemId:e.itemId}),void 0!==e.properties&&null!==e.properties&&{properties:qt.QT.fromObject(e.properties)}),void 0!==e.recommendationId&&null!==e.recommendationId&&{recommendationId:e.recommendationId}),void 0!==e.sentAt&&null!==e.sentAt&&{sentAt:Math.round(e.sentAt.getTime()/1e3)})}(e,t)}))},Rl=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return null===e?null:e}))},Dl=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},zl=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Fl=function(e,t){return function(e,t){return zl(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Ul=function(e,t){var n,r=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):""},jl=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Vt.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use((0,vn.p2)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"PersonalizeEventsClient",commandName:"PutEventsCommand",inputFilterSensitiveLog:Zs.filterSensitiveLog,outputFilterSensitiveLog:function(e){return e}},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c;return(0,Vt.__generator)(this,(function(u){switch(u.label){case 0:return n={"content-type":"application/json"},r="/events",o=JSON.stringify((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},void 0!==e.eventList&&null!==e.eventList&&{eventList:Ll(e.eventList,t)}),void 0!==e.sessionId&&null!==e.sessionId&&{sessionId:e.sessionId}),void 0!==e.trackingId&&null!==e.trackingId&&{trackingId:e.trackingId}),void 0!==e.userId&&null!==e.userId&&{userId:e.userId})),[4,t.endpoint()];case 1:return i=u.sent(),a=i.hostname,s=i.protocol,l=void 0===s?"https":s,c=i.port,[2,new Gt.aW({protocol:l,hostname:a,port:c,method:"POST",headers:n,path:r,body:o})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,Vt.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ml(e,t)]:(n={$metadata:Dl(e)},[4,zl(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(qt.mY),Bl="personalize-events.{region}.amazonaws.com",Vl=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Gl=new Set(["cn-north-1","cn-northwest-1"]),ql=new Set(["us-iso-east-1"]),Hl=new Set(["us-isob-east-1"]),Wl=new Set(["us-gov-east-1","us-gov-west-1"]),Kl={apiVersion:"2018-03-22",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;return Vl.has(e)&&(n={hostname:Bl.replace("{region}",e),partition:"aws"}),Gl.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ql.has(e)&&(n={hostname:"personalize-events.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Hl.has(e)&&(n={hostname:"personalize-events.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Wl.has(e)&&(n={hostname:"personalize-events.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Bl.replace("{region}",e),partition:"aws"}),Promise.resolve((0,Vt.__assign)({signingService:"personalize"},n))},serviceId:"Personalize Events",urlParser:Nn.e},$l=(0,Vt.__assign)((0,Vt.__assign)({},Kl),{runtime:"browser",base64Decoder:En.G,base64Encoder:En.s,bodyLengthChecker:Cn.W,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(0,kn.f)({serviceId:Kl.serviceId,clientVersion:"3.6.1"}),maxAttempts:Sn.J,region:(0,xn.n)("Region is missing"),requestHandler:new wn.B,sha256:_n.Sha256,streamCollector:wn.C,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o<128)t.push(o);else if(o<2048)t.push(o>>6|192,63&o|128);else if(n+1<e.length&&55296==(64512&o)&&56320==(64512&e.charCodeAt(n+1))){var i=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var o=e[n];if(o<128)t+=String.fromCharCode(o);else if(192<=o&&o<224){var i=e[++n];t+=String.fromCharCode((31&o)<<6|63&i)}else if(240<=o&&o<365){var a="%"+[o,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&o)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),Zl=function(e){function t(t){var n=this,r=(0,Vt.__assign)((0,Vt.__assign)({},$l),t),o=(0,Dn.Xb)(r),i=(0,Dn.g4)(o),a=(0,jn.A$)(i),s=(0,Sn.BC)(a),l=(0,Fn.S8)(s),c=(0,Bn.er)(l);return(n=e.call(this,c)||this).config=c,n.middlewareStack.use((0,jn.yt)(n.config)),n.middlewareStack.use((0,Sn.NQ)(n.config)),n.middlewareStack.use((0,zn.VG)(n.config)),n.middlewareStack.use((0,Fn.G2)(n.config)),n.middlewareStack.use((0,Un.cV)(n.config)),n.middlewareStack.use((0,Bn.XJ)(n.config)),n}return(0,Vt.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(qt.KU),Yl=n(41609),Jl=n.n(Yl),Xl=n(18446),Ql=n.n(Xl),ec="_awsct_uid",tc="_awsct_sid",nc=(new Lt.k("AmazonPersonalizeProvider"),function(){function e(e){void 0===e&&(e=""),this._isBrowser=(0,Ut.lC)().isBrowser,this._timerKey=(0,qn.v1)().substr(0,15),this._refreshTimer()}return e.prototype._refreshTimer=function(){this._timer&&clearInterval(this._timer);var e=this;this._timer=setInterval((function(){e._timerKey=(0,qn.v1)().substr(0,15)}),3e4)},e.prototype.storeValue=function(e,t){var n=new Date,r=new Date;r.setTime(n.getTime()+6048e5),Gn._.setItem(this._getCachePrefix(e),t,{expires:r.getTime()})},e.prototype.retrieveValue=function(e){return Gn._.getItem(this._getCachePrefix(e))},e.prototype._getCachePrefix=function(e){return this._isBrowser?e+"."+window.location.host:"peronslize"},e.prototype.getTimerKey=function(){return this._timerKey},e.prototype.updateSessionInfo=function(e,t){var n=t.userId,r=t.sessionId;if(this._isRequireNewSession(e,n,r)){var o=(0,qn.v1)();this.storeValue(ec,e),this.storeValue(tc,o),t.sessionId=o}else this._isRequireUpdateSessionInfo(e,n,r)&&this.storeValue(ec,e);t.userId=e},e.prototype._isRequireUpdateSessionInfo=function(e,t,n){return!Jl()(n)&&Jl()(t)&&!Jl()(e)},e.prototype.retrieveSessionInfo=function(e){var t={};return t.trackingId=e,t.sessionId=this.retrieveValue(tc),t.userId=this.retrieveValue(ec),Jl()(t.sessionId)&&(t.sessionId=(0,qn.v1)(),this.storeValue(tc,t.sessionId)),this.storeValue("_awsct",e),t},e.prototype._isRequireNewSession=function(e,t,n){var r=Jl()(n),o=Jl()(e)&&!Jl()(t),i=!Jl()(e)&&!Jl()(t)&&!Ql()(e,t);return r||o||i},e}());!function(e){e.PLAY="play",e.PAUSE="pause",e.ENDED="Ended"}(Il||(Il={})),function(e){e.IFRAME="IFRAME",e.VIDEO="VIDEO",e.AUDIO="AUDIO"}(Pl||(Pl={})),function(e){e.PLAY="Play",e.ENDED="Ended",e.PAUSE="Pause",e.TIME_WATCHED="TimeWatched"}(Ol||(Ol={}));var rc=function(){function e(e,t){var n;this.eventActionMapping=((n={})[Ol.ENDED]=this.endedEventAction.bind(this),n[Ol.PLAY]=this.playEventAction.bind(this),n[Ol.PAUSE]=this.pauseEventAction.bind(this),n);var r=e.eventData;this._params=e,this._mediaElement=document.getElementById(r.properties.domElementId),this._started=!1,this._provider=t,{IFRAME:this._iframeMediaTracker,VIDEO:this._html5MediaTracker,AUDIO:this._html5MediaTracker}[this._mediaElement.tagName].bind(this)(),this._initYoutubeFrame()}return e.prototype._initYoutubeFrame=function(){this._youTubeIframeLoader={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(e){var t=this;if(this.listeners.push(e),this.loaded)setTimeout((function(){t.done()}));else if(!this.loading){this.loading=!0,window.onYouTubeIframeAPIReady=function(){t.loaded=!0,t.done()};var n=document.createElement("script");n.type="text/javascript",n.src=this.src,document.body.appendChild(n)}},done:function(){for(delete window.onYouTubeIframeAPIReady;this.listeners.length;)this.listeners.pop()(window.YT)}}},e.prototype._iframeMediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(Pl.IFRAME,Ol.TIME_WATCHED)}),3e3),this._youTubeIframeLoader.load((function(t){e._iframePlayer=new t.Player(e._mediaElement.id,{events:{onStateChange:e._onPlayerStateChange.bind(e)}})}))},e.prototype._onPlayerStateChange=function(e){var t={0:Ol.ENDED,1:Ol.PLAY,2:Ol.PAUSE}[e.data];t&&this.eventActionMapping[t](Pl.IFRAME)},e.prototype._html5MediaTracker=function(){var e=this;setInterval((function(){e._started&&e.recordEvent(Pl.VIDEO,Ol.TIME_WATCHED)}),3e3),this._mediaElement.addEventListener(Il.PLAY,(function(){e.eventActionMapping[Ol.PLAY](Pl.VIDEO)}),!1),this._mediaElement.addEventListener(Il.PAUSE,(function(){e.eventActionMapping[Ol.PAUSE](Pl.VIDEO)}),!1),this._mediaElement.addEventListener(Il.ENDED,(function(){e.eventActionMapping[Ol.ENDED](Pl.VIDEO)}),!1)},e.prototype.playEventAction=function(e){this._started=!0,this.recordEvent(e,Ol.PLAY)},e.prototype.pauseEventAction=function(e){this._started=!1,this.recordEvent(e,Ol.PAUSE)},e.prototype.endedEventAction=function(e){this._started=!1,this.recordEvent(e,Ol.ENDED)},e.prototype.recordEvent=function(e,t){var n=Object.assign({},this._params),r=n.eventData;r.eventType=t,e===Pl.VIDEO?(r.properties.timestamp=this._mediaElement.currentTime,r.properties.duration=this._mediaElement.duration):(r.properties.timestamp=this._financial(this._iframePlayer.getCurrentTime()),r.properties.duration=this._financial(this._iframePlayer.getDuration()));var o=parseFloat(r.properties.timestamp)/parseFloat(r.properties.duration);r.properties.eventValue=Number(o.toFixed(4)),delete r.properties.domElementId,this._provider.putToBuffer(n)},e.prototype._financial=function(e){return Number.parseFloat(e).toFixed(4)},e}(),oc=n(27361),ic=n.n(oc),ac=new Lt.k("AmazonPersonalizeProvider"),sc=function(){function e(e){this._buffer=[],this._config=e||{},this._config.flushSize=this._config.flushSize>0&&this._config.flushSize<=10?this._config.flushSize:5,this._config.flushInterval=this._config.flushInterval||5e3,this._sessionManager=new nc,Jl()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._isBrowser=(0,Ut.lC)().isBrowser,this._setupTimer()}return e.prototype._setupTimer=function(){this._timer&&clearInterval(this._timer);var e=this._config.flushInterval,t=this;this._timer=setInterval((function(){t._sendFromBuffer()}),e)},e.prototype.record=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i;return l(this,(function(a){switch(a.label){case 0:return[4,this._getCredentials()];case 1:return(t=a.sent())?(Object.assign(e,{config:this._config,credentials:t,sentAt:new Date}),n=e.event,r=n.eventType,o=n.properties,"Identify"===r?(this._sessionManager.updateSessionInfo(o&&o.userId?o.userId:"",this._sessionInfo),[2]):(Jl()(e.event.userId)||this._sessionManager.updateSessionInfo(e.event.userId,this._sessionInfo),i=this.generateRequestParams(e,this._sessionInfo),"MediaAutoTrack"!==r?[3,7]:this._isBrowser?Jl()(ic()(i,"eventData.properties.domElementId",null))?[3,3]:[4,this.isElementFullyLoaded(this.loadElement,i.eventData.properties.domElementId,500,5)]:[3,5])):[2,Promise.resolve(!1)];case 2:return a.sent()?new rc(i,this):ac.debug("Cannot find the media element."),[3,4];case 3:ac.debug("Missing domElementId field in 'properties' for MediaAutoTrack event type."),a.label=4;case 4:return[3,6];case 5:ac.debug("MediaAutoTrack only for browser"),a.label=6;case 6:return[2];case 7:return[2,this.putToBuffer(i)]}}))}))},e.prototype.loadElement=function(e){return new Promise((function(t,n){return document.getElementById(e)&&document.getElementById(e).clientHeight?t(!0):n(!0)}))},e.prototype.isElementFullyLoaded=function(e,t,n,r){var o=this;return new Promise((function(i,a){return e(t).then(i).catch((function(s){return r-1>0?(l=n,new Promise((function(e){return setTimeout(e,l)}))).then(o.isElementFullyLoaded.bind(null,e,t,n,r-1)).then(i).catch(a):a(s);var l}))}))},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AmazonPersonalize"},e.prototype.configure=function(e){ac.debug("configure Analytics",e);var t=e||{};return this._config=Object.assign({},this._config,t),Jl()(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._setupTimer(),this._config},e.prototype.generateRequestParams=function(e,t){var n={},r=e.event,o=r.eventType,i=r.properties;return n.eventData={eventType:o,properties:i},n.sessionInfo=t,n.sentAt=e.sentAt,n.credentials=e.credentials,n.config=e.config,n},e.prototype._sendEvents=function(e){var t=e.length;if(0!==t){var n=e[0],r=n.config,o=n.credentials,i=n.sessionInfo;if(!this._init(r,o))return!1;if(t>0){for(var a=[],s=0;s<t;s+=1){var l=e.shift(),c=this._generateSingleRecordPayload(l,i);a.push(c)}var u={};u.trackingId=i.trackingId,u.sessionId=i.sessionId,u.userId=i.userId,u.eventList=[],a.forEach((function(e){u.eventList.push(e)}));var d=new jl(u);this._personalize.send(d,(function(e){e?ac.debug("Failed to call putEvents in Personalize",e):ac.debug("Put events")}))}}else ac.debug("events array is empty, directly return")},e.prototype.putToBuffer=function(e){return this._buffer.length<this._config.flushSize?this._buffer.push(e):(this._buffer.push(e),this._sendFromBuffer()),Promise.resolve(!0)},e.prototype._sendFromBuffer=function(){var e=this,t=this._buffer.length;if(!(t<=0)){for(var n=[],r=null,o=[],i=0;i<t;i+=1){var a=this._buffer.shift(),s=a.credentials,l=a.sessionInfo;0===i?(o.push(a),r=s):Ql()(l,this._sessionInfo)&&s.sessionToken===r.sessionToken&&s.identityId===r.identityId?(ac.debug("no change for cred, put event in the same group"),o.push(a)):(n.push(o),(o=[]).push(a),r=s,this._sessionInfo=l)}n.push(o),n.map((function(t){e._sendEvents(t)}))}},e.prototype._generateSingleRecordPayload=function(e,t){var n=e.eventData,r=e.sentAt,o={};return o.sentAt=r,o.properties=n.properties&&JSON.stringify(n.properties),o.eventId=this._sessionManager.getTimerKey()+t.sessionId,o.eventType=n.eventType,o},e.prototype._init=function(e,t){if(ac.debug("init clients"),this._personalize&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return ac.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var n=e.region;return ac.debug("initialize personalize with credentials",t),this._personalize=new Zl({region:n,credentials:t,customUserAgent:(0,jt.Z)()}),!0},e.prototype._getCredentials=function(){var e=this;return Bt.c.get().then((function(t){return t?(ac.debug("set credentials for analytics",e._config.credentials),Bt.c.shear(t)):null})).catch((function(e){return ac.debug("ensure credentials error",e),null}))},e}(),lc=n(91021),cc=n(79172),uc=n(36619),dc=n(97301),fc=n(86471),pc=n(64314),hc=n(36460),mc=n(33658),gc=function(e,t){return gc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},gc(e,t)},vc=function(){return vc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},vc.apply(this,arguments)};function yc(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function bc(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var _c,wc=new Lt.k("AbstractInteractionsProvider"),xc=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=vc(vc({},this._config),e),wc.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"Interactions"},Object.defineProperty(e.prototype,"options",{get:function(){return vc({},this._config)},enumerable:!0,configurable:!0}),e}(),Sc=(n(51891),n(57079)),Ec=function(e){return"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},Cc=function(e){return Ec(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},kc=function(e,t){var n;void 0===e&&(e=[]);var r=t.useFipsEndpoint,o=t.useDualstackEndpoint;return null===(n=e.find((function(e){var t=e.tags;return r===t.includes("fips")&&o===t.includes("dualstack")})))||void 0===n?void 0:n.hostname},Ac=function(e,t){var n,r,o,i,a,s,l=t.useFipsEndpoint,c=void 0!==l&&l,u=t.useDualstackEndpoint,d=void 0!==u&&u,f=t.signingService,p=t.regionHash,h=t.partitionHash,m=function(e,t){var n,r=t.partitionHash;return null!==(n=Object.keys(r||{}).find((function(t){return r[t].regions.includes(e)})))&&void 0!==n?n:"aws"}(e,{partitionHash:h}),g=e in p?e:null!==(r=null===(n=h[m])||void 0===n?void 0:n.endpoint)&&void 0!==r?r:e,v={useFipsEndpoint:c,useDualstackEndpoint:d},y=function(e,t){var n=t.partitionHostname;return t.regionHostname||(n?n.replace("{region}",e):void 0)}(g,{regionHostname:kc(null===(o=p[g])||void 0===o?void 0:o.variants,v),partitionHostname:kc(null===(i=h[m])||void 0===i?void 0:i.variants,v)});if(void 0===y)throw new Error("Endpoint resolution failed for: ".concat({resolvedRegion:g,useFipsEndpoint:c,useDualstackEndpoint:d}));var b=function(e,t){var n=t.signingRegion;if(n)return n;if(t.useFipsEndpoint){var r=t.regionRegex.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(r);if(o)return o[0].slice(1,-1)}}(y,{signingRegion:null===(a=p[g])||void 0===a?void 0:a.signingRegion,regionRegex:h[m].regionRegex,useFipsEndpoint:c});return(0,Vt.__assign)((0,Vt.__assign)({partition:m,signingService:f,hostname:y},b&&{signingRegion:b}),(null===(s=p[g])||void 0===s?void 0:s.signingService)&&{signingService:p[g].signingService})},Tc=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?"".concat(e.protocol,":"):e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/".concat(e.path):e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,Vt.__assign)((0,Vt.__assign)({},this),{headers:(0,Vt.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,o=t[n];return(0,Vt.__assign)((0,Vt.__assign)({},e),((r={})[n]=Array.isArray(o)?(0,Vt.__spreadArray)([],(0,Vt.__read)(o),!1):o,r))}),{}))),n},e}(),Ic=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),Pc="content-length",Oc={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Mc={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Nc={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Lc=n(48777);!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(_c||(_c={}));var Rc,Dc=_c.STANDARD,zc=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Fc=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Uc=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],jc=[500,502,503,504],Bc=["ECONNRESET","EPIPE","ETIMEDOUT"],Vc=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||Fc.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Gc=function(){function e(e){var t,n,r,o,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(t=null==e?void 0:e.beta)&&void 0!==t?t:.7,this.minCapacity=null!==(n=null==e?void 0:e.minCapacity)&&void 0!==n?n:1,this.minFillRate=null!==(r=null==e?void 0:e.minFillRate)&&void 0!==r?r:.5,this.scaleConstant=null!==(o=null==e?void 0:e.scaleConstant)&&void 0!==o?o:.4,this.smooth=null!==(i=null==e?void 0:e.smooth)&&void 0!==i?i:.8;var a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(e){return[2,this.acquireTokenBucket(1)]}))}))},e.prototype.acquireTokenBucket=function(e){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var t;return(0,Vt.__generator)(this,(function(n){switch(n.label){case 0:return this.enabled?(this.refillTokenBucket(),e>this.currentCapacity?(t=(e-this.currentCapacity)/this.fillRate*1e3,[4,new Promise((function(e){return setTimeout(e,t)}))]):[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return this.currentCapacity=this.currentCapacity-e,[2]}}))}))},e.prototype.refillTokenBucket=function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e},e.prototype.updateClientSendingRate=function(e){var t;if(this.updateMeasuredRate(),Vc(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(e){return this.getPrecise(e*this.beta)},e.prototype.cubicSuccess=function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}},e.prototype.getPrecise=function(e){return parseFloat(e.toFixed(8))},e}(),qc=n(44586),Hc=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Wc=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return zc.includes(e.name)}(e)||Vc(e)||function(e){var t;return Uc.includes(e.name)||Bc.includes((null==e?void 0:e.code)||"")||jc.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Kc=function(){function e(e,t){var n,r,o,i,a,s,l,c,u;this.maxAttemptsProvider=e,this.mode=_c.STANDARD,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Wc,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Hc,this.retryQuota=null!==(o=null==t?void 0:t.retryQuota)&&void 0!==o?o:(i=1,a=5,s=10,l=500,c=function(e){return"TimeoutError"===e.name?s:a},u=function(e){return c(e)<=l},Object.freeze({hasRetryTokens:u,retrieveRetryTokens:function(e){if(!u(e))throw new Error("No retry token available");var t=c(e);return l-=t,t},releaseRetryTokens:function(e){l+=null!=e?e:i,l=Math.min(l,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Vt.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t,n){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var r,o,i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){switch(d.label){case 0:return o=0,i=0,[4,this.getMaxAttempts()];case 1:a=d.sent(),s=t.request,Tc.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,qc.Z)()),l=function(){var l,u,d,f,p,h,m,g;return(0,Vt.__generator)(this,(function(v){switch(v.label){case 0:return v.trys.push([0,4,,7]),Tc.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt=".concat(o+1,"; max=").concat(a)),(null==n?void 0:n.beforeRequest)?[4,n.beforeRequest()]:[3,2];case 1:v.sent(),v.label=2;case 2:return[4,e(t)];case 3:return l=v.sent(),u=l.response,d=l.output,(null==n?void 0:n.afterRequest)&&n.afterRequest(u),c.retryQuota.releaseRetryTokens(r),d.$metadata.attempts=o+1,d.$metadata.totalRetryDelay=i,[2,{value:{response:u,output:d}}];case 4:return f=v.sent(),p=Zc(f),o++,c.shouldRetry(p,o,a)?(r=c.retryQuota.retrieveRetryTokens(p),h=c.delayDecider(Vc(p)?500:100,o),m=$c(p.$response),g=Math.max(m||0,h),i+=g,[4,new Promise((function(e){return setTimeout(e,g)}))]):[3,6];case 5:return v.sent(),[2,"continue"];case 6:throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=i,p;case 7:return[2]}}))},c=this,d.label=2;case 2:return[5,l()];case 3:return"object"==typeof(u=d.sent())?[2,u.value]:[3,2];case 4:return[2]}}))}))},e}(),$c=function(e){if(Ic.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():1e3*r}}},Zc=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error("AWS SDK error wrapper for ".concat(e))},Yc=function(e){function t(t,n){var r=this,o=null!=n?n:{},i=o.rateLimiter,a=(0,Vt.__rest)(o,["rateLimiter"]);return(r=e.call(this,t,a)||this).rateLimiter=null!=i?i:new Gc,r.mode=_c.ADAPTIVE,r}return(0,Vt.__extends)(t,e),t.prototype.retry=function(t,n){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,Vt.__generator)(this,(function(o){return[2,e.prototype.retry.call(this,t,n,{beforeRequest:function(){return(0,Vt.__awaiter)(r,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(e){return[2,this.rateLimiter.getSendToken()]}))}))},afterRequest:function(e){r.rateLimiter.updateClientSendingRate(e)}})]}))}))},t}(Kc),Jc={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Xc=function(e){function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n)||this;return o.tryNextLink=r,o.name="ProviderError",Object.setPrototypeOf(o,t.prototype),o}return(0,Vt.__extends)(t,e),t.from=function(e,t){return void 0===t&&(t=!0),Object.assign(new this(e.message,t),e)},t}(Error);Rc=Xc,(0,Vt.__extends)((function e(t,n){void 0===n&&(n=!0);var r=Rc.call(this,t,n)||this;return r.tryNextLink=n,r.name="CredentialsProviderError",Object.setPrototypeOf(r,e.prototype),r}),Rc),function(e){(0,Vt.__extends)((function t(n,r){void 0===r&&(r=!0);var o=e.call(this,n,r)||this;return o.tryNextLink=r,o.name="TokenProviderError",Object.setPrototypeOf(o,t.prototype),o}),e)}(Xc);for(var Qc={},eu={},tu=0;tu<256;tu++){var nu=tu.toString(16).toLowerCase();1===nu.length&&(nu="0".concat(nu)),Qc[tu]=nu,eu[nu]=tu}function ru(e){for(var t="",n=0;n<e.byteLength;n++)t+=Qc[e[n]];return t}var ou="X-Amz-Date",iu="X-Amz-Signature",au="X-Amz-Security-Token",su="authorization",lu=ou.toLowerCase(),cu=[su,lu,"date"],uu=iu.toLowerCase(),du="x-amz-content-sha256",fu=au.toLowerCase(),pu={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},hu=/^proxy-/,mu=/^sec-/,gu="AWS4-HMAC-SHA256",vu="AWS4-HMAC-SHA256-PAYLOAD",yu="aws4_request",bu={},_u=[],wu=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(yu)},xu=function(e,t,n){var r=new e(t);return r.update(n),r.digest()},Su=function(e,t,n){var r,o,i=e.headers,a={};try{for(var s=(0,Vt.__values)(Object.keys(i).sort()),l=s.next();!l.done;l=s.next()){var c=l.value;if(null!=i[c]){var u=c.toLowerCase();(u in pu||(null==t?void 0:t.has(u))||hu.test(u)||mu.test(u))&&(!n||n&&!n.has(u))||(a[u]=i[c].trim().replace(/\s+/g," "))}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},Eu=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Cu)},Cu=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},ku=function(e,t){var n=e.headers,r=e.body;return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var e,o,i,a,s,l,c;return(0,Vt.__generator)(this,(function(u){switch(u.label){case 0:try{for(e=(0,Vt.__values)(Object.keys(n)),o=e.next();!o.done;o=e.next())if((i=o.value).toLowerCase()===du)return[2,n[i]]}catch(e){l={error:e}}finally{try{o&&!o.done&&(c=e.return)&&c.call(e)}finally{if(l)throw l.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(d=r,"function"==typeof ArrayBuffer&&d instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(d))?((a=new t).update(r),s=ru,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[u.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var d}))}))},Au=function(e){var t=e.headers,n=e.query,r=(0,Vt.__rest)(e,["headers","query"]);return(0,Vt.__assign)((0,Vt.__assign)({},r),{headers:(0,Vt.__assign)({},t),query:n?Tu(n):void 0})},Tu=function(e){return Object.keys(e).reduce((function(t,n){var r,o=e[n];return(0,Vt.__assign)((0,Vt.__assign)({},t),((r={})[n]=Array.isArray(o)?(0,Vt.__spreadArray)([],(0,Vt.__read)(o),!1):o,r))}),{})},Iu=function(e){var t,n;e="function"==typeof e.clone?e.clone():Au(e);try{for(var r=(0,Vt.__values)(Object.keys(e.headers)),o=r.next();!o.done;o=r.next()){var i=o.value;cu.indexOf(i.toLowerCase())>-1&&delete e.headers[i]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e},Pu=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,o=e.service,i=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=o,this.sha256=i,this.uriEscapePath=s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=(0,Sc.$)(r),this.credentialProvider=(0,Sc.$)(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,Vt.__awaiter)(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C;return(0,Vt.__generator)(this,(function(k){switch(k.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,o=t.expiresIn,i=void 0===o?3600:o,a=t.unsignableHeaders,s=t.unhoistableHeaders,l=t.signableHeaders,c=t.signingRegion,u=t.signingService,[4,this.credentialProvider()];case 1:return d=k.sent(),this.validateResolvedCredentials(d),null==c?[3,2]:(p=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=k.sent(),k.label=4;case 4:return f=p,h=Ou(r),m=h.longDate,g=h.shortDate,i>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(v=wu(g,f,null!=u?u:this.service),y=function(e,t){var n,r,o;void 0===t&&(t={});var i="function"==typeof e.clone?e.clone():Au(e),a=i.headers,s=i.query,l=void 0===s?{}:s;try{for(var c=(0,Vt.__values)(Object.keys(a)),u=c.next();!u.done;u=c.next()){var d=u.value,f=d.toLowerCase();"x-amz-"!==f.slice(0,6)||(null===(o=t.unhoistableHeaders)||void 0===o?void 0:o.has(f))||(l[d]=a[d],delete a[d])}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return(0,Vt.__assign)((0,Vt.__assign)({},e),{headers:a,query:l})}(Iu(e),{unhoistableHeaders:s}),d.sessionToken&&(y.query[au]=d.sessionToken),y.query["X-Amz-Algorithm"]=gu,y.query["X-Amz-Credential"]="".concat(d.accessKeyId,"/").concat(v),y.query[ou]=m,y.query["X-Amz-Expires"]=i.toString(10),b=Su(y,a,l),y.query["X-Amz-SignedHeaders"]=Mu(b),_=y.query,w=iu,x=this.getSignature,S=[m,v,this.getSigningKey(d,f,g,u)],E=this.createCanonicalRequest,C=[y,b],[4,ku(e,this.sha256)]);case 5:return[4,x.apply(this,S.concat([E.apply(this,C.concat([k.sent()]))]))];case 6:return _[w]=k.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,o=t.signingDate,i=void 0===o?new Date:o,a=t.priorSignature,s=t.signingRegion,l=t.signingService;return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var e,t,o,c,u,d,f,p,h,m,g;return(0,Vt.__generator)(this,(function(v){switch(v.label){case 0:return null==s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=v.sent(),v.label=3;case 3:return e=t,o=Ou(i),c=o.shortDate,u=o.longDate,d=wu(c,e,null!=l?l:this.service),[4,ku({headers:{},body:r},this.sha256)];case 4:return f=v.sent(),(p=new this.sha256).update(n),m=ru,[4,p.digest()];case 5:return h=m.apply(void 0,[v.sent()]),g=[vu,u,d,a,h,f].join("\n"),[2,this.signString(g,{signingDate:i,signingRegion:e,signingService:l})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signingRegion,a=n.signingService;return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var t,n,r,s,l,c,u,d;return(0,Vt.__generator)(this,(function(f){switch(f.label){case 0:return[4,this.credentialProvider()];case 1:return t=f.sent(),this.validateResolvedCredentials(t),null==i?[3,2]:(r=i,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=f.sent(),f.label=4;case 4:return n=r,s=Ou(o).shortDate,u=(c=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(l=new(u.apply(c,[void 0,f.sent()]))).update(e),d=ru,[4,l.digest()];case 6:return[2,d.apply(void 0,[f.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,o=void 0===r?new Date:r,i=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,l=n.signingService;return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var t,n,r,c,u,d,f,p,h,m,g;return(0,Vt.__generator)(this,(function(v){switch(v.label){case 0:return[4,this.credentialProvider()];case 1:return t=v.sent(),this.validateResolvedCredentials(t),null==s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=v.sent(),v.label=4;case 4:return n=r,c=Iu(e),u=Ou(o),d=u.longDate,f=u.shortDate,p=wu(f,n,null!=l?l:this.service),c.headers[lu]=d,t.sessionToken&&(c.headers[fu]=t.sessionToken),[4,ku(c,this.sha256)];case 5:return h=v.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var o=(0,Vt.__values)(Object.keys(t)),i=o.next();!i.done;i=o.next())if(e===i.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}(du,c.headers)&&this.applyChecksum&&(c.headers[du]=h),m=Su(c,a,i),[4,this.getSignature(d,p,this.getSigningKey(t,n,f,l),this.createCanonicalRequest(c,m,h))];case 6:return g=v.sent(),c.headers[su]="".concat(gu," ")+"Credential=".concat(t.accessKeyId,"/").concat(p,", ")+"SignedHeaders=".concat(Mu(m),", ")+"Signature=".concat(g),[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n,r=e.query,o=void 0===r?{}:r,i=[],a={},s=function(e){if(e.toLowerCase()===uu)return"continue";i.push(e);var t=o[e];"string"==typeof t?a[e]="".concat(Eu(e),"=").concat(Eu(t)):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(Eu(e),"=").concat(Eu(n))])}),[]).join("&"))};try{for(var l=(0,Vt.__values)(Object.keys(o).sort()),c=l.next();!c.done;c=l.next())s(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return i.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)},e.prototype.createStringToSign=function(e,t,n){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,Vt.__generator)(this,(function(i){switch(i.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return o=i.sent(),[2,"".concat(gu,"\n").concat(e,"\n").concat(t,"\n").concat(ru(o))]}}))}))},e.prototype.getCanonicalPath=function(e){var t,n,r=e.path;if(this.uriEscapePath){var o=[];try{for(var i=(0,Vt.__values)(r.split("/")),a=i.next();!a.done;a=i.next()){var s=a.value;0!==(null==s?void 0:s.length)&&"."!==s&&(".."===s?o.pop():o.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var l="".concat((null==r?void 0:r.startsWith("/"))?"/":"").concat(o.join("/")).concat(o.length>0&&(null==r?void 0:r.endsWith("/"))?"/":"");return encodeURIComponent(l).replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(e,t,n,r){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var o,i,a,s,l;return(0,Vt.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return o=c.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(i=new(s.apply(a,[void 0,c.sent()]))).update(o),l=ru,[4,i.digest()];case 3:return[2,l.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,o){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s,l,c,u,d,f,p;return(0,Vt.__generator)(this,(function(h){switch(h.label){case 0:return[4,xu(e,t.secretAccessKey,t.accessKeyId)];case 1:if(i=h.sent(),(a="".concat(n,":").concat(r,":").concat(o,":").concat(ru(i),":").concat(t.sessionToken))in bu)return[2,bu[a]];for(_u.push(a);_u.length>50;)delete bu[_u.shift()];s="AWS4".concat(t.secretAccessKey),h.label=2;case 2:h.trys.push([2,7,8,9]),l=(0,Vt.__values)([n,r,o,yu]),c=l.next(),h.label=3;case 3:return c.done?[3,6]:(u=c.value,[4,xu(e,s,u)]);case 4:s=h.sent(),h.label=5;case 5:return c=l.next(),[3,3];case 6:return[3,9];case 7:return d=h.sent(),f={error:d},[3,9];case 8:try{c&&!c.done&&(p=l.return)&&p.call(l)}finally{if(f)throw f.error}return[7];case 9:return[2,bu[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e.prototype.validateResolvedCredentials=function(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")},e}(),Ou=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},Mu=function(e){return Object.keys(e).sort().join(";")},Nu=function(e){return new Date(Date.now()+e)},Lu=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(Nu(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},Ru=function(e){var t,n,r;return Ic.isInstance(e)?null!==(n=null===(t=e.headers)||void 0===t?void 0:t.date)&&void 0!==n?n:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},Du={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},zu="user-agent",Fu="x-amz-user-agent",Uu=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ju=function(e){var t=(0,Vt.__read)(e,2),n=t[0],r=t[1],o=n.indexOf("/"),i=n.substring(0,o),a=n.substring(o+1);return"api"===i&&(a=a.toLowerCase()),[i,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Uu,"_")})).join("/")},Bu={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Vu=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,(0,Vt.__assign)({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,(0,Vt.__assign)({},e))})),n},o=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,Vt.__spreadArray)([],(0,Vt.__read)(o(e)),!1))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,Vt.__spreadArray)([],(0,Vt.__read)(o(e)),!1))})),t},i=function(n){void 0===n&&(n=!1);var r,i=[],a=[],s={};return e.forEach((function(e){var t=(0,Vt.__assign)((0,Vt.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),i.push(t)})),t.forEach((function(e){var t=(0,Vt.__assign)((0,Vt.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),a.push(t)})),a.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t){if(n)return;throw new Error("".concat(e.toMiddleware," is not found when adding ").concat(e.name||"anonymous"," middleware ").concat(e.relation," ").concat(e.toMiddleware))}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(r=i,r.sort((function(e,t){return Gu[t.step]-Gu[e.step]||qu[t.priority||"normal"]-qu[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,(0,Vt.__spreadArray)([],(0,Vt.__read)(t),!1)),e}),[])},a={add:function(t,r){void 0===r&&(r={});var o=r.name,i=r.override,a=(0,Vt.__assign)({step:"initialize",priority:"normal",middleware:t},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=e.findIndex((function(e){return e.name===o})),l=e[s];if(l.step!==a.step||l.priority!==a.priority)throw new Error('"'.concat(o,'" middleware with ').concat(l.priority," priority in ").concat(l.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));e.splice(s,1)}n.add(o)}e.push(a)},addRelativeTo:function(e,r){var o=r.name,i=r.override,a=(0,Vt.__assign)({middleware:e},r);if(o){if(n.has(o)){if(!i)throw new Error("Duplicate middleware name '".concat(o,"'"));var s=t.findIndex((function(e){return e.name===o})),l=t[s];if(l.toMiddleware!==a.toMiddleware||l.relation!==a.relation)throw new Error('"'.concat(o,'" middleware ').concat(l.relation,' "').concat(l.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));t.splice(s,1)}n.add(o)}t.push(a)},clone:function(){return r(Vu())},use:function(e){e.applyToStack(a)},remove:function(r){return"string"==typeof r?function(r){var o=!1,i=function(e){return!e.name||e.name!==r||(o=!0,n.delete(r),!1)};return e=e.filter(i),t=t.filter(i),o}(r):function(r){var o=!1,i=function(e){return e.middleware!==r||(o=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(i),t=t.filter(i),o}(r)},removeByTag:function(r){var o=!1,i=function(e){var t=e.tags,i=e.name;return!t||!t.includes(r)||(i&&n.delete(i),o=!0,!1)};return e=e.filter(i),t=t.filter(i),o},concat:function(e){var t=r(Vu());return t.use(e),t},applyToStack:r,identify:function(){return i(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r;try{for(var o=(0,Vt.__values)(i().map((function(e){return e.middleware})).reverse()),a=o.next();!a.done;a=o.next())e=(0,a.value)(e,t)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}};return a},Gu={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},qu={high:3,normal:2,low:1},Hu=function(){function e(e){this.middlewareStack=Vu(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,o="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!o)return i(e).then((function(e){return e.output}));i(e).then((function(e){return o(null,e.output)}),(function(e){return o(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Wu=function(){this.middlewareStack=Vu()},Ku="***SensitiveInformation***",$u=(Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23))),function(e){if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}}),Zu=function(e){return Yu(e,32)},Yu=function(e,t){var n=$u(e);if(void 0!==n&&Ju(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},Ju=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},Xu=function(e,t){if(null==e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},Qu=function(e){if(null!=e){if("object"==typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},ed=function(e){if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return od.warn(rd("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},td=function(e){return"string"==typeof e?nd(e):function(e){if(null!=e){if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&od.warn(rd("Expected number but observed string: ".concat(e))),t}if("number"==typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}}(e)},nd=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},rd=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},od={warn:console.warn},id=function(e){function t(n){var r=e.call(this,n.message)||this;return Object.setPrototypeOf(r,t.prototype),r.name=n.name,r.$fault=n.$fault,r.$metadata=n.$metadata,r}return(0,Vt.__extends)(t,e),t}(Error),ad=function(e,t){void 0===t&&(t={}),Object.entries(t).filter((function(e){return void 0!==(0,Vt.__read)(e,2)[1]})).forEach((function(t){var n=(0,Vt.__read)(t,2),r=n[0],o=n[1];null!=e[r]&&""!==e[r]||(e[r]=o)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},sd=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,o=e.errorCode,i=ld(t),a=i.httpStatusCode?i.httpStatusCode+"":void 0,s=new r({name:n.code||n.Code||o||a||"UnknowError",$fault:"client",$metadata:i});throw ad(s,n)},ld=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},cd=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},ud=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,Vt.__spreadArray)([null],(0,Vt.__read)(arguments),!1)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};ud.prototype=Object.create(String.prototype,{constructor:{value:ud,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(ud,String);var dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Vt.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(ud);function fd(e,t,n){var r,o,i,a;if(void 0===t&&void 0===n)i={},a=e;else{if(i=e,"function"==typeof t)return pd(i,t,a=n);a=t}try{for(var s=(0,Vt.__values)(Object.keys(a)),l=s.next();!l.done;l=s.next()){var c=l.value;if(Array.isArray(a[c])){var u=(0,Vt.__read)(a[c],2),d=u[0],f=u[1];if("function"==typeof f){var p=void 0,h=void 0===d&&null!=(p=f()),m="function"==typeof d&&!!d(void 0)||"function"!=typeof d&&!!d;h?i[c]=p:m&&(i[c]=f())}else h=void 0===d&&null!=f,m="function"==typeof d&&!!d(f)||"function"!=typeof d&&!!d,(h||m)&&(i[c]=f)}else i[c]=a[c]}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i}var pd=function(e,t,n){return fd(e,Object.entries(n).reduce((function(e,n){var r=(0,Vt.__read)(n,2),o=r[0],i=r[1];return Array.isArray(i)?e[o]=i:e[o]="function"==typeof i?[t,i()]:[t,i],e}),{}))};function hd(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var md=function(e,t,n,r,o,i){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e.replace(o,i?a.split("/").map((function(e){return hd(e)})).join("/"):hd(a))};for(var gd=n(57752),vd=function(){function e(e){"function"==typeof e?this.configProvider=e().then((function(e){return e||{}})):(this.config=null!=e?e:{},this.configProvider=Promise.resolve(this.config))}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal;return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var t,r,o,i,a,s,l,c,u,d,f,p;return(0,Vt.__generator)(this,(function(h){switch(h.label){case 0:return this.config?[3,2]:(t=this,[4,this.configProvider]);case 1:t.config=h.sent(),h.label=2;case 2:return r=this.config.requestTimeout,(null==n?void 0:n.aborted)?((o=new Error("Request aborted")).name="AbortError",[2,Promise.reject(o)]):(i=e.path,e.query&&(a=function(e){var t,n,r=[];try{for(var o=(0,Vt.__values)(Object.keys(e).sort()),i=o.next();!i.done;i=o.next()){var a=i.value,s=e[a];if(a=Eu(a),Array.isArray(s))for(var l=0,c=s.length;l<c;l++)r.push("".concat(a,"=").concat(Eu(s[l])));else{var u=a;(s||"string"==typeof s)&&(u+="=".concat(Eu(s))),r.push(u)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.join("&")}(e.query),a&&(i+="?".concat(a))),s=e.port,l=e.method,c="".concat(e.protocol,"//").concat(e.hostname).concat(s?":".concat(s):"").concat(i),u="GET"===l||"HEAD"===l?void 0:e.body,d={body:u,headers:new Headers(e.headers),method:l},"undefined"!=typeof AbortController&&(d.signal=n),f=new Request(c,d),p=[fetch(f).then((function(e){var t,n,r=e.headers,o={};try{for(var i=(0,Vt.__values)(r.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;o[s[0]]=s[1]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Ic({headers:o,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Ic({headers:o,statusCode:e.status,body:t})}}))})),(m=r,void 0===m&&(m=0),new Promise((function(e,t){m&&setTimeout((function(){var e=new Error("Request did not complete within ".concat(m," ms"));e.name="TimeoutError",t(e)}),m)})))],n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),[2,Promise.race(p)])}var m}))}))},e}(),yd={},bd=new Array(64),_d=0,wd="A".charCodeAt(0),xd="Z".charCodeAt(0);_d+wd<=xd;_d++){var Sd=String.fromCharCode(_d+wd);yd[Sd]=_d,bd[_d]=Sd}for(_d=0,wd="a".charCodeAt(0),xd="z".charCodeAt(0);_d+wd<=xd;_d++){Sd=String.fromCharCode(_d+wd);var Ed=_d+26;yd[Sd]=Ed,bd[Ed]=Sd}for(_d=0;_d<10;_d++)yd[_d.toString(10)]=_d+52,Sd=_d.toString(10),Ed=_d+52,yd[Sd]=Ed,bd[Ed]=Sd;function Cd(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),o=0;o<e.length;o+=4){for(var i=0,a=0,s=o,l=o+3;s<=l;s++)if("="!==e[s]){if(!(e[s]in yd))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));i|=yd[e[s]]<<6*(l-s),a+=6}else i>>=6;var c=o/4*3;i>>=a%8;for(var u=Math.floor(a/8),d=0;d<u;d++){var f=8*(u-d-1);r.setUint8(c+d,(i&255<<f)>>f)}}return new Uint8Array(n)}function kd(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,i=n,a=Math.min(n+3,e.length);i<a;i++)r|=e[i]<<8*(a-i-1),o+=8;var s=Math.ceil(o/6);r<<=6*s-o;for(var l=1;l<=s;l++){var c=6*(s-l);t+=bd[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}yd["+"]=62,bd[62]="+",yd["/"]=63,bd[63]="/";var Ad=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Vt.__generator)(this,(function(r){switch(r.label){case 0:return[4,Td(e)];case 1:return t=r.sent(),n=Cd(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,i,a,s;return(0,Vt.__generator)(this,(function(l){switch(l.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,l.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return o=l.sent(),i=o.done,(a=o.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=i,[3,1];case 3:return[2,t]}}))}))}(e)};function Td(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var o=null!==(e=r.result)&&void 0!==e?e:"",i=o.indexOf(","),a=i>-1?i+1:o.length;t(o.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Id=function(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},Pd=n(51206),Od=n.n(Pd),Md=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var e,r,o,i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){return e="undefined"!=typeof window&&(null===(o=null===window||void 0===window?void 0:window.navigator)||void 0===o?void 0:o.userAgent)?Od().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/".concat((null===(i=null==e?void 0:e.os)||void 0===i?void 0:i.name)||"other"),null===(a=null==e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(l=null===(s=null==e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==l?l:"unknown","_").concat(null!==(u=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==u?u:"unknown")]],t&&r.push(["api/".concat(t),n]),[2,r]}))}))}},Nd=n(99843),Ld=function(e){if("string"==typeof e)return Ld(new URL(e));var t,n=e,r=n.hostname,o=n.pathname,i=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var o=(0,Vt.__values)(e.split("&")),i=o.next();!i.done;i=o.next()){var a=i.value,s=(0,Vt.__read)(a.split("="),2),l=s[0],c=s[1],u=void 0===c?null:c;l=decodeURIComponent(l),u&&(u=decodeURIComponent(u)),l in r?Array.isArray(r[l])?r[l].push(u):r[l]=[r[l],u]:r[l]=u}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:o,query:t}},Rd={"us-east-1":{variants:[{hostname:"runtime-fips.lex.us-east-1.amazonaws.com",tags:["fips"]}]},"us-gov-west-1":{variants:[{hostname:"runtime-fips.lex.us-gov-west-1.amazonaws.com",tags:["fips"]}]},"us-west-2":{variants:[{hostname:"runtime-fips.lex.us-west-2.amazonaws.com",tags:["fips"]}]}},Dd={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ap-southeast-3","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-1-fips","us-east-2","us-west-1","us-west-2","us-west-2-fips"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com",tags:[]},{hostname:"runtime-fips.lex.{region}.amazonaws.com",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com.cn",tags:[]},{hostname:"runtime.lex-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.c2s.ic.gov",tags:[]},{hostname:"runtime.lex-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.sc2s.sgov.gov",tags:[]},{hostname:"runtime.lex-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1","us-gov-west-1-fips"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"runtime.lex.{region}.amazonaws.com",tags:[]},{hostname:"runtime-fips.lex.{region}.amazonaws.com",tags:["fips"]},{hostname:"runtime.lex-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"runtime.lex.{region}.api.aws",tags:["dualstack"]}]}},zd=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(n){return[2,Ac(e,(0,Vt.__assign)((0,Vt.__assign)({},t),{signingService:"lex",regionHash:Rd,partitionHash:Dd}))]}))}))},Fd=n(32924),Ud=function(e){function t(t){var n,r,o,i,a,s=this,l=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,Vt.__assign)((0,Vt.__assign)({},e),{region:function(){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,Vt.__generator)(this,(function(n){switch(n.label){case 0:return"string"==typeof t?[2,Cc(t)]:[4,t()];case 1:return e=n.sent(),[2,Cc(e)]}}))}))},useFipsEndpoint:function(){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,Vt.__generator)(this,(function(r){switch(r.label){case 0:return"string"!=typeof t?[3,1]:(e=t,[3,3]);case 1:return[4,t()];case 2:e=r.sent(),r.label=3;case 3:return Ec(e)?[2,!0]:[2,"boolean"==typeof n?Promise.resolve(n):n()]}}))}))}})}(function(e){var t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g=(0,Fd.j)(e),v=function(){return g().then(cd)},y=function(e){var t,n,r,o,i;return{apiVersion:"2016-11-28",disableHostPrefix:null!==(t=null==e?void 0:e.disableHostPrefix)&&void 0!==t&&t,logger:null!==(n=null==e?void 0:e.logger)&&void 0!==n?n:{},regionInfoProvider:null!==(r=null==e?void 0:e.regionInfoProvider)&&void 0!==r?r:zd,serviceId:null!==(o=null==e?void 0:e.serviceId)&&void 0!==o?o:"Lex Runtime Service",urlParser:null!==(i=null==e?void 0:e.urlParser)&&void 0!==i?i:Ld}}(e);return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},y),e),{runtime:"browser",defaultsMode:g,base64Decoder:null!==(t=null==e?void 0:e.base64Decoder)&&void 0!==t?t:Cd,base64Encoder:null!==(n=null==e?void 0:e.base64Encoder)&&void 0!==n?n:kd,bodyLengthChecker:null!==(r=null==e?void 0:e.bodyLengthChecker)&&void 0!==r?r:Id,credentialDefaultProvider:null!==(o=null==e?void 0:e.credentialDefaultProvider)&&void 0!==o?o:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(i=null==e?void 0:e.defaultUserAgentProvider)&&void 0!==i?i:Md({serviceId:y.serviceId,clientVersion:"3.186.0"}),maxAttempts:null!==(a=null==e?void 0:e.maxAttempts)&&void 0!==a?a:3,region:null!==(s=null==e?void 0:e.region)&&void 0!==s?s:function(){return Promise.reject("Region is missing")},requestHandler:null!==(l=null==e?void 0:e.requestHandler)&&void 0!==l?l:new vd(v),retryMode:null!==(c=null==e?void 0:e.retryMode)&&void 0!==c?c:function(){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(e){switch(e.label){case 0:return[4,v()];case 1:return[2,e.sent().retryMode||Dc]}}))}))},sha256:null!==(u=null==e?void 0:e.sha256)&&void 0!==u?u:gd.Sha256,streamCollector:null!==(d=null==e?void 0:e.streamCollector)&&void 0!==d?d:Ad,useDualstackEndpoint:null!==(f=null==e?void 0:e.useDualstackEndpoint)&&void 0!==f?f:function(){return Promise.resolve(!1)},useFipsEndpoint:null!==(p=null==e?void 0:e.useFipsEndpoint)&&void 0!==p?p:function(){return Promise.resolve(!1)},utf8Decoder:null!==(h=null==e?void 0:e.utf8Decoder)&&void 0!==h?h:Nd.fromUtf8,utf8Encoder:null!==(m=null==e?void 0:e.utf8Encoder)&&void 0!==m?m:Nd.toUtf8})}(t)),c=function(e){var t,n=(0,Sc.$)(e.useDualstackEndpoint),r=e.endpoint,o=e.useFipsEndpoint,i=e.urlParser;return(0,Vt.__assign)((0,Vt.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:r?(0,Sc.$)("string"==typeof r?i(r):r):function(){return function(e){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,o,i,a,s;return(0,Vt.__generator)(this,(function(l){switch(l.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=l.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return o=l.sent(),[4,e.useFipsEndpoint()];case 3:return i=l.sent(),[4,e.regionInfoProvider(r,{useDualstackEndpoint:o,useFipsEndpoint:i})];case 4:if(!(a=(null!==(s=l.sent())&&void 0!==s?s:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser("".concat(n?"https:":"http:","//").concat(a))]}}))}))}((0,Vt.__assign)((0,Vt.__assign)({},e),{useDualstackEndpoint:n,useFipsEndpoint:o}))},isCustomEndpoint:!!r,useDualstackEndpoint:n})}(l),u=function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}(function(e){var t,n,r,o,i,a,s,l,c,u,d=e.credentials?"function"==typeof(n=e.credentials)?(r=n,i=function(e){return void 0!==e.expiration},c=!1,u=function(){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(e){switch(e.label){case 0:s||(s=r()),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,s];case 2:return a=e.sent(),l=!0,c=!1,[3,4];case 3:return s=void 0,[7];case 4:return[2,a]}}))}))},void 0===(o=function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5})?function(e){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(t){switch(t.label){case 0:return l&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,u()];case 1:a=t.sent(),t.label=2;case 2:return[2,a]}}))}))}:function(e){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(t){switch(t.label){case 0:return l&&!(null==e?void 0:e.forceRefresh)?[3,2]:[4,u()];case 1:a=t.sent(),t.label=2;case 2:return c?[2,a]:i&&!i(a)?(c=!0,[2,a]):o(a)?[4,u()]:[3,4];case 3:return t.sent(),[2,a];case 4:return[2,a]}}))}))}):(0,Sc.$)(n):e.credentialDefaultProvider(e),f=e.signingEscapePath,p=void 0===f||f,h=e.systemClockOffset,m=void 0===h?e.systemClockOffset||0:h,g=e.sha256;return t=e.signer?(0,Sc.$)(e.signer):e.regionInfoProvider?function(){return(0,Sc.$)(e.region)().then((function(t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,Vt.__generator)(this,(function(a){switch(a.label){case 0:return r=(n=e).regionInfoProvider,o=[t],i={},[4,e.useFipsEndpoint()];case 1:return i.useFipsEndpoint=a.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,r.apply(n,o.concat([(i.useDualstackEndpoint=a.sent(),i)]))];case 3:return[2,[a.sent()||{},t]]}}))}))})).then((function(t){var n=(0,Vt.__read)(t,2),r=n[0],o=n[1],i=r.signingRegion,a=r.signingService;e.signingRegion=e.signingRegion||i||o,e.signingName=e.signingName||a||e.serviceId;var s=(0,Vt.__assign)((0,Vt.__assign)({},e),{credentials:d,region:e.signingRegion,service:e.signingName,sha256:g,uriEscapePath:p});return new(e.signerConstructor||Pu)(s)}))}:function(t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o;return(0,Vt.__generator)(this,(function(i){if(!t)throw new Error("Unexpected empty auth scheme config");return n=t.signingScope,r=t.signingName,e.signingRegion=e.signingRegion||n,e.signingName=e.signingName||r||e.serviceId,o=(0,Vt.__assign)((0,Vt.__assign)({},e),{credentials:d,region:e.signingRegion,service:e.signingName,sha256:g,uriEscapePath:p}),[2,new(e.signerConstructor||Pu)(o)]}))}))},(0,Vt.__assign)((0,Vt.__assign)({},e),{systemClockOffset:m,signingEscapePath:p,credentials:d,signer:t})}((n=c,o=(0,Sc.$)(null!==(r=n.maxAttempts)&&void 0!==r?r:3),(0,Vt.__assign)((0,Vt.__assign)({},n),{maxAttempts:o,retryStrategy:function(){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(e){switch(e.label){case 0:return n.retryStrategy?[2,n.retryStrategy]:[4,(0,Sc.$)(n.retryMode)()];case 1:return e.sent()===_c.ADAPTIVE?[2,new Yc(o)]:[2,new Kc(o)]}}))}))}}))));return(s=e.call(this,u)||this).config=u,s.middlewareStack.use((a=s.config,{applyToStack:function(e){e.add(function(e){return function(t,n){return function(r){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var o;return(0,Vt.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.retryStrategy()];case 1:return(null==(o=i.sent())?void 0:o.mode)&&(n.userAgent=(0,Vt.__spreadArray)((0,Vt.__spreadArray)([],(0,Vt.__read)(n.userAgent||[]),!1),[["cfg/retry-mode",o.mode]],!1)),[2,o.retry(t,r)]}}))}))}}}(a),Jc)}})),s.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,Vt.__awaiter)(t,void 0,void 0,(function(){var t,o,i,a,s;return(0,Vt.__generator)(this,(function(l){if(t=r.request,Tc.isInstance(t)&&(o=t.body,i=t.headers,o&&-1===Object.keys(i).map((function(e){return e.toLowerCase()})).indexOf(Pc)))try{a=e(o),t.headers=(0,Vt.__assign)((0,Vt.__assign)({},t.headers),((s={})[Pc]=String(a),s))}catch(e){}return[2,n((0,Vt.__assign)((0,Vt.__assign)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Oc)}}}(s.config)),s.middlewareStack.use(function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var r,o;return(0,Vt.__generator)(this,(function(i){return Tc.isInstance(n.request)?(r=n.request,(void 0===(o=(e.requestHandler.metadata||{}).handlerProtocol)?"":o).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Mc)}}}(s.config)),s.middlewareStack.use((s.config,{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var r,o,i,a,s,l,c,u,d;return(0,Vt.__generator)(this,(function(f){switch(f.label){case 0:return r=t.clientName,o=t.commandName,i=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return l=f.sent(),a?("function"==typeof a.info&&(c=l.output,u=c.$metadata,d=(0,Vt.__rest)(c,["$metadata"]),a.info({clientName:r,commandName:o,input:i(n.input),output:s(d),metadata:u})),[2,l]):[2,l]}}))}))}}),Nc)}})),s.middlewareStack.use((0,Lc.eV)(s.config)),s.middlewareStack.use(function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(r){var o,i,a;return(0,Vt.__awaiter)(this,void 0,void 0,(function(){var s,l,c,u,d,f,p;return(0,Vt.__generator)(this,(function(h){switch(h.label){case 0:return Tc.isInstance(r.request)?(s=null===(a=null===(i=null===(o=n.endpointV2)||void 0===o?void 0:o.properties)||void 0===i?void 0:i.authSchemes)||void 0===a?void 0:a[0],[4,e.signer(s)]):[2,t(r)];case 1:return l=h.sent(),u=t,d=[(0,Vt.__assign)({},r)],p={},[4,l.sign(r.request,{signingDate:Nu(e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 2:return[4,u.apply(void 0,[Vt.__assign.apply(void 0,d.concat([(p.request=h.sent(),p)]))]).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:Ru(t.$response);throw r&&(e.systemClockOffset=Lu(r,e.systemClockOffset)),t}))];case 3:return c=h.sent(),(f=Ru(c.response))&&(e.systemClockOffset=Lu(f,e.systemClockOffset)),[2,c]}}))}))}}}(e),Du)}}}(s.config)),s.middlewareStack.use((i=s.config,{applyToStack:function(e){var t;e.add((t=i,function(e,n){return function(r){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var o,i,a,s,l,c,u,d,f;return(0,Vt.__generator)(this,(function(p){switch(p.label){case 0:return o=r.request,Tc.isInstance(o)?(i=o.headers,a=(null===(d=null==n?void 0:n.userAgent)||void 0===d?void 0:d.map(ju))||[],[4,t.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=p.sent().map(ju),l=(null===(f=null==t?void 0:t.customUserAgent)||void 0===f?void 0:f.map(ju))||[],c=(0,Vt.__spreadArray)((0,Vt.__spreadArray)((0,Vt.__spreadArray)([],(0,Vt.__read)(s),!1),(0,Vt.__read)(a),!1),(0,Vt.__read)(l),!1).join(" "),u=(0,Vt.__spreadArray)((0,Vt.__spreadArray)([],(0,Vt.__read)(s.filter((function(e){return e.startsWith("aws-sdk-")}))),!1),(0,Vt.__read)(l),!1).join(" "),"browser"!==t.runtime?(u&&(i[Fu]=i[Fu]?"".concat(i[zu]," ").concat(u):u),i[zu]=c):i[Fu]=c,[2,e((0,Vt.__assign)((0,Vt.__assign)({},r),{request:o}))]}}))}))}}),Bu)}})),s}return(0,Vt.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Hu),jd={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Bd={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Vd(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var o,i,a;return(0,Vt.__generator)(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:o=s.sent().response,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,t(o,e)];case 3:return i=s.sent(),[2,{response:o,output:i}];case 4:throw a=s.sent(),Object.defineProperty(a,"$response",{value:o}),a;case 5:return[2]}}))}))}}}(e,n),jd),r.add(function(e,t){return function(n,r){return function(o){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var i,a,s;return(0,Vt.__generator)(this,(function(l){switch(l.label){case 0:if(!(i=(null===(s=r.endpointV2)||void 0===s?void 0:s.url)&&e.urlParser?function(){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){return(0,Vt.__generator)(this,(function(t){return[2,e.urlParser(r.endpointV2.url)]}))}))}:e.endpoint))throw new Error("No valid endpoint provider available.");return[4,t(o.input,(0,Vt.__assign)((0,Vt.__assign)({},e),{endpoint:i}))];case 1:return a=l.sent(),[2,n((0,Vt.__assign)((0,Vt.__assign)({},o),{request:a}))]}}))}))}}}(e,t),Bd)}}}var Gd,qd,Hd,Wd,Kd=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(id),$d=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"BadRequestException",$fault:"client"},n))||this;return r.name="BadRequestException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(Kd),Zd=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"ConflictException",$fault:"client"},n))||this;return r.name="ConflictException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(Kd),Yd=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"InternalFailureException",$fault:"server"},n))||this;return r.name="InternalFailureException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(Kd),Jd=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"LimitExceededException",$fault:"client"},n))||this;return r.name="LimitExceededException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.retryAfterSeconds=n.retryAfterSeconds,r}return(0,Vt.__extends)(t,e),t}(Kd),Xd=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"NotFoundException",$fault:"client"},n))||this;return r.name="NotFoundException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(Kd);!function(e){e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(Gd||(Gd={})),function(e){e.COMPOSITE="Composite",e.CUSTOM_PAYLOAD="CustomPayload",e.PLAIN_TEXT="PlainText",e.SSML="SSML"}(qd||(qd={})),function(e){e.CLOSE="Close",e.CONFIRM_INTENT="ConfirmIntent",e.DELEGATE="Delegate",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot"}(Hd||(Hd={})),function(e){e.CONFIRMED="Confirmed",e.DENIED="Denied",e.NONE="None"}(Wd||(Wd={}));var Qd,ef=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"BadGatewayException",$fault:"server"},n))||this;return r.name="BadGatewayException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return(0,Vt.__extends)(t,e),t}(Kd),tf=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"DependencyFailedException",$fault:"client"},n))||this;return r.name="DependencyFailedException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return(0,Vt.__extends)(t,e),t}(Kd),nf=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"LoopDetectedException",$fault:"server"},n))||this;return r.name="LoopDetectedException",r.$fault="server",Object.setPrototypeOf(r,t.prototype),r.Message=n.Message,r}return(0,Vt.__extends)(t,e),t}(Kd),rf=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"NotAcceptableException",$fault:"client"},n))||this;return r.name="NotAcceptableException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(Kd);!function(e){e.CONFIRM_INTENT="ConfirmIntent",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot",e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"}(Qd||(Qd={}));var of,af=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"RequestTimeoutException",$fault:"client"},n))||this;return r.name="RequestTimeoutException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(Kd),sf=function(e){function t(n){var r=e.call(this,(0,Vt.__assign)({name:"UnsupportedMediaTypeException",$fault:"client"},n))||this;return r.name="UnsupportedMediaTypeException",r.$fault="client",Object.setPrototypeOf(r,t.prototype),r}return(0,Vt.__extends)(t,e),t}(Kd);!function(e){e.GENERIC="application/vnd.amazonaws.card.generic"}(of||(of={}));var lf=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.sessionAttributes&&{sessionAttributes:Ku}),e.requestAttributes&&{requestAttributes:Ku}),e.activeContexts&&{activeContexts:Ku})},cf=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.message&&{message:Ku}),e.encodedMessage&&{encodedMessage:Ku}),e.encodedInputTranscript&&{encodedInputTranscript:Ku}),e.activeContexts&&{activeContexts:Ku})},uf=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.sessionAttributes&&{sessionAttributes:Ku}),e.requestAttributes&&{requestAttributes:Ku}),e.inputText&&{inputText:Ku}),e.activeContexts&&{activeContexts:Ku})},df=function(e){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},e),e.alternativeIntents&&{alternativeIntents:e.alternativeIntents.map((function(e){return function(e){return(0,Vt.__assign)((0,Vt.__assign)({},e),e.slots&&{slots:Ku})}(e)}))}),e.slots&&{slots:Ku}),e.sessionAttributes&&{sessionAttributes:Ku}),e.message&&{message:Ku}),e.activeContexts&&{activeContexts:Ku})},ff=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,Vt.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,Vt.__assign)({},e)],a={},[4,jf(e.body,t)];case 1:switch(n=Vt.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=Bf(e,n.body)){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotAcceptableException":case"com.amazonaws.lexruntimeservice#NotAcceptableException":return[3,16];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,18];case"RequestTimeoutException":case"com.amazonaws.lexruntimeservice#RequestTimeoutException":return[3,20];case"UnsupportedMediaTypeException":case"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException":return[3,22]}return[3,24];case 2:return[4,mf(n,t)];case 3:throw s.sent();case 4:return[4,gf(n,t)];case 5:throw s.sent();case 6:return[4,vf(n,t)];case 7:throw s.sent();case 8:return[4,yf(n,t)];case 9:throw s.sent();case 10:return[4,bf(n,t)];case 11:throw s.sent();case 12:return[4,_f(n,t)];case 13:throw s.sent();case 14:return[4,wf(n,t)];case 15:throw s.sent();case 16:return[4,xf(n,t)];case 17:throw s.sent();case 18:return[4,Sf(n,t)];case 19:throw s.sent();case 20:return[4,Ef(n,t)];case 21:throw s.sent();case 22:return[4,Cf(n,t)];case 23:throw s.sent();case 24:i=n.body,sd({output:e,parsedBody:i,exceptionCtor:Kd,errorCode:o}),s.label=25;case 25:return[2]}}))}))},pf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a;return(0,Vt.__generator)(this,(function(s){switch(s.label){case 0:return r=[(0,Vt.__assign)({},e)],a={},[4,jf(e.body,t)];case 1:switch(n=Vt.__assign.apply(void 0,r.concat([(a.body=s.sent(),a)])),o=Bf(e,n.body)){case"BadGatewayException":case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotFoundException":case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,16]}return[3,18];case 2:return[4,mf(n,t)];case 3:throw s.sent();case 4:return[4,gf(n,t)];case 5:throw s.sent();case 6:return[4,vf(n,t)];case 7:throw s.sent();case 8:return[4,yf(n,t)];case 9:throw s.sent();case 10:return[4,bf(n,t)];case 11:throw s.sent();case 12:return[4,_f(n,t)];case 13:throw s.sent();case 14:return[4,wf(n,t)];case 15:throw s.sent();case 16:return[4,Sf(n,t)];case 17:throw s.sent();case 18:i=n.body,sd({output:e,parsedBody:i,exceptionCtor:Kd,errorCode:o}),s.label=19;case 19:return[2]}}))}))},hf=fd,mf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).Message&&(t.Message=ed(n.Message)),r=new ef((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},gf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new $d((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},vf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new Zd((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},yf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).Message&&(t.Message=ed(n.Message)),r=new tf((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},bf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new Yd((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},_f=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({retryAfterSeconds:[,e.headers["retry-after"]]}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new Jd((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},wf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).Message&&(t.Message=ed(n.Message)),r=new nf((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},xf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new rf((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},Sf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new Xd((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},Ef=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new af((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},Cf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return(0,Vt.__generator)(this,(function(o){return t=hf({}),null!=(n=e.body).message&&(t.message=ed(n.message)),r=new sf((0,Vt.__assign)({$metadata:zf(e)},t)),[2,ad(r,e.body)]}))}))},kf=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=i,n))}),{})},Af=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return function(e,t){return(0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},null!=e.name&&{name:e.name}),null!=e.parameters&&{parameters:kf(e.parameters)}),null!=e.timeToLive&&{timeToLive:Tf(e.timeToLive,t)})}(e,t)}))},Tf=function(e,t){return(0,Vt.__assign)((0,Vt.__assign)({},null!=e.timeToLiveInSeconds&&{timeToLiveInSeconds:e.timeToLiveInSeconds}),null!=e.turnsToLive&&{turnsToLive:e.turnsToLive})},If=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=i,n))}),{})},Pf=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=ed(i),n))}),{})},Of=function(e,t){return{timeToLiveInSeconds:Zu(e.timeToLiveInSeconds),turnsToLive:Zu(e.turnsToLive)}},Mf=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{attachmentLinkUrl:ed(e.attachmentLinkUrl),buttons:null!=e.buttons?Lf(e.buttons,t):void 0,imageUrl:ed(e.imageUrl),subTitle:ed(e.subTitle),title:ed(e.title)}}(e,t)}));return n},Nf=function(e,t){return{score:td(e.score)}},Lf=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{text:ed(e.text),value:ed(e.value)}}(e)}))},Rf=function(e,t){return{intentName:ed(e.intentName),nluIntentConfidence:null!=e.nluIntentConfidence?Nf(e.nluIntentConfidence):void 0,slots:null!=e.slots?Df(e.slots,t):void 0}},Df=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=(0,Vt.__read)(t,2),o=r[0],i=r[1];return null===i?e:(0,Vt.__assign)((0,Vt.__assign)({},e),((n={})[o]=ed(i),n))}),{})},zf=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(n=null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"])&&void 0!==n?n:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Ff=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},Uf=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},jf=function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){switch(o.label){case 0:return[4,Uf(e,t)];case 1:return(n=o.sent()).message=null!==(r=n.message)&&void 0!==r?r:n.Message,[2,n]}}))}))},Bf=function(e,t){var n,r=function(e){var t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,"x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()==="x-amzn-errortype".toLowerCase()})));return void 0!==o?r(e.headers[o]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):void 0},Vf=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Vt.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Vd(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostTextCommand",inputFilterSensitiveLog:uf,outputFilterSensitiveLog:df},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return n=d.sent(),r=n.hostname,o=n.protocol,i=void 0===o?"https":o,a=n.port,s=n.path,l={"content-type":"application/json"},c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/bot/{botName}/alias/{botAlias}/user/{userId}/text",c=md(c,e,"botName",(function(){return e.botName}),"{botName}",!1),c=md(c,e,"botAlias",(function(){return e.botAlias}),"{botAlias}",!1),c=md(c,e,"userId",(function(){return e.userId}),"{userId}",!1),u=JSON.stringify((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)((0,Vt.__assign)({},null!=e.activeContexts&&{activeContexts:Af(e.activeContexts,t)}),null!=e.inputText&&{inputText:e.inputText}),null!=e.requestAttributes&&{requestAttributes:If(e.requestAttributes)}),null!=e.sessionAttributes&&{sessionAttributes:If(e.sessionAttributes)})),[2,new Tc({protocol:i,hostname:r,port:a,method:"POST",headers:l,path:c,body:u})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i;return(0,Vt.__generator)(this,(function(a){switch(a.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,pf(e,t)]:(n=hf({$metadata:zf(e)}),o=Xu,i=Qu,[4,Uf(e.body,t)]);case 1:return null!=(r=o.apply(void 0,[i.apply(void 0,[a.sent()]),"body"])).activeContexts&&(n.activeContexts=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:ed(e.name),parameters:null!=e.parameters?Pf(e.parameters):void 0,timeToLive:null!=e.timeToLive?Of(e.timeToLive,t):void 0}}(e,t)}));return n}(r.activeContexts,t)),null!=r.alternativeIntents&&(n.alternativeIntents=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Rf(e,t)}))}(r.alternativeIntents,t)),null!=r.botVersion&&(n.botVersion=ed(r.botVersion)),null!=r.dialogState&&(n.dialogState=ed(r.dialogState)),null!=r.intentName&&(n.intentName=ed(r.intentName)),null!=r.message&&(n.message=ed(r.message)),null!=r.messageFormat&&(n.messageFormat=ed(r.messageFormat)),null!=r.nluIntentConfidence&&(n.nluIntentConfidence=Nf(r.nluIntentConfidence)),null!=r.responseCard&&(n.responseCard=function(e,t){return{contentType:ed(e.contentType),genericAttachments:null!=e.genericAttachments?Mf(e.genericAttachments,t):void 0,version:ed(e.version)}}(r.responseCard,t)),null!=r.sentimentResponse&&(n.sentimentResponse=function(e,t){return{sentimentLabel:ed(e.sentimentLabel),sentimentScore:ed(e.sentimentScore)}}(r.sentimentResponse)),null!=r.sessionAttributes&&(n.sessionAttributes=Df(r.sessionAttributes,t)),null!=r.sessionId&&(n.sessionId=ed(r.sessionId)),null!=r.slotToElicit&&(n.slotToElicit=ed(r.slotToElicit)),null!=r.slots&&(n.slots=Df(r.slots,t)),[2,n]}}))}))}(e,t)},t}(Wu),Gf=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return(0,Vt.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Vd(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"LexRuntimeServiceClient",commandName:"PostContentCommand",inputFilterSensitiveLog:lf,outputFilterSensitiveLog:cf},i=t.requestHandler;return r.resolve((function(e){return i.handle(e.request,n||{})}),o)},t.prototype.serialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u;return(0,Vt.__generator)(this,(function(d){switch(d.label){case 0:return[4,t.endpoint()];case 1:return n=d.sent(),r=n.hostname,o=n.protocol,i=void 0===o?"https":o,a=n.port,s=n.path,l=hf({},Ff,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD","content-type":e.contentType||"application/octet-stream","x-amz-lex-session-attributes":[function(){return Ff(e.sessionAttributes)},function(){return t.base64Encoder(Buffer.from(dd.fromObject(e.sessionAttributes)))}],"x-amz-lex-request-attributes":[function(){return Ff(e.requestAttributes)},function(){return t.base64Encoder(Buffer.from(dd.fromObject(e.requestAttributes)))}],accept:e.accept,"x-amz-lex-active-contexts":[function(){return Ff(e.activeContexts)},function(){return t.base64Encoder(Buffer.from(dd.fromObject(e.activeContexts)))}]}),c="".concat((null==s?void 0:s.endsWith("/"))?s.slice(0,-1):s||"")+"/bot/{botName}/alias/{botAlias}/user/{userId}/content",c=md(c,e,"botName",(function(){return e.botName}),"{botName}",!1),c=md(c,e,"botAlias",(function(){return e.botAlias}),"{botAlias}",!1),c=md(c,e,"userId",(function(){return e.userId}),"{userId}",!1),void 0!==e.inputStream&&(u=e.inputStream),[2,new Tc({protocol:i,hostname:r,port:a,method:"POST",headers:l,path:c,body:u})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return(0,Vt.__awaiter)(void 0,void 0,void 0,(function(){var n,r;return(0,Vt.__generator)(this,(function(o){return 200!==e.statusCode&&e.statusCode>=300?[2,ff(e,t)]:(n=hf({$metadata:zf(e),contentType:[,e.headers["content-type"]],intentName:[,e.headers["x-amz-lex-intent-name"]],nluIntentConfidence:[function(){return void 0!==e.headers["x-amz-lex-nlu-intent-confidence"]},function(){return new dd(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-nlu-intent-confidence"])).toString("utf8"))}],alternativeIntents:[function(){return void 0!==e.headers["x-amz-lex-alternative-intents"]},function(){return new dd(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-alternative-intents"])).toString("utf8"))}],slots:[function(){return void 0!==e.headers["x-amz-lex-slots"]},function(){return new dd(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-slots"])).toString("utf8"))}],sessionAttributes:[function(){return void 0!==e.headers["x-amz-lex-session-attributes"]},function(){return new dd(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-session-attributes"])).toString("utf8"))}],sentimentResponse:[,e.headers["x-amz-lex-sentiment"]],message:[,e.headers["x-amz-lex-message"]],encodedMessage:[,e.headers["x-amz-lex-encoded-message"]],messageFormat:[,e.headers["x-amz-lex-message-format"]],dialogState:[,e.headers["x-amz-lex-dialog-state"]],slotToElicit:[,e.headers["x-amz-lex-slot-to-elicit"]],inputTranscript:[,e.headers["x-amz-lex-input-transcript"]],encodedInputTranscript:[,e.headers["x-amz-lex-encoded-input-transcript"]],botVersion:[,e.headers["x-amz-lex-bot-version"]],sessionId:[,e.headers["x-amz-lex-session-id"]],activeContexts:[function(){return void 0!==e.headers["x-amz-lex-active-contexts"]},function(){return new dd(Buffer.from(t.base64Decoder(e.headers["x-amz-lex-active-contexts"])).toString("utf8"))}]}),r=e.body,n.audioStream=r,[2,n])}))}))}(e,t)},t}(Wu),qf=function(e){return yc(void 0,void 0,void 0,(function(){return bc(this,(function(t){return e instanceof Blob||e instanceof ReadableStream?[2,new Response(e).arrayBuffer().then((function(e){return new Uint8Array(e)}))]:[2,Promise.reject("Invalid content type")]}))}))},Hf=new Lt.k("AWSLexProvider"),Wf=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._botsCompleteCallback={},n}return function(e,t){function n(){this.constructor=e}gc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getProviderName=function(){return"AWSLexProvider"},t.prototype.configure=function(t){void 0===t&&(t={});var n=["name","alias","region"];return Object.keys(t).forEach((function(e){var r=t[e];if(!n.every((function(e){return e in r})))throw new Error("invalid bot configuration")})),e.prototype.configure.call(this,t)},t.prototype.reportBotStatus=function(e,t){var n=this;Hf.debug("postContent state",e.dialogState),"ReadyForFulfillment"!==e.dialogState&&"Fulfilled"!==e.dialogState||("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](null,e)}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(null,e)}),0)),"Failed"===e.dialogState&&("function"==typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t]("Bot conversation failed")}),0),this._config&&"function"==typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete("Bot conversation failed")}),0))},t.prototype.sendMessage=function(e,t){return yc(this,void 0,void 0,(function(){var n,r,o,i,a,s,l,c,u,d,f,p,h;return bc(this,(function(m){switch(m.label){case 0:if(!this._config[e])return[2,Promise.reject("Bot "+e+" does not exist")];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Bt.c.get()];case 2:return n=m.sent(),[3,4];case 3:return m.sent(),[2,Promise.reject("No credentials")];case 4:if(this.lexRuntimeServiceClient=new Ud({region:this._config[e].region,credentials:n,customUserAgent:(0,jt.Z)()}),"string"!=typeof t)return[3,9];r={botAlias:this._config[e].alias,botName:e,inputText:t,userId:n.identityId},Hf.debug("postText to lex",t),m.label=5;case 5:return m.trys.push([5,7,,8]),o=new Vf(r),[4,this.lexRuntimeServiceClient.send(o)];case 6:return u=m.sent(),this.reportBotStatus(u,e),[2,u];case 7:return i=m.sent(),[2,Promise.reject(i)];case 8:return[3,21];case 9:return a=t.content,"voice"!==t.options.messageType?[3,13]:"object"!=typeof a?[2,Promise.reject("invalid content type")]:a instanceof Uint8Array?(l=a,[3,12]):[3,10];case 10:return[4,qf(a)];case 11:l=m.sent(),m.label=12;case 12:return s=l,r={botAlias:this._config[e].alias,botName:e,contentType:"audio/x-l16; sample-rate=16000; channel-count=1",userId:n.identityId,accept:"audio/mpeg",inputStream:s},[3,14];case 13:if("string"!=typeof a)return[2,Promise.reject("invalid content type")];r={botAlias:this._config[e].alias,botName:e,contentType:"text/plain; charset=utf-8",inputStream:a,userId:n.identityId,accept:"audio/mpeg"},m.label=14;case 14:Hf.debug("postContent to lex",t),m.label=15;case 15:return m.trys.push([15,20,,21]),c=new Gf(r),[4,this.lexRuntimeServiceClient.send(c)];case 16:return(u=m.sent()).audioStream?[4,qf(u.audioStream)]:[3,18];case 17:return f=m.sent(),[3,19];case 18:f=void 0,m.label=19;case 19:return d=f,p=vc(vc({},u),{audioStream:d}),this.reportBotStatus(p,e),[2,p];case 20:return h=m.sent(),[2,Promise.reject(h)];case 21:return[2]}}))}))},t.prototype.onComplete=function(e,t){if(!this._config[e])throw new Error("Bot "+e+" does not exist");this._botsCompleteCallback[e]=t},t}(xc),Kf=new Lt.k("Interactions"),$f=new(function(){function e(e){void 0===e&&(e={}),this._options=e,Kf.debug("Interactions Options",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return"Interactions"},e.prototype.configure=function(e){var t=this,n=e?e.Interactions||e:{};Kf.debug("configure Interactions",{opt:n}),this._options=vc(vc({bots:{}},n),n.Interactions);var r=this._options.aws_bots_config,o=this._options.bots;return!Object.keys(o).length&&r&&Array.isArray(r)&&r.forEach((function(e){t._options.bots[e.name]=e})),Object.keys(o).forEach((function(e){var n,r=o[e],i=r.providerName||"AWSLexProvider";t._pluggables.AWSLexProvider||"AWSLexProvider"!==i||(t._pluggables.AWSLexProvider=new Wf),t._pluggables[i]?t._pluggables[i].configure(((n={})[r.name]=r,n)):Kf.debug("bot "+r.name+" was not configured as "+i+" provider was not found")})),this._options},e.prototype.addPluggable=function(e){var t=this;if(e&&"Interactions"===e.getCategory()){if(this._pluggables[e.getProviderName()])throw new Error("Pluggable "+e.getProviderName()+" already plugged");return Object.keys(this._options.bots).filter((function(n){return t._options.bots[n].providerName===e.getProviderName()})).forEach((function(n){var r,o=t._options.bots[n];e.configure(((r={})[o.name]=o,r))})),void(this._pluggables[e.getProviderName()]=e)}},e.prototype.send=function(e,t){return yc(this,void 0,void 0,(function(){var n;return bc(this,(function(r){switch(r.label){case 0:return this._options.bots&&this._options.bots[e]?(n=this._options.bots[e].providerName||"AWSLexProvider",this._pluggables[n]?[4,this._pluggables[n].sendMessage(e,t)]:[2,Promise.reject("Bot "+n+" does not have valid pluggin did you try addPluggable first?")]):[2,Promise.reject("Bot "+e+" does not exist")];case 1:return[2,r.sent()]}}))}))},e.prototype.onComplete=function(e,t){if(!this._options.bots||!this._options.bots[e])throw new Error("Bot "+e+" does not exist");var n=this._options.bots[e].providerName||"AWSLexProvider";if(!this._pluggables[n])throw new Error("Bot "+n+" does not have valid pluggin did you try addPluggable first?");this._pluggables[n].onComplete(e,t)},e}());r.d.register($f);var Zf=n(37427),Yf=function(e,t){return Yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Yf(e,t)};function Jf(e,t){function n(){this.constructor=e}Yf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Xf=function(){return Xf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xf.apply(this,arguments)};function Qf(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function ep(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var tp=n(41547),np=new Lt.k("AbstractXRProvider"),rp=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=Xf(Xf({},e),this._config),np.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"XR"},Object.defineProperty(e.prototype,"options",{get:function(){return Xf({},this._config)},enumerable:!0,configurable:!0}),e}(),op=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf(t,e),t}(Error),ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf(t,e),t}(op),ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf(t,e),t}(op),sp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf(t,e),t}(op),lp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf(t,e),t}(op),cp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf(t,e),t}(op),up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jf(t,e),t}(op),dp=new Lt.k("SumerianProvider"),fp=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t)||this}return Jf(t,e),t.prototype.getProviderName=function(){return"SumerianProvider"},t.prototype.loadScript=function(e){return Qf(this,void 0,void 0,(function(){return ep(this,(function(t){return[2,new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.addEventListener("load",(function(e){t()})),r.addEventListener("error",(function(t){n(new Error("Failed to load script: "+e))})),document.head.appendChild(r)}))]}))}))},t.prototype.loadScene=function(e,t,n){return Qf(this,void 0,void 0,(function(){var r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T,I;return ep(this,(function(P){switch(P.label){case 0:if(!e)throw l="No scene name passed into loadScene",dp.error(l),new cp(l);if(!t)throw l="No dom element id passed into loadScene",dp.error(l),new lp(l);if(!(r=document.getElementById(t)))throw l="DOM element id, "+t+" not found",dp.error(l),new lp(l);if(!(o=this.getScene(e)).sceneConfig)throw l="No scene config configured for scene: "+e,dp.error(l),new cp(l);if(i=o.sceneConfig.url,a=o.sceneConfig.sceneId,o.sceneConfig.hasOwnProperty("region"))s=o.sceneConfig.region;else{if(!this.options.hasOwnProperty("region"))throw l="No region configured for scene: "+e,dp.error(l),new cp(l);s=this.options.region}c={region:s,customUserAgent:tp.Constants.userAgent+"-SumerianScene"},u={headers:{"X-Amz-User-Agent":tp.Constants.userAgent}},d=i,P.label=1;case 1:return P.trys.push([1,3,,4]),[4,Bt.c.get()];case 2:return f=P.sent(),c.credentials=f,p={secret_key:f.secretAccessKey,access_key:f.accessKeyId,session_token:f.sessionToken},h={region:s,service:"sumerian"},m=Ft.E.sign({method:"GET",url:i},p,h),u.headers=Xf(Xf({},u.headers),m.headers),d=m.url,[3,4];case 3:return P.sent(),dp.debug("No credentials available, the request will be unsigned"),[3,4];case 4:return[4,fetch(d,u)];case 5:return[4,(g=P.sent()).json()];case 6:if(v=P.sent(),403===g.status)throw v.message?(dp.error("Failure to authenticate user: "+v.message),new cp("Failure to authenticate user: "+v.message)):(dp.error("Failure to authenticate user"),new cp("Failure to authenticate user"));return y=v.bundleData[a],[4,fetch(y.url,{headers:y.headers})];case 7:return[4,P.sent().json()];case 8:b=P.sent(),P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.loadScript(b[a].bootstrapperUrl)];case 10:return P.sent(),[3,12];case 11:throw _=P.sent(),dp.error(_),new cp(_);case 12:return w=n.progressCallback?n.progressCallback:void 0,x=o.publishParamOverrides?o.publishParamOverrides:void 0,S={element:r,sceneId:a,sceneBundle:b,apiResponse:v,progressCallback:w,publishParamOverrides:x,awsSDKConfigOverride:c},[4,window.SumerianBootstrapper.loadScene(S)];case 13:E=P.sent(),o.sceneController=E,o.isLoaded=!0;try{for(C=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(E.sceneLoadWarnings),k=C.next();!k.done;k=C.next())A=k.value,dp.warn("loadScene warning: "+A)}catch(e){T={error:e}}finally{try{k&&!k.done&&(I=C.return)&&I.call(C)}finally{if(T)throw T.error}}return[2]}}))}))},t.prototype.isSceneLoaded=function(e){return this.getScene(e).isLoaded||!1},t.prototype.getScene=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw dp.error(t),new ip(t)}if(!e)throw t="No scene name was passed",dp.error(t),new ap(t);if(!this.options.scenes[e])throw t="Scene '"+e+"' is not configured",dp.error(t),new ap(t);return this.options.scenes[e]},t.prototype.getSceneController=function(e){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw dp.error(t),new ip(t)}var n=this.options.scenes[e];if(!n)throw t="Scene '"+e+"' is not configured",dp.error(t),new ap(t);var r=n.sceneController;if(!r)throw t="Scene controller for '"+e+"' has not been loaded",dp.error(t),new sp(t);return r},t.prototype.isVRCapable=function(e){return this.getSceneController(e).vrCapable},t.prototype.isVRPresentationActive=function(e){return this.getSceneController(e).vrPresentationActive},t.prototype.start=function(e){this.getSceneController(e).start()},t.prototype.enterVR=function(e){this.getSceneController(e).enterVR()},t.prototype.exitVR=function(e){this.getSceneController(e).exitVR()},t.prototype.isMuted=function(e){return this.getSceneController(e).muted},t.prototype.setMuted=function(e,t){this.getSceneController(e).muted=t},t.prototype.onSceneEvent=function(e,t,n){this.getSceneController(e).on(t,n)},t.prototype.enableAudio=function(e){this.getSceneController(e).enableAudio()},t}(rp),pp=new Lt.k("XR"),hp=new(function(){function e(e){this._options=e,pp.debug("XR Options",this._options),this._defaultProvider="SumerianProvider",this._pluggables={},this.addPluggable(new fp)}return e.prototype.configure=function(e){var t=this,n=e?e.XR||e:{};return pp.debug("configure XR",{opt:n}),this._options=Object.assign({},this._options,n),Object.entries(this._pluggables).map((function(e){var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(e,2),o=r[0],i=r[1];o!==t._defaultProvider||n[t._defaultProvider]?i.configure(t._options[o]):i.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return Qf(this,void 0,void 0,(function(){return ep(this,(function(t){return e&&"XR"===e.getCategory()?(this._pluggables[e.getProviderName()]=e,[2,e.configure(this._options)]):[2]}))}))},e.prototype.loadScene=function(e,t,n,r){return void 0===n&&(n={}),void 0===r&&(r=this._defaultProvider),Qf(this,void 0,void 0,(function(){return ep(this,(function(o){switch(o.label){case 0:if(!this._pluggables[r])throw new up("Provider '"+r+"' not configured");return[4,this._pluggables[r].loadScene(e,t,n)];case 1:return[2,o.sent()]}}))}))},e.prototype.isSceneLoaded=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].isSceneLoaded(e)},e.prototype.getSceneController=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].getSceneController(e)},e.prototype.isVRCapable=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].isVRCapable(e)},e.prototype.isVRPresentationActive=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].isVRPresentationActive(e)},e.prototype.start=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].start(e)},e.prototype.enterVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].enterVR(e)},e.prototype.exitVR=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].exitVR(e)},e.prototype.isMuted=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].isMuted(e)},e.prototype.setMuted=function(e,t,n){if(void 0===n&&(n=this._defaultProvider),!this._pluggables[n])throw new up("Provider '"+n+"' not configured");return this._pluggables[n].setMuted(e,t)},e.prototype.onSceneEvent=function(e,t,n,r){if(void 0===r&&(r=this._defaultProvider),!this._pluggables[r])throw new up("Provider '"+r+"' not configured");return this._pluggables[r].onSceneEvent(e,t,n)},e.prototype.enableAudio=function(e,t){if(void 0===t&&(t=this._defaultProvider),!this._pluggables[t])throw new up("Provider '"+t+"' not configured");return this._pluggables[t].enableAudio(e)},e}())(null);r.d.register(hp);var mp=function(){return mp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mp.apply(this,arguments)};function gp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function vp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gp(arguments[t]));return e}var yp=new Lt.k("Predictions"),bp=new(function(){function e(e){this._options=e,this._convertPluggables=[],this._identifyPluggables=[],this._interpretPluggables=[]}return e.prototype.getModuleName=function(){return"Predictions"},e.prototype.addPluggable=function(e){if(this.getPluggable(e.getProviderName()))throw new Error("Pluggable with name "+e.getProviderName()+" has already been added.");var t=!1;this.implementsConvertPluggable(e)&&(this._convertPluggables.push(e),t=!0),this.implementsIdentifyPluggable(e)&&(this._identifyPluggables.push(e),t=!0),this.implementsInterpretPluggable(e)&&(this._interpretPluggables.push(e),t=!0),t&&this.configurePluggable(e)},e.prototype.getPluggable=function(e){var t=this.getAllProviders().find((function(t){return t.getProviderName()===e}));return void 0===t?(yp.debug("No plugin found with providerName=>",e),null):t},e.prototype.removePluggable=function(e){this._convertPluggables=this._convertPluggables.filter((function(t){return t.getProviderName()!==e})),this._identifyPluggables=this._identifyPluggables.filter((function(t){return t.getProviderName()!==e})),this._interpretPluggables=this._interpretPluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this,n=e?e.predictions||e:{};n=mp(mp({},n),e),this._options=Object.assign({},this._options,n),yp.debug("configure Predictions",this._options),this.getAllProviders().forEach((function(e){return t.configurePluggable(e)}))},e.prototype.interpret=function(e,t){return this.getPluggableToExecute(this._interpretPluggables,t).interpret(e)},e.prototype.convert=function(e,t){return this.getPluggableToExecute(this._convertPluggables,t).convert(e)},e.prototype.identify=function(e,t){return this.getPluggableToExecute(this._identifyPluggables,t).identify(e)},e.prototype.getPluggableToExecute=function(e,t){if(t&&t.providerName)return vp(e).find((function(e){return e.getProviderName()===t.providerName}));if(1===e.length)return e[0];throw new Error("More than one or no providers are configured, Either specify a provider name or configure exactly one provider")},e.prototype.getAllProviders=function(){return vp(this._convertPluggables,this._identifyPluggables,this._interpretPluggables)},e.prototype.configurePluggable=function(e){var t=Object.assign({},this._options.predictions,this._options[e.getCategory().toLowerCase()]);e.configure(t)},e.prototype.implementsConvertPluggable=function(e){return e&&"function"==typeof e.convert},e.prototype.implementsIdentifyPluggable=function(e){return e&&"function"==typeof e.identify},e.prototype.implementsInterpretPluggable=function(e){return e&&"function"==typeof e.interpret},e}())({});r.d.register(bp);var _p=n(23139),wp=n(21195),xp=n(31911),Sp=n(11058),Ep=[lc.g,Bt.c],Cp=[uc.b,lc.g,pc.KT];function kp(e){void 0===e&&(e={});var t=e.modules,n=void 0===t?Cp:t,o=e.req,i=r.d.configure(),a=new r.b,s=new Sp.N({req:o});return Ep.forEach((function(e){n.includes(e)||a.register(new e.constructor)})),n.forEach((function(e){a.register(new e.constructor)})),a.configure((0,Vt.__assign)((0,Vt.__assign)({},i),{storage:s})),a}var Ap=n(21066)},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=l(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,l=r-o;s<l;s+=a)i.push(c(e,s,s+a>l?l:s+a));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},51206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(n),a=Math.max(o,i),s=0,l=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===s)return 0;a-=1}else if(l[0][a]<l[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var o=e[n];if(t(o,n))return o}},e.assign=function(e){for(var t,n,r=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,n=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],null&&a(t.prototype,null),n&&a(t,n),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),o=l(n(93)),i=l(n(94)),a=l(n(95)),s=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),l=s.default.find(a,(function(e){return t.isOS(e)}));if(l){var c=this.satisfies(n[l]);if(void 0!==c)return c}var u=s.default.find(a,(function(e){return t.isPlatform(e)}));if(u){var d=this.satisfies(n[u]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(o),p=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(o,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=o.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=o.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=o.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},48764:(e,t,n)=>{"use strict";var r=n(79742),o=n(80645),i=n(87300);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,f=0;f<l;f++)if(c(e,i+f)!==c(t,f)){d=!1;break}if(d)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return V(j(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return V(B(t),e,n,r)}function E(e,t,n,r){return V(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.lW=l,t.h2=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function P(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>o)&&(n=o);for(var i="",a=t;a<n;++a)i+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return i}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,i){return i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:j(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}},87300:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},12828:(e,t,n)=>{"use strict";const r=n(86900),o=n(80834),i=new(n(61269))({maxSize:1e5}),a=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),s=(e,t)=>{if(!a(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:n,pascalCase:s,stopPaths:l,deep:c}=t,u=new Set(l),d=e=>(t,l)=>{if(c&&a(l)){const n=void 0===e?t:`${e}.${t}`;u.has(n)||(l=r(l,d(n)))}if(!n||!((e,t)=>e.some((e=>"string"==typeof e?e===t:(e.lastIndex=0,e.test(t)))))(n,t)){const e=s?`${t}_`:t;if(i.has(e))t=i.get(e);else{const n=o(t,{pascalCase:s});t.length<100&&i.set(e,n),t=n}}return[t,l]};return r(e,d(void 0))};e.exports=(e,t)=>Array.isArray(e)?Object.keys(e).map((n=>s(e[n],t))):s(e,t)},80834:e=>{"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return t=Object.assign({pascalCase:!1},t),e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let o=0;o<e.length;o++){const i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e})(e)),n=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n);var n};e.exports=t,e.exports.default=t},37240:(e,t,n)=>{"use strict";n.r(t),n.d(t,{camelCase:()=>h,camelCaseTransform:()=>f,camelCaseTransformMerge:()=>p,capitalCase:()=>v,capitalCaseTransform:()=>g,constantCase:()=>b,dotCase:()=>_,headerCase:()=>w,noCase:()=>s,paramCase:()=>x,pascalCase:()=>d,pascalCaseTransform:()=>c,pascalCaseTransformMerge:()=>u,pathCase:()=>S,sentenceCase:()=>C,sentenceCaseTransform:()=>E,snakeCase:()=>k});var r=n(70655);function o(e){return e.toLowerCase()}var i=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],a=/[^A-Z0-9]+/gi;function s(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,r=void 0===n?i:n,s=t.stripRegexp,c=void 0===s?a:s,u=t.transform,d=void 0===u?o:u,f=t.delimiter,p=void 0===f?" ":f,h=l(l(e,r,"$1\0$2"),c,"\0"),m=0,g=h.length;"\0"===h.charAt(m);)m++;for(;"\0"===h.charAt(g-1);)g--;return h.slice(m,g).split("\0").map(d).join(p)}function l(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}function c(e,t){var n=e.charAt(0),r=e.substr(1).toLowerCase();return t>0&&n>="0"&&n<="9"?"_"+n+r:""+n.toUpperCase()+r}function u(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function d(e,t){return void 0===t&&(t={}),s(e,(0,r.__assign)({delimiter:"",transform:c},t))}function f(e,t){return 0===t?e.toLowerCase():c(e,t)}function p(e,t){return 0===t?e.toLowerCase():u(e)}function h(e,t){return void 0===t&&(t={}),d(e,(0,r.__assign)({transform:f},t))}function m(e){return e.charAt(0).toUpperCase()+e.substr(1)}function g(e){return m(e.toLowerCase())}function v(e,t){return void 0===t&&(t={}),s(e,(0,r.__assign)({delimiter:" ",transform:g},t))}function y(e){return e.toUpperCase()}function b(e,t){return void 0===t&&(t={}),s(e,(0,r.__assign)({delimiter:"_",transform:y},t))}function _(e,t){return void 0===t&&(t={}),s(e,(0,r.__assign)({delimiter:"."},t))}function w(e,t){return void 0===t&&(t={}),v(e,(0,r.__assign)({delimiter:"-"},t))}function x(e,t){return void 0===t&&(t={}),_(e,(0,r.__assign)({delimiter:"-"},t))}function S(e,t){return void 0===t&&(t={}),_(e,(0,r.__assign)({delimiter:"/"},t))}function E(e,t){var n=e.toLowerCase();return 0===t?m(n):n}function C(e,t){return void 0===t&&(t={}),s(e,(0,r.__assign)({delimiter:" ",transform:E},t))}function k(e,t){return void 0===t&&(t={}),_(e,(0,r.__assign)({delimiter:"_"},t))}},94184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},10701:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ue});var r=n(8081),o=n.n(r),i=n(23645),a=n.n(i),s=n(61667),l=n.n(s),c=new URL(n(6248),n.b),u=new URL(n(851),n.b),d=new URL(n(34710),n.b),f=new URL(n(61963),n.b),p=new URL(n(99168),n.b),h=new URL(n(19515),n.b),m=new URL(n(44842),n.b),g=new URL(n(16181),n.b),v=new URL(n(37103),n.b),y=new URL(n(43561),n.b),b=new URL(n(52502),n.b),_=new URL(n(81123),n.b),w=new URL(n(26997),n.b),x=new URL(n(54967),n.b),S=new URL(n(97509),n.b),E=new URL(n(90592),n.b),C=new URL(n(51851),n.b),k=new URL(n(12273),n.b),A=new URL(n(21318),n.b),T=new URL(n(69519),n.b),I=new URL(n(74862),n.b),P=new URL(n(70077),n.b),O=new URL(n(73601),n.b),M=new URL(n(26082),n.b),N=new URL(n(57275),n.b),L=new URL(n(39722),n.b),R=new URL(n(77781),n.b),D=a()(o()),z=l()(c),F=l()(u),U=l()(d),j=l()(f),B=l()(p),V=l()(h),G=l()(m),q=l()(g),H=l()(v),W=l()(y),K=l()(b),$=l()(_),Z=l()(w),Y=l()(x),J=l()(S),X=l()(E),Q=l()(C),ee=l()(k),te=l()(A),ne=l()(T),re=l()(I),oe=l()(P),ie=l()(O),ae=l()(M),se=l()(N),le=l()(L),ce=l()(R);D.push([e.id,'/*\n * Amplify UI Basic Theme\n */\n:root, [data-amplify-theme] {\n  --amplify-components-alert-align-items: center;\n  --amplify-components-alert-justify-content: space-between;\n  --amplify-components-alert-color: var(--amplify-colors-font-primary);\n  --amplify-components-alert-background-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-alert-padding-block: var(--amplify-space-small);\n  --amplify-components-alert-padding-inline: var(--amplify-space-medium);\n  --amplify-components-alert-icon-size: var(--amplify-font-sizes-xl);\n  --amplify-components-alert-heading-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-alert-heading-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-alert-info-color: var(--amplify-colors-font-info);\n  --amplify-components-alert-info-background-color: var(--amplify-colors-background-info);\n  --amplify-components-alert-error-color: var(--amplify-colors-font-error);\n  --amplify-components-alert-error-background-color: var(--amplify-colors-background-error);\n  --amplify-components-alert-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-alert-warning-background-color: var(--amplify-colors-background-warning);\n  --amplify-components-alert-success-color: var(--amplify-colors-font-success);\n  --amplify-components-alert-success-background-color: var(--amplify-colors-background-success);\n  --amplify-components-authenticator-max-width: 60rem;\n  --amplify-components-authenticator-modal-width: var(--amplify-space-relative-full);\n  --amplify-components-authenticator-modal-height: var(--amplify-space-relative-full);\n  --amplify-components-authenticator-modal-background-color: var(--amplify-colors-overlay-50);\n  --amplify-components-authenticator-modal-top: var(--amplify-space-zero);\n  --amplify-components-authenticator-modal-left: var(--amplify-space-zero);\n  --amplify-components-authenticator-container-width-max: 30rem;\n  --amplify-components-authenticator-router-border-width: var(--amplify-border-widths-small);\n  --amplify-components-authenticator-router-border-style: solid;\n  --amplify-components-authenticator-router-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-authenticator-router-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-authenticator-router-box-shadow: var(--amplify-shadows-medium);\n  --amplify-components-authenticator-footer-padding-bottom: var(--amplify-space-medium);\n  --amplify-components-authenticator-form-padding: var(--amplify-space-xl);\n  --amplify-components-authenticator-state-inactive-background-color: var(--amplify-colors-background-secondary);\n  --amplify-components-authenticator-or-container-color: var(--amplify-colors-neutral-80);\n  --amplify-components-authenticator-or-container-or-line-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-autocomplete-menu-width: 100%;\n  --amplify-components-autocomplete-menu-margin-block-start: var(--amplify-space-xxxs);\n  --amplify-components-autocomplete-menu-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-autocomplete-menu-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-autocomplete-menu-border-width: var(--amplify-border-widths-small);\n  --amplify-components-autocomplete-menu-border-style: solid;\n  --amplify-components-autocomplete-menu-border-radius: var(--amplify-radii-small);\n  --amplify-components-autocomplete-menu-options-display: flex;\n  --amplify-components-autocomplete-menu-options-flex-direction: column;\n  --amplify-components-autocomplete-menu-options-max-height: 300px;\n  --amplify-components-autocomplete-menu-option-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-autocomplete-menu-option-color: currentcolor;\n  --amplify-components-autocomplete-menu-option-cursor: pointer;\n  --amplify-components-autocomplete-menu-option-transition-duration: var(--amplify-time-short);\n  --amplify-components-autocomplete-menu-option-transition-property: background-color, color;\n  --amplify-components-autocomplete-menu-option-transition-timing-function: ease;\n  --amplify-components-autocomplete-menu-option-active-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-autocomplete-menu-option-active-color: var(--amplify-colors-white);\n  --amplify-components-autocomplete-menu-empty-display: flex;\n  --amplify-components-autocomplete-menu-loading-align-items: center;\n  --amplify-components-autocomplete-menu-loading-display: flex;\n  --amplify-components-autocomplete-menu-loading-gap: var(--amplify-space-xxxs);\n  --amplify-components-autocomplete-menu-space-shared-padding-block: var(--amplify-space-xs);\n  --amplify-components-autocomplete-menu-space-shared-padding-inline: var(--amplify-space-small);\n  --amplify-components-badge-color: var(--amplify-colors-font-primary);\n  --amplify-components-badge-line-height: 1;\n  --amplify-components-badge-font-weight: var(--amplify-font-weights-semibold);\n  --amplify-components-badge-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-badge-text-align: center;\n  --amplify-components-badge-padding-vertical: var(--amplify-space-xs);\n  --amplify-components-badge-padding-horizontal: var(--amplify-space-small);\n  --amplify-components-badge-background-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-badge-border-radius: var(--amplify-radii-xl);\n  --amplify-components-badge-info-color: var(--amplify-colors-font-info);\n  --amplify-components-badge-info-background-color: var(--amplify-colors-background-info);\n  --amplify-components-badge-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-badge-warning-background-color: var(--amplify-colors-background-warning);\n  --amplify-components-badge-success-color: var(--amplify-colors-font-success);\n  --amplify-components-badge-success-background-color: var(--amplify-colors-background-success);\n  --amplify-components-badge-error-color: var(--amplify-colors-font-error);\n  --amplify-components-badge-error-background-color: var(--amplify-colors-background-error);\n  --amplify-components-badge-small-font-size: var(--amplify-font-sizes-xs);\n  --amplify-components-badge-small-padding-vertical: var(--amplify-space-xxs);\n  --amplify-components-badge-small-padding-horizontal: var(--amplify-space-xs);\n  --amplify-components-badge-large-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-badge-large-padding-vertical: var(--amplify-space-small);\n  --amplify-components-badge-large-padding-horizontal: var(--amplify-space-medium);\n  --amplify-components-button-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-button-transition-duration: var(--amplify-components-fieldcontrol-transition-duration);\n  --amplify-components-button-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-button-line-height: var(--amplify-components-fieldcontrol-line-height);\n  --amplify-components-button-padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  --amplify-components-button-padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  --amplify-components-button-padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  --amplify-components-button-padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  --amplify-components-button-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-button-border-width: var(--amplify-components-fieldcontrol-border-width);\n  --amplify-components-button-border-style: var(--amplify-components-fieldcontrol-border-style);\n  --amplify-components-button-border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  --amplify-components-button-color: var(--amplify-colors-font-primary);\n  --amplify-components-button-hover-color: var(--amplify-colors-font-focus);\n  --amplify-components-button-hover-background-color: var(--amplify-colors-brand-primary-10);\n  --amplify-components-button-hover-border-color: var(--amplify-colors-brand-primary-60);\n  --amplify-components-button-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-button-focus-background-color: var(--amplify-colors-brand-primary-10);\n  --amplify-components-button-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-button-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-button-active-color: var(--amplify-colors-font-active);\n  --amplify-components-button-active-background-color: var(--amplify-colors-brand-primary-20);\n  --amplify-components-button-active-border-color: var(--amplify-colors-brand-primary-100);\n  --amplify-components-button-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-loading-background-color: transparent;\n  --amplify-components-button-loading-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-disabled-background-color: transparent;\n  --amplify-components-button-disabled-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-primary-border-color: transparent;\n  --amplify-components-button-primary-border-width: var(--amplify-border-widths-small);\n  --amplify-components-button-primary-border-style: solid;\n  --amplify-components-button-primary-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-button-primary-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-disabled-border-color: transparent;\n  --amplify-components-button-primary-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-primary-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-primary-loading-border-color: transparent;\n  --amplify-components-button-primary-loading-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-primary-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-primary-hover-border-color: transparent;\n  --amplify-components-button-primary-hover-background-color: var(--amplify-colors-brand-primary-90);\n  --amplify-components-button-primary-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-focus-border-color: transparent;\n  --amplify-components-button-primary-focus-background-color: var(--amplify-colors-brand-primary-90);\n  --amplify-components-button-primary-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-primary-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-button-primary-active-border-color: transparent;\n  --amplify-components-button-primary-active-background-color: var(--amplify-colors-brand-primary-100);\n  --amplify-components-button-primary-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-border-width: var(--amplify-space-zero);\n  --amplify-components-button-menu-background-color: transparent;\n  --amplify-components-button-menu-justify-content: start;\n  --amplify-components-button-menu-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-hover-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-button-menu-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-focus-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-button-menu-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-menu-active-background-color: var(--amplify-colors-brand-primary-90);\n  --amplify-components-button-menu-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-link-background-color: transparent;\n  --amplify-components-button-link-border-color: transparent;\n  --amplify-components-button-link-border-width: var(--amplify-space-zero);\n  --amplify-components-button-link-color: var(--amplify-colors-font-interactive);\n  --amplify-components-button-link-hover-border-color: transparent;\n  --amplify-components-button-link-hover-background-color: var(--amplify-colors-brand-primary-10);\n  --amplify-components-button-link-hover-color: var(--amplify-colors-font-hover);\n  --amplify-components-button-link-focus-border-color: transparent;\n  --amplify-components-button-link-focus-background-color: var(--amplify-colors-brand-primary-10);\n  --amplify-components-button-link-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-button-link-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-button-link-active-border-color: transparent;\n  --amplify-components-button-link-active-background-color: var(--amplify-colors-brand-primary-20);\n  --amplify-components-button-link-active-color: var(--amplify-colors-font-active);\n  --amplify-components-button-link-disabled-border-color: transparent;\n  --amplify-components-button-link-disabled-background-color: transparent;\n  --amplify-components-button-link-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-link-loading-border-color: transparent;\n  --amplify-components-button-link-loading-background-color: transparent;\n  --amplify-components-button-link-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-warning-background-color: transparent;\n  --amplify-components-button-warning-border-color: var(--amplify-colors-red-60);\n  --amplify-components-button-warning-border-width: var(--amplify-border-widths-small);\n  --amplify-components-button-warning-color: var(--amplify-colors-red-60);\n  --amplify-components-button-warning-hover-border-color: var(--amplify-colors-red-80);\n  --amplify-components-button-warning-hover-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-warning-hover-color: var(--amplify-colors-font-error);\n  --amplify-components-button-warning-focus-border-color: var(--amplify-colors-red-80);\n  --amplify-components-button-warning-focus-background-color: var(--amplify-colors-red-10);\n  --amplify-components-button-warning-focus-color: var(--amplify-colors-red-80);\n  --amplify-components-button-warning-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-button-warning-active-border-color: var(--amplify-colors-red-100);\n  --amplify-components-button-warning-active-background-color: var(--amplify-colors-red-20);\n  --amplify-components-button-warning-active-color: var(--amplify-colors-red-100);\n  --amplify-components-button-warning-disabled-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-warning-disabled-background-color: transparent;\n  --amplify-components-button-warning-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-warning-loading-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-button-warning-loading-background-color: transparent;\n  --amplify-components-button-warning-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-destructive-border-color: transparent;\n  --amplify-components-button-destructive-border-width: var(--amplify-border-widths-small);\n  --amplify-components-button-destructive-border-style: solid;\n  --amplify-components-button-destructive-background-color: var(--amplify-colors-red-60);\n  --amplify-components-button-destructive-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-destructive-disabled-border-color: transparent;\n  --amplify-components-button-destructive-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-destructive-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-destructive-loading-border-color: transparent;\n  --amplify-components-button-destructive-loading-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-button-destructive-loading-color: var(--amplify-colors-font-disabled);\n  --amplify-components-button-destructive-hover-border-color: transparent;\n  --amplify-components-button-destructive-hover-background-color: var(--amplify-colors-red-80);\n  --amplify-components-button-destructive-hover-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-destructive-focus-border-color: transparent;\n  --amplify-components-button-destructive-focus-background-color: var(--amplify-colors-red-80);\n  --amplify-components-button-destructive-focus-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-destructive-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-button-destructive-active-border-color: transparent;\n  --amplify-components-button-destructive-active-background-color: var(--amplify-colors-red-100);\n  --amplify-components-button-destructive-active-color: var(--amplify-colors-font-inverse);\n  --amplify-components-button-small-font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  --amplify-components-button-small-padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  --amplify-components-button-small-padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  --amplify-components-button-small-padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  --amplify-components-button-small-padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n  --amplify-components-button-large-font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  --amplify-components-button-large-padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  --amplify-components-button-large-padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  --amplify-components-button-large-padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  --amplify-components-button-large-padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n  --amplify-components-button-loader-wrapper-align-items: center;\n  --amplify-components-button-loader-wrapper-gap: var(--amplify-space-xs);\n  --amplify-components-card-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-card-border-radius: var(--amplify-radii-xs);\n  --amplify-components-card-border-width: 0;\n  --amplify-components-card-border-style: solid;\n  --amplify-components-card-border-color: transparent;\n  --amplify-components-card-box-shadow: none;\n  --amplify-components-card-padding: var(--amplify-space-medium);\n  --amplify-components-card-outlined-background-color: var(--amplify-components-card-background-color);\n  --amplify-components-card-outlined-border-radius: var(--amplify-radii-xs);\n  --amplify-components-card-outlined-border-width: var(--amplify-border-widths-small);\n  --amplify-components-card-outlined-border-style: solid;\n  --amplify-components-card-outlined-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-card-outlined-box-shadow: var(--amplify-components-card-box-shadow);\n  --amplify-components-card-elevated-background-color: var(--amplify-components-card-background-color);\n  --amplify-components-card-elevated-border-radius: var(--amplify-radii-xs);\n  --amplify-components-card-elevated-border-width: 0;\n  --amplify-components-card-elevated-border-style: solid;\n  --amplify-components-card-elevated-border-color: transparent;\n  --amplify-components-card-elevated-box-shadow: var(--amplify-shadows-medium);\n  --amplify-components-checkbox-cursor: pointer;\n  --amplify-components-checkbox-align-items: center;\n  --amplify-components-checkbox-disabled-cursor: not-allowed;\n  --amplify-components-checkbox-button-position: relative;\n  --amplify-components-checkbox-button-align-items: center;\n  --amplify-components-checkbox-button-justify-content: center;\n  --amplify-components-checkbox-button-color: var(--amplify-colors-font-inverse);\n  --amplify-components-checkbox-button-before-width: 100%;\n  --amplify-components-checkbox-button-before-height: 100%;\n  --amplify-components-checkbox-button-before-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-checkbox-button-before-border-radius: 20%;\n  --amplify-components-checkbox-button-before-border-style: solid;\n  --amplify-components-checkbox-button-before-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-checkbox-button-focus-outline-color: var(--amplify-colors-transparent);\n  --amplify-components-checkbox-button-focus-outline-style: solid;\n  --amplify-components-checkbox-button-focus-outline-width: var(--amplify-outline-widths-medium);\n  --amplify-components-checkbox-button-focus-outline-offset: var(--amplify-outline-offsets-medium);\n  --amplify-components-checkbox-button-focus-border-color: var(--amplify-colors-transparent);\n  --amplify-components-checkbox-button-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-border-focus);\n  --amplify-components-checkbox-button-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-checkbox-button-error-border-color: var(--amplify-colors-border-error);\n  --amplify-components-checkbox-button-error-focus-border-color: var(--amplify-colors-transparent);\n  --amplify-components-checkbox-button-error-focus-box-shadow: 0px 0px 0px 2px var(--amplify-colors-border-error);\n  --amplify-components-checkbox-icon-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-checkbox-icon-border-radius: 20%;\n  --amplify-components-checkbox-icon-opacity: var(--amplify-opacities-0);\n  --amplify-components-checkbox-icon-transform: scale(0);\n  --amplify-components-checkbox-icon-transition-property: all;\n  --amplify-components-checkbox-icon-transition-duration: var(--amplify-time-short);\n  --amplify-components-checkbox-icon-transition-timing-function: ease-in-out;\n  --amplify-components-checkbox-icon-checked-opacity: var(--amplify-opacities-100);\n  --amplify-components-checkbox-icon-checked-transform: scale(1);\n  --amplify-components-checkbox-icon-checked-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-checkbox-icon-indeterminate-opacity: var(--amplify-opacities-100);\n  --amplify-components-checkbox-icon-indeterminate-transform: scale(1);\n  --amplify-components-checkbox-icon-indeterminate-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-checkbox-label-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-checkboxfield-align-items: flex-start;\n  --amplify-components-checkboxfield-align-content: center;\n  --amplify-components-checkboxfield-flex-direction: column;\n  --amplify-components-checkboxfield-justify-content: center;\n  --amplify-components-collection-pagination-current-color: var(--amplify-components-pagination-current-color);\n  --amplify-components-collection-pagination-current-background-color: var(--amplify-components-pagination-current-background-color);\n  --amplify-components-collection-pagination-button-color: var(--amplify-components-pagination-button-color);\n  --amplify-components-collection-pagination-button-hover-background-color: var(--amplify-components-pagination-button-hover-background-color);\n  --amplify-components-collection-pagination-button-hover-color: var(--amplify-components-pagination-button-hover-color);\n  --amplify-components-collection-pagination-button-disabled-color: var(--amplify-components-pagination-button-disabled-color);\n  --amplify-components-collection-search-input-color: var(--amplify-components-searchfield-color);\n  --amplify-components-collection-search-button-color: var(--amplify-components-searchfield-button-color);\n  --amplify-components-collection-search-button-active-background-color: var(--amplify-components-searchfield-button-active-background-color);\n  --amplify-components-collection-search-button-active-border-color: var(--amplify-components-searchfield-button-active-border-color);\n  --amplify-components-collection-search-button-active-color: var(--amplify-components-searchfield-button-active-color);\n  --amplify-components-collection-search-button-disabled-background-color: var(--amplify-components-searchfield-button-disabled-background-color);\n  --amplify-components-collection-search-button-disabled-border-color: var(--amplify-components-searchfield-button-disabled-border-color);\n  --amplify-components-collection-search-button-disabled-color: var(--amplify-components-searchfield-button-disabled-color);\n  --amplify-components-collection-search-button-focus-background-color: var(--amplify-components-searchfield-button-focus-background-color);\n  --amplify-components-collection-search-button-focus-border-color: var(--amplify-components-searchfield-button-focus-border-color);\n  --amplify-components-collection-search-button-focus-color: var(--amplify-components-searchfield-button-focus-color);\n  --amplify-components-collection-search-button-hover-background-color: var(--amplify-components-searchfield-button-hover-background-color);\n  --amplify-components-collection-search-button-hover-border-color: var(--amplify-components-searchfield-button-hover-border-color);\n  --amplify-components-collection-search-button-hover-color: var(--amplify-components-searchfield-button-hover-color);\n  --amplify-components-copy-font-size: var(--amplify-font-sizes-xs);\n  --amplify-components-copy-gap: var(--amplify-space-relative-medium);\n  --amplify-components-copy-svg-path-fill: var(--amplify-colors-font-primary);\n  --amplify-components-copy-tool-tip-bottom: var(--amplify-space-large);\n  --amplify-components-copy-tool-tip-color: var(--amplify-colors-teal-100);\n  --amplify-components-copy-tool-tip-font-size: var(--amplify-font-sizes-xxs);\n  --amplify-components-countrycodeselect-height: var(--amplify-space-relative-full);\n  --amplify-components-divider-border-style: solid;\n  --amplify-components-divider-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-divider-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-divider-label-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-divider-label-padding-inline: var(--amplify-space-medium);\n  --amplify-components-divider-label-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-divider-label-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-divider-small-border-width: var(--amplify-border-widths-small);\n  --amplify-components-divider-large-border-width: var(--amplify-border-widths-large);\n  --amplify-components-divider-opacity: var(--amplify-opacities-60);\n  --amplify-components-expander-display: block;\n  --amplify-components-expander-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-expander-border-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-box-shadow: var(--amplify-shadows-large);\n  --amplify-components-expander-width: 100%;\n  --amplify-components-expander-item-margin-top: 1px;\n  --amplify-components-expander-item-box-shadow: var(--amplify-shadows-small);\n  --amplify-components-expander-item-border-bottom-left-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-border-bottom-right-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-border-top-left-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-border-top-right-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-border-start-start-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-border-start-end-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-border-end-start-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-border-end-end-radius: var(--amplify-radii-medium);\n  --amplify-components-expander-item-focus-box-shadow: 0 0 0 2px var(--amplify-colors-border-focus);\n  --amplify-components-expander-header-box-shadow: 0 1px 0 var(--amplify-colors-overlay-20);\n  --amplify-components-expander-trigger-min-height: 3rem;\n  --amplify-components-expander-trigger-padding-inline-start: var(--amplify-space-large);\n  --amplify-components-expander-trigger-padding-inline-end: var(--amplify-space-large);\n  --amplify-components-expander-trigger-align-items: center;\n  --amplify-components-expander-trigger-justify-content: space-between;\n  --amplify-components-expander-trigger-hover-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-expander-content-padding-inline-start: var(--amplify-space-large);\n  --amplify-components-expander-content-padding-inline-end: var(--amplify-space-large);\n  --amplify-components-expander-content-text-color: var(--amplify-colors-font-secondary);\n  --amplify-components-expander-content-text-padding-block-start: var(--amplify-space-medium);\n  --amplify-components-expander-content-text-padding-block-end: var(--amplify-space-medium);\n  --amplify-components-expander-content-open-animation-duration: var(--amplify-time-medium);\n  --amplify-components-expander-content-open-animation-timing-function: cubic-bezier(0.87, 0, 0.13, 1);\n  --amplify-components-expander-content-closed-animation-duration: var(--amplify-time-medium);\n  --amplify-components-expander-content-closed-animation-timing-function: cubic-bezier(0.87, 0, 0.13, 1);\n  --amplify-components-expander-icon-transition-duration: var(--amplify-time-medium);\n  --amplify-components-expander-icon-transition-timing-function: cubic-bezier(0.87, 0, 0.13, 1);\n  --amplify-components-field-gap: var(--amplify-space-xs);\n  --amplify-components-field-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-field-small-gap: var(--amplify-space-xxxs);\n  --amplify-components-field-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-field-large-gap: var(--amplify-space-small);\n  --amplify-components-field-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-field-label-color: var(--amplify-colors-font-secondary);\n  --amplify-components-fieldcontrol-border-style: solid;\n  --amplify-components-fieldcontrol-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-fieldcontrol-border-width: var(--amplify-border-widths-small);\n  --amplify-components-fieldcontrol-border-radius: var(--amplify-radii-small);\n  --amplify-components-fieldcontrol-color: var(--amplify-colors-font-primary);\n  --amplify-components-fieldcontrol-padding-block-start: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-padding-block-end: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-padding-inline-start: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-padding-inline-end: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-font-size: var(--amplify-components-field-font-size);\n  --amplify-components-fieldcontrol-line-height: var(--amplify-line-heights-medium);\n  --amplify-components-fieldcontrol-transition-duration: var(--amplify-time-medium);\n  --amplify-components-fieldcontrol-outline-color: var(--amplify-colors-transparent);\n  --amplify-components-fieldcontrol-outline-style: solid;\n  --amplify-components-fieldcontrol-outline-width: var(--amplify-outline-widths-medium);\n  --amplify-components-fieldcontrol-outline-offset: var(--amplify-outline-offsets-medium);\n  --amplify-components-fieldcontrol-small-font-size: var(--amplify-components-field-small-font-size);\n  --amplify-components-fieldcontrol-small-padding-block-start: var(--amplify-space-xxs);\n  --amplify-components-fieldcontrol-small-padding-block-end: var(--amplify-space-xxs);\n  --amplify-components-fieldcontrol-small-padding-inline-start: var(--amplify-space-small);\n  --amplify-components-fieldcontrol-small-padding-inline-end: var(--amplify-space-small);\n  --amplify-components-fieldcontrol-large-font-size: var(--amplify-components-field-large-font-size);\n  --amplify-components-fieldcontrol-large-padding-block-start: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-large-padding-block-end: var(--amplify-space-xs);\n  --amplify-components-fieldcontrol-large-padding-inline-start: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-large-padding-inline-end: var(--amplify-space-medium);\n  --amplify-components-fieldcontrol-quiet-border-style: none;\n  --amplify-components-fieldcontrol-quiet-border-inline-start: none;\n  --amplify-components-fieldcontrol-quiet-border-inline-end: none;\n  --amplify-components-fieldcontrol-quiet-border-block-start: none;\n  --amplify-components-fieldcontrol-quiet-border-radius: 0;\n  --amplify-components-fieldcontrol-quiet-focus-border-block-end-color: var(--amplify-colors-border-focus);\n  --amplify-components-fieldcontrol-quiet-focus-box-shadow: 0px 1px 0px var(--amplify-colors-border-focus);\n  --amplify-components-fieldcontrol-quiet-error-border-block-end-color: var(--amplify-colors-border-error);\n  --amplify-components-fieldcontrol-quiet-error-focus-box-shadow: 0px 1px 0px var(--amplify-colors-border-error);\n  --amplify-components-fieldcontrol-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-fieldcontrol-focus-box-shadow: 0px 0px 0px 1px var(--amplify-colors-border-focus);\n  --amplify-components-fieldcontrol-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-fieldcontrol-disabled-cursor: not-allowed;\n  --amplify-components-fieldcontrol-disabled-border-color: var(--amplify-colors-transparent);\n  --amplify-components-fieldcontrol-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-fieldcontrol-error-border-color: var(--amplify-colors-border-error);\n  --amplify-components-fieldcontrol-error-focus-box-shadow: 0px 0px 0px 1px var(--amplify-colors-border-error);\n  --amplify-components-fieldgroup-gap: var(--amplify-space-zero);\n  --amplify-components-fieldgroup-vertical-align-items: center;\n  --amplify-components-fieldgroup-outer-align-items: center;\n  --amplify-components-fieldmessages-error-color: var(--amplify-colors-font-error);\n  --amplify-components-fieldmessages-error-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-fieldmessages-description-color: var(--amplify-colors-font-secondary);\n  --amplify-components-fieldmessages-description-font-style: italic;\n  --amplify-components-fieldmessages-description-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-fileuploader-dropzone-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-fileuploader-dropzone-border-radius: var(--amplify-radii-small);\n  --amplify-components-fileuploader-dropzone-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-fileuploader-dropzone-border-style: dashed;\n  --amplify-components-fileuploader-dropzone-border-width: var(--amplify-border-widths-small);\n  --amplify-components-fileuploader-dropzone-gap: var(--amplify-space-small);\n  --amplify-components-fileuploader-dropzone-padding-block: var(--amplify-space-xl);\n  --amplify-components-fileuploader-dropzone-padding-inline: var(--amplify-space-large);\n  --amplify-components-fileuploader-dropzone-text-align: center;\n  --amplify-components-fileuploader-dropzone-active-background-color: var(--amplify-colors-brand-primary-10);\n  --amplify-components-fileuploader-dropzone-active-border-radius: var(--amplify-components-fileuploader-dropzone-border-radius);\n  --amplify-components-fileuploader-dropzone-active-border-color: var(--amplify-colors-border-pressed);\n  --amplify-components-fileuploader-dropzone-active-border-style: var(--amplify-components-fileuploader-dropzone-border-style);\n  --amplify-components-fileuploader-dropzone-active-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-fileuploader-dropzone-icon-color: var(--amplify-colors-border-primary);\n  --amplify-components-fileuploader-dropzone-icon-font-size: var(--amplify-font-sizes-xxl);\n  --amplify-components-fileuploader-dropzone-text-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-fileuploader-dropzone-text-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-fileuploader-dropzone-text-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-fileuploader-file-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-fileuploader-file-border-radius: var(--amplify-radii-small);\n  --amplify-components-fileuploader-file-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-fileuploader-file-border-style: solid;\n  --amplify-components-fileuploader-file-border-width: var(--amplify-border-widths-small);\n  --amplify-components-fileuploader-file-padding-block: var(--amplify-space-xs);\n  --amplify-components-fileuploader-file-padding-inline: var(--amplify-space-small);\n  --amplify-components-fileuploader-file-gap: var(--amplify-space-small);\n  --amplify-components-fileuploader-file-align-items: baseline;\n  --amplify-components-fileuploader-file-name-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-fileuploader-file-name-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-fileuploader-file-name-color: var(--amplify-colors-font-primary);\n  --amplify-components-fileuploader-file-size-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-fileuploader-file-size-font-weight: var(--amplify-font-weights-normal);\n  --amplify-components-fileuploader-file-size-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-fileuploader-file-image-width: var(--amplify-space-xxl);\n  --amplify-components-fileuploader-file-image-height: var(--amplify-space-xxl);\n  --amplify-components-fileuploader-file-image-background-color: var(--amplify-colors-background-secondary);\n  --amplify-components-fileuploader-file-image-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-fileuploader-file-image-border-radius: var(--amplify-radii-small);\n  --amplify-components-fileuploader-loader-stroke-linecap: round;\n  --amplify-components-fileuploader-loader-stroke-empty: var(--amplify-colors-border-secondary);\n  --amplify-components-fileuploader-loader-stroke-filled: var(--amplify-components-loader-stroke-filled);\n  --amplify-components-fileuploader-loader-stroke-width: var(--amplify-border-widths-large);\n  --amplify-components-fileuploader-previewer-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-fileuploader-previewer-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-fileuploader-previewer-border-style: solid;\n  --amplify-components-fileuploader-previewer-border-width: var(--amplify-border-widths-small);\n  --amplify-components-fileuploader-previewer-border-radius: var(--amplify-radii-small);\n  --amplify-components-fileuploader-previewer-padding-block: var(--amplify-space-zero);\n  --amplify-components-fileuploader-previewer-padding-inline: var(--amplify-space-zero);\n  --amplify-components-fileuploader-previewer-max-height: 40rem;\n  --amplify-components-fileuploader-previewer-max-width: auto;\n  --amplify-components-fileuploader-previewer-text-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-fileuploader-previewer-text-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-fileuploader-previewer-text-color: var(--amplify-colors-font-primary);\n  --amplify-components-fileuploader-previewer-body-padding-block: var(--amplify-space-medium);\n  --amplify-components-fileuploader-previewer-body-padding-inline: var(--amplify-space-medium);\n  --amplify-components-fileuploader-previewer-body-gap: var(--amplify-space-small);\n  --amplify-components-fileuploader-previewer-footer-border-color: var(--amplify-colors-border-secondary);\n  --amplify-components-fileuploader-previewer-footer-border-style: solid;\n  --amplify-components-fileuploader-previewer-footer-border-width: var(--amplify-border-widths-small);\n  --amplify-components-fileuploader-previewer-footer-padding-block: var(--amplify-space-medium);\n  --amplify-components-fileuploader-previewer-footer-padding-inline: var(--amplify-space-medium);\n  --amplify-components-fileuploader-previewer-footer-justify-content: space-between;\n  --amplify-components-flex-gap: var(--amplify-space-medium);\n  --amplify-components-flex-justify-content: normal;\n  --amplify-components-flex-align-items: stretch;\n  --amplify-components-flex-align-content: normal;\n  --amplify-components-flex-flex-wrap: nowrap;\n  --amplify-components-heading-1-font-size: var(--amplify-font-sizes-xxxxl);\n  --amplify-components-heading-1-font-weight: var(--amplify-font-weights-light);\n  --amplify-components-heading-2-font-size: var(--amplify-font-sizes-xxxl);\n  --amplify-components-heading-2-font-weight: var(--amplify-font-weights-normal);\n  --amplify-components-heading-3-font-size: var(--amplify-font-sizes-xxl);\n  --amplify-components-heading-3-font-weight: var(--amplify-font-weights-medium);\n  --amplify-components-heading-4-font-size: var(--amplify-font-sizes-xl);\n  --amplify-components-heading-4-font-weight: var(--amplify-font-weights-semibold);\n  --amplify-components-heading-5-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-heading-5-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-heading-6-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-heading-6-font-weight: var(--amplify-font-weights-extrabold);\n  --amplify-components-heading-color: var(--amplify-colors-font-primary);\n  --amplify-components-heading-line-height: var(--amplify-line-heights-small);\n  --amplify-components-icon-line-height: 1;\n  --amplify-components-icon-height: 1em;\n  --amplify-components-highlightmatch-highlighted-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-image-max-width: 100%;\n  --amplify-components-image-height: auto;\n  --amplify-components-image-object-fit: initial;\n  --amplify-components-image-object-position: initial;\n  --amplify-components-inappmessaging-banner-height: 150px ;\n  --amplify-components-inappmessaging-banner-width: 400px ;\n  --amplify-components-inappmessaging-button-background-color: #e8e8e8;\n  --amplify-components-inappmessaging-button-border-radius: 5px;\n  --amplify-components-inappmessaging-button-color: black;\n  --amplify-components-inappmessaging-dialog-height: 50vh;\n  --amplify-components-inappmessaging-dialog-min-height: 400px;\n  --amplify-components-inappmessaging-dialog-min-width: 400px;\n  --amplify-components-inappmessaging-dialog-width: 30vw;\n  --amplify-components-inappmessaging-header-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-inappmessaging-header-font-weight: var(--amplify-font-weights-extrabold);\n  --amplify-components-link-active-color: var(--amplify-colors-font-active);\n  --amplify-components-link-color: var(--amplify-colors-font-interactive);\n  --amplify-components-link-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-link-hover-color: var(--amplify-colors-font-hover);\n  --amplify-components-link-visited-color: var(--amplify-colors-font-interactive);\n  --amplify-components-loader-width: var(--amplify-font-sizes-medium);\n  --amplify-components-loader-height: var(--amplify-font-sizes-medium);\n  --amplify-components-loader-font-size: var(--amplify-font-sizes-xs);\n  --amplify-components-loader-stroke-empty: var(--amplify-colors-neutral-20);\n  --amplify-components-loader-stroke-filled: var(--amplify-colors-brand-primary-80);\n  --amplify-components-loader-stroke-linecap: round;\n  --amplify-components-loader-animation-duration: 1s;\n  --amplify-components-loader-small-width: var(--amplify-font-sizes-small);\n  --amplify-components-loader-small-height: var(--amplify-font-sizes-small);\n  --amplify-components-loader-small-font-size: var(--amplify-font-sizes-xxs);\n  --amplify-components-loader-large-width: var(--amplify-font-sizes-large);\n  --amplify-components-loader-large-height: var(--amplify-font-sizes-large);\n  --amplify-components-loader-large-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-loader-linear-width: 100%;\n  --amplify-components-loader-linear-min-width: 5rem;\n  --amplify-components-loader-linear-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-loader-linear-stroke-width: var(--amplify-font-sizes-medium);\n  --amplify-components-loader-linear-stroke-filled: var(--amplify-colors-brand-primary-80);\n  --amplify-components-loader-linear-stroke-empty: var(--amplify-colors-neutral-20);\n  --amplify-components-loader-linear-stroke-linecap: round;\n  --amplify-components-loader-linear-animation-duration: 1s;\n  --amplify-components-loader-linear-small-stroke-width: var(--amplify-font-sizes-small);\n  --amplify-components-loader-linear-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-loader-linear-large-stroke-width: var(--amplify-font-sizes-large);\n  --amplify-components-loader-linear-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-loader-text-fill: var(--amplify-colors-font-primary);\n  --amplify-components-menu-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-menu-border-radius: var(--amplify-radii-medium);\n  --amplify-components-menu-border-width: var(--amplify-border-widths-small);\n  --amplify-components-menu-border-style: solid;\n  --amplify-components-menu-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-menu-box-shadow: var(--amplify-shadows-large);\n  --amplify-components-menu-flex-direction: column;\n  --amplify-components-menu-gap: var(--amplify-space-zero);\n  --amplify-components-menu-max-width: 30rem;\n  --amplify-components-menu-min-width: 14rem;\n  --amplify-components-menu-small-width: var(--amplify-font-sizes-medium);\n  --amplify-components-menu-small-height: var(--amplify-font-sizes-medium);\n  --amplify-components-menu-large-width: var(--amplify-font-sizes-xxxl);\n  --amplify-components-menu-large-height: var(--amplify-font-sizes-xxxl);\n  --amplify-components-menu-item-min-height: 2.5rem;\n  --amplify-components-menu-item-padding-inline-start: var(--amplify-space-medium);\n  --amplify-components-menu-item-padding-inline-end: var(--amplify-space-medium);\n  --amplify-components-pagination-current-align-items: center;\n  --amplify-components-pagination-current-justify-content: center;\n  --amplify-components-pagination-current-color: var(--amplify-colors-font-inverse);\n  --amplify-components-pagination-current-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-pagination-current-background-color: var(--amplify-colors-overlay-40);\n  --amplify-components-pagination-button-color: var(--amplify-colors-font-primary);\n  --amplify-components-pagination-button-padding-inline-start: var(--amplify-space-xxs);\n  --amplify-components-pagination-button-padding-inline-end: var(--amplify-space-xxs);\n  --amplify-components-pagination-button-transition-property: background-color;\n  --amplify-components-pagination-button-transition-duration: var(--amplify-time-medium);\n  --amplify-components-pagination-button-hover-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-pagination-button-hover-color: var(--amplify-colors-font-primary);\n  --amplify-components-pagination-button-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-pagination-ellipsis-align-items: baseline;\n  --amplify-components-pagination-ellipsis-justify-content: center;\n  --amplify-components-pagination-ellipsis-padding-inline-start: var(--amplify-space-xs);\n  --amplify-components-pagination-ellipsis-padding-inline-end: var(--amplify-space-xs);\n  --amplify-components-pagination-item-container-margin-left: var(--amplify-space-xxxs);\n  --amplify-components-pagination-item-container-margin-right: var(--amplify-space-xxxs);\n  --amplify-components-pagination-item-shared-height: var(--amplify-font-sizes-xxl);\n  --amplify-components-pagination-item-shared-min-width: var(--amplify-font-sizes-xxl);\n  --amplify-components-pagination-item-shared-border-radius: var(--amplify-font-sizes-medium);\n  --amplify-components-passwordfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-passwordfield-button-color: var(--amplify-components-button-color);\n  --amplify-components-passwordfield-button-active-background-color: var(--amplify-components-button-active-background-color);\n  --amplify-components-passwordfield-button-active-border-color: var(--amplify-components-button-active-border-color);\n  --amplify-components-passwordfield-button-active-color: var(--amplify-components-button-active-color);\n  --amplify-components-passwordfield-button-disabled-background-color: var(--amplify-components-button-disabled-background-color);\n  --amplify-components-passwordfield-button-disabled-border-color: var(--amplify-components-button-disabled-border-color);\n  --amplify-components-passwordfield-button-disabled-color: var(--amplify-components-button-disabled-color);\n  --amplify-components-passwordfield-button-focus-background-color: var(--amplify-components-button-focus-background-color);\n  --amplify-components-passwordfield-button-focus-border-color: var(--amplify-components-button-focus-border-color);\n  --amplify-components-passwordfield-button-focus-color: var(--amplify-components-button-focus-color);\n  --amplify-components-passwordfield-button-hover-background-color: var(--amplify-components-button-hover-background-color);\n  --amplify-components-passwordfield-button-hover-border-color: var(--amplify-components-button-hover-border-color);\n  --amplify-components-passwordfield-button-hover-color: var(--amplify-components-button-hover-color);\n  --amplify-components-phonenumberfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-phonenumberfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-phonenumberfield-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-phonenumberfield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-placeholder-border-radius: var(--amplify-radii-small);\n  --amplify-components-placeholder-transition-duration: var(--amplify-time-long);\n  --amplify-components-placeholder-start-color: var(--amplify-colors-background-secondary);\n  --amplify-components-placeholder-end-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-placeholder-small-height: var(--amplify-space-small);\n  --amplify-components-placeholder-default-height: var(--amplify-space-medium);\n  --amplify-components-placeholder-large-height: var(--amplify-space-large);\n  --amplify-components-radio-align-items: center;\n  --amplify-components-radio-justify-content: flex-start;\n  --amplify-components-radio-gap: inherit;\n  --amplify-components-radio-disabled-cursor: not-allowed;\n  --amplify-components-radio-button-align-items: center;\n  --amplify-components-radio-button-justify-content: center;\n  --amplify-components-radio-button-width: var(--amplify-font-sizes-medium);\n  --amplify-components-radio-button-height: var(--amplify-font-sizes-medium);\n  --amplify-components-radio-button-box-sizing: border-box;\n  --amplify-components-radio-button-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-radio-button-border-style: solid;\n  --amplify-components-radio-button-border-radius: 50%;\n  --amplify-components-radio-button-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-radio-button-color: var(--amplify-colors-background-primary);\n  --amplify-components-radio-button-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-radio-button-transition-property: all;\n  --amplify-components-radio-button-transition-duration: var(--amplify-time-medium);\n  --amplify-components-radio-button-outline-color: var(--amplify-colors-transparent);\n  --amplify-components-radio-button-outline-style: solid;\n  --amplify-components-radio-button-outline-width: var(--amplify-outline-widths-medium);\n  --amplify-components-radio-button-outline-offset: var(--amplify-outline-offsets-medium);\n  --amplify-components-radio-button-padding: var(--amplify-border-widths-medium);\n  --amplify-components-radio-button-small-width: var(--amplify-font-sizes-small);\n  --amplify-components-radio-button-small-height: var(--amplify-font-sizes-small);\n  --amplify-components-radio-button-large-width: var(--amplify-font-sizes-large);\n  --amplify-components-radio-button-large-height: var(--amplify-font-sizes-large);\n  --amplify-components-radio-button-checked-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-radio-button-checked-disabled-color: var(--amplify-colors-background-disabled);\n  --amplify-components-radio-button-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-radio-button-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-radio-button-error-border-color: var(--amplify-colors-border-error);\n  --amplify-components-radio-button-error-focus-box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n  --amplify-components-radio-button-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-radio-button-disabled-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-radio-label-color: var(--amplify-components-text-color);\n  --amplify-components-radio-label-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-radiogroup-radio-border-width: var(--amplify-components-radio-button-border-width);\n  --amplify-components-radiogroup-radio-border-color: var(--amplify-components-radio-button-border-color);\n  --amplify-components-radiogroup-radio-background-color: var(--amplify-components-radio-button-background-color);\n  --amplify-components-radiogroup-radio-checked-color: var(--amplify-components-radio-button-checked-color);\n  --amplify-components-radiogroup-radio-label-color: var(--amplify-components-radio-label-color);\n  --amplify-components-radiogroup-label-color: var(--amplify-components-field-label-color);\n  --amplify-components-rating-large-size: var(--amplify-font-sizes-xxxl);\n  --amplify-components-rating-default-size: var(--amplify-font-sizes-xl);\n  --amplify-components-rating-small-size: var(--amplify-font-sizes-small);\n  --amplify-components-rating-filled-color: var(--amplify-colors-brand-secondary-80);\n  --amplify-components-rating-empty-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-searchfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-searchfield-button-color: var(--amplify-components-button-color);\n  --amplify-components-searchfield-button-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-searchfield-button-active-background-color: var(--amplify-components-button-active-background-color);\n  --amplify-components-searchfield-button-active-border-color: var(--amplify-components-button-active-border-color);\n  --amplify-components-searchfield-button-active-color: var(--amplify-components-button-active-color);\n  --amplify-components-searchfield-button-disabled-background-color: var(--amplify-components-button-disabled-background-color);\n  --amplify-components-searchfield-button-disabled-border-color: var(--amplify-components-button-disabled-border-color);\n  --amplify-components-searchfield-button-disabled-color: var(--amplify-components-button-disabled-color);\n  --amplify-components-searchfield-button-focus-background-color: var(--amplify-components-button-focus-background-color);\n  --amplify-components-searchfield-button-focus-border-color: var(--amplify-components-button-focus-border-color);\n  --amplify-components-searchfield-button-focus-color: var(--amplify-components-button-focus-color);\n  --amplify-components-searchfield-button-hover-background-color: var(--amplify-components-button-hover-background-color);\n  --amplify-components-searchfield-button-hover-border-color: var(--amplify-components-button-hover-border-color);\n  --amplify-components-searchfield-button-hover-color: var(--amplify-components-button-hover-color);\n  --amplify-components-select-padding-inline-end: var(--amplify-space-xxl);\n  --amplify-components-select-wrapper-flex: 1;\n  --amplify-components-select-wrapper-display: block;\n  --amplify-components-select-wrapper-position: relative;\n  --amplify-components-select-wrapper-cursor: pointer;\n  --amplify-components-select-icon-wrapper-align-items: center;\n  --amplify-components-select-icon-wrapper-position: absolute;\n  --amplify-components-select-icon-wrapper-top: 50%;\n  --amplify-components-select-icon-wrapper-right: var(--amplify-space-medium);\n  --amplify-components-select-icon-wrapper-transform: translateY(-50%);\n  --amplify-components-select-icon-wrapper-pointer-events: none;\n  --amplify-components-select-option-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-select-option-color: var(--amplify-colors-font-primary);\n  --amplify-components-select-option-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-select-white-space: nowrap;\n  --amplify-components-select-min-width: 6.5rem;\n  --amplify-components-select-small-min-width: 5.5rem;\n  --amplify-components-select-large-min-width: 7.5rem;\n  --amplify-components-selectfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-selectfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-selectfield-flex-direction: column;\n  --amplify-components-selectfield-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-selectfield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-selectfield-label-color: var(--amplify-components-field-label-color);\n  --amplify-components-sliderfield-padding-block: var(--amplify-space-xs);\n  --amplify-components-sliderfield-track-background-color: var(--amplify-colors-background-quaternary);\n  --amplify-components-sliderfield-track-border-radius: 9999px;\n  --amplify-components-sliderfield-track-height: 0.375rem;\n  --amplify-components-sliderfield-track-min-width: 10rem;\n  --amplify-components-sliderfield-range-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-sliderfield-range-border-radius: 9999px;\n  --amplify-components-sliderfield-range-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-sliderfield-thumb-width: 1.25rem;\n  --amplify-components-sliderfield-thumb-height: 1.25rem;\n  --amplify-components-sliderfield-thumb-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-sliderfield-thumb-box-shadow: var(--amplify-shadows-small);\n  --amplify-components-sliderfield-thumb-border-radius: 50%;\n  --amplify-components-sliderfield-thumb-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-sliderfield-thumb-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-sliderfield-thumb-border-style: solid;\n  --amplify-components-sliderfield-thumb-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-sliderfield-thumb-disabled-border-color: transparent;\n  --amplify-components-sliderfield-thumb-disabled-box-shadow: none;\n  --amplify-components-sliderfield-thumb-hover-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-sliderfield-thumb-hover-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-sliderfield-thumb-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-sliderfield-thumb-focus-box-shadow: 0 0 0 2px var(--amplify-colors-border-focus);\n  --amplify-components-sliderfield-small-track-height: 0.25rem;\n  --amplify-components-sliderfield-small-thumb-width: 1rem;\n  --amplify-components-sliderfield-small-thumb-height: 1rem;\n  --amplify-components-sliderfield-large-track-height: 0.625rem;\n  --amplify-components-sliderfield-large-thumb-width: 1.5rem;\n  --amplify-components-sliderfield-large-thumb-height: 1.5rem;\n  --amplify-components-stepperfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-stepperfield-flex-direction: column;\n  --amplify-components-stepperfield-input-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-stepperfield-input-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-stepperfield-input-text-align: center;\n  --amplify-components-stepperfield-button-color: var(--amplify-components-button-color);\n  --amplify-components-stepperfield-button-background-color: var(--amplify-colors-transparent);\n  --amplify-components-stepperfield-button-active-color: var(--amplify-components-button-active-color);\n  --amplify-components-stepperfield-button-active-background-color: var(--amplify-components-button-active-background-color);\n  --amplify-components-stepperfield-button-focus-color: var(--amplify-components-button-focus-color);\n  --amplify-components-stepperfield-button-focus-background-color: var(--amplify-components-button-focus-background-color);\n  --amplify-components-stepperfield-button-disabled-color: var(--amplify-components-button-disabled-color);\n  --amplify-components-stepperfield-button-disabled-background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n  --amplify-components-stepperfield-button-hover-color: var(--amplify-components-button-hover-color);\n  --amplify-components-stepperfield-button-hover-background-color: var(--amplify-components-button-hover-background-color);\n  --amplify-components-switchfield-disabled-opacity: var(--amplify-opacities-60);\n  --amplify-components-switchfield-focused-shadow: 0px 0px 0px 2px var(--amplify-colors-border-focus);\n  --amplify-components-switchfield-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-switchfield-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-switchfield-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-switchfield-label-padding: var(--amplify-space-xs);\n  --amplify-components-switchfield-thumb-background-color: var(--amplify-colors-background-primary);\n  --amplify-components-switchfield-thumb-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-switchfield-thumb-border-radius: var(--amplify-radii-xxxl);\n  --amplify-components-switchfield-thumb-checked-transform: var(--amplify-transforms-slide-x-medium);\n  --amplify-components-switchfield-thumb-transition-duration: var(--amplify-time-medium);\n  --amplify-components-switchfield-thumb-width: var(--amplify-space-relative-medium);\n  --amplify-components-switchfield-track-background-color: var(--amplify-colors-background-quaternary);\n  --amplify-components-switchfield-track-border-radius: var(--amplify-radii-xxxl);\n  --amplify-components-switchfield-track-checked-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-switchfield-track-height: var(--amplify-space-relative-medium);\n  --amplify-components-switchfield-track-padding: var(--amplify-outline-widths-medium);\n  --amplify-components-switchfield-track-transition-duration: var(--amplify-time-short);\n  --amplify-components-switchfield-track-width: var(--amplify-space-relative-xl);\n  --amplify-components-switchfield-track-error-background-color: var(--amplify-colors-background-error);\n  --amplify-components-table-border-collapse: collapse;\n  --amplify-components-table-display: table;\n  --amplify-components-table-width: 100%;\n  --amplify-components-table-head-display: table-header-group;\n  --amplify-components-table-head-vertical-align: middle;\n  --amplify-components-table-body-display: table-row-group;\n  --amplify-components-table-body-vertical-align: middle;\n  --amplify-components-table-foot-display: table-footer-group;\n  --amplify-components-table-foot-vertical-align: middle;\n  --amplify-components-table-row-display: table-row;\n  --amplify-components-table-row-vertical-align: middle;\n  --amplify-components-table-row-hover-background-color: var(--amplify-colors-background-tertiary);\n  --amplify-components-table-row-striped-background-color: var(--amplify-colors-background-secondary);\n  --amplify-components-table-header-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-table-header-border-style: solid;\n  --amplify-components-table-header-border-width: var(--amplify-border-widths-small);\n  --amplify-components-table-header-color: var(--amplify-colors-font-primary);\n  --amplify-components-table-header-display: table-cell;\n  --amplify-components-table-header-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-table-header-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-table-header-padding: var(--amplify-space-medium);\n  --amplify-components-table-header-vertical-align: middle;\n  --amplify-components-table-header-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-table-header-large-padding: var(--amplify-space-large);\n  --amplify-components-table-header-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-table-header-small-padding: var(--amplify-space-xs);\n  --amplify-components-table-data-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-table-data-border-style: solid;\n  --amplify-components-table-data-border-width: var(--amplify-border-widths-small);\n  --amplify-components-table-data-color: var(--amplify-colors-font-primary);\n  --amplify-components-table-data-display: table-cell;\n  --amplify-components-table-data-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-table-data-font-weight: var(--amplify-font-weights-normal);\n  --amplify-components-table-data-padding: var(--amplify-space-medium);\n  --amplify-components-table-data-vertical-align: middle;\n  --amplify-components-table-data-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-table-data-large-padding: var(--amplify-space-large);\n  --amplify-components-table-data-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-table-data-small-padding: var(--amplify-space-xs);\n  --amplify-components-table-caption-caption-side: bottom;\n  --amplify-components-table-caption-color: var(--amplify-colors-font-primary);\n  --amplify-components-table-caption-display: table-caption;\n  --amplify-components-table-caption-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-table-caption-text-align: center;\n  --amplify-components-table-caption-word-break: break-all;\n  --amplify-components-table-caption-large-font-size: var(--amplify-font-sizes-large);\n  --amplify-components-table-caption-small-font-size: var(--amplify-font-sizes-small);\n  --amplify-components-tabs-background-color: transparent;\n  --amplify-components-tabs-border-color: var(--amplify-colors-border-secondary);\n  --amplify-components-tabs-border-style: solid;\n  --amplify-components-tabs-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-tabs-gap: 0;\n  --amplify-components-tabs-item-background-color: transparent;\n  --amplify-components-tabs-item-border-color: var(--amplify-colors-border-secondary);\n  --amplify-components-tabs-item-border-style: solid;\n  --amplify-components-tabs-item-border-width: var(--amplify-border-widths-medium);\n  --amplify-components-tabs-item-color: var(--amplify-colors-font-secondary);\n  --amplify-components-tabs-item-font-size: var(--amplify-font-sizes-medium);\n  --amplify-components-tabs-item-font-weight: var(--amplify-font-weights-bold);\n  --amplify-components-tabs-item-padding-vertical: var(--amplify-space-small);\n  --amplify-components-tabs-item-padding-horizontal: var(--amplify-space-medium);\n  --amplify-components-tabs-item-text-align: center;\n  --amplify-components-tabs-item-transition-duration: var(--amplify-time-medium);\n  --amplify-components-tabs-item-hover-color: var(--amplify-colors-font-hover);\n  --amplify-components-tabs-item-focus-color: var(--amplify-colors-font-focus);\n  --amplify-components-tabs-item-active-color: var(--amplify-colors-font-interactive);\n  --amplify-components-tabs-item-active-border-color: var(--amplify-colors-font-interactive);\n  --amplify-components-tabs-item-active-background-color: transparent;\n  --amplify-components-tabs-item-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-tabs-item-disabled-background-color: transparent;\n  --amplify-components-tabs-item-disabled-border-color: var(--amplify-colors-border-tertiary);\n  --amplify-components-text-color: var(--amplify-colors-font-primary);\n  --amplify-components-text-primary-color: var(--amplify-colors-font-primary);\n  --amplify-components-text-secondary-color: var(--amplify-colors-font-secondary);\n  --amplify-components-text-tertiary-color: var(--amplify-colors-font-tertiary);\n  --amplify-components-text-error-color: var(--amplify-colors-font-error);\n  --amplify-components-text-warning-color: var(--amplify-colors-font-warning);\n  --amplify-components-text-success-color: var(--amplify-colors-font-success);\n  --amplify-components-text-info-color: var(--amplify-colors-font-info);\n  --amplify-components-textareafield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-textareafield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-textareafield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-textfield-color: var(--amplify-components-fieldcontrol-color);\n  --amplify-components-textfield-border-color: var(--amplify-components-fieldcontrol-border-color);\n  --amplify-components-textfield-font-size: var(--amplify-components-fieldcontrol-font-size);\n  --amplify-components-textfield-focus-border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  --amplify-components-togglebutton-border-color: var(--amplify-colors-border-primary);\n  --amplify-components-togglebutton-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-hover-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-togglebutton-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-focus-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-active-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-disabled-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-togglebutton-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-togglebutton-pressed-border-color: var(--amplify-colors-border-pressed);\n  --amplify-components-togglebutton-pressed-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-pressed-background-color: var(--amplify-colors-overlay-20);\n  --amplify-components-togglebutton-pressed-hover-background-color: var(--amplify-colors-overlay-30);\n  --amplify-components-togglebutton-primary-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-primary-border-width: var(--amplify-border-widths-small);\n  --amplify-components-togglebutton-primary-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-primary-focus-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-primary-focus-box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n  --amplify-components-togglebutton-primary-focus-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-primary-hover-background-color: var(--amplify-colors-overlay-10);\n  --amplify-components-togglebutton-primary-hover-color: var(--amplify-colors-font-primary);\n  --amplify-components-togglebutton-primary-disabled-border-color: var(--amplify-colors-border-disabled);\n  --amplify-components-togglebutton-primary-disabled-background-color: var(--amplify-colors-background-disabled);\n  --amplify-components-togglebutton-primary-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-togglebutton-primary-pressed-background-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-togglebutton-primary-pressed-border-color: var(--amplify-colors-brand-primary-80);\n  --amplify-components-togglebutton-primary-pressed-color: var(--amplify-colors-background-primary);\n  --amplify-components-togglebutton-primary-pressed-focus-background-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-primary-pressed-focus-border-color: var(--amplify-colors-border-focus);\n  --amplify-components-togglebutton-primary-pressed-focus-color: var(--amplify-colors-background-primary);\n  --amplify-components-togglebutton-primary-pressed-hover-border-color: var(--amplify-colors-brand-primary-60);\n  --amplify-components-togglebutton-primary-pressed-hover-background-color: var(--amplify-colors-brand-primary-60);\n  --amplify-components-togglebutton-primary-pressed-hover-box-shadow: var(--amplify-colors-brand-primary-60);\n  --amplify-components-togglebutton-primary-pressed-hover-color: var(--amplify-colors-background-primary);\n  --amplify-components-togglebutton-link-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-color: var(--amplify-colors-overlay-50);\n  --amplify-components-togglebutton-link-hover-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-hover-color: var(--amplify-colors-overlay-50);\n  --amplify-components-togglebutton-link-focus-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-focus-color: var(--amplify-colors-overlay-50);\n  --amplify-components-togglebutton-link-disabled-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-disabled-color: var(--amplify-colors-font-disabled);\n  --amplify-components-togglebutton-link-pressed-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-pressed-color: var(--amplify-colors-overlay-90);\n  --amplify-components-togglebutton-link-pressed-focus-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebutton-link-pressed-focus-color: var(--amplify-colors-overlay-90);\n  --amplify-components-togglebutton-link-pressed-hover-color: var(--amplify-colors-overlay-90);\n  --amplify-components-togglebutton-link-pressed-hover-background-color: var(--amplify-colors-transparent);\n  --amplify-components-togglebuttongroup-align-items: center;\n  --amplify-components-togglebuttongroup-align-content: center;\n  --amplify-components-togglebuttongroup-justify-content: flex-start;\n  --amplify-border-widths-small: 1px;\n  --amplify-border-widths-medium: 2px;\n  --amplify-border-widths-large: 3px;\n  --amplify-colors-red-10: hsl(0, 75%, 95%);\n  --amplify-colors-red-20: hsl(0, 75%, 85%);\n  --amplify-colors-red-40: hsl(0, 75%, 75%);\n  --amplify-colors-red-60: hsl(0, 50%, 50%);\n  --amplify-colors-red-80: hsl(0, 95%, 30%);\n  --amplify-colors-red-90: hsl(0, 100%, 20%);\n  --amplify-colors-red-100: hsl(0, 100%, 15%);\n  --amplify-colors-orange-10: hsl(30, 75%, 95%);\n  --amplify-colors-orange-20: hsl(30, 75%, 85%);\n  --amplify-colors-orange-40: hsl(30, 75%, 75%);\n  --amplify-colors-orange-60: hsl(30, 50%, 50%);\n  --amplify-colors-orange-80: hsl(30, 95%, 30%);\n  --amplify-colors-orange-90: hsl(30, 100%, 20%);\n  --amplify-colors-orange-100: hsl(30, 100%, 15%);\n  --amplify-colors-yellow-10: hsl(60, 75%, 95%);\n  --amplify-colors-yellow-20: hsl(60, 75%, 85%);\n  --amplify-colors-yellow-40: hsl(60, 75%, 75%);\n  --amplify-colors-yellow-60: hsl(60, 50%, 50%);\n  --amplify-colors-yellow-80: hsl(60, 95%, 30%);\n  --amplify-colors-yellow-90: hsl(60, 100%, 20%);\n  --amplify-colors-yellow-100: hsl(60, 100%, 15%);\n  --amplify-colors-green-10: hsl(130, 60%, 95%);\n  --amplify-colors-green-20: hsl(130, 60%, 90%);\n  --amplify-colors-green-40: hsl(130, 44%, 63%);\n  --amplify-colors-green-60: hsl(130, 43%, 46%);\n  --amplify-colors-green-80: hsl(130, 33%, 37%);\n  --amplify-colors-green-90: hsl(130, 27%, 29%);\n  --amplify-colors-green-100: hsl(130, 22%, 23%);\n  --amplify-colors-teal-10: hsl(190, 75%, 95%);\n  --amplify-colors-teal-20: hsl(190, 75%, 85%);\n  --amplify-colors-teal-40: hsl(190, 70%, 70%);\n  --amplify-colors-teal-60: hsl(190, 50%, 50%);\n  --amplify-colors-teal-80: hsl(190, 95%, 30%);\n  --amplify-colors-teal-90: hsl(190, 100%, 20%);\n  --amplify-colors-teal-100: hsl(190, 100%, 15%);\n  --amplify-colors-blue-10: hsl(220, 95%, 95%);\n  --amplify-colors-blue-20: hsl(220, 85%, 85%);\n  --amplify-colors-blue-40: hsl(220, 70%, 70%);\n  --amplify-colors-blue-60: hsl(220, 50%, 50%);\n  --amplify-colors-blue-80: hsl(220, 95%, 30%);\n  --amplify-colors-blue-90: hsl(220, 100%, 20%);\n  --amplify-colors-blue-100: hsl(220, 100%, 15%);\n  --amplify-colors-purple-10: hsl(300, 95%, 95%);\n  --amplify-colors-purple-20: hsl(300, 85%, 85%);\n  --amplify-colors-purple-40: hsl(300, 70%, 70%);\n  --amplify-colors-purple-60: hsl(300, 50%, 50%);\n  --amplify-colors-purple-80: hsl(300, 95%, 30%);\n  --amplify-colors-purple-90: hsl(300, 100%, 20%);\n  --amplify-colors-purple-100: hsl(300, 100%, 15%);\n  --amplify-colors-pink-10: hsl(340, 95%, 95%);\n  --amplify-colors-pink-20: hsl(340, 90%, 85%);\n  --amplify-colors-pink-40: hsl(340, 70%, 70%);\n  --amplify-colors-pink-60: hsl(340, 50%, 50%);\n  --amplify-colors-pink-80: hsl(340, 95%, 30%);\n  --amplify-colors-pink-90: hsl(340, 100%, 20%);\n  --amplify-colors-pink-100: hsl(340, 100%, 15%);\n  --amplify-colors-neutral-10: hsl(210, 5%, 98%);\n  --amplify-colors-neutral-20: hsl(210, 5%, 94%);\n  --amplify-colors-neutral-40: hsl(210, 5%, 87%);\n  --amplify-colors-neutral-60: hsl(210, 10%, 58%);\n  --amplify-colors-neutral-80: hsl(210, 10%, 40%);\n  --amplify-colors-neutral-90: hsl(210, 25%, 25%);\n  --amplify-colors-neutral-100: hsl(210, 50%, 10%);\n  --amplify-colors-brand-primary-10: var(--amplify-colors-teal-10);\n  --amplify-colors-brand-primary-20: var(--amplify-colors-teal-20);\n  --amplify-colors-brand-primary-40: var(--amplify-colors-teal-40);\n  --amplify-colors-brand-primary-60: var(--amplify-colors-teal-60);\n  --amplify-colors-brand-primary-80: var(--amplify-colors-teal-80);\n  --amplify-colors-brand-primary-90: var(--amplify-colors-teal-90);\n  --amplify-colors-brand-primary-100: var(--amplify-colors-teal-100);\n  --amplify-colors-brand-secondary-10: var(--amplify-colors-purple-10);\n  --amplify-colors-brand-secondary-20: var(--amplify-colors-purple-20);\n  --amplify-colors-brand-secondary-40: var(--amplify-colors-purple-40);\n  --amplify-colors-brand-secondary-60: var(--amplify-colors-purple-60);\n  --amplify-colors-brand-secondary-80: var(--amplify-colors-purple-80);\n  --amplify-colors-brand-secondary-90: var(--amplify-colors-purple-90);\n  --amplify-colors-brand-secondary-100: var(--amplify-colors-purple-100);\n  --amplify-colors-font-primary: var(--amplify-colors-neutral-100);\n  --amplify-colors-font-secondary: var(--amplify-colors-neutral-90);\n  --amplify-colors-font-tertiary: var(--amplify-colors-neutral-80);\n  --amplify-colors-font-disabled: var(--amplify-colors-neutral-60);\n  --amplify-colors-font-inverse: var(--amplify-colors-white);\n  --amplify-colors-font-interactive: var(--amplify-colors-brand-primary-80);\n  --amplify-colors-font-hover: var(--amplify-colors-brand-primary-90);\n  --amplify-colors-font-focus: var(--amplify-colors-brand-primary-100);\n  --amplify-colors-font-active: var(--amplify-colors-brand-primary-100);\n  --amplify-colors-font-info: var(--amplify-colors-blue-90);\n  --amplify-colors-font-warning: var(--amplify-colors-orange-90);\n  --amplify-colors-font-error: var(--amplify-colors-red-90);\n  --amplify-colors-font-success: var(--amplify-colors-green-90);\n  --amplify-colors-background-primary: var(--amplify-colors-white);\n  --amplify-colors-background-secondary: var(--amplify-colors-neutral-10);\n  --amplify-colors-background-tertiary: var(--amplify-colors-neutral-20);\n  --amplify-colors-background-quaternary: var(--amplify-colors-neutral-60);\n  --amplify-colors-background-disabled: var(--amplify-colors-background-tertiary);\n  --amplify-colors-background-info: var(--amplify-colors-blue-20);\n  --amplify-colors-background-warning: var(--amplify-colors-orange-20);\n  --amplify-colors-background-error: var(--amplify-colors-red-20);\n  --amplify-colors-background-success: var(--amplify-colors-green-20);\n  --amplify-colors-border-primary: var(--amplify-colors-neutral-60);\n  --amplify-colors-border-secondary: var(--amplify-colors-neutral-40);\n  --amplify-colors-border-tertiary: var(--amplify-colors-neutral-20);\n  --amplify-colors-border-disabled: var(--amplify-colors-border-tertiary);\n  --amplify-colors-border-pressed: var(--amplify-colors-brand-primary-100);\n  --amplify-colors-border-focus: var(--amplify-colors-brand-primary-100);\n  --amplify-colors-border-error: var(--amplify-colors-red-80);\n  --amplify-colors-shadow-primary: hsla(210, 50%, 10%, 0.25);\n  --amplify-colors-shadow-secondary: hsla(210, 50%, 10%, 0.15);\n  --amplify-colors-shadow-tertiary: hsla(210, 50%, 10%, 0.05);\n  --amplify-colors-overlay-10: hsla(0, 0%, 0%, 0.1);\n  --amplify-colors-overlay-20: hsla(0, 0%, 0%, 0.2);\n  --amplify-colors-overlay-30: hsla(0, 0%, 0%, 0.3);\n  --amplify-colors-overlay-40: hsla(0, 0%, 0%, 0.4);\n  --amplify-colors-overlay-50: hsla(0, 0%, 0%, 0.5);\n  --amplify-colors-overlay-60: hsla(0, 0%, 0%, 0.6);\n  --amplify-colors-overlay-70: hsla(0, 0%, 0%, 0.7);\n  --amplify-colors-overlay-80: hsla(0, 0%, 0%, 0.8);\n  --amplify-colors-overlay-90: hsla(0, 0%, 0%, 0.9);\n  --amplify-colors-black: hsl(0, 0%, 0%);\n  --amplify-colors-white: hsl(0, 0%, 100%);\n  --amplify-colors-transparent: transparent;\n  --amplify-fonts-default-variable: "InterVariable", "Inter var", "Inter", -apple-system, BlinkMacSystemFont,\n          "Helvetica Neue", "Segoe UI", Oxygen, Ubuntu, Cantarell, "Open Sans",\n          sans-serif;\n  --amplify-fonts-default-static: "Inter", -apple-system, BlinkMacSystemFont, "Helvetica Neue",\n          "Segoe UI", Oxygen, Ubuntu, Cantarell, "Open Sans", sans-serif;\n  --amplify-font-sizes-xxxs: 0.375rem;\n  --amplify-font-sizes-xxs: 0.5rem;\n  --amplify-font-sizes-xs: 0.75rem;\n  --amplify-font-sizes-small: 0.875rem;\n  --amplify-font-sizes-medium: 1rem;\n  --amplify-font-sizes-large: 1.25rem;\n  --amplify-font-sizes-xl: 1.5rem;\n  --amplify-font-sizes-xxl: 2rem;\n  --amplify-font-sizes-xxxl: 2.5rem;\n  --amplify-font-sizes-xxxxl: 3rem;\n  --amplify-font-weights-hairline: 100;\n  --amplify-font-weights-thin: 200;\n  --amplify-font-weights-light: 300;\n  --amplify-font-weights-normal: 400;\n  --amplify-font-weights-medium: 500;\n  --amplify-font-weights-semibold: 600;\n  --amplify-font-weights-bold: 700;\n  --amplify-font-weights-extrabold: 800;\n  --amplify-font-weights-black: 900;\n  --amplify-line-heights-small: 1.25;\n  --amplify-line-heights-medium: 1.5;\n  --amplify-line-heights-large: 2;\n  --amplify-opacities-0: 0;\n  --amplify-opacities-10: 0.1;\n  --amplify-opacities-20: 0.2;\n  --amplify-opacities-30: 0.3;\n  --amplify-opacities-40: 0.4;\n  --amplify-opacities-50: 0.5;\n  --amplify-opacities-60: 0.6;\n  --amplify-opacities-70: 0.7;\n  --amplify-opacities-80: 0.8;\n  --amplify-opacities-90: 0.9;\n  --amplify-opacities-100: 1;\n  --amplify-outline-offsets-small: 1px;\n  --amplify-outline-offsets-medium: 2px;\n  --amplify-outline-offsets-large: 3px;\n  --amplify-outline-widths-small: 1px;\n  --amplify-outline-widths-medium: 2px;\n  --amplify-outline-widths-large: 3px;\n  --amplify-radii-xs: 0.125rem;\n  --amplify-radii-small: 0.25rem;\n  --amplify-radii-medium: 0.5rem;\n  --amplify-radii-large: 1rem;\n  --amplify-radii-xl: 2rem;\n  --amplify-radii-xxl: 4rem;\n  --amplify-radii-xxxl: 8rem;\n  --amplify-shadows-small: 0px 2px 4px var(--amplify-colors-shadow-tertiary);\n  --amplify-shadows-medium: 0px 2px 6px var(--amplify-colors-shadow-secondary);\n  --amplify-shadows-large: 0px 4px 12px var(--amplify-colors-shadow-primary);\n  --amplify-space-zero: 0;\n  --amplify-space-xxxs: 0.25rem;\n  --amplify-space-xxs: 0.375rem;\n  --amplify-space-xs: 0.5rem;\n  --amplify-space-small: 0.75rem;\n  --amplify-space-medium: 1rem;\n  --amplify-space-large: 1.5rem;\n  --amplify-space-xl: 2.0rem;\n  --amplify-space-xxl: 3.0rem;\n  --amplify-space-xxxl: 4.5rem;\n  --amplify-space-relative-xxxs: 0.25em;\n  --amplify-space-relative-xxs: 0.375em;\n  --amplify-space-relative-xs: 0.5em;\n  --amplify-space-relative-small: 0.75em;\n  --amplify-space-relative-medium: 1em;\n  --amplify-space-relative-large: 1.5em;\n  --amplify-space-relative-xl: 2.0em;\n  --amplify-space-relative-xxl: 3.0em;\n  --amplify-space-relative-xxxl: 4.5em;\n  --amplify-space-relative-full: 100%;\n  --amplify-time-short: 100ms;\n  --amplify-time-medium: 250ms;\n  --amplify-time-long: 500ms;\n  --amplify-transforms-slide-x-small: translateX(0.5em);\n  --amplify-transforms-slide-x-medium: translateX(1em);\n  --amplify-transforms-slide-x-large: translateX(2em);\n}\n\nhtml,\n[data-amplify-theme] {\n  font-family: var(--amplify-fonts-default-static);\n}\n\n@supports (font-variation-settings: normal) {\n  html,\n  [data-amplify-theme] {\n    font-family: var(--amplify-fonts-default-variable);\n  }\n}\nhtml:focus-within {\n  scroll-behavior: smooth;\n}\n\nbody {\n  min-height: 100vh;\n  text-rendering: optimizeSpeed;\n  line-height: var(--amplify-line-heights-medium);\n}\n\n* {\n  box-sizing: border-box;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n  font: inherit;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  html:focus-within {\n    scroll-behavior: auto;\n  }\n}\n[class*=amplify] {\n  all: unset; /* protect against external styles */\n  box-sizing: border-box; /* set box-sizing after unset above */\n}\n\n.amplify-flex {\n  align-content: var(--amplify-components-flex-align-content);\n  align-items: var(--amplify-components-flex-align-items);\n  display: flex;\n  flex-wrap: var(--amplify-components-flex-flex-wrap);\n  gap: var(--amplify-components-flex-gap);\n  justify-content: var(--amplify-components-flex-justify-content);\n}\n\n.amplify-grid {\n  display: grid;\n}\n\n.amplify-scrollview {\n  display: block;\n  overflow: auto;\n}\n.amplify-scrollview--horizontal {\n  overflow-x: scroll;\n  overflow-y: initial;\n}\n.amplify-scrollview--vertical {\n  overflow-x: initial;\n  overflow-y: scroll;\n}\n\n.amplify-text {\n  display: block;\n  color: var(--amplify-components-text-color);\n}\nb.amplify-text,\nem.amplify-text,\ni.amplify-text,\nspan.amplify-text,\nstrong.amplify-text {\n  display: inline;\n}\n\n.amplify-text--truncated {\n  display: inline-block;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.amplify-text--primary {\n  color: var(--amplify-components-text-primary-color);\n}\n.amplify-text--secondary {\n  color: var(--amplify-components-text-secondary-color);\n}\n.amplify-text--tertiary {\n  color: var(--amplify-components-text-tertiary-color);\n}\n.amplify-text--error {\n  color: var(--amplify-components-text-error-color);\n}\n.amplify-text--info {\n  color: var(--amplify-components-text-info-color);\n}\n.amplify-text--success {\n  color: var(--amplify-components-text-success-color);\n}\n.amplify-text--warning {\n  color: var(--amplify-components-text-warning-color);\n}\n\n.amplify-badge {\n  background-color: var(--amplify-components-badge-background-color);\n  border-radius: var(--amplify-components-badge-border-radius);\n  color: var(--amplify-components-badge-color);\n  display: inline-flex;\n  font-size: var(--amplify-components-badge-font-size);\n  font-weight: var(--amplify-components-badge-font-weight);\n  line-height: var(--amplify-components-badge-line-height);\n  padding: var(--amplify-components-badge-padding-vertical) var(--amplify-components-badge-padding-horizontal);\n  text-align: var(--amplify-components-badge-text-align);\n}\n.amplify-badge--info {\n  color: var(--amplify-components-badge-info-color);\n  background-color: var(--amplify-components-badge-info-background-color);\n}\n.amplify-badge--error {\n  color: var(--amplify-components-badge-error-color);\n  background-color: var(--amplify-components-badge-error-background-color);\n}\n.amplify-badge--warning {\n  color: var(--amplify-components-badge-warning-color);\n  background-color: var(--amplify-components-badge-warning-background-color);\n}\n.amplify-badge--success {\n  color: var(--amplify-components-badge-success-color);\n  background-color: var(--amplify-components-badge-success-background-color);\n}\n.amplify-badge--small {\n  font-size: var(--amplify-components-badge-small-font-size);\n  padding: var(--amplify-components-badge-small-padding-vertical) var(--amplify-components-badge-small-padding-horizontal);\n}\n.amplify-badge--large {\n  font-size: var(--amplify-components-badge-large-font-size);\n  padding: var(--amplify-components-badge-large-padding-vertical) var(--amplify-components-badge-large-padding-horizontal);\n}\n\n/*\n * Button base styles\n */\n.amplify-button {\n  align-items: center;\n  border-color: var(--amplify-components-button-border-color);\n  border-radius: var(--amplify-components-button-border-radius);\n  border-style: var(--amplify-components-button-border-style);\n  border-width: var(--amplify-components-button-border-width);\n  box-sizing: border-box;\n  color: var(--amplify-components-button-color);\n  cursor: pointer;\n  display: inline-flex;\n  font-size: var(--amplify-components-button-font-size);\n  font-weight: var(--amplify-components-button-font-weight);\n  justify-content: center;\n  line-height: var(--amplify-components-button-line-height);\n  -webkit-padding-before: var(--amplify-components-button-padding-block-start);\n          padding-block-start: var(--amplify-components-button-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-button-padding-block-end);\n          padding-block-end: var(--amplify-components-button-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-button-padding-inline-start);\n          padding-inline-start: var(--amplify-components-button-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-button-padding-inline-end);\n          padding-inline-end: var(--amplify-components-button-padding-inline-end);\n  transition: all var(--amplify-components-button-transition-duration);\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-disabled-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-disabled-background-color\n  );\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-disabled-border-color\n  );\n  --amplify-internal-button-disabled-text-decoration: initial;\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-loading-color\n  );\n  --amplify-internal-button-loading-text-decoration: initial;\n}\n.amplify-button:hover {\n  background-color: var(--amplify-components-button-hover-background-color);\n  border-color: var(--amplify-components-button-hover-border-color);\n  color: var(--amplify-components-button-hover-color);\n}\n.amplify-button:focus {\n  background-color: var(--amplify-components-button-hover-background-color);\n  border-color: var(--amplify-components-button-focus-border-color);\n  color: var(--amplify-components-button-focus-color);\n  box-shadow: var(--amplify-components-button-focus-box-shadow);\n}\n.amplify-button:active {\n  background-color: var(--amplify-components-button-active-background-color);\n  border-color: var(--amplify-components-button-active-border-color);\n  color: var(--amplify-components-button-active-color);\n}\n.amplify-button--fullwidth {\n  width: 100%;\n}\n.amplify-button--menu {\n  border-width: var(--amplify-components-button-menu-border-width);\n  background-color: var(--amplify-components-button-menu-background-color);\n  justify-content: var(--amplify-components-button-menu-justify-content);\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-menu-disabled-color\n  );\n}\n.amplify-button--menu:hover {\n  color: var(--amplify-components-button-menu-hover-color);\n  background-color: var(--amplify-components-button-menu-hover-background-color);\n}\n.amplify-button--menu:focus {\n  box-shadow: none;\n  color: var(--amplify-components-button-menu-focus-color);\n  background-color: var(--amplify-components-button-menu-focus-background-color);\n}\n.amplify-button--menu:active {\n  color: var(--amplify-components-button-menu-active-color);\n  background-color: var(--amplify-components-button-menu-active-background-color);\n}\n.amplify-button--primary {\n  border-width: var(--amplify-components-button-primary-border-width);\n  background-color: var(--amplify-components-button-primary-background-color);\n  border-color: var(--amplify-components-button-primary-border-color);\n  color: var(--amplify-components-button-primary-color);\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-primary-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-primary-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-primary-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-primary-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-primary-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-primary-loading-color\n  );\n}\n.amplify-button--primary:hover {\n  background-color: var(--amplify-components-button-primary-hover-background-color);\n  border-color: var(--amplify-components-button-primary-hover-border-color);\n  color: var(--amplify-components-button-primary-hover-color);\n}\n.amplify-button--primary:focus {\n  background-color: var(--amplify-components-button-primary-focus-background-color);\n  border-color: var(--amplify-components-button-primary-focus-border-color);\n  color: var(--amplify-components-button-primary-focus-color);\n  box-shadow: var(--amplify-components-button-primary-focus-box-shadow);\n}\n.amplify-button--primary:active {\n  background-color: var(--amplify-components-button-primary-active-background-color);\n  border-color: var(--amplify-components-button-primary-active-border-color);\n  color: var(--amplify-components-button-primary-active-color);\n}\n.amplify-button--link {\n  border-width: var(--amplify-components-button-link-border-width);\n  background-color: var(--amplify-components-button-link-background-color);\n  color: var(--amplify-components-button-link-color);\n  --amplify-internal-button-disabled-text-decoration: none;\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-link-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-link-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-link-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-link-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-link-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-link-loading-color\n  );\n  --amplify-internal-button-loading-text-decoration: none;\n}\n.amplify-button--link:hover {\n  background-color: var(--amplify-components-button-link-hover-background-color);\n  border-color: var(--amplify-components-button-link-hover-border-color);\n  color: var(--amplify-components-button-link-hover-color);\n}\n.amplify-button--link:focus {\n  background-color: var(--amplify-components-button-link-focus-background-color);\n  border-color: var(--amplify-components-button-link-focus-border-color);\n  color: var(--amplify-components-button-link-focus-color);\n  box-shadow: var(--amplify-components-button-link-focus-box-shadow);\n}\n.amplify-button--link:active {\n  background-color: var(--amplify-components-button-link-active-background-color);\n  border-color: var(--amplify-components-button-link-active-border-color);\n  color: var(--amplify-components-button-link-active-color);\n}\n.amplify-button--destructive {\n  border-width: var(--amplify-components-button-destructive-border-width);\n  background-color: var(--amplify-components-button-destructive-background-color);\n  border-color: var(--amplify-components-button-destructive-border-color);\n  color: var(--amplify-components-button-destructive-color);\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-destructive-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-destructive-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-destructive-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-destructive-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-destructive-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-destructive-loading-color\n  );\n}\n.amplify-button--destructive:hover {\n  background-color: var(--amplify-components-button-destructive-hover-background-color);\n  border-color: var(--amplify-components-button-destructive-hover-border-color);\n  color: var(--amplify-components-button-destructive-hover-color);\n}\n.amplify-button--destructive:focus {\n  background-color: var(--amplify-components-button-destructive-focus-background-color);\n  border-color: var(--amplify-components-button-destructive-focus-border-color);\n  color: var(--amplify-components-button-destructive-focus-color);\n  box-shadow: var(--amplify-components-button-destructive-focus-box-shadow);\n}\n.amplify-button--destructive:active {\n  background-color: var(--amplify-components-button-destructive-active-background-color);\n  border-color: var(--amplify-components-button-destructive-active-border-color);\n  color: var(--amplify-components-button-destructive-active-color);\n}\n.amplify-button--warning {\n  background-color: var(--amplify-components-button-warning-background-color);\n  border-color: var(--amplify-components-button-warning-border-color);\n  border-width: var(--amplify-components-button-warning-border-width);\n  color: var(--amplify-components-button-warning-color);\n  --amplify-internal-button-disabled-text-decoration: none;\n  --amplify-internal-button-disabled-border-color: var(\n    --amplify-components-button-warning-disabled-border-color\n  );\n  --amplify-internal-button-disabled-background-color: var(\n    --amplify-components-button-warning-disabled-background-color\n  );\n  --amplify-internal-button-disabled-color: var(\n    --amplify-components-button-warning-disabled-color\n  );\n  --amplify-internal-button-loading-background-color: var(\n    --amplify-components-button-warning-loading-background-color\n  );\n  --amplify-internal-button-loading-border-color: var(\n    --amplify-components-button-warning-loading-border-color\n  );\n  --amplify-internal-button-loading-color: var(\n    --amplify-components-button-warning-loading-color\n  );\n  --amplify-internal-button-loading-text-decoration: none;\n}\n.amplify-button--warning:hover {\n  background-color: var(--amplify-components-button-warning-hover-background-color);\n  border-color: var(--amplify-components-button-warning-hover-border-color);\n  color: var(--amplify-components-button-warning-hover-color);\n}\n.amplify-button--warning:focus {\n  background-color: var(--amplify-components-button-warning-focus-background-color);\n  border-color: var(--amplify-components-button-warning-focus-border-color);\n  color: var(--amplify-components-button-warning-focus-color);\n  box-shadow: var(--amplify-components-button-warning-focus-box-shadow);\n}\n.amplify-button--warning:active {\n  background-color: var(--amplify-components-button-warning-active-background-color);\n  border-color: var(--amplify-components-button-warning-active-border-color);\n  color: var(--amplify-components-button-warning-active-color);\n}\n.amplify-button--small {\n  font-size: var(--amplify-components-button-small-font-size);\n  -webkit-padding-before: var(--amplify-components-button-small-padding-block-start);\n          padding-block-start: var(--amplify-components-button-small-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-button-small-padding-block-end);\n          padding-block-end: var(--amplify-components-button-small-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-button-small-padding-inline-start);\n          padding-inline-start: var(--amplify-components-button-small-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-button-small-padding-inline-end);\n          padding-inline-end: var(--amplify-components-button-small-padding-inline-end);\n}\n.amplify-button--large {\n  font-size: var(--amplify-components-button-large-font-size);\n  -webkit-padding-before: var(--amplify-components-button-large-padding-block-start);\n          padding-block-start: var(--amplify-components-button-large-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-button-large-padding-block-end);\n          padding-block-end: var(--amplify-components-button-large-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-button-large-padding-inline-start);\n          padding-inline-start: var(--amplify-components-button-large-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-button-large-padding-inline-end);\n          padding-inline-end: var(--amplify-components-button-large-padding-inline-end);\n}\n.amplify-button--disabled {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n  cursor: not-allowed;\n}\n.amplify-button--disabled:hover {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n}\n.amplify-button--disabled :focus {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n}\n.amplify-button--disabled:active {\n  background-color: var(--amplify-internal-button-disabled-background-color);\n  border-color: var(--amplify-internal-button-disabled-border-color);\n  color: var(--amplify-internal-button-disabled-color);\n  -webkit-text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n          text-decoration: var(--amplify-internal-button-disabled-text-decoration);\n}\n.amplify-button--loading {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button--loading:hover {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button--loading:focus {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button--loading:active {\n  background-color: var(--amplify-internal-button-loading-background-color);\n  border-color: var(--amplify-internal-button-loading-border-color);\n  color: var(--amplify-components-button-loading-color);\n  -webkit-text-decoration: var(--amplify-internal-button-loading-text-decoration);\n          text-decoration: var(--amplify-internal-button-loading-text-decoration);\n}\n.amplify-button__loader-wrapper {\n  align-items: var(--amplify-components-button-loader-wrapper-align-items);\n  gap: var(--amplify-components-button-loader-wrapper-gap);\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .amplify-button {\n    transition: none;\n  }\n}\n.amplify-field__description {\n  color: var(--amplify-components-fieldmessages-description-color);\n  font-style: var(--amplify-components-fieldmessages-description-font-style);\n  font-size: var(--amplify-components-fieldmessages-description-font-size);\n}\n\n.amplify-field__error-message {\n  color: var(--amplify-components-fieldmessages-error-color);\n  font-size: var(--amplify-components-fieldmessages-error-font-size);\n}\n\n.amplify-heading {\n  color: var(--amplify-components-heading-color);\n  line-height: var(--amplify-components-heading-line-height);\n  display: block;\n}\n.amplify-heading--truncated {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.amplify-heading--1 {\n  font-size: var(--amplify-components-heading-1-font-size);\n  font-weight: var(--amplify-components-heading-1-font-weight);\n}\n\n.amplify-heading--2 {\n  font-size: var(--amplify-components-heading-2-font-size);\n  font-weight: var(--amplify-components-heading-2-font-weight);\n}\n\n.amplify-heading--3 {\n  font-size: var(--amplify-components-heading-3-font-size);\n  font-weight: var(--amplify-components-heading-3-font-weight);\n}\n\n.amplify-heading--4 {\n  font-size: var(--amplify-components-heading-4-font-size);\n  font-weight: var(--amplify-components-heading-4-font-weight);\n}\n\n.amplify-heading--5 {\n  font-size: var(--amplify-components-heading-5-font-size);\n  font-weight: var(--amplify-components-heading-5-font-weight);\n}\n\n.amplify-heading--6 {\n  font-size: var(--amplify-components-heading-6-font-size);\n  font-weight: var(--amplify-components-heading-6-font-weight);\n}\n\n/*\n * Icon base styles\n */\n.amplify-icon {\n  display: inline-block;\n  vertical-align: middle;\n  fill: currentColor;\n  height: var(--amplify-components-icon-height);\n  line-height: var(--amplify-components-icon-line-height);\n}\n.amplify-icon > svg {\n  height: var(--amplify-components-icon-height);\n  width: var(--amplify-components-icon-height);\n}\n\n.amplify-highlightmatch__highlighted {\n  font-weight: var(--amplify-components-highlightmatch-highlighted-font-weight);\n}\n\n.amplify-input {\n  box-sizing: border-box;\n  color: var(--amplify-components-fieldcontrol-color);\n  font-size: var(--amplify-components-fieldcontrol-font-size);\n  line-height: var(--amplify-components-fieldcontrol-line-height);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  transition: all var(--amplify-components-fieldcontrol-transition-duration);\n  width: 100%;\n  border-color: var(--amplify-components-fieldcontrol-border-color);\n  border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  border-style: var(--amplify-components-fieldcontrol-border-style);\n  border-width: var(--amplify-components-fieldcontrol-border-width);\n  outline-color: var(--amplify-components-fieldcontrol-outline-color);\n  outline-style: var(--amplify-components-fieldcontrol-outline-style);\n  outline-width: var(--amplify-components-fieldcontrol-outline-width);\n  outline-offset: var(--amplify-components-fieldcontrol-outline-offset);\n  -webkit-user-select: text;\n     -moz-user-select: text;\n          user-select: text;\n  display: inline-flex;\n}\n.amplify-input:focus {\n  border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n}\n.amplify-input--small {\n  font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-small-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-small-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n}\n.amplify-input--large {\n  font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-large-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-large-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n}\n.amplify-input--error {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n}\n.amplify-input--error:focus {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n}\n.amplify-input[disabled] {\n  color: var(--amplify-components-fieldcontrol-disabled-color);\n  cursor: var(--amplify-components-fieldcontrol-disabled-cursor);\n  border-color: var(--amplify-components-fieldcontrol-disabled-border-color);\n  background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n}\n.amplify-input--quiet {\n  -webkit-border-before: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n          border-block-start: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n  -webkit-border-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n          border-inline-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n  -webkit-border-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n          border-inline-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n  border-radius: var(--amplify-components-fieldcontrol-quiet-border-radius);\n}\n.amplify-input--quiet:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-focus-box-shadow);\n}\n.amplify-input--quiet[aria-invalid=true] {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-border-block-end-color);\n}\n.amplify-input--quiet[aria-invalid=true]:focus {\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-error-focus-box-shadow);\n}\n\n.amplify-textarea {\n  box-sizing: border-box;\n  color: var(--amplify-components-fieldcontrol-color);\n  font-size: var(--amplify-components-fieldcontrol-font-size);\n  line-height: var(--amplify-components-fieldcontrol-line-height);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  transition: all var(--amplify-components-fieldcontrol-transition-duration);\n  width: 100%;\n  border-color: var(--amplify-components-fieldcontrol-border-color);\n  border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  border-style: var(--amplify-components-fieldcontrol-border-style);\n  border-width: var(--amplify-components-fieldcontrol-border-width);\n  outline-color: var(--amplify-components-fieldcontrol-outline-color);\n  outline-style: var(--amplify-components-fieldcontrol-outline-style);\n  outline-width: var(--amplify-components-fieldcontrol-outline-width);\n  outline-offset: var(--amplify-components-fieldcontrol-outline-offset);\n  -webkit-user-select: text;\n     -moz-user-select: text;\n          user-select: text;\n  white-space: pre-wrap;\n}\n.amplify-textarea:focus {\n  border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n}\n.amplify-textarea--small {\n  font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-small-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-small-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n}\n.amplify-textarea--large {\n  font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-large-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-large-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n}\n.amplify-textarea--error {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n}\n.amplify-textarea--error:focus {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n}\n.amplify-textarea[disabled] {\n  color: var(--amplify-components-fieldcontrol-disabled-color);\n  cursor: var(--amplify-components-fieldcontrol-disabled-cursor);\n  border-color: var(--amplify-components-fieldcontrol-disabled-border-color);\n  background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n}\n.amplify-textarea--quiet {\n  -webkit-border-before: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n          border-block-start: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n  -webkit-border-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n          border-inline-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n  -webkit-border-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n          border-inline-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n  border-radius: var(--amplify-components-fieldcontrol-quiet-border-radius);\n}\n.amplify-textarea--quiet:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-focus-box-shadow);\n}\n.amplify-textarea--quiet[aria-invalid=true] {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-border-block-end-color);\n}\n.amplify-textarea--quiet[aria-invalid=true]:focus {\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-error-focus-box-shadow);\n}\n\n.amplify-image {\n  height: var(--amplify-components-image-height);\n  max-width: var(--amplify-components-image-max-width);\n  -o-object-fit: var(--amplify-components-image-object-fit);\n     object-fit: var(--amplify-components-image-object-fit);\n  -o-object-position: var(--amplify-components-image-object-position);\n     object-position: var(--amplify-components-image-object-position);\n  overflow: clip;\n}\n\n.amplify-link {\n  color: var(--amplify-components-link-color);\n  -webkit-text-decoration: var(--amplify-components-link-text-decoration);\n          text-decoration: var(--amplify-components-link-text-decoration);\n  cursor: pointer;\n}\n.amplify-link:visited {\n  color: var(--amplify-components-link-visited-color);\n  -webkit-text-decoration: var(--amplify-components-link-visited-text-decoration);\n          text-decoration: var(--amplify-components-link-visited-text-decoration);\n}\n.amplify-link:active {\n  color: var(--amplify-components-link-active-color);\n  -webkit-text-decoration: var(--amplify-components-link-active-text-decoration);\n          text-decoration: var(--amplify-components-link-active-text-decoration);\n}\n.amplify-link:focus {\n  color: var(--amplify-components-link-focus-color);\n  -webkit-text-decoration: var(--amplify-components-link-focus-text-decoration);\n          text-decoration: var(--amplify-components-link-focus-text-decoration);\n}\n.amplify-link:hover {\n  color: var(--amplify-components-link-hover-color);\n  -webkit-text-decoration: var(--amplify-components-link-hover-text-decoration);\n          text-decoration: var(--amplify-components-link-hover-text-decoration);\n}\n\n.amplify-loader {\n  width: var(--amplify-components-loader-width);\n  height: var(--amplify-components-loader-height);\n  font-size: var(--amplify-components-loader-font-size);\n  fill: none;\n  stroke: var(--amplify-components-loader-stroke-empty);\n  --amplify-internal-loader-linear-font-size: var(\n    --amplify-components-loader-linear-font-size\n  );\n  --amplify-internal-loader-linear-stroke-width: var(\n    --amplify-components-loader-linear-stroke-width\n  );\n}\n.amplify-loader circle:last-of-type {\n  transform-origin: center center;\n  animation-name: amplify-loader-circular;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  animation-duration: var(--amplify-components-loader-animation-duration);\n  stroke: var(--amplify-components-loader-stroke-filled);\n  stroke-linecap: var(--amplify-components-loader-stroke-linecap);\n}\n@media (prefers-reduced-motion) {\n  .amplify-loader circle:last-of-type {\n    animation: none;\n    stroke-dasharray: 100% 200%;\n    stroke-dashoffset: 50%;\n  }\n}\n.amplify-loader line:last-of-type {\n  stroke: var(--amplify-components-loader-linear-stroke-filled);\n  stroke-dasharray: 50% 200%;\n  animation-name: amplify-loader-linear;\n  animation-duration: var(--amplify-components-loader-linear-animation-duration);\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n}\n@media (prefers-reduced-motion) {\n  .amplify-loader line:last-of-type {\n    animation: none;\n    stroke-dashoffset: -50%;\n  }\n}\n.amplify-loader--small {\n  width: var(--amplify-components-loader-small-width);\n  height: var(--amplify-components-loader-small-height);\n  font-size: var(--amplify-components-loader-small-font-size);\n  --amplify-internal-loader-linear-stroke-width: var(\n    --amplify-components-loader-linear-small-stroke-width\n  );\n  --amplify-internal-loader-linear-font-size: var(\n    --amplify-components-loader-linear-small-font-size\n  );\n}\n.amplify-loader--large {\n  width: var(--amplify-components-loader-large-width);\n  height: var(--amplify-components-loader-large-height);\n  font-size: var(--amplify-components-loader-large-font-size);\n  --amplify-internal-loader-linear-stroke-width: var(\n    --amplify-components-loader-linear-large-stroke-width\n  );\n  --amplify-internal-loader-linear-font-size: var(\n    --amplify-components-loader-linear-large-font-size\n  );\n}\n.amplify-loader--linear {\n  width: var(--amplify-components-loader-linear-width);\n  min-width: var(--amplify-components-loader-linear-min-width);\n  stroke: var(--amplify-components-loader-linear-stroke-empty);\n  stroke-linecap: var(--amplify-components-loader-linear-stroke-linecap);\n  stroke-width: var(--amplify-internal-loader-linear-stroke-width);\n  font-size: var(--amplify-internal-loader-linear-font-size);\n}\n.amplify-loader--determinate circle:last-of-type {\n  animation: none;\n  transform: rotate(-90deg);\n}\n.amplify-loader--determinate line:last-of-type {\n  animation: none;\n  stroke-dashoffset: 0%;\n  stroke-dasharray: none;\n}\n.amplify-loader__percentage-text {\n  fill: var(--amplify-components-loader-text-fill);\n  stroke: none;\n}\n\n@keyframes amplify-loader-circular {\n  0% {\n    stroke-dasharray: 100% 200%;\n    transform: rotate(120deg);\n  }\n  50% {\n    stroke-dasharray: 20% 400%;\n  }\n  100% {\n    stroke-dasharray: 100% 200%;\n    transform: rotate(480deg);\n  }\n}\n@keyframes amplify-loader-linear {\n  0% {\n    stroke-dashoffset: 200%;\n  }\n  100% {\n    stroke-dashoffset: -50%;\n  }\n}\n.amplify-placeholder {\n  animation-direction: alternate;\n  animation-duration: var(--amplify-components-placeholder-transition-duration);\n  animation-iteration-count: infinite;\n  animation-name: amplify-placeholder-loading;\n  border-radius: var(--amplify-components-placeholder-border-radius);\n  height: var(--amplify-components-placeholder-default-height);\n  width: 100%;\n  display: block;\n}\n.amplify-placeholder--small {\n  height: var(--amplify-components-placeholder-small-height);\n}\n.amplify-placeholder--large {\n  height: var(--amplify-components-placeholder-large-height);\n}\n\n@keyframes amplify-placeholder-loading {\n  0% {\n    background-color: var(--amplify-components-placeholder-start-color);\n  }\n  100% {\n    background-color: var(--amplify-components-placeholder-end-color);\n  }\n}\n@media (prefers-reduced-motion: reduce) {\n  .amplify-placeholder {\n    animation: none;\n    background-color: var(--amplify-components-placeholder-end-color);\n  }\n}\n[data-amplify-copy] {\n  display: flex;\n  font-size: var(--amplify-components-copy-font-size);\n  gap: var(--amplify-components-copy-gap);\n  justify-content: center;\n  align-items: center;\n  word-break: break-all;\n}\n\n[data-amplify-copy-svg] {\n  cursor: pointer;\n  position: relative;\n}\n[data-amplify-copy-svg] path {\n  fill: var(--amplify-components-copy-svg-path-fill);\n}\n[data-amplify-copy-svg]:hover [data-amplify-copy-tooltip] {\n  visibility: visible;\n  font-size: var(--amplify-components-copy-tool-tip-font-size);\n}\n\n[data-amplify-copy-tooltip] {\n  visibility: hidden;\n  position: absolute;\n  bottom: var(--amplify-components-copy-tool-tip-bottom);\n  color: var(--amplify-components-copy-tool-tip-color);\n}\n\n.amplify-alert {\n  align-items: var(--amplify-components-alert-align-items);\n  background-color: var(--amplify-components-alert-background-color);\n  color: var(--amplify-components-alert-color);\n  justify-content: var(--amplify-components-alert-justify-content);\n  padding-block: var(--amplify-components-alert-padding-block);\n  padding-inline: var(--amplify-components-alert-padding-inline);\n}\n.amplify-alert--info {\n  color: var(--amplify-components-alert-info-color);\n  background-color: var(--amplify-components-alert-info-background-color);\n}\n.amplify-alert--error {\n  color: var(--amplify-components-alert-error-color);\n  background-color: var(--amplify-components-alert-error-background-color);\n}\n.amplify-alert--warning {\n  color: var(--amplify-components-alert-warning-color);\n  background-color: var(--amplify-components-alert-warning-background-color);\n}\n.amplify-alert--success {\n  color: var(--amplify-components-alert-success-color);\n  background-color: var(--amplify-components-alert-success-background-color);\n}\n\n.amplify-alert__icon {\n  font-size: var(--amplify-components-alert-icon-size);\n}\n\n.amplify-alert__heading {\n  display: block;\n  font-weight: var(--amplify-components-alert-heading-font-weight);\n  font-size: var(--amplify-components-alert-heading-font-size);\n}\n\n.amplify-alert__body {\n  color: inherit;\n  display: block;\n}\n\n.amplify-alert__dismiss {\n  color: inherit;\n}\n\n.amplify-autocomplete__menu__option, .amplify-autocomplete__menu--loading, .amplify-autocomplete__menu--empty {\n  padding-block: var(--amplify-components-autocomplete-menu-space-shared-padding-block);\n  padding-inline: var(--amplify-components-autocomplete-menu-space-shared-padding-inline);\n}\n\n.amplify-autocomplete {\n  position: relative;\n  display: block;\n}\n\n.amplify-autocomplete__menu {\n  position: absolute;\n  z-index: 999999;\n  width: var(--amplify-components-autocomplete-menu-width);\n  -webkit-margin-before: var(--amplify-components-autocomplete-menu-margin-block-start);\n          margin-block-start: var(--amplify-components-autocomplete-menu-margin-block-start);\n  background-color: var(--amplify-components-autocomplete-menu-background-color);\n  border-color: var(--amplify-components-autocomplete-menu-border-color);\n  border-width: var(--amplify-components-autocomplete-menu-border-width);\n  border-style: var(--amplify-components-autocomplete-menu-border-style);\n  border-radius: var(--amplify-components-autocomplete-menu-border-radius);\n}\n.amplify-autocomplete__menu--empty {\n  display: var(--amplify-components-autocomplete-menu-empty-display);\n}\n.amplify-autocomplete__menu--loading {\n  display: var(--amplify-components-autocomplete-menu-loading-display);\n  align-items: var(--amplify-components-autocomplete-menu-loading-align-items);\n  gap: var(--amplify-components-autocomplete-menu-loading-gap);\n}\n.amplify-autocomplete__menu__options {\n  position: relative;\n  overscroll-behavior: contain;\n  display: var(--amplify-components-autocomplete-menu-options-display);\n  flex-direction: var(--amplify-components-autocomplete-menu-options-flex-direction);\n  max-height: var(--amplify-components-autocomplete-menu-options-max-height);\n}\n.amplify-autocomplete__menu__option {\n  background-color: var(--amplify-components-autocomplete-menu-option-background-color);\n  color: var(--amplify-components-autocomplete-menu-option-color);\n  cursor: var(--amplify-components-autocomplete-menu-option-cursor);\n  transition-duration: var(--amplify-components-autocomplete-menu-option-transition-duration);\n  transition-property: var(--amplify-components-autocomplete-menu-option-transition-property);\n  transition-timing-function: var(--amplify-components-autocomplete-menu-option-transition-timing-function);\n}\n.amplify-autocomplete__menu__option--active {\n  background-color: var(--amplify-components-autocomplete-menu-option-active-background-color);\n  color: var(--amplify-components-autocomplete-menu-option-active-color);\n}\n\n/* Center by default */\n[data-amplify-authenticator] {\n  display: grid;\n}\n[data-amplify-authenticator][data-variation=modal] {\n  overflow-y: auto;\n  width: var(--amplify-components-authenticator-modal-width);\n  height: var(--amplify-components-authenticator-modal-height);\n  background-color: var(--amplify-components-authenticator-modal-background-color);\n  position: fixed;\n  top: var(--amplify-components-authenticator-modal-top);\n  left: var(--amplify-components-authenticator-modal-left);\n  /* Having a z-index at least "wins" by default */\n  z-index: 1;\n}\n[data-amplify-authenticator] [data-amplify-container] {\n  place-self: center;\n}\n@media (min-width: 30rem) {\n  [data-amplify-authenticator] [data-amplify-container] {\n    width: var(--amplify-components-authenticator-container-width-max);\n  }\n}\n[data-amplify-authenticator] [data-amplify-router] {\n  background-color: var(--amplify-components-authenticator-router-background-color);\n  box-shadow: var(--amplify-components-authenticator-router-box-shadow);\n  border-color: var(--amplify-components-authenticator-router-border-color);\n  border-width: var(--amplify-components-authenticator-router-border-width);\n  border-style: var(--amplify-components-authenticator-router-border-style);\n}\n[data-amplify-authenticator] [data-amplify-footer] {\n  padding-bottom: var(--amplify-components-authenticator-footer-padding-bottom);\n  text-align: center;\n}\n[data-amplify-authenticator] [data-amplify-form] {\n  padding: var(--amplify-components-authenticator-form-padding);\n}\n[data-amplify-authenticator] [data-state=inactive] {\n  background-color: var(--amplify-components-authenticator-state-inactive-background-color);\n}\n@media (max-width: 26rem) {\n  [data-amplify-authenticator] [data-amplify-sign-up-errors] {\n    font-size: 0.688rem;\n  }\n}\n\n.amplify-authenticator__column {\n  display: flex;\n  flex-direction: column;\n}\n\n.amplify-authenticator__subtitle {\n  margin-bottom: var(--amplify-space-medium);\n}\n\n.amplify-authenticator__heading {\n  font-size: var(--amplify-font-sizes-xl);\n}\n\n.amplify-authenticator__federated-text {\n  align-self: center;\n}\n\n.amplify-card {\n  background-color: var(--amplify-components-card-background-color);\n  border-radius: var(--amplify-components-card-border-radius);\n  border-width: var(--amplify-components-card-border-width);\n  border-style: var(--amplify-components-card-border-style);\n  border-color: var(--amplify-components-card-border-color);\n  box-shadow: var(--amplify-components-card-box-shadow);\n  display: block;\n  padding: var(--amplify-components-card-padding);\n}\n.amplify-card--outlined {\n  background-color: var(--amplify-components-card-outlined-background-color);\n  border-radius: var(--amplify-components-card-outlined-border-radius);\n  border-width: var(--amplify-components-card-outlined-border-width);\n  border-style: var(--amplify-components-card-outlined-border-style);\n  border-color: var(--amplify-components-card-outlined-border-color);\n  box-shadow: var(--amplify-components-card-outlined-box-shadow);\n}\n.amplify-card--elevated {\n  background-color: var(--amplify-components-card-elevated-background-color);\n  border-radius: var(--amplify-components-card-elevated-border-radius);\n  border-width: var(--amplify-components-card-elevated-border-width);\n  border-style: var(--amplify-components-card-elevated-border-style);\n  border-color: var(--amplify-components-card-elevated-border-color);\n  box-shadow: var(--amplify-components-card-elevated-box-shadow);\n}\n\n.amplify-collection {\n  flex-direction: column;\n}\n.amplify-collection-pagination {\n  justify-content: center;\n  --amplify-components-pagination-current-color: var(\n    --amplify-components-collection-pagination-current-color\n  );\n  --amplify-components-pagination-current-background-color: var(\n    --amplify-components-collection-pagination-current-background-color\n  );\n  --amplify-components-pagination-button-color: var(\n    --amplify-components-collection-pagination-button-color\n  );\n  --amplify-components-pagination-button-hover-color: var(\n    --amplify-components-collection-pagination-button-hover-color\n  );\n  --amplify-components-pagination-button-hover-background-color: var(\n    --amplify-components-collection-pagination-button-hover-background-color\n  );\n  --amplify-components-pagination-button-disabled-color: var(\n    --amplify-components-collection-pagination-button-disabled-color\n  );\n}\n.amplify-collection-search {\n  flex-direction: row;\n  justify-content: center;\n  --amplify-components-searchfield-input-color: var(\n    --amplify-components-collection-search-input-color\n  );\n  --amplify-components-searchfield-button-color: var(\n    --amplify-components-collection-search-button-color\n  );\n  --amplify-components-searchfield-button-active-background-color: var(\n    --amplify-components-collection-search-button-active-background-color\n  );\n  --amplify-components-searchfield-button-active-border-color: var(\n    --amplify-components-collection-search-button-active-border-color\n  );\n  --amplify-components-searchfield-button-active-color: var(\n    --amplify-components-collection-search-button-active-color\n  );\n  --amplify-components-searchfield-button-disabled-background-color: var(\n    --amplify-components-collection-search-button-disabled-background-color\n  );\n  --amplify-components-searchfield-button-disabled-border-color: var(\n    --amplify-components-collection-search-button-disabled-border-color\n  );\n  --amplify-components-searchfield-button-disabled-color: var(\n    --amplify-components-collection-search-button-disabled-color\n  );\n  --amplify-components-searchfield-button-focus-background-color: var(\n    --amplify-components-collection-search-button-focus-background-color\n  );\n  --amplify-components-searchfield-button-focus-border-color: var(\n    --amplify-components-collection-search-button-focus-border-color\n  );\n  --amplify-components-searchfield-button-focus-color: var(\n    --amplify-components-collection-search-button-focus-color\n  );\n  --amplify-components-searchfield-button-hover-background-color: var(\n    --amplify-components-collection-search-button-hover-background-color\n  );\n  --amplify-components-searchfield-button-hover-border-color: var(\n    --amplify-components-collection-search-button-hover-border-color\n  );\n  --amplify-components-searchfield-button-hover-color: var(\n    --amplify-components-collection-search-button-hover-color\n  );\n}\n\n.amplify-checkbox {\n  cursor: var(--amplify-components-checkbox-cursor);\n  align-items: var(--amplify-components-checkbox-align-items);\n  flex-direction: row-reverse;\n  gap: inherit;\n}\n.amplify-checkbox--disabled {\n  cursor: var(--amplify-components-checkbox-disabled-cursor);\n}\n\n.amplify-checkbox__button {\n  position: var(--amplify-components-checkbox-button-position);\n  align-items: var(--amplify-components-checkbox-button-align-items);\n  justify-content: var(--amplify-components-checkbox-button-justify-content);\n  color: var(--amplify-components-checkbox-button-color);\n  --amplify-internal-checkbox_button-focused-before-border-color: var(\n    --amplify-components-checkbox-button-focus-border-color\n  );\n  --amplify-internal-checkbox_button-focused-before-box-shadow: var(\n    --amplify-components-checkbox-button-focus-box-shadow\n  );\n}\n.amplify-checkbox__button::before {\n  content: "";\n  display: inline-block;\n  position: absolute;\n  box-sizing: border-box;\n  width: var(--amplify-components-checkbox-button-before-width);\n  height: var(--amplify-components-checkbox-button-before-height);\n  border-width: var(--amplify-components-checkbox-button-before-border-width);\n  border-radius: var(--amplify-components-checkbox-button-before-border-radius);\n  border-style: var(--amplify-components-checkbox-button-before-border-style);\n  border-color: var(--amplify-components-checkbox-button-before-border-color);\n}\n.amplify-checkbox__button--focused::before {\n  outline-color: var(--amplify-components-checkbox-button-focus-outline-color);\n  outline-style: var(--amplify-components-checkbox-button-focus-outline-style);\n  outline-width: var(--amplify-components-checkbox-button-focus-outline-width);\n  outline-offset: var(--amplify-components-checkbox-button-focus-outline-offset);\n  border-color: var(--amplify-internal-checkbox_button-focused-before-border-color);\n  box-shadow: var(--amplify-internal-checkbox_button-focused-before-box-shadow);\n}\n.amplify-checkbox__button--error {\n  --amplify-internal-checkbox_button-focused-before-border-color: var(\n    --amplify-components-checkbox-button-error-focus-border-color\n  );\n  --amplify-internal-checkbox_button-focused-before-box-shadow: var(\n    --amplify-components-checkbox-button-error-focus-box-shadow\n  );\n}\n.amplify-checkbox__button--error::before {\n  border-color: var(--amplify-components-checkbox-button-error-border-color);\n}\n.amplify-checkbox__button--disabled::before {\n  border-color: var(--amplify-components-checkbox-button-disabled-border-color);\n}\n\n.amplify-checkbox__icon {\n  background-color: var(--amplify-components-checkbox-icon-background-color);\n  opacity: var(--amplify-components-checkbox-icon-opacity);\n  transform: var(--amplify-components-checkbox-icon-transform);\n  border-radius: var(--amplify-components-checkbox-icon-border-radius);\n  transition-property: var(--amplify-components-checkbox-icon-transition-property);\n  transition-duration: var(--amplify-components-checkbox-icon-transition-duration);\n  transition-timing-function: var(--amplify-components-checkbox-icon-transition-timing-function);\n  --amplify-internal-checkbox-icon-disabled-background-color: var(\n    --amplify-components-checkbox-icon-background-color\n  );\n}\n.amplify-checkbox__icon--checked {\n  opacity: var(--amplify-components-checkbox-icon-checked-opacity);\n  transform: var(--amplify-components-checkbox-icon-checked-transform);\n  --amplify-internal-checkbox-icon-disabled-background-color: var(\n    --amplify-components-checkbox-icon-checked-disabled-background-color\n  );\n}\n.amplify-checkbox__icon--indeterminate {\n  opacity: var(--amplify-components-checkbox-icon-indeterminate-opacity);\n  transform: var(--amplify-components-checkbox-icon-indeterminate-transform);\n  --amplify-internal-checkbox-icon-disabled-background-color: var(\n    --amplify-components-checkbox-icon-indeterminate-disabled-background-color\n  );\n}\n.amplify-checkbox__icon--disabled {\n  background-color: var(--amplify-internal-checkbox-icon-disabled-background-color);\n}\n\n.amplify-checkbox__label[data-disabled=true] {\n  color: var(--amplify-components-checkbox-label-disabled-color);\n}\n\n.amplify-checkboxfield {\n  align-content: var(--amplify-components-checkboxfield-align-content);\n  align-items: var(--amplify-components-checkboxfield-align-items);\n  flex-direction: var(--amplify-components-checkboxfield-flex-direction);\n  justify-content: var(--amplify-components-checkboxfield-justify-content);\n}\n\n.amplify-dialcodeselect {\n  height: var(--amplify-components-countrycodeselect-height);\n}\n\n.amplify-divider {\n  border-color: var(--amplify-components-divider-border-color);\n  border-style: var(--amplify-components-divider-border-style);\n  border-width: 0;\n  opacity: var(--amplify-components-divider-opacity);\n  padding: 0;\n  display: block;\n  --amplify-internal-divider-size: var(\n    --amplify-components-divider-border-width\n  );\n  position: relative;\n  text-align: center;\n}\n.amplify-divider--small {\n  --amplify-internal-divider-size: var(\n    --amplify-components-divider-small-border-width\n  );\n}\n.amplify-divider--large {\n  --amplify-internal-divider-size: var(\n    --amplify-components-divider-large-border-width\n  );\n}\n.amplify-divider--horizontal {\n  width: 100%;\n  border-bottom-width: var(--amplify-internal-divider-size);\n}\n.amplify-divider--vertical {\n  border-left-width: var(--amplify-internal-divider-size);\n}\n.amplify-divider--label {\n  display: flex;\n  justify-content: center;\n}\n.amplify-divider--label::after {\n  content: attr(data-label);\n  position: absolute;\n  transform: translateY(-50%);\n  font-size: var(--amplify-components-divider-label-font-size);\n  padding-inline: var(--amplify-components-divider-label-padding-inline);\n  background-color: var(--amplify-components-divider-label-background-color);\n  color: var(--amplify-components-divider-label-color);\n}\n.amplify-divider--label[aria-orientation=vertical] {\n  flex-direction: column;\n}\n.amplify-divider--label[aria-orientation=vertical]::after {\n  top: auto;\n  transform: translateX(-50%);\n  padding-block: 0;\n  padding-inline: 0;\n}\n\n.amplify-expander {\n  display: block;\n  background-color: var(--amplify-components-expander-background-color);\n  border-radius: var(--amplify-components-expander-border-radius);\n  box-shadow: var(--amplify-components-expander-box-shadow);\n  width: var(--amplify-components-expander-width);\n}\n\n.amplify-expander__item {\n  display: block;\n  overflow: hidden;\n  box-shadow: var(--amplify-components-expander-item-box-shadow);\n}\n.amplify-expander__item:first-of-type {\n  border-start-start-radius: var(--amplify-components-expander-item-border-start-start-radius);\n  border-start-end-radius: var(--amplify-components-expander-item-border-start-end-radius);\n}\n@supports not (border-start-start-radius: var(--amplify-components-expander-item-border-start-start-radius)) {\n  .amplify-expander__item:first-of-type {\n    border-top-left-radius: var(--amplify-components-expander-item-border-top-left-radius);\n    border-top-right-radius: var(--amplify-components-expander-item-border-top-right-radius);\n  }\n}\n.amplify-expander__item:last-of-type {\n  box-shadow: none;\n  border-end-start-radius: var(--amplify-components-expander-item-border-end-start-radius);\n  border-end-end-radius: var(--amplify-components-expander-item-border-end-end-radius);\n}\n@supports not (border-end-start-radius: var(--amplify-components-expander-item-border-end-start-radius)) {\n  .amplify-expander__item:last-of-type {\n    border-bottom-left-radius: var(--amplify-components-expander-item-border-bottom-left-radius);\n    border-bottom-right-radius: var(--amplify-components-expander-item-border-bottom-right-radius);\n  }\n}\n.amplify-expander__item:focus-within {\n  box-shadow: var(--amplify-components-expander-item-focus-box-shadow);\n}\n\n.amplify-expander__header {\n  display: flex;\n  box-shadow: var(--amplify-components-expander-header-box-shadow);\n}\n\n.amplify-expander__trigger {\n  flex: 1;\n  display: flex;\n  min-height: var(--amplify-components-expander-trigger-min-height);\n  -webkit-padding-start: var(--amplify-components-expander-trigger-padding-inline-start);\n          padding-inline-start: var(--amplify-components-expander-trigger-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-expander-trigger-padding-inline-end);\n          padding-inline-end: var(--amplify-components-expander-trigger-padding-inline-end);\n  align-items: var(--amplify-components-expander-trigger-align-items);\n  justify-content: var(--amplify-components-expander-trigger-justify-content);\n}\n.amplify-expander__trigger:hover {\n  background-color: var(--amplify-components-expander-trigger-hover-background-color);\n}\n\n.amplify-expander__content {\n  display: block;\n  -webkit-padding-start: var(--amplify-components-expander-content-padding-inline-start);\n          padding-inline-start: var(--amplify-components-expander-content-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-expander-content-padding-inline-end);\n          padding-inline-end: var(--amplify-components-expander-content-padding-inline-end);\n}\n.amplify-expander__content[data-state=open] {\n  animation-name: amplify-expander-slide-down;\n  animation-duration: var(--amplify-components-expander-content-open-animation-duration);\n  animation-timing-function: var(--amplify-components-expander-content-open-animation-timing-function);\n}\n.amplify-expander__content[data-state=closed] {\n  animation-name: amplify-expander-slide-up;\n  animation-duration: var(--amplify-components-expander-content-closed-animation-duration);\n  animation-timing-function: var(--amplify-components-expander-content-closed-animation-timing-function);\n}\n\n.amplify-expander__content__text {\n  display: block;\n  color: var(--amplify-components-expander-content-text-color);\n  -webkit-padding-before: var(--amplify-components-expander-content-text-padding-block-start);\n          padding-block-start: var(--amplify-components-expander-content-text-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-expander-content-text-padding-block-end);\n          padding-block-end: var(--amplify-components-expander-content-text-padding-block-end);\n}\n\n.amplify-expander__icon {\n  transition-property: transform;\n  transition-duration: var(--amplify-components-expander-icon-transition-duration);\n  transition-timing-function: var(--amplify-components-expander-icon-transition-timing-function);\n}\n[data-state=open] .amplify-expander__icon {\n  transform: rotate(180deg);\n}\n\n@keyframes amplify-expander-slide-down {\n  from {\n    height: 0;\n  }\n  to {\n    height: auto;\n  }\n}\n@keyframes amplify-expander-slide-up {\n  from {\n    height: auto;\n  }\n  to {\n    height: 0;\n  }\n}\n.amplify-field {\n  font-size: var(--amplify-components-field-font-size);\n  gap: var(--amplify-components-field-gap);\n}\n.amplify-field--small {\n  font-size: var(--amplify-components-field-small-font-size);\n  gap: var(--amplify-components-field-small-gap);\n}\n.amplify-field--large {\n  font-size: var(--amplify-components-field-large-font-size);\n  gap: var(--amplify-components-field-large-gap);\n}\n\n.amplify-label {\n  color: var(--amplify-components-field-label-color);\n}\n\n.amplify-field-group__outer-end .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-end .amplify-field-group__control, .amplify-field-group__outer-start .amplify-select__wrapper:not(:first-child) .amplify-select:not(:first-child), .amplify-field-group__outer-start--quiet .amplify-field-group__control, .amplify-field-group__outer-start .amplify-field-group__control:not(:first-child), .amplify-field-group :not(:first-child) .amplify-input {\n  border-start-start-radius: 0;\n  border-end-start-radius: 0;\n}\n@supports not (border-start-start-radius: 0) {\n  .amplify-field-group__outer-end .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-end .amplify-field-group__control, .amplify-field-group__outer-start .amplify-select__wrapper:not(:first-child) .amplify-select:not(:first-child), .amplify-field-group__outer-start--quiet .amplify-field-group__control, .amplify-field-group__outer-start .amplify-field-group__control:not(:first-child), .amplify-field-group :not(:first-child) .amplify-input {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n\n.amplify-field-group__outer-end .amplify-select__wrapper:not(:last-child) .amplify-select, .amplify-field-group__outer-end--quiet .amplify-field-group__control, .amplify-field-group__outer-end .amplify-field-group__control:not(:last-child), .amplify-field-group__outer-start .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-start .amplify-field-group__control, .amplify-field-group :not(:last-child) .amplify-input {\n  border-end-end-radius: 0;\n  border-start-end-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-field-group__outer-end .amplify-select__wrapper:not(:last-child) .amplify-select, .amplify-field-group__outer-end--quiet .amplify-field-group__control, .amplify-field-group__outer-end .amplify-field-group__control:not(:last-child), .amplify-field-group__outer-start .amplify-select__wrapper .amplify-select, .amplify-field-group__outer-start .amplify-field-group__control, .amplify-field-group :not(:last-child) .amplify-input {\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n}\n\n.amplify-field-group {\n  gap: var(--amplify-components-fieldgroup-gap);\n  align-self: stretch;\n}\n.amplify-field-group--horizontal {\n  flex-direction: row;\n}\n.amplify-field-group--vertical {\n  flex-direction: column;\n  align-items: var(--amplify-components-fieldgroup-vertical-align-items);\n}\n.amplify-field-group__outer-start,\n.amplify-field-group__outer-end {\n  display: flex;\n  align-items: var(--amplify-components-fieldgroup-outer-align-items);\n}\n.amplify-field-group__outer-start .amplify-field-group__control,\n.amplify-field-group__outer-end .amplify-field-group__control {\n  height: 100%;\n}\n\n/**\n * Outer field group components\n */\n.amplify-field-group__outer-start .amplify-field-group__control:not(:focus) {\n  border-inline-end-color: transparent;\n}\n.amplify-field-group__outer-start .amplify-field-group__control:focus {\n  z-index: 1;\n}\n.amplify-field-group__outer-start--quiet .amplify-field-group__control:not(:focus) {\n  border-block-start-color: transparent;\n  border-inline-start-color: transparent;\n}\n.amplify-field-group__outer-end .amplify-field-group__control:not(:focus) {\n  border-inline-start-color: transparent;\n}\n.amplify-field-group__outer-end .amplify-field-group__control:focus {\n  z-index: 1;\n}\n.amplify-field-group__outer-end--quiet .amplify-field-group__control:not(:focus) {\n  border-block-start-color: transparent;\n  border-inline-end-color: transparent;\n}\n/**\n * Inner field group components\n */\n.amplify-field-group__field-wrapper {\n  position: relative;\n  width: 100%;\n}\n.amplify-field-group__field-wrapper--vertical {\n  width: -moz-fit-content;\n  width: fit-content;\n}\n\n.amplify-field-group__inner-end,\n.amplify-field-group__inner-start {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  pointer-events: none;\n}\n.amplify-field-group__inner-end .amplify-button,\n.amplify-field-group__inner-start .amplify-button {\n  pointer-events: all;\n  height: 100%;\n}\n\n.amplify-field-group__inner-end {\n  right: 0;\n  left: auto;\n}\n\n.amplify-field-group__inner-start {\n  right: auto;\n  left: 0;\n}\n\nhtml[dir=rtl] .amplify-field-group__inner-end {\n  right: auto;\n  left: 0;\n}\nhtml[dir=rtl] .amplify-field-group__inner-start {\n  left: auto;\n  right: 0;\n}\n\n.amplify-field-group--has-inner-end .amplify-input {\n  -webkit-padding-end: calc(var(--amplify-components-fieldcontrol-padding-inline-end) * 3);\n          padding-inline-end: calc(var(--amplify-components-fieldcontrol-padding-inline-end) * 3);\n}\n\n.amplify-field-group--has-inner-start .amplify-input {\n  -webkit-padding-start: calc(var(--amplify-components-fieldcontrol-padding-inline-start) * 3);\n          padding-inline-start: calc(var(--amplify-components-fieldcontrol-padding-inline-start) * 3);\n}\n\n/**\n * Inner icon (non-button) component styling requires additional styling\n */\n.amplify-field-group__icon:not(.amplify-field-group__icon-button) {\n  display: flex;\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-padding-inline-start);\n          padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-start);\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n}\n\n.amplify-fileuploader__dropzone {\n  background-color: var(--amplify-components-fileuploader-dropzone-background-color);\n  border-color: var(--amplify-components-fileuploader-dropzone-border-color);\n  border-radius: var(--amplify-components-fileuploader-dropzone-border-radius);\n  border-style: var(--amplify-components-fileuploader-dropzone-border-style);\n  border-width: var(--amplify-components-fileuploader-dropzone-border-width);\n  text-align: var(--amplify-components-fileuploader-dropzone-text-align);\n  padding-block: var(--amplify-components-fileuploader-dropzone-padding-block);\n  padding-inline: var(--amplify-components-fileuploader-dropzone-padding-inline);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: var(--amplify-components-fileuploader-dropzone-gap);\n}\n.amplify-fileuploader__dropzone--small {\n  flex-direction: row;\n  justify-content: center;\n}\n.amplify-fileuploader__dropzone--active {\n  border-color: var(--amplify-components-fileuploader-dropzone-active-border-color);\n  border-width: var(--amplify-components-fileuploader-dropzone-active-border-width);\n  background-color: var(--amplify-components-fileuploader-dropzone-active-background-color);\n}\n.amplify-fileuploader__dropzone__icon {\n  font-size: var(--amplify-components-fileuploader-dropzone-icon-font-size);\n  color: var(--amplify-components-fileuploader-dropzone-icon-color);\n}\n.amplify-fileuploader__dropzone__text {\n  color: var(--amplify-components-fileuploader-dropzone-text-color);\n  font-size: var(--amplify-components-fileuploader-dropzone-text-font-size);\n  font-weight: var(--amplify-components-fileuploader-dropzone-text-font-weight);\n}\n.amplify-fileuploader__file {\n  position: relative;\n  border-width: var(--amplify-components-fileuploader-file-border-width);\n  border-style: var(--amplify-components-fileuploader-file-border-style);\n  border-color: var(--amplify-components-fileuploader-file-border-color);\n  border-radius: var(--amplify-components-fileuploader-file-border-radius);\n  display: flex;\n  flex-direction: column;\n  padding-inline: var(--amplify-components-fileuploader-file-padding-inline);\n  padding-block: var(--amplify-components-fileuploader-file-padding-block);\n  align-items: var(--amplify-components-fileuploader-file-align-items);\n}\n.amplify-fileuploader__file__wrapper {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: var(--amplify-components-fileuploader-file-gap);\n}\n.amplify-fileuploader__file__name {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-weight: var(--amplify-components-fileuploader-file-name-font-weight);\n  font-size: var(--amplify-components-fileuploader-file-name-font-size);\n  color: var(--amplify-components-fileuploader-file-name-color);\n}\n.amplify-fileuploader__file__size {\n  font-weight: var(--amplify-components-fileuploader-file-size-font-weight);\n  font-size: var(--amplify-components-fileuploader-file-size-font-size);\n  color: var(--amplify-components-fileuploader-file-size-color);\n}\n.amplify-fileuploader__file__main {\n  flex: 1;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.amplify-fileuploader__file__image {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: var(--amplify-components-fileuploader-file-image-width);\n  height: var(--amplify-components-fileuploader-file-image-height);\n  background-color: var(--amplify-components-fileuploader-file-image-background-color);\n  border-radius: var(--amplify-components-fileuploader-file-image-border-radius);\n  color: var(--amplify-components-fileuploader-file-image-color);\n}\n.amplify-fileuploader__file__image img {\n  max-height: 100%;\n}\n.amplify-fileuploader__file__status--error {\n  color: var(--amplify-colors-font-error);\n  font-size: var(--amplify-components-fileuploader-file-size-font-size);\n}\n.amplify-fileuploader__file__status--success {\n  color: var(--amplify-colors-font-success);\n}\n.amplify-fileuploader__loader {\n  stroke-linecap: var(--amplify-components-fileuploader-loader-stroke-linecap);\n  stroke: var(--amplify-components-fileuploader-loader-stroke-empty);\n  stroke-width: var(--amplify-components-fileuploader-loader-stroke-width);\n  height: var(--amplify-components-fileuploader-loader-stroke-width);\n  --amplify-components-loader-linear-stroke-filled: var(\n    --amplify-components-fileuploader-loader-stroke-filled\n  );\n  overflow: hidden;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n}\n.amplify-fileuploader__previewer {\n  display: block;\n  max-width: var(--amplify-components-fileuploader-previewer-max-width);\n  background-color: var(--amplify-components-fileuploader-previewer-background-color);\n  border-width: var(--amplify-components-fileuploader-previewer-border-width);\n  border-style: var(--amplify-components-fileuploader-previewer-border-style);\n  border-color: var(--amplify-components-fileuploader-previewer-border-color);\n  border-radius: var(--amplify-components-fileuploader-previewer-border-radius);\n  padding-inline: var(--amplify-components-fileuploader-previewer-padding-inline);\n  padding-block: var(--amplify-components-fileuploader-previewer-padding-block);\n}\n.amplify-fileuploader__previewer__text {\n  font-weight: var(--amplify-components-fileuploader-previewer-text-font-weight);\n  font-size: var(--amplify-components-fileuploader-previewer-text-font-size);\n  color: var(--amplify-components-fileuploader-previewer-text-color);\n}\n.amplify-fileuploader__previewer__body {\n  display: flex;\n  flex-direction: column;\n  max-height: var(--amplify-components-fileuploader-previewer-max-height);\n  max-width: var(--amplify-components-fileuploader-previewer-max-width);\n  overflow: auto;\n  gap: var(--amplify-components-fileuploader-previewer-body-gap);\n  padding-inline: var(--amplify-components-fileuploader-previewer-body-padding-inline);\n  padding-block: var(--amplify-components-fileuploader-previewer-body-padding-block);\n}\n.amplify-fileuploader__previewer__footer {\n  max-width: var(--amplify-components-fileuploader-previewer-max-width);\n  border-top-width: var(--amplify-components-fileuploader-previewer-footer-border-width);\n  border-top-style: var(--amplify-components-fileuploader-previewer-footer-border-style);\n  border-top-color: var(--amplify-components-fileuploader-previewer-footer-border-color);\n  padding-inline: var(--amplify-components-fileuploader-previewer-footer-padding-inline);\n  padding-block: var(--amplify-components-fileuploader-previewer-footer-padding-block);\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: var(--amplify-components-fileuploader-previewer-footer-justify-content);\n}\n.amplify-fileuploader__previewer__footer__actions {\n  display: flex;\n  flex-direction: row;\n  gap: var(--amplify-space-small);\n}\n\n.amplify-menu-content-wrapper {\n  z-index: 999999;\n}\n\n.amplify-menu-trigger {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.amplify-menu-content {\n  background-color: var(--amplify-components-menu-background-color);\n  border-radius: var(--amplify-components-menu-border-radius);\n  box-shadow: var(--amplify-components-menu-box-shadow);\n  flex-direction: var(--amplify-components-menu-flex-direction);\n  gap: var(--amplify-components-menu-gap);\n  min-width: var(--amplify-components-menu-min-width);\n  max-width: var(--amplify-components-menu-max-width);\n  border-color: var(--amplify-components-menu-border-color);\n  border-width: var(--amplify-components-menu-border-width);\n  border-style: var(--amplify-components-menu-border-style);\n}\n\n.amplify-menu-content__item {\n  min-height: var(--amplify-components-menu-item-min-height);\n  -webkit-padding-start: var(--amplify-components-menu-item-padding-inline-start);\n          padding-inline-start: var(--amplify-components-menu-item-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-menu-item-padding-inline-end);\n          padding-inline-end: var(--amplify-components-menu-item-padding-inline-end);\n}\n\n.amplify-menu-content__item:not(:first-child):not(:last-child) {\n  border-radius: 0;\n}\n\n.amplify-menu-content__item:first-child {\n  border-end-end-radius: 0;\n  border-end-start-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-menu-content__item:first-child {\n    border-bottom-right-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n\n.amplify-menu-content__item:last-child {\n  border-start-end-radius: 0;\n  border-start-start-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-menu-content__item:last-child {\n    border-top-right-radius: 0;\n    border-top-left-radius: 0;\n  }\n}\n\n.amplify-pagination__item-current, .amplify-pagination__item-button {\n  height: var(--amplify-components-pagination-item-shared-height);\n  min-width: var(--amplify-components-pagination-item-shared-min-width);\n  border-radius: var(--amplify-components-pagination-item-shared-border-radius);\n}\n\n.amplify-pagination {\n  list-style-type: none;\n}\n.amplify-pagination li {\n  margin-left: var(--amplify-components-pagination-item-container-margin-left);\n  margin-right: var(--amplify-components-pagination-item-container-margin-right);\n}\n.amplify-pagination__item-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: initial;\n  color: var(--amplify-components-pagination-button-color);\n  -webkit-padding-start: var(--amplify-components-pagination-button-padding-inline-start);\n          padding-inline-start: var(--amplify-components-pagination-button-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-pagination-button-padding-inline-end);\n          padding-inline-end: var(--amplify-components-pagination-button-padding-inline-end);\n  transition-property: var(--amplify-components-pagination-button-transition-property);\n  transition-duration: var(--amplify-components-pagination-button-transition-duration);\n}\n.amplify-pagination__item-button:hover {\n  text-decoration: none;\n  color: var(--amplify-components-pagination-button-hover-color);\n  background-color: var(--amplify-components-pagination-button-hover-background-color);\n}\n.amplify-pagination__item-button--disabled {\n  color: var(--amplify-components-pagination-button-disabled-color);\n  pointer-events: none;\n}\n.amplify-pagination__item-current {\n  align-items: var(--amplify-components-pagination-current-align-items);\n  justify-content: var(--amplify-components-pagination-current-justify-content);\n  color: var(--amplify-components-pagination-current-color);\n  font-size: var(--amplify-components-pagination-current-font-size);\n  background-color: var(--amplify-components-pagination-current-background-color);\n}\n.amplify-pagination__item-ellipsis {\n  align-items: var(--amplify-components-pagination-ellipsis-align-items);\n  justify-content: var(--amplify-components-pagination-ellipsis-justify-content);\n  -webkit-padding-start: var(--amplify-components-pagination-ellipsis-padding-inline-start);\n          padding-inline-start: var(--amplify-components-pagination-ellipsis-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-pagination-ellipsis-padding-inline-end);\n          padding-inline-end: var(--amplify-components-pagination-ellipsis-padding-inline-end);\n}\n\n.amplify-passwordfield {\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-passwordfield-color\n  );\n  --amplify-components-button-color: var(\n    --amplify-components-passwordfield-button-color\n  );\n  --amplify-components-button-active-background-color: var(\n    --amplify-components-passwordfield-button-active-background-color\n  );\n  --amplify-components-button-active-border-color: var(\n    --amplify-components-passwordfield-button-active-border-color\n  );\n  --amplify-components-button-active-color: var(\n    --amplify-components-passwordfield-button-active-color\n  );\n  --amplify-components-button-disabled-background-color: var(\n    --amplify-components-passwordfield-button-disabled-background-color\n  );\n  --amplify-components-button-disabled-border-color: var(\n    --amplify-components-passwordfield-button-disabled-border-color\n  );\n  --amplify-components-button-disabled-color: var(\n    --amplify-components-passwordfield-button-disabled-color\n  );\n  --amplify-components-button-focus-background-color: var(\n    --amplify-components-passwordfield-button-focus-background-color\n  );\n  --amplify-components-button-focus-border-color: var(\n    --amplify-components-passwordfield-button-focus-border-color\n  );\n  --amplify-components-button-focus-color: var(\n    --amplify-components-passwordfield-button-focus-color\n  );\n  --amplify-components-button-hover-background-color: var(\n    --amplify-components-passwordfield-button-hover-background-color\n  );\n  --amplify-components-button-hover-border-color: var(\n    --amplify-components-passwordfield-button-hover-border-color\n  );\n  --amplify-components-button-hover-color: var(\n    --amplify-components-passwordfield-button-hover-color\n  );\n}\n\n.amplify-phonenumberfield select:not(:focus) {\n  border-right: none;\n}\n\n.amplify-phonenumberfield {\n  --amplify-components-selectfield-color: var(\n    --amplify-components-phonenumberfield-color\n  );\n  --amplify-components-selectfield-border-color: var(\n    --amplify-components-phonenumberfield-border-color\n  );\n  --amplify-components-selectfield-font-size: var(\n    --amplify-components-phonenumberfield-font-size\n  );\n  --amplify-components-selectfield-focus-border-color: var(\n    --amplify-components-phonenumberfield-focus-border-color\n  );\n  --amplify-components-textfield-color: var(\n    --amplify-components-phonenumberfield-color\n  );\n  --amplify-components-textfield-border-color: var(\n    --amplify-components-phonenumberfield-border-color\n  );\n  --amplify-components-textfield-font-size: var(\n    --amplify-components-phonenumberfield-font-size\n  );\n  --amplify-components-textfield-focus-border-color: var(\n    --amplify-components-phonenumberfield-focus-border-color\n  );\n}\n\n.amplify-rating {\n  display: inline-flex;\n  position: relative;\n  text-align: left;\n  font-size: var(--amplify-components-rating-default-size);\n  line-height: var(--amplify-components-rating-default-size);\n}\n.amplify-rating .amplify-icon {\n  font-size: unset;\n  line-height: unset;\n  height: 1em;\n}\n.amplify-rating--small {\n  font-size: var(--amplify-components-rating-small-size);\n  line-height: var(--amplify-components-rating-small-size);\n}\n.amplify-rating--large {\n  font-size: var(--amplify-components-rating-large-size);\n  line-height: var(--amplify-components-rating-large-size);\n}\n\n.amplify-rating-filled {\n  fill: currentColor;\n  display: inline-block;\n  flex-shrink: 0;\n  width: 1em;\n  height: 1em;\n}\n\n.amplify-rating-icon-container {\n  position: relative;\n  height: 1em;\n  width: 1em;\n}\n\n.amplify-rating-label {\n  position: absolute;\n  overflow: hidden;\n  height: 1em;\n  width: 1em;\n}\n\n.amplify-rating-icon {\n  width: 1em;\n  height: 1em;\n}\n\n.amplify-rating-icon-filled {\n  color: var(--amplify-components-rating-filled-color);\n}\n\n.amplify-rating-icon-empty {\n  color: var(--amplify-components-rating-empty-color);\n}\n\n.amplify-radio {\n  align-items: var(--amplify-components-radio-align-items);\n  justify-content: var(--amplify-components-radio-justify-content);\n  gap: inherit;\n  flex-direction: row-reverse;\n  --amplify-components-text-color: var(--amplify-components-radio-label-color);\n}\n.amplify-radio--disabled {\n  cursor: var(--amplify-components-radio-disabled-cursor);\n}\n\n.amplify-radio__button {\n  flex-shrink: 0;\n  align-items: var(--amplify-components-radio-button-align-items);\n  justify-content: var(--amplify-components-radio-button-justify-content);\n  padding: var(--amplify-components-radio-button-padding);\n  box-sizing: var(--amplify-components-radio-button-box-sizing);\n  border-width: var(--amplify-components-radio-button-border-width);\n  border-style: var(--amplify-components-radio-button-border-style);\n  border-radius: var(--amplify-components-radio-button-border-radius);\n  border-color: var(--amplify-components-radio-button-border-color);\n  color: var(--amplify-components-radio-button-color);\n  background-color: var(--amplify-components-radio-button-background-color);\n  transition-property: var(--amplify-components-radio-button-transition-property);\n  transition-duration: var(--amplify-components-radio-button-transition-duration);\n  width: var(--amplify-components-radio-button-width);\n  height: var(--amplify-components-radio-button-height);\n  outline-color: var(--amplify-components-radio-button-outline-color);\n  outline-style: var(--amplify-components-radio-button-outline-style);\n  outline-width: var(--amplify-components-radio-button-outline-width);\n  outline-offset: var(--amplify-components-radio-button-outline-offset);\n}\n.amplify-radio__button::before {\n  content: "";\n  display: inline-block;\n  width: 100%;\n  height: 100%;\n  border-radius: var(--amplify-components-radio-button-before-border-radius);\n  background-color: currentColor;\n  border-radius: 50%;\n}\n.amplify-radio__button--small {\n  width: var(--amplify-components-radio-button-small-width);\n  height: var(--amplify-components-radio-button-small-height);\n}\n.amplify-radio__button--large {\n  width: var(--amplify-components-radio-button-large-width);\n  height: var(--amplify-components-radio-button-large-height);\n}\n\n.amplify-radio__input:checked + .amplify-radio__button {\n  color: var(--amplify-components-radio-button-checked-color);\n}\n\n.amplify-radio__input:checked:disabled + .amplify-radio__button {\n  color: var(--amplify-components-radio-button-checked-disabled-color);\n}\n\n.amplify-radio__input:focus + .amplify-radio__button {\n  border-color: var(--amplify-components-radio-button-focus-border-color);\n  box-shadow: var(--amplify-components-radio-button-focus-box-shadow);\n}\n\n.amplify-radio__input[aria-invalid=true] + .amplify-radio__button {\n  border-color: var(--amplify-components-radio-button-error-border-color);\n}\n\n.amplify-radio__input[aria-invalid=true]:focus + .amplify-radio__button {\n  box-shadow: var(--amplify-components-radio-button-error-focus-box-shadow);\n}\n\n.amplify-radio__input:disabled + .amplify-radio__button {\n  border-color: var(--amplify-components-radio-button-disabled-border-color);\n  background-color: var(--amplify-components-radio-button-disabled-background-color);\n}\n\n.amplify-radio__label[data-disabled=true] {\n  color: var(--amplify-components-radio-label-disabled-color);\n}\n\n.amplify-radiogroup {\n  gap: inherit;\n  flex-direction: inherit;\n  align-items: inherit;\n}\n\n.amplify-radiogroupfield {\n  flex-direction: column;\n  align-items: flex-start;\n  --amplify-components-field-label-color: var(\n    --amplify-components-radiogroup-label-color\n  );\n  --amplify-components-radio-button-border-width: var(\n    --amplify-components-radiogroup-radio-border-width\n  );\n  --amplify-components-radio-button-border-color: var(\n    --amplify-components-radiogroup-radio-border-color\n  );\n  --amplify-components-radio-button-background-color: var(\n    --amplify-components-radiogroup-radio-background-color\n  );\n  --amplify-components-radio-label-color: var(\n    --amplify-components-radiogroup-radio-label-color\n  );\n  --amplify-components-radio-button-checked-color: var(\n    --amplify-components-radiogroup-radio-checked-color\n  );\n}\n\n.amplify-searchfield {\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-searchfield-input-color\n  );\n}\n.amplify-searchfield__search {\n  color: var(--amplify-components-searchfield-button-color);\n  background-color: var(--amplify-components-searchfield-button-background-color);\n}\n.amplify-searchfield__search:active {\n  background-color: var(--amplify-components-button-active-background-color);\n  border-color: var(--amplify-components-button-active-border-color);\n  color: var(--amplify-components-button-active-color);\n}\n.amplify-searchfield__search:disabled {\n  background-color: var(--amplify-components-searchfield-button-disabled-background-color);\n  border-color: var(--amplify-components-searchfield-button-disabled-border-color);\n  color: var(--amplify-components-searchfield-button-disabled-color);\n}\n.amplify-searchfield__search:focus {\n  background-color: var(--amplify-components-searchfield-button-focus-background-color);\n  border-color: var(--amplify-components-searchfield-button-focus-border-color);\n  color: var(--amplify-components-searchfield-button-focus-color);\n}\n.amplify-searchfield__search:hover {\n  background-color: var(--amplify-components-searchfield-button-hover-background-color);\n  border-color: var(--amplify-components-searchfield-button-hover-border-color);\n  color: var(--amplify-components-searchfield-button-hover-color);\n}\n\n.amplify-select__wrapper {\n  flex: var(--amplify-components-select-wrapper-flex);\n  display: var(--amplify-components-select-wrapper-display);\n  position: var(--amplify-components-select-wrapper-position);\n  cursor: var(--amplify-components-select-wrapper-cursor);\n  align-self: stretch;\n}\n\n.amplify-select__icon-wrapper {\n  align-items: var(--amplify-components-select-icon-wrapper-align-items);\n  position: var(--amplify-components-select-icon-wrapper-position);\n  top: var(--amplify-components-select-icon-wrapper-top);\n  right: var(--amplify-components-select-icon-wrapper-right);\n  transform: var(--amplify-components-select-icon-wrapper-transform);\n  pointer-events: var(--amplify-components-select-icon-wrapper-pointer-events);\n}\n\n.amplify-select {\n  box-sizing: border-box;\n  color: var(--amplify-components-fieldcontrol-color);\n  font-size: var(--amplify-components-fieldcontrol-font-size);\n  line-height: var(--amplify-components-fieldcontrol-line-height);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-padding-inline-end);\n  transition: all var(--amplify-components-fieldcontrol-transition-duration);\n  width: 100%;\n  border-color: var(--amplify-components-fieldcontrol-border-color);\n  border-radius: var(--amplify-components-fieldcontrol-border-radius);\n  border-style: var(--amplify-components-fieldcontrol-border-style);\n  border-width: var(--amplify-components-fieldcontrol-border-width);\n  outline-color: var(--amplify-components-fieldcontrol-outline-color);\n  outline-style: var(--amplify-components-fieldcontrol-outline-style);\n  outline-width: var(--amplify-components-fieldcontrol-outline-width);\n  outline-offset: var(--amplify-components-fieldcontrol-outline-offset);\n  min-width: var(--amplify-components-select-min-width);\n  -webkit-padding-end: var(--amplify-components-select-padding-inline-end);\n          padding-inline-end: var(--amplify-components-select-padding-inline-end);\n  white-space: var(--amplify-components-select-white-space);\n}\n.amplify-select:focus {\n  border-color: var(--amplify-components-fieldcontrol-focus-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-focus-box-shadow);\n}\n.amplify-select--small {\n  font-size: var(--amplify-components-fieldcontrol-small-font-size);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-small-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-small-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-small-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-small-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-small-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-small-padding-inline-end);\n}\n.amplify-select--large {\n  font-size: var(--amplify-components-fieldcontrol-large-font-size);\n  -webkit-padding-before: var(--amplify-components-fieldcontrol-large-padding-block-start);\n          padding-block-start: var(--amplify-components-fieldcontrol-large-padding-block-start);\n  -webkit-padding-after: var(--amplify-components-fieldcontrol-large-padding-block-end);\n          padding-block-end: var(--amplify-components-fieldcontrol-large-padding-block-end);\n  -webkit-padding-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n          padding-inline-start: var(--amplify-components-fieldcontrol-large-padding-inline-start);\n  -webkit-padding-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n          padding-inline-end: var(--amplify-components-fieldcontrol-large-padding-inline-end);\n}\n.amplify-select--error {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n}\n.amplify-select--error:focus {\n  border-color: var(--amplify-components-fieldcontrol-error-border-color);\n  box-shadow: var(--amplify-components-fieldcontrol-error-focus-box-shadow);\n}\n.amplify-select[disabled] {\n  color: var(--amplify-components-fieldcontrol-disabled-color);\n  cursor: var(--amplify-components-fieldcontrol-disabled-cursor);\n  border-color: var(--amplify-components-fieldcontrol-disabled-border-color);\n  background-color: var(--amplify-components-fieldcontrol-disabled-background-color);\n}\n.amplify-select--quiet {\n  -webkit-border-before: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n          border-block-start: var(--amplify-components-fieldcontrol-quiet-border-block-start);\n  -webkit-border-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n          border-inline-start: var(--amplify-components-fieldcontrol-quiet-border-inline-start);\n  -webkit-border-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n          border-inline-end: var(--amplify-components-fieldcontrol-quiet-border-inline-end);\n  border-radius: var(--amplify-components-fieldcontrol-quiet-border-radius);\n}\n.amplify-select--quiet:focus {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-focus-border-block-end-color);\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-focus-box-shadow);\n}\n.amplify-select--quiet[aria-invalid=true] {\n  border-block-end-color: var(--amplify-components-fieldcontrol-quiet-error-border-block-end-color);\n}\n.amplify-select--quiet[aria-invalid=true]:focus {\n  box-shadow: var(--amplify-components-fieldcontrol-quiet-error-focus-box-shadow);\n}\n.amplify-select option {\n  color: initial;\n}\n.amplify-select option[disabled=""] {\n  color: var(--amplify-components-select-option-disabled-color);\n}\n@-moz-document url-prefix() {\n  .amplify-select option {\n    background-color: var(--amplify-components-select-option-background-color);\n    color: var(--amplify-components-select-option-color);\n  }\n}\n.amplify-select--small {\n  min-width: var(--amplify-components-select-small-min-width);\n}\n.amplify-select--large {\n  min-width: var(--amplify-components-select-large-min-width);\n}\n\n.amplify-selectfield {\n  flex-direction: var(--amplify-components-selectfield-flex-direction);\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-selectfield-border-color\n  );\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-selectfield-color\n  );\n  --amplify-components-fieldcontrol-font-size: var(\n    --amplify-components-selectfield-font-size\n  );\n  --amplify-components-fieldcontrol-focus-border-color: var(\n    --amplify-components-selectfield-focus-border-color\n  );\n  --amplify-components-field-label-color: var(\n    --amplify-components-selectfield-label-color\n  );\n}\n\n.amplify-sliderfield {\n  flex-direction: column;\n}\n\n.amplify-sliderfield__label {\n  display: flex;\n  justify-content: space-between;\n}\n\n.amplify-sliderfield__root {\n  align-items: center;\n  box-sizing: content-box;\n  display: flex;\n  padding-block: var(--amplify-components-sliderfield-padding-block);\n  position: relative;\n  touch-action: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  --amplify-internal-sliderfield-root-height: var(\n    --amplify-components-sliderfield-thumb-height\n  );\n  --amplify-internal-sliderfield-root-width: var(\n    --amplify-components-sliderfield-thumb-height\n  );\n}\n.amplify-sliderfield__root[data-disabled] {\n  cursor: not-allowed;\n}\n.amplify-sliderfield__root--horizontal {\n  height: var(--amplify-internal-sliderfield-root-height);\n}\n.amplify-sliderfield__root--vertical {\n  flex-direction: column;\n  width: var(--amplify-internal-sliderfield-root-width);\n}\n.amplify-sliderfield__root--large {\n  --amplify-internal-sliderfield-root-height: var(\n    --amplify-components-sliderfield-large-thumb-height\n  );\n  --amplify-internal-sliderfield-root-width: var(\n    --amplify-components-sliderfield-large-thumb-height\n  );\n}\n.amplify-sliderfield__root--small {\n  --amplify-internal-sliderfield-root-height: var(\n    --amplify-components-sliderfield-small-thumb-height\n  );\n  --amplify-internal-sliderfield-root-width: var(\n    --amplify-components-sliderfield-small-thumb-height\n  );\n}\n\n.amplify-sliderfield__track {\n  position: relative;\n  flex-grow: 1;\n  border-radius: var(--amplify-components-sliderfield-track-border-radius);\n  background-color: var(--amplify-components-sliderfield-track-background-color);\n  --amplify-internal-sliderfield-track-height: var(\n    --amplify-components-sliderfield-track-height\n  );\n  --amplify-internal-sliderfield-track-min-width: var(\n    --amplify-components-sliderfield-track-min-width\n  );\n  --amplify-internal-sliderfield-track-width: var(\n    --amplify-components-sliderfield-track-height\n  );\n  --amplify-internal-sliderfield-track-min-height: var(\n    --amplify-components-sliderfield-track-min-width\n  );\n}\n.amplify-sliderfield__track--horizontal {\n  height: var(--amplify-internal-sliderfield-track-height);\n  min-width: var(--amplify-internal-sliderfield-track-min-width);\n}\n.amplify-sliderfield__track--vertical {\n  width: var(--amplify-internal-sliderfield-track-width);\n  min-height: var(--amplify-internal-sliderfield-track-min-height);\n}\n.amplify-sliderfield__track--large {\n  --amplify-internal-sliderfield-track-height: var(\n    --amplify-components-sliderfield-large-track-height\n  );\n  --amplify-internal-sliderfield-track-width: var(\n    --amplify-components-sliderfield-large-track-height\n  );\n}\n.amplify-sliderfield__track--small {\n  --amplify-internal-sliderfield-track-height: var(\n    --amplify-components-sliderfield-small-track-height\n  );\n  --amplify-internal-sliderfield-track-width: var(\n    --amplify-components-sliderfield-small-track-height\n  );\n}\n\n.amplify-sliderfield__range {\n  position: absolute;\n  border-radius: var(--amplify-components-sliderfield-range-border-radius);\n  background-color: var(--amplify-components-sliderfield-range-background-color);\n}\n.amplify-sliderfield__range[data-disabled] {\n  background-color: var(--amplify-components-sliderfield-range-disabled-background-color);\n}\n.amplify-sliderfield__range--horizontal {\n  height: 100%;\n}\n.amplify-sliderfield__range--vertical {\n  width: 100%;\n}\n\n.amplify-sliderfield__thumb {\n  display: block;\n  width: var(--amplify-components-sliderfield-thumb-width);\n  height: var(--amplify-components-sliderfield-thumb-height);\n  background-color: var(--amplify-components-sliderfield-thumb-background-color);\n  box-shadow: var(--amplify-components-sliderfield-thumb-box-shadow);\n  border-radius: var(--amplify-components-sliderfield-thumb-border-radius);\n  border-width: var(--amplify-components-sliderfield-thumb-border-width);\n  border-color: var(--amplify-components-sliderfield-thumb-border-color);\n  border-style: var(--amplify-components-sliderfield-thumb-border-style);\n}\n.amplify-sliderfield__thumb:hover {\n  background-color: var(--amplify-components-sliderfield-thumb-hover-background-color);\n  border-color: var(--amplify-components-sliderfield-thumb-hover-border-color);\n}\n.amplify-sliderfield__thumb:focus {\n  border-color: var(--amplify-components-sliderfield-thumb-focus-border-color);\n  box-shadow: var(--amplify-components-sliderfield-thumb-focus-box-shadow);\n}\n.amplify-sliderfield__thumb[data-disabled] {\n  background-color: var(--amplify-components-sliderfield-thumb-disabled-background-color);\n  border-color: var(--amplify-components-sliderfield-thumb-disabled-border-color);\n  box-shadow: var(--amplify-components-sliderfield-thumb-disabled-box-shadow);\n}\n.amplify-sliderfield__thumb--large {\n  width: var(--amplify-components-sliderfield-large-thumb-width);\n  height: var(--amplify-components-sliderfield-large-thumb-height);\n}\n.amplify-sliderfield__thumb--small {\n  width: var(--amplify-components-sliderfield-small-thumb-width);\n  height: var(--amplify-components-sliderfield-small-thumb-height);\n}\n\n.amplify-stepperfield {\n  flex-direction: var(--amplify-components-stepperfield-flex-direction);\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-stepperfield-border-color\n  );\n  --amplify-components-button-border-color: var(\n    --amplify-components-stepperfield-border-color\n  );\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-stepperfield-input-color\n  );\n  --amplify-components-fieldcontrol-font-size: var(\n    --amplify-components-stepperfield-input-font-size\n  );\n  --amplify-components-button-color: var(\n    --amplify-components-stepperfield-button-color\n  );\n  --amplify-components-button-active-color: var(\n    --amplify-components-stepperfield-button-active-color\n  );\n  --amplify-components-button-active-background-color: var(\n    --amplify-components-stepperfield-button-active-background-color\n  );\n  --amplify-components-button-focus-color: var(\n    --amplify-components-stepperfield-button-focus-color\n  );\n  --amplify-components-button-focus-background-color: var(\n    --amplify-components-stepperfield-button-focus-background-color\n  );\n  --amplify-components-button-disabled-color: var(\n    --amplify-components-stepperfield-button-disabled-color\n  );\n  --amplify-components-button-disabled-background-color: var(\n    --amplify-components-stepperfield-button-disabled-background-color\n  );\n  --amplify-components-button-hover-color: var(\n    --amplify-components-stepperfield-button-hover-color\n  );\n  --amplify-components-button-hover-background-color: var(\n    --amplify-components-stepperfield-button-hover-background-color\n  );\n}\n\n.amplify-stepperfield__button--decrease,\n.amplify-stepperfield__button--increase {\n  background-color: var(--amplify-components-stepperfield-button-background-color);\n}\n.amplify-stepperfield__button--decrease--disabled,\n.amplify-stepperfield__button--increase--disabled {\n  background-color: var(--amplify-components-stepperfield-button-disabled-background-color);\n}\n.amplify-stepperfield__button--decrease--quiet,\n.amplify-stepperfield__button--increase--quiet {\n  border-width: 0 0 var(--amplify-components-button-border-width) 0;\n  border-radius: 0;\n}\n\n.amplify-stepperfield__button--decrease[data-invalid=true] {\n  -webkit-border-end: none;\n          border-inline-end: none;\n}\n\n.amplify-stepperfield__button--increase[data-invalid=true] {\n  -webkit-border-start: none;\n          border-inline-start: none;\n}\n\n.amplify-stepperfield__input {\n  -moz-appearance: textfield;\n  text-align: var(--amplify-components-stepperfield-input-text-align);\n}\n.amplify-stepperfield__input::-webkit-outer-spin-button, .amplify-stepperfield__input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.amplify-stepperfield__input:not(:focus, [aria-invalid=true]) {\n  -webkit-border-start: none;\n          border-inline-start: none;\n  -webkit-border-end: none;\n          border-inline-end: none;\n}\n\n.amplify-switchfield {\n  display: inline-block;\n  font-size: var(--amplify-components-switchfield-font-size);\n}\n.amplify-switchfield--small {\n  font-size: var(--amplify-components-switchfield-small-font-size);\n}\n.amplify-switchfield--large {\n  font-size: var(--amplify-components-switchfield-large-font-size);\n}\n\n.amplify-switch__wrapper {\n  display: inline-flex;\n  align-items: center;\n}\n.amplify-switch__wrapper--start {\n  flex-direction: row;\n}\n.amplify-switch__wrapper--end {\n  flex-direction: row-reverse;\n}\n.amplify-switch__wrapper--top {\n  flex-direction: column;\n}\n.amplify-switch__wrapper--bottom {\n  flex-direction: column-reverse;\n}\n\n.amplify-switch-track {\n  display: inline-flex;\n  justify-content: flex-start;\n  box-sizing: content-box;\n  border-radius: var(--amplify-components-switchfield-track-border-radius);\n  padding: var(--amplify-components-switchfield-track-padding);\n  width: var(--amplify-components-switchfield-track-width);\n  height: var(--amplify-components-switchfield-track-height);\n  transition-duration: var(--amplify-components-switchfield-track-transition-duration);\n  background-color: var(--amplify-components-switchfield-track-background-color);\n}\n.amplify-switch-track--checked {\n  background-color: var(--amplify-components-switchfield-track-checked-background-color);\n}\n.amplify-switch-track--disabled {\n  opacity: var(--amplify-components-switchfield-disabled-opacity);\n  cursor: not-allowed;\n}\n.amplify-switch-track--focused {\n  box-shadow: var(--amplify-components-switchfield-focused-shadow);\n}\n.amplify-switch-track--error {\n  background-color: var(--amplify-components-switchfield-track-error-background-color);\n}\n\n.amplify-switch-thumb {\n  background-color: var(--amplify-components-switchfield-thumb-background-color);\n  transition-duration: var(--amplify-components-switchfield-thumb-transition-duration);\n  border-radius: var(--amplify-components-switchfield-thumb-border-radius);\n  width: var(--amplify-components-switchfield-thumb-width);\n  height: var(--amplify-components-switchfield-thumb-width);\n  border-color: var(--amplify-components-switchfield-thumb-border-color);\n  overflow-wrap: break-word;\n}\n.amplify-switch-thumb--checked {\n  transform: var(--amplify-components-switchfield-thumb-checked-transform);\n}\n.amplify-switch-thumb--disabled {\n  cursor: not-allowed;\n}\n\n.amplify-switch-label {\n  padding: var(--amplify-components-switchfield-label-padding);\n  cursor: pointer;\n}\n\n.amplify-table {\n  /**\n   * Default Table primitive stylings\n   */\n  border-collapse: var(--amplify-components-table-border-collapse);\n  display: var(--amplify-components-table-display);\n  width: var(--amplify-components-table-width);\n  --amplify-internal-table-caption-font-size: var(\n    --amplify-components-table-caption-font-size\n  );\n  --amplify-internal-table-th-font-size: var(\n    --amplify-components-table-header-font-size\n  );\n  --amplify-internal-table-th-padding: var(\n    --amplify-components-table-header-padding\n  );\n  --amplify-internal-table-td-font-size: var(\n    --amplify-components-table-data-font-size\n  );\n  --amplify-internal-table-td-padding: var(\n    --amplify-components-table-data-padding\n  );\n  --amplify-internal-table-td-border-width: var(\n      --amplify-components-table-data-border-width\n    )\n    0px var(--amplify-components-table-data-border-width) 0px;\n  --amplify-internal-table-th-border-width: var(\n      --amplify-components-table-header-border-width\n    )\n    0px var(--amplify-components-table-header-border-width) 0px;\n  /**\n   * Data attribute stylings\n   */\n}\n.amplify-table--small {\n  --amplify-internal-table-caption-font-size: var(\n    --amplify-components-table-caption-small-font-size\n  );\n  --amplify-internal-table-th-font-size: var(\n    --amplify-components-table-header-small-font-size\n  );\n  --amplify-internal-table-th-padding: var(\n    --amplify-components-table-header-small-padding\n  );\n  --amplify-internal-table-td-font-size: var(\n    --amplify-components-table-data-small-font-size\n  );\n  --amplify-internal-table-td-padding: var(\n    --amplify-components-table-data-small-padding\n  );\n}\n.amplify-table--large {\n  --amplify-internal-table-caption-font-size: var(\n    --amplify-components-table-caption-large-font-size\n  );\n  --amplify-internal-table-th-font-size: var(\n    --amplify-components-table-header-large-font-size\n  );\n  --amplify-internal-table-th-padding: var(\n    --amplify-components-table-header-large-padding\n  );\n  --amplify-internal-table-td-font-size: var(\n    --amplify-components-table-data-large-font-size\n  );\n  --amplify-internal-table-td-padding: var(\n    --amplify-components-table-data-large-padding\n  );\n}\n.amplify-table--bordered {\n  --amplify-internal-table-td-border-width: var(\n      --amplify-components-table-data-border-width\n    )\n    var(--amplify-components-table-data-border-width)\n    var(--amplify-components-table-data-border-width)\n    var(--amplify-components-table-data-border-width);\n  --amplify-internal-table-th-border-width: var(\n      --amplify-components-table-header-border-width\n    )\n    var(--amplify-components-table-header-border-width)\n    var(--amplify-components-table-header-border-width)\n    var(--amplify-components-table-header-border-width);\n}\n.amplify-table__caption {\n  caption-side: var(--amplify-components-table-caption-caption-side);\n  color: var(--amplify-components-table-caption-color);\n  display: var(--amplify-components-table-caption-display);\n  font-size: var(--amplify-internal-table-caption-font-size);\n  text-align: var(--amplify-components-table-caption-text-align);\n  word-break: var(--amplify-components-table-caption-word-break);\n}\n.amplify-table__head {\n  display: var(--amplify-components-table-head-display);\n  vertical-align: var(--amplify-components-table-head-vertical-align);\n}\n.amplify-table__body {\n  display: var(--amplify-components-table-body-display);\n  vertical-align: var(--amplify-components-table-body-vertical-align);\n}\n.amplify-table__foot {\n  display: var(--amplify-components-table-foot-display);\n  vertical-align: var(--amplify-components-table-foot-vertical-align);\n}\n.amplify-table__row {\n  display: var(--amplify-components-table-row-display);\n  vertical-align: var(--amplify-components-table-row-vertical-align);\n}\n.amplify-table__th {\n  border-color: var(--amplify-components-table-header-border-color);\n  border-style: var(--amplify-components-table-header-border-style);\n  border-width: var(--amplify-internal-table-th-border-width);\n  color: var(--amplify-components-table-header-color);\n  display: var(--amplify-components-table-header-display);\n  font-size: var(--amplify-internal-table-th-font-size);\n  font-weight: var(--amplify-components-table-header-font-weight);\n  padding: var(--amplify-internal-table-th-padding);\n  vertical-align: var(--amplify-components-table-header-vertical-align);\n}\n.amplify-table__th:first-child {\n  border-left-width: var(--amplify-components-table-header-border-width);\n}\n.amplify-table__th:last-child {\n  border-right-width: var(--amplify-components-table-header-border-width);\n}\n.amplify-table__td {\n  border-color: var(--amplify-components-table-data-border-color);\n  border-style: var(--amplify-components-table-data-border-style);\n  border-width: var(--amplify-internal-table-td-border-width);\n  color: var(--amplify-components-table-data-color);\n  display: var(--amplify-components-table-data-display);\n  font-size: var(--amplify-internal-table-td-font-size);\n  font-weight: var(--amplify-components-table-data-font-weight);\n  padding: var(--amplify-internal-table-td-padding);\n  vertical-align: var(--amplify-components-table-data-vertical-align);\n}\n.amplify-table__td:first-child {\n  border-left-width: var(--amplify-components-table-data-border-width);\n}\n.amplify-table__td:last-child {\n  border-right-width: var(--amplify-components-table-data-border-width);\n}\n.amplify-table[data-variation=striped] .amplify-table__row:not(.amplify-table__head *):nth-child(odd) {\n  background-color: var(--amplify-components-table-row-striped-background-color);\n}\n.amplify-table[data-highlightonhover=true] .amplify-table__row:not(.amplify-table__head *):hover {\n  background-color: var(--amplify-components-table-row-hover-background-color);\n}\n\n.amplify-tabs {\n  background-color: var(--amplify-components-tabs-background-color);\n  box-shadow: var(--amplify-components-tabs-box-shadow);\n  border-width: 0 0 var(--amplify-components-tabs-border-width) 0;\n  border-style: var(--amplify-components-tabs-border-style);\n  border-color: var(--amplify-components-tabs-border-color);\n  gap: var(--amplify-components-tabs-gap);\n}\n.amplify-tabs[data-indicator-position=top] {\n  border-width: var(--amplify-components-tabs-border-width) 0 0 0;\n}\n\n.amplify-tabs-item {\n  background-color: var(--amplify-components-tabs-item-background-color);\n  box-sizing: border-box;\n  color: var(--amplify-components-tabs-item-color);\n  font-size: var(--amplify-components-tabs-item-font-size);\n  font-weight: var(--amplify-components-tabs-item-font-weight);\n  padding: var(--amplify-components-tabs-item-padding-vertical) var(--amplify-components-tabs-item-padding-horizontal);\n  text-align: var(--amplify-components-tabs-item-text-align);\n  transition: all var(--amplify-components-tabs-item-transition-duration);\n  border-width: 0 0 var(--amplify-components-tabs-item-border-width) 0;\n  border-style: var(--amplify-components-tabs-item-border-style);\n  border-color: var(--amplify-components-tabs-item-border-color);\n  margin-bottom: calc(-1 * var(--amplify-components-tabs-item-border-width));\n}\n[data-indicator-position=top] > .amplify-tabs-item {\n  border-width: var(--amplify-components-tabs-border-width) 0 0 0;\n  margin-top: calc(-1 * var(--amplify-components-tabs-item-border-width));\n  margin-bottom: 0;\n}\n.amplify-tabs-item[data-state=active] {\n  color: var(--amplify-components-tabs-item-active-color);\n  border-color: var(--amplify-components-tabs-item-active-border-color);\n  background-color: var(--amplify-components-tabs-item-active-background-color);\n  transition-property: none;\n}\n.amplify-tabs-item:hover {\n  color: var(--amplify-components-tabs-item-hover-color);\n  cursor: pointer;\n}\n.amplify-tabs-item:focus {\n  color: var(--amplify-components-tabs-item-focus-color);\n}\n.amplify-tabs-item:focus-visible {\n  outline: var(--amplify-components-tabs-item-border-width) var(--amplify-components-tabs-item-border-style) var(--amplify-components-tabs-item-border-color);\n}\n.amplify-tabs-item:active {\n  color: var(--amplify-components-tabs-item-active-color);\n}\n.amplify-tabs-item[data-disabled] {\n  background-color: var(--amplify-components-tabs-item-disabled-background-color);\n  color: var(--amplify-components-tabs-item-disabled-color);\n  cursor: not-allowed;\n}\n.amplify-tabs-item[data-spacing=equal] {\n  flex: 1 1 0;\n}\n.amplify-tabs-item[data-spacing=relative] {\n  flex-grow: 1;\n}\n\n.amplify-textareafield {\n  flex-direction: column;\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-textareafield-color\n  );\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-textareafield-border-color\n  );\n  --amplify-components-fieldcontrol-focus-border-color: var(\n    --amplify-components-textareafield-focus-border-color\n  );\n}\n\n.amplify-textfield {\n  flex-direction: column;\n  --amplify-components-fieldcontrol-color: var(\n    --amplify-components-textfield-color\n  );\n  --amplify-components-fieldcontrol-border-color: var(\n    --amplify-components-textfield-border-color\n  );\n  --amplify-components-fieldcontrol-font-size: var(\n    --amplify-components-textfield-font-size\n  );\n  --amplify-components-fieldcontrol-focus-border-color: var(\n    --amplify-components-textfield-focus-border-color\n  );\n}\n\n.amplify-togglebutton {\n  --amplify-internal-togglebutton-background-color: initial;\n  --amplify-internal-togglebutton-border-color: var(\n    --amplify-components-togglebutton-border-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-components-togglebutton-color\n  );\n  background-color: var(--amplify-internal-togglebutton-background-color);\n  border-color: var(--amplify-internal-togglebutton-border-color);\n  color: var(--amplify-internal-togglebutton-color);\n  --amplify-internal-togglebutton-focus-background-color: var(\n    --amplify-internal-togglebutton-background-color\n  );\n  --amplify-internal-togglebutton-focus-border-color: var(\n    --amplify-components-togglebutton-focus-border-color\n  );\n  --amplify-internal-togglebutton-focus-color: var(\n    --amplify-components-togglebutton-focus-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-components-togglebutton-hover-background-color\n  );\n  --amplify-internal-togglebutton-hover-border-color: var(\n    --amplify-internal-togglebutton-border-color\n  );\n  --amplify-internal-togglebutton-hover-color: var(\n    --amplify-internal-togglebutton-color\n  );\n  --amplify-internal-togglebutton-active-background-color: var(\n    --amplify-components-togglebutton-active-background-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-components-togglebutton-disabled-background-color\n  );\n  --amplify-internal-togglebutton-disabled-border-color: var(\n    --amplify-components-togglebutton-disabled-border-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-components-togglebutton-disabled-color\n  );\n}\n.amplify-togglebutton:focus {\n  background-color: var(--amplify-internal-togglebutton-focus-background-color);\n  border-color: var(--amplify-internal-togglebutton-focus-border-color);\n  color: var(--amplify-internal-togglebutton-focus-color);\n}\n.amplify-togglebutton:hover {\n  background-color: var(--amplify-internal-togglebutton-hover-background-color);\n  border-color: var(--amplify-internal-togglebutton-hover-border-color);\n  color: var(--amplify-internal-togglebutton-hover-color);\n}\n.amplify-togglebutton:active {\n  background-color: var(--amplify-internal-togglebutton-active-background-color);\n}\n.amplify-togglebutton:disabled {\n  background-color: var(--amplify-internal-togglebutton-disabled-background-color);\n  border-color: var(--amplify-internal-togglebutton-disabled-border-color);\n  color: var(--amplify-internal-togglebutton-disabled-color);\n}\n.amplify-togglebutton--pressed {\n  --amplify-internal-togglebutton-border-color: var(\n    --amplify-components-togglebutton-pressed-border-color\n  );\n  --amplify-internal-togglebutton-background-color: var(\n    --amplify-components-togglebutton-pressed-background-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-components-togglebutton-pressed-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-components-togglebutton-pressed-hover-background-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-components-togglebutton-pressed-background-color\n  );\n  --amplify-internal-togglebutton-disabled-border-color: var(\n    --amplify-components-togglebutton-pressed-border-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-components-togglebutton-pressed-color\n  );\n}\n.amplify-togglebutton--primary {\n  --amplify-internal-togglebutton-primary-background-color: var(\n    --amplify-components-togglebutton-primary-background-color\n  );\n  --amplify-internal-togglebutton-background-color: var(\n    --amplify-internal-togglebutton-primary-background-color\n  );\n  --amplify-internal-togglebutton-primary-border-color: var(\n    --amplify-components-togglebutton-border-color\n  );\n  --amplify-internal-togglebutton-border-color: var(\n    --amplify-internal-togglebutton-primary-border-color\n  );\n  --amplify-internal-togglebutton-primary-color: var(\n    --amplify-components-togglebutton-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-internal-togglebutton-primary-color\n  );\n  border-width: var(--amplify-components-togglebutton-primary-border-width);\n  --amplify-internal-togglebutton-primary-focus-background-color: var(\n    --amplify-components-togglebutton-primary-focus-background-color\n  );\n  --amplify-internal-togglebutton-primary-focus-border-color: var(\n    --amplify-components-togglebutton-primary-focus-border-color\n  );\n  --amplify-internal-togglebutton-primary-focus-color: var(\n    --amplify-components-togglebutton-primary-focus-color\n  );\n  --amplify-internal-togglebutton-primary-focus-box-shadow: var(\n    --amplify-components-togglebutton-primary-focus-box-shadow\n  );\n  --amplify-internal-togglebutton-focus-background-color: var(\n    --amplify-internal-togglebutton-primary-focus-background-color\n  );\n  --amplify-internal-togglebutton-focus-border-color: var(\n    --amplify-internal-togglebutton-primary-focus-border-color\n  );\n  --amplify-internal-togglebutton-focus-color: var(\n    --amplify-internal-togglebutton-primary-focus-color\n  );\n  --amplify-internal-togglebutton-primary-hover-background-color: var(\n    --amplify-components-togglebutton-primary-hover-background-color\n  );\n  --amplify-internal-togglebutton-primary-hover-border-color: var(\n    --amplify-internal-togglebutton-primary-border-color\n  );\n  --amplify-internal-togglebutton-primary-hover-color: var(\n    --amplify-components-togglebutton-primary-hover-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-internal-togglebutton-primary-hover-background-color\n  );\n  --amplify-internal-togglebutton-hover-border-color: var(\n    --amplify-internal-togglebutton-primary-hover-border-color\n  );\n  --amplify-internal-togglebutton-hover-color: var(\n    --amplify-internal-togglebutton-primary-hover-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-background-color: var(\n    --amplify-components-togglebutton-primary-disabled-background-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-border-color: var(\n    --amplify-components-togglebutton-primary-disabled-border-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-color: var(\n    --amplify-components-togglebutton-primary-disabled-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-internal-togglebutton-primary-disabled-background-color\n  );\n  --amplify-internal-togglebutton-disabled-border-color: var(\n    --amplify-internal-togglebutton-primary-disabled-border-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-internal-togglebutton-primary-disabled-color\n  );\n}\n.amplify-togglebutton--primary:focus {\n  box-shadow: var(--amplify-internal-togglebutton-primary-focus-box-shadow);\n}\n.amplify-togglebutton--pressed {\n  --amplify-internal-togglebutton-primary-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-background-color\n  );\n  --amplify-internal-togglebutton-primary-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-border-color\n  );\n  --amplify-internal-togglebutton-primary-color: var(\n    --amplify-components-togglebutton-primary-pressed-color\n  );\n  --amplify-internal-togglebutton-primary-focus-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-focus-background-color\n  );\n  --amplify-internal-togglebutton-primary-focus-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-focus-border-color\n  );\n  --amplify-internal-togglebutton-primary-focus-color: var(\n    --amplify-components-togglebutton-primary-pressed-focus-color\n  );\n  --amplify-internal-togglebutton-primary-hover-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-hover-background-color\n  );\n  --amplify-internal-togglebutton-primary-hover-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-hover-border-color\n  );\n  --amplify-internal-togglebutton-primary-hover-color: var(\n    --amplify-components-togglebutton-primary-pressed-hover-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-background-color: var(\n    --amplify-components-togglebutton-primary-pressed-background-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-border-color: var(\n    --amplify-components-togglebutton-primary-pressed-border-color\n  );\n  --amplify-internal-togglebutton-primary-disabled-color: var(\n    --amplify-components-togglebutton-primary-pressed-color\n  );\n}\n.amplify-togglebutton--pressed:hover {\n  --amplify-internal-togglebutton-primary-focus-box-shadow: var(\n    --amplify-components-togglebutton-primary-pressed-hover-box-shadow\n  );\n}\n.amplify-togglebutton--link {\n  --amplify-internal-togglebutton-link-background-color: var(\n    --amplify-components-togglebutton-link-background-color\n  );\n  --amplify-internal-togglebutton-link-color: var(\n    --amplify-components-togglebutton-link-color\n  );\n  --amplify-internal-togglebutton-background-color: var(\n    --amplify-internal-togglebutton-link-background-color\n  );\n  --amplify-internal-togglebutton-color: var(\n    --amplify-internal-togglebutton-link-color\n  );\n  --amplify-internal-togglebutton-link-focus-background-color: var(\n    --amplify-components-togglebutton-link-focus-background-color\n  );\n  --amplify-internal-togglebutton-link-focus-color: var(\n    --amplify-components-togglebutton-link-focus-color\n  );\n  --amplify-internal-togglebutton-focus-background-color: var(\n    --amplify-internal-togglebutton-link-focus-background-color\n  );\n  --amplify-internal-togglebutton-focus-color: var(\n    --amplify-internal-togglebutton-link-focus-color\n  );\n  --amplify-internal-togglebutton-link-hover-background-color: var(\n    --amplify-components-togglebutton-link-hover-background-color\n  );\n  --amplify-internal-togglebutton-link-hover-color: var(\n    --amplify-components-togglebutton-link-hover-color\n  );\n  --amplify-internal-togglebutton-hover-background-color: var(\n    --amplify-internal-togglebutton-link-hover-background-color\n  );\n  --amplify-internal-togglebutton-hover-color: var(\n    --amplify-internal-togglebutton-link-hover-color\n  );\n  --amplify-internal-togglebutton-link-disabled-color: var(\n    --amplify-components-togglebutton-link-disabled-color\n  );\n  --amplify-internal-togglebutton-link-disabled-background-color: var(\n    --amplify-components-togglebutton-link-disabled-background-color\n  );\n  --amplify-internal-togglebutton-disabled-color: var(\n    --amplify-internal-togglebutton-link-disabled-color\n  );\n  --amplify-internal-togglebutton-disabled-background-color: var(\n    --amplify-internal-togglebutton-link-disabled-background-color\n  );\n}\n.amplify-togglebutton--pressed {\n  --amplify-internal-togglebutton-link-color: var(\n    --amplify-components-togglebutton-link-pressed-color\n  );\n  --amplify-internal-togglebutton-link-background-color: var(\n    --amplify-components-togglebutton-link-pressed-background-color\n  );\n  --amplify-internal-togglebutton-link-focus-background-color: var(\n    --amplify-components-togglebutton-link-pressed-focus-background-color\n  );\n  --amplify-internal-togglebutton-link-focus-color: var(\n    --amplify-components-togglebutton-link-pressed-focus-color\n  );\n  --amplify-internal-togglebutton-link-hover-background-color: var(\n    --amplify-components-togglebutton-link-pressed-hover-background-color\n  );\n  --amplify-internal-togglebutton-link-hover-color: var(\n    --amplify-components-togglebutton-link-pressed-hover-color\n  );\n  --amplify-internal-togglebutton-link-disabled-color: var(\n    --amplify-components-togglebutton-link-pressed-color\n  );\n}\n\n.amplify-togglebuttongroup {\n  align-items: var(--amplify-components-togglebuttongroup-align-items);\n  align-content: var(--amplify-components-togglebuttongroup-align-content);\n  justify-content: var(--amplify-components-togglebuttongroup-justify-content);\n  gap: 0;\n}\n\n.amplify-togglebuttongroup .amplify-togglebutton:focus, .amplify-togglebuttongroup .amplify-togglebutton.amplify-togglebutton--pressed {\n  z-index: 2;\n}\n.amplify-togglebuttongroup .amplify-togglebutton:not(:first-of-type) {\n  -webkit-margin-start: calc(-1 * var(--amplify-components-button-border-width));\n          margin-inline-start: calc(-1 * var(--amplify-components-button-border-width));\n  border-start-start-radius: 0;\n  border-end-start-radius: 0;\n}\n@supports not (border-start-start-radius: 0) {\n  .amplify-togglebuttongroup .amplify-togglebutton:not(:first-of-type) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n.amplify-togglebuttongroup .amplify-togglebutton:not(:last-of-type) {\n  border-start-end-radius: 0;\n  border-end-end-radius: 0;\n}\n@supports not (border-end-end-radius: 0) {\n  .amplify-togglebuttongroup .amplify-togglebutton:not(:last-of-type) {\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n  }\n}\n\n.amplify-inappmessaging-backdrop {\n  background-color: var(--amplify-colors-overlay-50);\n  inset: 0;\n  position: fixed;\n  z-index: 1000;\n}\n\n.amplify-inappmessaging-backdrop-content-container {\n  align-items: center;\n  inset: 0;\n  justify-content: center;\n  pointer-events: none;\n  position: fixed;\n  z-index: 1001;\n}\n\n.amplify-inappmessaging-backdrop-content {\n  pointer-events: auto;\n}\n\n.amplify-inappmessaging-bannermessage {\n  box-shadow: var(--amplify-shadows-medium);\n  height: var(--amplify-components-inappmessaging-banner-height);\n  margin: var(--amplify-space-small);\n  max-width: 50%;\n  position: fixed;\n  width: var(--amplify-components-inappmessaging-banner-width);\n}\n.amplify-inappmessaging-bannermessage--top {\n  top: 0;\n}\n.amplify-inappmessaging-bannermessage--middle {\n  bottom: 0;\n  margin: auto var(--amplify-space-small);\n  top: 0;\n}\n.amplify-inappmessaging-bannermessage--bottom {\n  bottom: 0;\n}\n.amplify-inappmessaging-bannermessage--left {\n  left: 0;\n}\n.amplify-inappmessaging-bannermessage--center {\n  left: 0;\n  margin: var(--amplify-space-small) auto;\n  right: 0;\n}\n.amplify-inappmessaging-bannermessage--right {\n  right: 0;\n}\n.amplify-inappmessaging-bannermessage--center-middle {\n  inset: 0;\n  margin: auto;\n}\n.amplify-inappmessaging-bannermessage--full-width {\n  max-width: initial;\n  width: calc(100% - 2 * var(--amplify-space-small));\n}\n\n.amplify-inappmessaging-fullscreenmessage {\n  height: var(--amplify-components-inappmessaging-dialog-height);\n  min-height: var(--amplify-components-inappmessaging-dialog-min-height);\n  min-width: var(--amplify-components-inappmessaging-dialog-min-width);\n  width: var(--amplify-components-inappmessaging-dialog-width);\n}\n.amplify-inappmessaging-fullscreenmessage--fullscreen {\n  height: auto;\n  inset: 0;\n  position: fixed;\n  width: auto;\n  z-index: 1000;\n}\n\n.amplify-inappmessaging-messagelayout {\n  background-color: var(--amplify-colors-background-primary);\n  flex-direction: column;\n  flex-grow: 1;\n  gap: var(--amplify-space-xxxs);\n  max-width: 100%;\n  padding: var(--amplify-space-medium);\n}\n.amplify-inappmessaging-messagelayout__button {\n  border-width: 0;\n  width: 100%;\n}\n.amplify-inappmessaging-messagelayout__button, .amplify-inappmessaging-messagelayout__button:active, .amplify-inappmessaging-messagelayout__button:visited, .amplify-inappmessaging-messagelayout__button:hover, .amplify-inappmessaging-messagelayout__button:focus {\n  background-color: var(--amplify-components-inappmessaging-button-background-color);\n  border-radius: var(--amplify-components-inappmessaging-button-border-radius);\n  color: var(--amplify-components-inappmessaging-button-color);\n}\n.amplify-inappmessaging-messagelayout__button--dark:active, .amplify-inappmessaging-messagelayout__button--dark:visited, .amplify-inappmessaging-messagelayout__button--light:active, .amplify-inappmessaging-messagelayout__button--light:visited {\n  filter: brightness(100%);\n}\n.amplify-inappmessaging-messagelayout__button--dark:hover, .amplify-inappmessaging-messagelayout__button--dark:focus {\n  filter: brightness(120%);\n}\n.amplify-inappmessaging-messagelayout__button--light:hover, .amplify-inappmessaging-messagelayout__button--light:focus {\n  filter: brightness(80%);\n}\n.amplify-inappmessaging-messagelayout__close-button {\n  color: var(--amplify-colors-neutral-80);\n}\n.amplify-inappmessaging-messagelayout__close-button:active, .amplify-inappmessaging-messagelayout__close-button:visited {\n  color: var(--amplify-colors-neutral-80);\n}\n.amplify-inappmessaging-messagelayout__close-button:hover, .amplify-inappmessaging-messagelayout__close-button:focus {\n  color: var(--amplify-colors-neutral-100);\n}\n.amplify-inappmessaging-messagelayout__content {\n  flex-grow: 1;\n  overflow: hidden;\n}\n.amplify-inappmessaging-messagelayout__content--horizontal {\n  flex-direction: row;\n}\n.amplify-inappmessaging-messagelayout__content--vertical {\n  flex-direction: column;\n  justify-content: center;\n}\n.amplify-inappmessaging-messagelayout__header {\n  flex-shrink: 0;\n  font-size: var(--amplify-components-inappmessaging-header-font-size);\n  font-weight: var(--amplify-components-inappmessaging-header-font-weight);\n}\n.amplify-inappmessaging-messagelayout__image-container {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  position: relative;\n}\n.amplify-inappmessaging-messagelayout__image-container img {\n  max-height: 100%;\n  max-width: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n  position: absolute;\n}\n.amplify-inappmessaging-messagelayout__image-container--horizontal {\n  max-width: 15%;\n  min-width: 15%;\n}\n.amplify-inappmessaging-messagelayout__image-container--vertical {\n  max-height: 40%;\n  min-height: 40%;\n}\n.amplify-inappmessaging-messagelayout__text-container {\n  flex-direction: column;\n  overflow-y: auto;\n  gap: var(--amplify-space-xxxs);\n}\n.amplify-inappmessaging-messagelayout__text-container--horizontal {\n  flex-grow: 1;\n}\n.amplify-inappmessaging-messagelayout__text-container--vertical {\n  flex-grow: 0;\n}\n\n.amplify-inappmessaging-modalmessage {\n  align-items: center;\n  height: initial;\n  inset: 0;\n  justify-content: center;\n  pointer-events: none;\n  position: fixed;\n  width: initial;\n  z-index: 1000;\n}\n.amplify-inappmessaging-modalmessage__dialog {\n  box-shadow: var(--amplify-shadows-medium);\n  height: var(--amplify-components-inappmessaging-dialog-height);\n  min-height: var(--amplify-components-inappmessaging-dialog-min-height);\n  min-width: var(--amplify-components-inappmessaging-dialog-min-width);\n  pointer-events: auto;\n  width: var(--amplify-components-inappmessaging-dialog-width);\n}\n.amplify-inappmessaging-modalmessage__dialog--full-width {\n  width: 100%;\n  margin: var(--amplify-space-small);\n}\n\n[data-label-position=start] {\n  flex-direction: row;\n}\n\n[data-label-position=end] {\n  flex-direction: row-reverse;\n}\n\n[data-label-position=top] {\n  flex-direction: column;\n}\n\n[data-label-position=bottom] {\n  flex-direction: column-reverse;\n}\n\n.amplify-visually-hidden {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  fill: transparent;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n/* Basics */\n.maplibregl-ctrl-geocoder,\n.maplibregl-ctrl-geocoder *,\n.maplibregl-ctrl-geocoder *:after,\n.maplibregl-ctrl-geocoder *:before {\n  box-sizing: border-box;\n}\n.maplibregl-ctrl-geocoder {\n  font-size: 18px;\n  line-height: 24px;\n  font-family: "Open Sans", "Helvetica Neue", Arial, Helvetica, sans-serif;\n  position: relative;\n  background-color: #fff;\n  width: 100%;\n  min-width: 240px;\n  z-index: 1;\n  border-radius: 4px;\n  transition: width 0.25s, min-width 0.25s;\n}\n.maplibregl-ctrl-geocoder--input {\n  font: inherit;\n  width: 100%;\n  border: 0;\n  background-color: transparent;\n  margin: 0;\n  height: 50px;\n  color: #404040; /* fallback */\n  color: rgba(0, 0, 0, 0.75);\n  padding: 6px 45px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.maplibregl-ctrl-geocoder--input::-ms-clear {\n  display: none; /* hide input clear button in IE */\n}\n.maplibregl-ctrl-geocoder--input:focus {\n  color: #404040; /* fallback */\n  color: rgba(0, 0, 0, 0.75);\n  outline: 0;\n  box-shadow: none;\n  outline: thin dotted;\n}\n.maplibregl-ctrl-geocoder .maplibregl-ctrl-geocoder--pin-right > * {\n  z-index: 2;\n  position: absolute;\n  right: 8px;\n  top: 7px;\n  display: none;\n}\n.maplibregl-ctrl-geocoder,\n.maplibregl-ctrl-geocoder .suggestions {\n  box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.1);\n}\n/* Collapsed */\n.maplibregl-ctrl-geocoder.maplibregl-ctrl-geocoder--collapsed {\n  width: 50px;\n  min-width: 50px;\n  transition: width 0.25s, min-width 0.25s;\n}\n/* Suggestions */\n.maplibregl-ctrl-geocoder .suggestions {\n  background-color: #fff;\n  border-radius: 4px;\n  left: 0;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  width: 100%;\n  top: 110%; /* fallback */\n  top: calc(100% + 6px);\n  z-index: 1000;\n  overflow: hidden;\n  font-size: 15px;\n}\n.maplibregl-ctrl-bottom-left .suggestions,\n.maplibregl-ctrl-bottom-right .suggestions {\n  top: auto;\n  bottom: 100%;\n}\n.maplibregl-ctrl-geocoder .suggestions > li > a {\n  cursor: default;\n  display: block;\n  padding: 6px 12px;\n  color: #404040;\n}\n.maplibregl-ctrl-geocoder .suggestions > .active > a,\n.maplibregl-ctrl-geocoder .suggestions > li > a:hover {\n  color: #404040;\n  background-color: #f3f3f3;\n  text-decoration: none;\n  cursor: pointer;\n}\n.maplibregl-ctrl-geocoder--suggestion {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.maplibre-ctrl-geocoder--suggestion-icon {\n  min-width: 30px;\n  min-height: 24px;\n  max-width: 30px;\n  max-height: 24px;\n  padding-right: 12px;\n}\n.maplibregl-ctrl-geocoder--suggestion-info {\n  display: flex;\n  flex-direction: column;\n}\n.maplibregl-ctrl-geocoder--suggestion-match {\n  font-weight: bold;\n}\n.maplibregl-ctrl-geocoder--suggestion-title,\n.maplibregl-ctrl-geocoder--suggestion-address {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.maplibregl-ctrl-geocoder--result {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.maplibre-ctrl-geocoder--result-icon {\n  min-width: 30px;\n  min-height: 24px;\n  max-width: 30px;\n  max-height: 24px;\n  padding-right: 12px;\n}\n.maplibregl-ctrl-geocoder--result-title {\n  font-weight: bold;\n}\n.maplibregl-ctrl-geocoder--result-title,\n.maplibregl-ctrl-geocoder--result-address {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n/* Icons */\n.maplibregl-ctrl-geocoder--icon {\n  display: inline-block;\n  vertical-align: middle;\n  speak: none;\n  fill: #757575;\n  top: 15px;\n}\n.maplibregl-ctrl-geocoder--icon-search {\n  position: absolute;\n  top: 13px;\n  left: 12px;\n  width: 23px;\n  height: 23px;\n}\n.maplibregl-ctrl-geocoder--button {\n  padding: 0;\n  margin: 0;\n  border: none;\n  cursor: pointer;\n  background: #fff;\n  line-height: 1;\n}\n.maplibregl-ctrl-geocoder--icon-close {\n  width: 20px;\n  height: 20px;\n  margin-top: 8px;\n  margin-right: 3px;\n}\n.maplibregl-ctrl-geocoder--button:hover .maplibregl-ctrl-geocoder--icon-close {\n  fill: #909090;\n}\n.maplibregl-ctrl-geocoder--icon-loading {\n  width: 26px;\n  height: 26px;\n  margin-top: 5px;\n  margin-right: 0px;\n  -moz-animation: rotate 0.8s infinite cubic-bezier(0.45, 0.05, 0.55, 0.95);\n  -webkit-animation: rotate 0.8s infinite cubic-bezier(0.45, 0.05, 0.55, 0.95);\n  animation: rotate 0.8s infinite cubic-bezier(0.45, 0.05, 0.55, 0.95);\n}\n/* Animation */\n@-webkit-keyframes rotate {\n  from {\n    -webkit-transform: rotate(0);\n    transform: rotate(0);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n@keyframes rotate {\n  from {\n    -webkit-transform: rotate(0);\n    transform: rotate(0);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n/* Media queries*/\n@media screen and (min-width: 640px) {\n  .maplibregl-ctrl-geocoder.maplibregl-ctrl-geocoder--collapsed {\n    width: 36px;\n    min-width: 36px;\n  }\n\n  .maplibregl-ctrl-geocoder {\n    width: 33.3333%;\n    font-size: 15px;\n    line-height: 20px;\n    max-width: 360px;\n  }\n  .maplibregl-ctrl-geocoder .suggestions {\n    font-size: 13px;\n  }\n\n  .maplibregl-ctrl-geocoder--icon {\n    top: 8px;\n  }\n\n  .maplibregl-ctrl-geocoder--icon-close {\n    width: 16px;\n    height: 16px;\n    margin-top: 3px;\n    margin-right: 0;\n  }\n\n  .maplibregl-ctrl-geocoder--icon-search {\n    left: 7px;\n    width: 20px;\n    height: 20px;\n  }\n\n  .maplibregl-ctrl-geocoder--input {\n    height: 36px;\n    padding: 6px 35px;\n  }\n\n  .maplibregl-ctrl-geocoder--icon-loading {\n    width: 26px;\n    height: 26px;\n    margin-top: -2px;\n    margin-right: -5px;\n  }\n\n  .maplibre-gl-geocoder--error {\n    color: #909090;\n    padding: 6px 12px;\n    font-size: 16px;\n    text-align: center;\n  }\n}\n.maplibregl-ctrl-geocoder {\n  text-align: initial;\n}\n.mapboxgl-popup-tip {\n  display: none;\n}\n.maplibre-ctrl-geocoder--suggestion {\n  background: #fff;\n  border: 2px solid #0000001f;\n  color: #000;\n  border-radius: 4px;\n  padding: 20px;\n  word-wrap: break-word;\n  margin: -10px -10px -15px;\n  text-align: initial;\n}\n.maplibre-ctrl-geocoder--suggestion-title {\n  font-weight: bold;\n}\n.mapboxgl-map,.maplibregl-map{-webkit-tap-highlight-color:rgb(0 0 0/0);font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative}\n.mapboxgl-canvas,.maplibregl-canvas{left:0;position:absolute;top:0}\n.mapboxgl-map:fullscreen,.maplibregl-map:fullscreen{height:100%;width:100%}\n.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass,.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}\n.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer,.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}\n.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active,.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas,.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}\n.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right,.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}\n.mapboxgl-ctrl-top-left,.maplibregl-ctrl-top-left{left:0;top:0}\n.mapboxgl-ctrl-top-right,.maplibregl-ctrl-top-right{right:0;top:0}\n.mapboxgl-ctrl-bottom-left,.maplibregl-ctrl-bottom-left{bottom:0;left:0}\n.mapboxgl-ctrl-bottom-right,.maplibregl-ctrl-bottom-right{bottom:0;right:0}\n.mapboxgl-ctrl,.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}\n.mapboxgl-ctrl-top-left .mapboxgl-ctrl,.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}\n.mapboxgl-ctrl-top-right .mapboxgl-ctrl,.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}\n.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl,.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}\n.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl,.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}\n.mapboxgl-ctrl-group,.maplibregl-ctrl-group{background:#fff;border-radius:4px}\n.mapboxgl-ctrl-group:not(:empty),.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}\n@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty),.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}\n.mapboxgl-ctrl-group button,.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}\n.mapboxgl-ctrl-group button+button,.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}\n.mapboxgl-ctrl button .mapboxgl-ctrl-icon,.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}\n@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon,.maplibregl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button,.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}\n.mapboxgl-ctrl button::-moz-focus-inner,.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}\n.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus,.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}\n.mapboxgl-ctrl button:disabled,.maplibregl-ctrl button:disabled{cursor:not-allowed}\n.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon,.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}\n.mapboxgl-ctrl button:not(:disabled):hover,.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}\n.mapboxgl-ctrl-group button:focus:focus-visible,.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}\n.mapboxgl-ctrl-group button:focus:not(:focus-visible),.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}\n.mapboxgl-ctrl-group button:focus:first-child,.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}\n.mapboxgl-ctrl-group button:focus:last-child,.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}\n.mapboxgl-ctrl-group button:focus:only-child,.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}\n.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url('+z+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+F+")}\n@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+U+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+j+")}}\n@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+B+")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+V+")}}\n.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+G+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+q+")}\n@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+H+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+W+")}}\n@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+K+")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+q+")}}\n.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+$+")}\n@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+Z+")}}\n@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+Y+")}}\n.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+J+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+X+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("+Q+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("+ee+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("+te+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("+ne+")}\n.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}\n@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+re+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+oe+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("+Q+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("+ee+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("+te+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("+ne+")}}\n@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+ie+")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon,.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+ae+")}}\n@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}\na.mapboxgl-ctrl-logo,a.maplibregl-ctrl-logo{background-image:url("+se+");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}\na.mapboxgl-ctrl-logo.mapboxgl-compact,a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}\n@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo,a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("+se+")}}\n@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo,a.maplibregl-ctrl-logo{background-image:url("+se+")}}\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib,.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}\n@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact,.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner,.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button,.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("+le+");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button,.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after,.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after,.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after,.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}\n@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after,.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("+ce+")}}\n@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after,.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("+le+')}}\n.mapboxgl-ctrl-attrib a,.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}\n.mapboxgl-ctrl-attrib a:hover,.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}\n.mapboxgl-attrib-empty,.maplibregl-attrib-empty{display:none}\n.mapboxgl-ctrl-scale,.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}\n.mapboxgl-popup,.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}\n.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right,.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}\n.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right,.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}\n.mapboxgl-popup-anchor-left,.maplibregl-popup-anchor-left{flex-direction:row}\n.mapboxgl-popup-anchor-right,.maplibregl-popup-anchor-right{flex-direction:row-reverse}\n.mapboxgl-popup-tip,.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip,.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip,.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip,.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip,.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip,.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip,.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip,.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip,.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}\n.mapboxgl-popup-close-button,.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}\n.mapboxgl-popup-close-button:hover,.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}\n.mapboxgl-popup-content,.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content,.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content,.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content,.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content,.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}\n.mapboxgl-popup-track-pointer,.maplibregl-popup-track-pointer{display:none}\n.mapboxgl-popup-track-pointer *,.maplibregl-popup-track-pointer *{pointer-events:none;user-select:none}\n.mapboxgl-map:hover .mapboxgl-popup-track-pointer,.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}\n.mapboxgl-map:active .mapboxgl-popup-track-pointer,.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}\n.mapboxgl-marker,.maplibregl-marker{left:0;position:absolute;top:0;will-change:transform}\n.mapboxgl-user-location-dot,.maplibregl-user-location-dot{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}\n.mapboxgl-user-location-dot:before,.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;background-color:#1da1f2;border-radius:50%;content:"";height:15px;position:absolute;width:15px}\n.mapboxgl-user-location-dot:after,.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}\n@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}\n.mapboxgl-user-location-dot-stale,.maplibregl-user-location-dot-stale{background-color:#aaa}\n.mapboxgl-user-location-dot-stale:after,.maplibregl-user-location-dot-stale:after{display:none}\n.mapboxgl-user-location-accuracy-circle,.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}\n.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active,.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}\n.mapboxgl-boxzoom,.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}\n',""]);const ue=D},51424:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8081),o=n.n(r),i=n(23645),a=n.n(i)()(o());a.push([e.id,"body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n",""]);const s=a},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},61667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},20296:e=>{function t(e,t,n){var r,o,i,a,s;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var c=function(){i=this,o=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(i,o),i=o=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},65987:e=>{"use strict";var t={single_source_shortest_paths:function(e,n,r){var o={},i={};i[n]=0;var a,s,l,c,u,d,f,p=t.PriorityQueue.make();for(p.push(n,0);!p.empty();)for(l in s=(a=p.pop()).value,c=a.cost,u=e[s]||{})u.hasOwnProperty(l)&&(d=c+u[l],f=i[l],(void 0===i[l]||f>d)&&(i[l]=d,p.push(l,d),o[l]=s));if(void 0!==r&&void 0===i[r]){var h=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(h)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var o=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,o={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},62378:e=>{"use strict";e.exports=function(e){for(var t=[],n=e.length,r=0;r<n;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319&&n>r+1){var i=e.charCodeAt(r+1);i>=56320&&i<=57343&&(o=1024*(o-55296)+i-56320+65536,r+=1)}o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||o>=57344&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):o>=65536&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},17187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,a,c;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):h(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=h(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},70259:(e,t,n)=>{"use strict";const r=n(17849).buildOptions,o={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},i=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function a(e){this.options=r(e,o,i),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.options.cdataTagName?this.isCDATA=m:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=l,this.options.format?(this.indentate=p,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=u):(this.buildTextNode=d,this.buildObjNode=c),this.buildTextValNode=d,this.buildObjectNode=c}function s(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function l(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function c(e,t,n,r){return n&&!e.includes("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function u(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function p(e){return this.options.indentBy.repeat(e)}function h(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function m(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return this.j2x(e,0).val},a.prototype.j2x=function(e,t){let n="",r="";const o=Object.keys(e),i=o.length;for(let a=0;a<i;a++){const i=o[a];if(void 0===e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){const o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else{const n=e[i].length;for(let o=0;o<n;o++){const n=e[i][o];if(void 0===n);else if(null===n)r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if("object"==typeof n){const e=this.j2x(n,t+1);r+=this.buildObjNode(e.val,i,e.attrStr,t)}else r+=this.buildTextNode(n,i,"",t)}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const t=Object.keys(e[i]),r=t.length;for(let o=0;o<r;o++)n+=" "+t[o]+'="'+this.options.attrValueProcessor(""+e[i][t[o]])+'"'}else{const n=this.j2x(e[i],t+1);r+=this.buildObjNode(n.val,i,n.attrStr,t)}}return{attrStr:n,val:r}},e.exports=a},68398:(e,t,n)=>{"use strict";const r=function(e){return String.fromCharCode(e)},o={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},i=[o.nilChar,o.nilPremitive,o.missingChar,o.missingPremitive,o.boundryChar,o.emptyChar,o.emptyValue,o.arrayEnd,o.objStart,o.arrStart],a=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?s(e[0].val,t):s(e,t);{const i=void 0===(r=e)?o.missingChar:null===r?o.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||o.emptyChar;if(!0===i){let r="";if(Array.isArray(t)){r+=o.arrStart;const i=t[0],c=e.length;if("string"==typeof i)for(let t=0;t<c;t++){const n=s(e[t].val,i);r=l(r,n)}else for(let t=0;t<c;t++){const o=a(e[t],i,n);r=l(r,o)}r+=o.arrayEnd}else{r+=o.objStart;const i=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let o in i){const s=i[o];let c;c=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?a(e.attrsMap[s],t[s],n):s===n.textNodeName?a(e.val,t[s],n):a(e.child[s],t[s],n),r=l(r,c)}}return r}return i}var r},s=function(e){switch(e){case void 0:return o.missingPremitive;case null:return o.nilPremitive;case"":return o.emptyValue;default:return e}},l=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=o.boundryChar),e+t},c=function(e){return-1!==i.indexOf(e)},u=n(23543),d=n(17849).buildOptions;t.convert2nimn=function(e,t,n){return n=d(n,u.defaultOptions,u.props),a(e,t,n)}},60284:(e,t,n)=>{"use strict";const r=n(17849),o=function(e,t,n){const i={};if((!e.child||r.isEmptyObject(e.child))&&(!e.attrsMap||r.isEmptyObject(e.attrsMap)))return r.isExist(e.val)?e.val:"";if(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const o=r.isTagNameInArrayMode(e.tagname,t.arrayMode,n);i[t.textNodeName]=o?[e.val]:e.val}r.merge(i,e.attrsMap,t.arrayMode);const a=Object.keys(e.child);for(let s=0;s<a.length;s++){const l=a[s];if(e.child[l]&&e.child[l].length>1){i[l]=[];for(let n in e.child[l])e.child[l].hasOwnProperty(n)&&i[l].push(o(e.child[l][n],t,l))}else{const a=o(e.child[l][0],t,l),s=!0===t.arrayMode&&"object"==typeof a||r.isTagNameInArrayMode(l,t.arrayMode,n);i[l]=s?[a]:a}}return i};t.convertToJson=o},67702:(e,t,n)=>{"use strict";const r=n(17849),o=n(17849).buildOptions,i=n(23543),a=function(e,t,n){let o="{";const i=Object.keys(e.child);for(let n=0;n<i.length;n++){var s=i[n];if(e.child[s]&&e.child[s].length>1){for(var l in o+='"'+s+'" : [ ',e.child[s])o+=a(e.child[s][l],t)+" , ";o=o.substr(0,o.length-1)+" ] "}else o+='"'+s+'" : '+a(e.child[s][0],t)+" ,"}return r.merge(o,e.attrsMap),r.isEmptyObject(o)?r.isExist(e.val)?e.val:"":(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(o+='"'+t.textNodeName+'" : '+(!0!==(c=e.val)&&!1!==c&&isNaN(c)?'"'+c+'"':c)),","===o[o.length-1]&&(o=o.substr(0,o.length-2)),o+"}");var c};t.convertToJsonString=function(e,t){return(t=o(t,i.defaultOptions,i.props)).indentBy=t.indentBy||"",a(e,t,0)}},36965:(e,t,n)=>{"use strict";const r=n(60284),o=n(23543),i=n(23543),a=n(17849).buildOptions,s=n(78501);t.parse=function(e,t,n){if(n){!0===n&&(n={});const t=s.validate(e,n);if(!0!==t)throw Error(t.err.msg)}t=a(t,i.defaultOptions,i.props);const l=o.getTraversalObj(e,t);return r.convertToJson(l,t)},t.convertTonimn=n(68398).convert2nimn,t.getTraversalObj=o.getTraversalObj,t.convertToJson=r.convertToJson,t.convertToJsonString=n(67702).convertToJsonString,t.validate=s.validate,t.j2xParser=n(70259),t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}},17849:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",o=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),o=r.length;for(let i=0;i<o;i++)e[r[i]]="strict"===n?[t[r[i]]]:t[r[i]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){var r={};if(!e)return t;for(let o=0;o<n.length;o++)void 0!==e[n[o]]?r[n[o]]=e[n[o]]:r[n[o]]=t[n[o]];return r},t.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},t.isName=function(e){return!(null==o.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const o=[],i=r.length;for(let e=0;e<i;e++)o.push(r[e]);n.push(o),r=t.exec(e)}return n},t.nameRegexp=r},78501:(e,t,n)=>{"use strict";const r=n(17849),o={allowBooleanAttributes:!1},i=["allowBooleanAttributes"];function a(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return f("InvalidXml","XML declaration allowed only at the start of the document.",h(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function l(e,t){let n="",r="",o=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===r)r=e[t];else{if(r!==e[t])continue;r=""}else if(">"===e[t]&&""===r){o=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:o}}t.validate=function(e,t){t=r.buildOptions(t,o,i);const n=[];let c=!1,p=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let o=0;o<e.length;o++)if("<"===e[o]&&"?"===e[o+1]){if(o+=2,o=a(e,o),o.err)return o}else{if("<"!==e[o]){if(" "===e[o]||"\t"===e[o]||"\n"===e[o]||"\r"===e[o])continue;return f("InvalidChar","char '"+e[o]+"' is not expected.",h(e,o))}if(o++,"!"===e[o]){o=s(e,o);continue}{let i=!1;"/"===e[o]&&(i=!0,o++);let g="";for(;o<e.length&&">"!==e[o]&&" "!==e[o]&&"\t"!==e[o]&&"\n"!==e[o]&&"\r"!==e[o];o++)g+=e[o];if(g=g.trim(),"/"===g[g.length-1]&&(g=g.substring(0,g.length-1),o--),m=g,!r.isName(m)){let t;return t=0===g.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+g+"' is an invalid name.",f("InvalidTag",t,h(e,o))}const v=l(e,o);if(!1===v)return f("InvalidAttr","Attributes for '"+g+"' have open quote.",h(e,o));let y=v.value;if(o=v.index,"/"===y[y.length-1]){y=y.substring(0,y.length-1);const n=u(y,t);if(!0!==n)return f(n.err.code,n.err.msg,h(e,o-y.length+n.err.line));c=!0}else if(i){if(!v.tagClosed)return f("InvalidTag","Closing tag '"+g+"' doesn't have proper closing.",h(e,o));if(y.trim().length>0)return f("InvalidTag","Closing tag '"+g+"' can't have attributes or invalid starting.",h(e,o));{const t=n.pop();if(g!==t)return f("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+g+"'.",h(e,o));0==n.length&&(p=!0)}}else{const r=u(y,t);if(!0!==r)return f(r.err.code,r.err.msg,h(e,o-y.length+r.err.line));if(!0===p)return f("InvalidXml","Multiple possible root nodes found.",h(e,o));n.push(g),c=!0}for(o++;o<e.length;o++)if("<"===e[o]){if("!"===e[o+1]){o++,o=s(e,o);continue}if("?"!==e[o+1])break;if(o=a(e,++o),o.err)return o}else if("&"===e[o]){const t=d(e,o);if(-1==t)return f("InvalidChar","char '&' is not expected.",h(e,o));o=t}"<"===e[o]&&o--}}var m;return c?!(n.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):f("InvalidXml","Start tag expected.",1)};const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){const n=r.getAllMatches(e,c),o={};for(let r=0;r<n.length;r++){if(0===n[r][1].length)return f("InvalidAttr","Attribute '"+n[r][2]+"' has no space in starting.",m(e,n[r][0]));if(void 0===n[r][3]&&!t.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+n[r][2]+"' is not allowed.",m(e,n[r][0]));const i=n[r][2];if(!p(i))return f("InvalidAttr","Attribute '"+i+"' is an invalid name.",m(e,n[r][0]));if(o.hasOwnProperty(i))return f("InvalidAttr","Attribute '"+i+"' is repeated.",m(e,n[r][0]));o[i]=1}return!0}function d(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function f(e,t,n){return{err:{code:e,msg:t,line:n}}}function p(e){return r.isName(e)}function h(e,t){return e.substring(0,t).split(/\r?\n/).length}function m(e,t){return e.indexOf(t)+t.length}},6468:e=>{"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},23543:(e,t,n)=>{"use strict";const r=n(17849),o=n(17849).buildOptions,i=n(6468);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};t.defaultOptions=a;const s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function l(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=u(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function c(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function u(e,t,n){if(t&&"string"==typeof e){let t;return""===e.trim()||isNaN(e)?t="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?t=Number.parseInt(e,16):-1!==e.indexOf(".")?(t=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):t=Number.parseInt(e,10),n&&(t=String(t)===e?t:e)),t}return r.isExist(e)?e:""}t.props=s;const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function f(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=r.getAllMatches(e,d),o=n.length,i={};for(let e=0;e<o;e++){const r=c(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),i[t.attributeNamePrefix+r]=u(n[e][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+r]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=i,e}return i}}function p(e,t){let n,r="";for(let o=t;o<e.length;o++){let t=e[o];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:o};"\t"===t&&(t=" ")}r+=t}}function h(e,t,n,r){const o=e.indexOf(t,n);if(-1===o)throw new Error(r);return o+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=o(t,a,s);const n=new i("!xml");let c=n,u="";for(let n=0;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=h(e,">",n,"Closing Tag is not closed.");let i=e.substring(n+2,o).trim();if(t.ignoreNameSpace){const e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}c&&(c.val?c.val=r.getValue(c.val)+""+l(i,u,t):c.val=l(i,u,t)),t.stopNodes.length&&t.stopNodes.includes(c.tagname)&&(c.child=[],null==c.attrsMap&&(c.attrsMap={}),c.val=e.substr(c.startIndex+1,n-c.startIndex-1)),c=c.parent,u="",n=o}else if("?"===e[n+1])n=h(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=h(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=h(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const o=h(e,"]]>",n,"CDATA is not closed.")-2,a=e.substring(n+9,o);if(u&&(c.val=r.getValue(c.val)+""+l(c.tagname,u,t),u=""),t.cdataTagName){const e=new i(t.cdataTagName,c,a);c.addChild(e),c.val=r.getValue(c.val)+t.cdataPositionChar,a&&(e.val=a)}else c.val=(c.val||"")+(a||"");n=o+2}else{const o=p(e,n+1);let a=o.data;const s=o.index,d=a.indexOf(" ");let h=a,m=!0;if(-1!==d&&(h=a.substr(0,d).replace(/\s\s*$/,""),a=a.substr(d+1)),t.ignoreNameSpace){const e=h.indexOf(":");-1!==e&&(h=h.substr(e+1),m=h!==o.data.substr(e+1))}if(c&&u&&"!xml"!==c.tagname&&(c.val=r.getValue(c.val)+""+l(c.tagname,u,t)),a.length>0&&a.lastIndexOf("/")===a.length-1){"/"===h[h.length-1]?(h=h.substr(0,h.length-1),a=h):a=a.substr(0,a.length-1);const e=new i(h,c,"");h!==a&&(e.attrsMap=f(a,t)),c.addChild(e)}else{const e=new i(h,c);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=s),h!==a&&m&&(e.attrsMap=f(a,t)),c.addChild(e),c=e}u="",n=s}else u+=e[n];return n}},43261:e=>{var t;t={},e.exports=t,t.simpleFilter=function(e,n){return n.filter((function(n){return t.test(e,n)}))},t.test=function(e,n){return null!==t.match(e,n)},t.match=function(e,t,n){n=n||{};var r,o=0,i=[],a=t.length,s=0,l=0,c=n.pre||"",u=n.post||"",d=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var f=0;f<a;f++)r=t[f],d[f]===e[o]?(r=c+r+u,o+=1,l+=1+l):l=0,s+=l,i[i.length]=r;return o===e.length?(s=d===e?1/0:s,{rendered:i.join(""),score:s}):null},t.filter=function(e,n,r){return n&&0!==n.length?"string"!=typeof e?n:(r=r||{},n.reduce((function(n,o,i,a){var s=o;r.extract&&(s=r.extract(o));var l=t.match(e,s,r);return null!=l&&(n[n.length]={string:l.rendered,score:l.score,index:i,original:o}),n}),[]).sort((function(e,t){return t.score-e.score||e.index-t.index}))):[]}},63:(e,t,n)=>{"use strict";function r(e){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.reduce((function(e,t){return e.concat(r(t))}),[]),e;case"Feature":return e.geometry?r(e.geometry).map((function(t){var n={type:"Feature",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t};return void 0!==e.id&&(n.id=e.id),n})):[e];case"MultiPoint":return e.coordinates.map((function(e){return{type:"Point",coordinates:e}}));case"MultiPolygon":return e.coordinates.map((function(e){return{type:"Polygon",coordinates:e}}));case"MultiLineString":return e.coordinates.map((function(e){return{type:"LineString",coordinates:e}}));case"GeometryCollection":return e.geometries.map(r).reduce((function(e,t){return e.concat(t)}),[]);case"Point":case"Polygon":case"LineString":return[e]}}n.r(t),n.d(t,{default:()=>r})},80645:(e,t)=>{t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m}},18172:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[H]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===W}(e)||Array.isArray(e)||!!e[q]||!!e.constructor[q]||d(e)||f(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:K)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[H];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:d(e)?2:f(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function u(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e){return j&&e instanceof Map}function f(e){return B&&e instanceof Set}function p(e){return e.o||e.t}function h(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=$(e);delete t[H];for(var n=K(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),v(e)||o(e)||!i(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=g),Object.freeze(e),t&&a(e,(function(e,t){return m(t,!0)}),!0)),e}function g(){r(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var t=Z[e];return t||r(18,e),t}function b(){return F}function _(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function w(e){x(e),e.p.forEach(E),e.p=null}function x(e){e===F&&(F=e.l)}function S(e){return F={p:[],l:F,h:e,m:!0,_:0}}function E(e){var t=e[H];0===t.i||1===t.i?t.j():t.O=!0}function C(e,t){t._=t.p.length;var n=t.p[0],o=void 0!==e&&e!==n;return t.h.g||y("ES5").S(t,e,o),o?(n[H].P&&(w(t),r(4)),i(e)&&(e=k(t,e),t.l||T(t,e)),t.u&&y("Patches").M(n[H],e,t.u,t.s)):e=k(t,n,[]),w(t),t.u&&t.v(t.u,t.s),e!==G?e:void 0}function k(e,t,n){if(v(t))return t;var r=t[H];if(!r)return a(t,(function(o,i){return A(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return T(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=h(r.k):r.o;a(3===r.i?new Set(o):o,(function(t,i){return A(e,r,o,t,i,n)})),T(e,o,!1),n&&e.u&&y("Patches").R(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,a,s){if(o(a)){var c=k(e,a,s&&t&&3!==t.i&&!l(t.D,r)?s.concat(r):void 0);if(u(n,r,c),!o(c))return;e.m=!1}if(i(a)&&!v(a)){if(!e.h.F&&e._<1)return;k(e,a),t&&t.A.l||T(e,a)}}function T(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&m(t,n)}function I(e,t){var n=e[H];return(n?p(n):e)[t]}function P(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function O(e){e.P||(e.P=!0,e.l&&O(e.l))}function M(e){e.o||(e.o=h(e.t))}function N(e,t,n){var r=d(t)?y("MapSet").N(t,n):f(t)?y("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:b(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Y;n&&(o=[r],i=J);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):y("ES5").J(t,n);return(n?n.A:b()).p.push(r),r}function L(e){return o(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[H],o=s(t);if(r){if(!r.P&&(r.i<4||!y("ES5").K(r)))return r.t;r.I=!0,n=R(t,o),r.I=!1}else n=R(t,o);return a(n,(function(t,o){r&&c(r.t,t)===o||u(n,t,e(o))})),3===o?new Set(n):n}(e)}function R(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return h(e)}function D(){function e(t){if(!i(t))return t;if(Array.isArray(t))return t.map(e);if(d(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(f(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return l(t,q)&&(n[q]=t[q]),n}function t(t){return o(t)?e(t):t}var n="add";!function(e,t){Z[e]||(Z[e]=t)}("Patches",{$:function(t,o){return o.forEach((function(o){for(var i=o.path,a=o.op,l=t,u=0;u<i.length-1;u++){var d=s(l),f=""+i[u];0!==d&&1!==d||"__proto__"!==f&&"constructor"!==f||r(24),"function"==typeof l&&"prototype"===f&&r(24),"object"!=typeof(l=c(l,f))&&r(15,i.join("/"))}var p=s(l),h=e(o.value),m=i[i.length-1];switch(a){case"replace":switch(p){case 2:return l.set(m,h);case 3:r(16);default:return l[m]=h}case n:switch(p){case 1:return l.splice(m,0,h);case 2:return l.set(m,h);case 3:return l.add(h);default:return l[m]=h}case"remove":switch(p){case 1:return l.splice(m,1);case 2:return l.delete(m);case 3:return l.delete(o.value);default:return delete l[m]}default:r(17,a)}})),t},R:function(e,r,o,i){switch(e.i){case 0:case 4:case 2:return function(e,r,o,i){var s=e.t,u=e.o;a(e.D,(function(e,a){var d=c(s,e),f=c(u,e),p=a?l(s,e)?"replace":n:"remove";if(d!==f||"replace"!==p){var h=r.concat(e);o.push("remove"===p?{op:p,path:h}:{op:p,path:h,value:f}),i.push(p===n?{op:"remove",path:h}:"remove"===p?{op:n,path:h,value:t(d)}:{op:"replace",path:h,value:t(d)})}}))}(e,r,o,i);case 5:case 1:return function(e,r,o,i){var a=e.t,s=e.D,l=e.o;if(l.length<a.length){var c=[l,a];a=c[0],l=c[1];var u=[i,o];o=u[0],i=u[1]}for(var d=0;d<a.length;d++)if(s[d]&&l[d]!==a[d]){var f=r.concat([d]);o.push({op:"replace",path:f,value:t(l[d])}),i.push({op:"replace",path:f,value:t(a[d])})}for(var p=a.length;p<l.length;p++){var h=r.concat([p]);o.push({op:n,path:h,value:t(l[p])})}a.length<l.length&&i.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,o,i);case 3:return function(e,t,r,o){var i=e.t,a=e.o,s=0;i.forEach((function(e){if(!a.has(e)){var i=t.concat([s]);r.push({op:"remove",path:i,value:e}),o.unshift({op:n,path:i,value:e})}s++})),s=0,a.forEach((function(e){if(!i.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),o.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,o,i)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===G?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}n.d(t,{Fl:()=>te,QE:()=>ne,Uy:()=>ee,sc:()=>q,vI:()=>D});var z,F,U="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),j="undefined"!=typeof Map,B="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,G=U?Symbol.for("immer-nothing"):((z={})["immer-nothing"]=!0,z),q=U?Symbol.for("immer-draftable"):"__$immer_draftable",H=U?Symbol.for("immer-state"):"__$immer_state",W=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),K="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,$=Object.getOwnPropertyDescriptors||function(e){var t={};return K(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Z={},Y={get:function(e,t){if(t===H)return e;var n=p(e);if(!l(n,t))return function(e,t,n){var r,o=P(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===I(e.t,t)?(M(e),e.o[t]=N(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=P(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=I(p(e),t),i=null==o?void 0:o[H];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,o)&&(void 0!==n||l(e.t,t)))return!0;M(e),O(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==I(e.t,t)||t in e.t?(e.D[t]=!1,M(e),O(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},J={};a(Y,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return Y.deleteProperty.call(this,e[0],t)},J.set=function(e,t,n){return Y.set.call(this,e[0],t,n,e[0])};var X=function(){function e(e){var t=this;this.g=V,this.F=!0,this.produce=function(e,n,o){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var l;if("function"!=typeof n&&r(6),void 0!==o&&"function"!=typeof o&&r(7),i(e)){var c=S(t),u=N(t,e,void 0),d=!0;try{l=n(u),d=!1}finally{d?w(c):x(c)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return _(c,o),C(e,c)}),(function(e){throw w(c),e})):(_(c,o),C(l,c))}if(!e||"object"!=typeof e){if((l=n(e))===G)return;return void 0===l&&(l=e),t.F&&m(l,!0),l}r(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),o(e)&&(e=L(e));var t=S(this),n=N(this,e,void 0);return n[H].C=!0,x(t),n},t.finishDraft=function(e,t){var n=(e&&e[H]).A;return _(n,t),C(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!V&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=y("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),Q=new X,ee=Q.produce,te=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q)),ne=(Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q));Q.createDraft.bind(Q),Q.finishDraft.bind(Q)},80204:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(25869).default||n(25869))},36808:(e,t,n)=>{var r,o,i;void 0===(o="function"==typeof(r=i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in i)i[l]&&(s+="; "+l,!0!==i[l]&&(s+="="+i[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(o[c]=l,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},91296:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,h=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,s,l,c=0,u=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function b(e){return c=e,s=setTimeout(w,t),u?y(e):a}function _(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function w(){var e=h();if(_(e))return x(e);s=setTimeout(w,function(e){var n=t-(e-l);return d?p(n,i-(e-c)):n}(e))}function x(e){return s=void 0,v&&r?y(e):(r=o=void 0,a)}function S(){var e=h(),n=_(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return b(l);if(d)return s=setTimeout(w,t),y(l)}return void 0===s&&(s=setTimeout(w,t)),a}return t=g(t)||0,m(n)&&(u=!!n.leading,i=(d="maxWait"in n)?f(g(n.maxWait)||0,t):i,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},S.flush=function(){return void 0===s?a:x(h())},S}},18552:(e,t,n)=>{var r=n(10852)(n(55639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(51789),o=n(80401),i=n(57667),a=n(21327),s=n(81866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},38407:(e,t,n)=>{var r=n(27040),o=n(14125),i=n(82117),a=n(67518),s=n(54705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},57071:(e,t,n)=>{var r=n(10852)(n(55639),"Map");e.exports=r},83369:(e,t,n)=>{var r=n(24785),o=n(11285),i=n(96e3),a=n(49916),s=n(95265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},53818:(e,t,n)=>{var r=n(10852)(n(55639),"Promise");e.exports=r},58525:(e,t,n)=>{var r=n(10852)(n(55639),"Set");e.exports=r},88668:(e,t,n)=>{var r=n(83369),o=n(90619),i=n(72385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},46384:(e,t,n)=>{var r=n(38407),o=n(37465),i=n(63779),a=n(67599),s=n(44758),l=n(34309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},11149:(e,t,n)=>{var r=n(55639).Uint8Array;e.exports=r},70577:(e,t,n)=>{var r=n(10852)(n(55639),"WeakMap");e.exports=r},96874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},34963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},14636:(e,t,n)=>{var r=n(22545),o=n(35694),i=n(1469),a=n(44144),s=n(65776),l=n(36719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&l(e),p=n||u||d||f,h=p?r(e.length,String):[],m=h.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},29932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},62488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},62663:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},82908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},49029:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},86556:(e,t,n)=>{var r=n(89465),o=n(77813);e.exports=function(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},34865:(e,t,n)=>{var r=n(89465),o=n(77813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},18470:(e,t,n)=>{var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},89465:(e,t,n)=>{var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3118:(e,t,n)=>{var r=n(13218),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},41848:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},21078:(e,t,n)=>{var r=n(62488),o=n(37285);e.exports=function e(t,n,i,a,s){var l=-1,c=t.length;for(i||(i=o),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,a,s):r(s,u):a||(s[s.length]=u)}return s}},28483:(e,t,n)=>{var r=n(25063)();e.exports=r},97786:(e,t,n)=>{var r=n(71811),o=n(40327);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},68866:(e,t,n)=>{var r=n(62488),o=n(1469);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},44239:(e,t,n)=>{var r=n(62705),o=n(89607),i=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},78565:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},42118:(e,t,n)=>{var r=n(41848),o=n(62722),i=n(42351);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},9454:(e,t,n)=>{var r=n(44239),o=n(37005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},90939:(e,t,n)=>{var r=n(2492),o=n(37005);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},2492:(e,t,n)=>{var r=n(46384),o=n(67114),i=n(18351),a=n(16096),s=n(64160),l=n(1469),c=n(44144),u=n(36719),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),_=y?f:s(e),w=b?f:s(t),x=(_=_==d?p:_)==p,S=(w=w==d?p:w)==p,E=_==w;if(E&&c(e)){if(!c(t))return!1;y=!0,x=!1}if(E&&!x)return v||(v=new r),y||u(e)?o(e,t,n,m,g,v):i(e,t,_,n,m,g,v);if(!(1&n)){var C=x&&h.call(e,"__wrapped__"),k=S&&h.call(t,"__wrapped__");if(C||k){var A=C?e.value():e,T=k?t.value():t;return v||(v=new r),g(A,T,n,m,v)}}return!!E&&(v||(v=new r),a(e,t,n,m,g,v))}},2958:(e,t,n)=>{var r=n(46384),o=n(90939);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(i)var h=i(d,f,u,e,t,p);if(!(void 0===h?o(f,d,3,i,p):h))return!1}}return!0}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,n)=>{var r=n(23560),o=n(15346),i=n(13218),a=n(80346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},38749:(e,t,n)=>{var r=n(44239),o=n(41780),i=n(37005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},67206:(e,t,n)=>{var r=n(91573),o=n(16432),i=n(6557),a=n(1469),s=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},280:(e,t,n)=>{var r=n(25726),o=n(86916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},10313:(e,t,n)=>{var r=n(13218),o=n(25726),i=n(33498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},91573:(e,t,n)=>{var r=n(2958),o=n(1499),i=n(42634);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},16432:(e,t,n)=>{var r=n(90939),o=n(27361),i=n(79095),a=n(15403),s=n(89162),l=n(42634),c=n(40327);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},42980:(e,t,n)=>{var r=n(46384),o=n(86556),i=n(28483),a=n(59783),s=n(13218),l=n(81704),c=n(36390);e.exports=function e(t,n,u,d,f){t!==n&&i(n,(function(i,l){if(f||(f=new r),s(i))a(t,n,l,u,e,d,f);else{var p=d?d(c(t,l),i,l+"",t,n,f):void 0;void 0===p&&(p=i),o(t,l,p)}}),l)}},59783:(e,t,n)=>{var r=n(86556),o=n(64626),i=n(77133),a=n(278),s=n(38517),l=n(35694),c=n(1469),u=n(29246),d=n(44144),f=n(23560),p=n(13218),h=n(68630),m=n(36719),g=n(36390),v=n(59881);e.exports=function(e,t,n,y,b,_,w){var x=g(e,n),S=g(t,n),E=w.get(S);if(E)r(e,n,E);else{var C=_?_(x,S,n+"",e,t,w):void 0,k=void 0===C;if(k){var A=c(S),T=!A&&d(S),I=!A&&!T&&m(S);C=S,A||T||I?c(x)?C=x:u(x)?C=a(x):T?(k=!1,C=o(S,!0)):I?(k=!1,C=i(S,!0)):C=[]:h(S)||l(S)?(C=x,l(x)?C=v(x):p(x)&&!f(x)||(C=s(S))):k=!1}k&&(w.set(S,C),b(C,S,y,_,w),w.delete(S)),r(e,n,C)}}},63012:(e,t,n)=>{var r=n(97786),o=n(10611),i=n(71811);e.exports=function(e,t,n){for(var a=-1,s=t.length,l={};++a<s;){var c=t[a],u=r(e,c);n(u,c)&&o(l,i(c,e),u)}return l}},40371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:(e,t,n)=>{var r=n(97786);e.exports=function(e){return function(t){return r(t,e)}}},18674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},5976:(e,t,n)=>{var r=n(6557),o=n(45357),i=n(30061);e.exports=function(e,t){return i(o(e,t,r),e+"")}},10611:(e,t,n)=>{var r=n(34865),o=n(71811),i=n(65776),a=n(13218),s=n(40327);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=o(t,e)).length,d=u-1,f=e;null!=f&&++c<u;){var p=s(t[c]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var m=f[p];void 0===(h=l?l(m,p,f):void 0)&&(h=a(m)?m:i(t[c+1])?[]:{})}r(f,p,h),f=f[p]}return e}},56560:(e,t,n)=>{var r=n(75703),o=n(38777),i=n(6557),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},22545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},80531:(e,t,n)=>{var r=n(62705),o=n(29932),i=n(1469),a=n(33448),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},27561:(e,t,n)=>{var r=n(67990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},47415:(e,t,n)=>{var r=n(29932);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},74757:e=>{e.exports=function(e,t){return e.has(t)}},71811:(e,t,n)=>{var r=n(1469),o=n(15403),i=n(55514),a=n(79833);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},74318:(e,t,n)=>{var r=n(11149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},64626:(e,t,n)=>{e=n.nmd(e);var r=n(55639),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},77133:(e,t,n)=>{var r=n(74318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},98363:(e,t,n)=>{var r=n(34865),o=n(89465);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?o(n,c,u):r(n,c,u)}return n}},14429:(e,t,n)=>{var r=n(55639)["__core-js_shared__"];e.exports=r},21463:(e,t,n)=>{var r=n(5976),o=n(16612);e.exports=function(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}},25063:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},35393:(e,t,n)=>{var r=n(62663),o=n(53816),i=n(58748),a=RegExp("['’]","g");e.exports=function(e){return function(t){return r(i(o(t).replace(a,"")),e,"")}}},69389:(e,t,n)=>{var r=n(18674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=r},38777:(e,t,n)=>{var r=n(10852),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},67114:(e,t,n)=>{var r=n(88668),o=n(82908),i=n(74757);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),p=l.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<u;){var v=e[h],y=t[h];if(a)var b=c?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(v===e||s(v,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},18351:(e,t,n)=>{var r=n(62705),o=n(11149),i=n(77813),a=n(67114),s=n(68776),l=n(21814),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var g=a(p(e),p(t),r,c,d,f);return f.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:(e,t,n)=>{var r=n(58234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:o.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[f=c[d]],y=t[f];if(i)var b=l?i(y,v,f,t,e,s):i(v,y,f,e,t,s);if(!(void 0===b?v===y||a(v,y,n,i,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:(e,t,n)=>{var r=n(68866),o=n(99551),i=n(3674);e.exports=function(e){return r(e,i,o)}},46904:(e,t,n)=>{var r=n(68866),o=n(51442),i=n(81704);e.exports=function(e){return r(e,i,o)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var r=n(89162),o=n(3674);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},10852:(e,t,n)=>{var r=n(28458),o=n(47801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},85924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},89607:(e,t,n)=>{var r=n(62705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},99551:(e,t,n)=>{var r=n(34963),o=n(70479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},51442:(e,t,n)=>{var r=n(62488),o=n(85924),i=n(99551),a=n(70479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},64160:(e,t,n)=>{var r=n(18552),o=n(57071),i=n(53818),a=n(58525),s=n(70577),l=n(44239),c=n(80346),u="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=c(r),g=c(o),v=c(i),y=c(a),b=c(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=h||o&&_(new o)!=u||i&&_(i.resolve())!=d||a&&_(new a)!=f||s&&_(new s)!=p)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case g:return u;case v:return d;case y:return f;case b:return p}return t}),e.exports=_},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(71811),o=n(35694),i=n(1469),a=n(65776),s=n(41780),l=n(40327);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(f,u)&&(i(e)||o(e))}},93157:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},51789:(e,t,n)=>{var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var r=n(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},21327:(e,t,n)=>{var r=n(94536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},81866:(e,t,n)=>{var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},38517:(e,t,n)=>{var r=n(3118),o=n(85924),i=n(25726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},37285:(e,t,n)=>{var r=n(62705),o=n(35694),i=n(1469),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},16612:(e,t,n)=>{var r=n(77813),o=n(98612),i=n(65776),a=n(13218);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},15403:(e,t,n)=>{var r=n(1469),o=n(33448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var r,o=n(14429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},89162:(e,t,n)=>{var r=n(13218);e.exports=function(e){return e==e&&!r(e)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var r=n(18470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},82117:(e,t,n)=>{var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},54705:(e,t,n)=>{var r=n(18470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},24785:(e,t,n)=>{var r=n(1989),o=n(38407),i=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},11285:(e,t,n)=>{var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},42634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},24523:(e,t,n)=>{var r=n(88306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},94536:(e,t,n)=>{var r=n(10852)(Object,"create");e.exports=r},86916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},33498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},31167:(e,t,n)=>{e=n.nmd(e);var r=n(31957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},45357:(e,t,n)=>{var r=n(96874),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),r(e,this,c)}}},55639:(e,t,n)=>{var r=n(31957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},36390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},30061:(e,t,n)=>{var r=n(56560),o=n(21275)(r);e.exports=o},21275:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},37465:(e,t,n)=>{var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var r=n(38407),o=n(57071),i=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},42351:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},55514:(e,t,n)=>{var r=n(24523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},40327:(e,t,n)=>{var r=n(33448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2757:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",s="\\d+",l="["+n+"]",c="["+r+"]",u="[^"+t+i+s+n+r+o+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+o+"]",h="(?:"+c+"|"+u+")",m="(?:"+p+"|"+u+")",g="(?:['’](?:d|ll|m|re|s|t|ve))?",v="(?:['’](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",_=b+y+"(?:\\u200d(?:"+["[^"+t+"]",d,f].join("|")+")"+b+y+")*",w="(?:"+[l,d,f].join("|")+")"+_,x=RegExp([p+"?"+c+"+"+g+"(?="+[a,p,"$"].join("|")+")",m+"+"+v+"(?="+[a,p+h,"$"].join("|")+")",p+"?"+h+"+"+g,p+"+"+v,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,w].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},75703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var r=n(13218),o=n(7771),i=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,f,p,h=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,f=setTimeout(w,t),m?y(e):d}function _(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-h>=u}function w(){var e=o();if(_(e))return x(e);f=setTimeout(w,function(e){var n=t-(e-p);return g?s(n,u-(e-h)):n}(e))}function x(e){return f=void 0,v&&l?y(e):(l=c=void 0,d)}function S(){var e=o(),n=_(e);if(l=arguments,c=this,p=e,n){if(void 0===f)return b(p);if(g)return clearTimeout(f),f=setTimeout(w,t),y(p)}return void 0===f&&(f=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=p=c=f=void 0},S.flush=function(){return void 0===f?d:x(o())},S}},53816:(e,t,n)=>{var r=n(69389),o=n(79833),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,r).replace(a,"")}},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},85564:(e,t,n)=>{var r=n(21078);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},27361:(e,t,n)=>{var r=n(97786);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},18721:(e,t,n)=>{var r=n(78565),o=n(222);e.exports=function(e,t){return null!=e&&o(e,t,r)}},79095:(e,t,n)=>{var r=n(13),o=n(222);e.exports=function(e,t){return null!=e&&o(e,t,r)}},6557:e=>{e.exports=function(e){return e}},64721:(e,t,n)=>{var r=n(42118),o=n(98612),i=n(47037),a=n(40554),s=n(52628),l=Math.max;e.exports=function(e,t,n,c){e=o(e)?e:s(e),n=n&&!c?a(n):0;var u=e.length;return n<0&&(n=l(u+n,0)),i(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&r(e,t,n)>-1}},35694:(e,t,n)=>{var r=n(9454),o=n(37005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var r=n(23560),o=n(41780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},29246:(e,t,n)=>{var r=n(98612),o=n(37005);e.exports=function(e){return o(e)&&r(e)}},44144:(e,t,n)=>{e=n.nmd(e);var r=n(55639),o=n(95062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},41609:(e,t,n)=>{var r=n(280),o=n(64160),i=n(35694),a=n(1469),s=n(98612),l=n(44144),c=n(25726),u=n(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},18446:(e,t,n)=>{var r=n(90939);e.exports=function(e,t){return r(e,t)}},23560:(e,t,n)=>{var r=n(44239),o=n(13218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},14293:e=>{e.exports=function(e){return null==e}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68630:(e,t,n)=>{var r=n(44239),o=n(85924),i=n(37005),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},47037:(e,t,n)=>{var r=n(44239),o=n(1469),i=n(37005);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},33448:(e,t,n)=>{var r=n(44239),o=n(37005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},36719:(e,t,n)=>{var r=n(38749),o=n(7518),i=n(31167),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},21804:(e,t,n)=>{var r=n(35393)((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=r},3674:(e,t,n)=>{var r=n(14636),o=n(280),i=n(98612);e.exports=function(e){return i(e)?r(e):o(e)}},81704:(e,t,n)=>{var r=n(14636),o=n(10313),i=n(98612);e.exports=function(e){return i(e)?r(e,!0):o(e)}},88306:(e,t,n)=>{var r=n(83369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},82492:(e,t,n)=>{var r=n(42980),o=n(21463)((function(e,t,n){r(e,t,n)}));e.exports=o},50308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},35937:(e,t,n)=>{var r=n(29932),o=n(67206),i=n(63012),a=n(46904);e.exports=function(e,t){if(null==e)return{};var n=r(a(e),(function(e){return[e]}));return t=o(t),i(e,n,(function(e,n){return t(e,n[0])}))}},39601:(e,t,n)=>{var r=n(40371),o=n(79152),i=n(15403),a=n(40327);e.exports=function(e){return i(e)?r(a(e)):o(e)}},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},18601:(e,t,n)=>{var r=n(14841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:(e,t,n)=>{var r=n(18601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var r=n(27561),o=n(13218),i=n(33448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},59881:(e,t,n)=>{var r=n(98363),o=n(81704);e.exports=function(e){return r(e,o(e))}},79833:(e,t,n)=>{var r=n(80531);e.exports=function(e){return null==e?"":r(e)}},52628:(e,t,n)=>{var r=n(47415),o=n(3674);e.exports=function(e){return null==e?[]:r(e,o(e))}},58748:(e,t,n)=>{var r=n(49029),o=n(93157),i=n(79833),a=n(2757);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?o(e)?a(e):r(e):e.match(t)||[]}},86900:e=>{"use strict";const t=e=>"object"==typeof e&&null!==e,n=Symbol("skip"),r=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),o=(e,t,i,a=new WeakMap)=>{if(i={deep:!1,target:{},...i},a.has(e))return a.get(e);a.set(e,i.target);const{target:s}=i;delete i.target;const l=e=>e.map((e=>r(e)?o(e,t,i,a):e));if(Array.isArray(e))return l(e);for(const[c,u]of Object.entries(e)){const d=t(c,u,e);if(d===n)continue;let[f,p,{shouldRecurse:h=!0}={}]=d;"__proto__"!==f&&(i.deep&&h&&r(p)&&(p=Array.isArray(p)?l(p):o(p,t,i,a)),s[f]=p)}return s};e.exports=(e,n,r)=>{if(!t(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return o(e,n,r)},e.exports.mapObjectSkip=n},44183:(e,t,n)=>{const r=n(35686),o=n(29576),i=n(59115),a=n(25108);e.exports={CircleMode:r,DragCircleMode:o,DirectMode:i,SimpleSelectMode:a}},35686:(e,t,n)=>{const r=n(78910),o=n(58473),i=n(77714),a=n(90265).default,s={...r.modes.draw_polygon};s.onSetup=function(e){const t=this.newFeature({type:o.geojsonTypes.FEATURE,properties:{isCircle:!0,center:[]},geometry:{type:o.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),i.disable(this),this.updateUIClasses({mouse:o.cursors.ADD}),this.activateUIButton(o.types.POLYGON),this.setActionableState({trash:!0}),{initialRadiusInKm:e.initialRadiusInKm||2,polygon:t,currentVertexPosition:0}},s.clickAnywhere=function(e,t){if(0===e.currentVertexPosition){e.currentVertexPosition++;const n=[t.lngLat.lng,t.lngLat.lat],r=a(n,e.initialRadiusInKm);e.polygon.incomingCoords(r.geometry.coordinates),e.polygon.properties.center=n,e.polygon.properties.radiusInKm=e.initialRadiusInKm}return this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},e.exports=s},59115:(e,t,n)=>{const r=n(78910),o=n(61585),i=n(15636),a=n(58473),s=n(615),l=n(31013).Z,c=n(84102),u=n(90265).default,d=n(79936),f=r.modes.direct_select;f.dragFeature=function(e,t,n){i(this.getSelected(),n),this.getSelected().filter((e=>e.properties.isCircle)).map((e=>e.properties.center)).forEach((e=>{e[0]+=n.lng,e[1]+=n.lat})),e.dragMoveLocation=t.lngLat},f.dragVertex=function(e,t,n){if(e.feature.properties.isCircle){const n=e.feature.properties.center,r=[t.lngLat.lng,t.lngLat.lat],o=l(c.point(n),c.point(r),{units:"kilometers"}),i=u(n,o);e.feature.incomingCoords(i.geometry.coordinates),e.feature.properties.radiusInKm=o}else{const t=e.selectedCoordPaths.map((t=>e.feature.getCoordinate(t))),r=t.map((e=>({type:a.geojsonTypes.FEATURE,properties:{},geometry:{type:a.geojsonTypes.POINT,coordinates:e}}))),o=s(r,n);for(let n=0;n<t.length;n++){const r=t[n];e.feature.updateCoordinate(e.selectedCoordPaths[n],r[0]+o.lng,r[1]+o.lat)}}},f.toDisplayFeatures=function(e,t,n){e.featureId===t.properties.id?(t.properties.active=a.activeStates.ACTIVE,n(t),(t.properties.user_isCircle?d(t):o(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths})).forEach(n)):(t.properties.active=a.activeStates.INACTIVE,n(t)),this.fireActionable(e)},e.exports=f},29576:(e,t,n)=>{const r=n(78910),o=n(58473),i=n(77714),a=n(65398),s=n(90265).default,l=n(31013).Z,c=n(84102),u={...r.modes.draw_polygon};u.onSetup=function(e){const t=this.newFeature({type:o.geojsonTypes.FEATURE,properties:{isCircle:!0,center:[]},geometry:{type:o.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(t),this.clearSelectedFeatures(),i.disable(this),a.disable(this),this.updateUIClasses({mouse:o.cursors.ADD}),this.activateUIButton(o.types.POLYGON),this.setActionableState({trash:!0}),{polygon:t,currentVertexPosition:0}},u.onMouseDown=u.onTouchStart=function(e,t){0===e.polygon.properties.center.length&&(e.polygon.properties.center=[t.lngLat.lng,t.lngLat.lat])},u.onDrag=u.onMouseMove=function(e,t){const n=e.polygon.properties.center;if(n.length>0){const r=l(c.point(n),c.point([t.lngLat.lng,t.lngLat.lat]),{units:"kilometers"}),o=s(n,r);e.polygon.incomingCoords(o.geometry.coordinates),e.polygon.properties.radiusInKm=r}},u.onMouseUp=u.onTouchEnd=function(e,t){return a.enable(this),this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},u.onClick=u.onTap=function(e,t){e.polygon.properties.center=[]},u.toDisplayFeatures=function(e,t,n){const r=t.properties.id===e.polygon.id;return t.properties.active=r?o.activeStates.ACTIVE:o.activeStates.INACTIVE,n(t)},e.exports=u},25108:(e,t,n)=>{const r=n(78910),o=n(61585),i=n(15636),a=n(58473),s=n(79936),l=r.modes.simple_select;l.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();const n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};i(this.getSelected(),n),this.getSelected().filter((e=>e.properties.isCircle)).map((e=>e.properties.center)).forEach((e=>{e[0]+=n.lng,e[1]+=n.lat})),e.dragMoveLocation=t.lngLat},l.toDisplayFeatures=function(e,t,n){t.properties.active=this.isSelected(t.properties.id)?a.activeStates.ACTIVE:a.activeStates.INACTIVE,n(t),this.fireActionable(),t.properties.active===a.activeStates.ACTIVE&&t.geometry.type!==a.geojsonTypes.POINT&&(t.properties.user_isCircle?s(t):o(t)).forEach(n)},e.exports=l},58473:e=>{e.exports={classes:{CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},sources:{HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},cursors:{ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},types:{POLYGON:"polygon",LINE:"line_string",POINT:"point"},geojsonTypes:{FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},modes:{DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},events:{CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},updateActions:{MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},meta:{FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},activeStates:{ACTIVE:"true",INACTIVE:"false"},interactions:["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}},615:(e,t,n)=>{const r=n(29319),o=n(58473),{LAT_MIN:i,LAT_MAX:a,LAT_RENDERED_MIN:s,LAT_RENDERED_MAX:l,LNG_MIN:c,LNG_MAX:u}=o;e.exports=function(e,t){let n=i,o=a,d=i,f=a,p=u,h=c;e.forEach((e=>{const t=r(e),i=t[1],a=t[3],s=t[0],l=t[2];i>n&&(n=i),a<o&&(o=a),a>d&&(d=a),i<f&&(f=i),s<p&&(p=s),l>h&&(h=l)}));const m=t;return n+m.lat>l&&(m.lat=l-n),d+m.lat>a&&(m.lat=a-d),o+m.lat<s&&(m.lat=s-o),f+m.lat<i&&(m.lat=i-f),p+m.lng<=c&&(m.lng+=360*Math.ceil(Math.abs(m.lng)/360)),h+m.lng>=u&&(m.lng-=360*Math.ceil(Math.abs(m.lng)/360)),m}},85157:(e,t,n)=>{const r=n(58473);e.exports=function(e,t,n,o){const i=t.geometry.coordinates,a=n.geometry.coordinates;if(i[1]>r.LAT_RENDERED_MAX||i[1]<r.LAT_RENDERED_MIN||a[1]>r.LAT_RENDERED_MAX||a[1]<r.LAT_RENDERED_MIN)return null;const s=o.project([i[0],i[1]]),l=o.project([a[0],a[1]]),c=o.unproject([(s.x+l.x)/2,(s.y+l.y)/2]);return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.MIDPOINT,parent:e,lng:c.lng,lat:c.lat,coord_path:n.properties.coord_path},geometry:{type:r.geojsonTypes.POINT,coordinates:[c.lng,c.lat]}}}},61585:(e,t,n)=>{const r=n(37680),o=n(85157),i=n(58473);e.exports=function e(t,n={},a=null){const{type:s,coordinates:l}=t.geometry,c=t.properties&&t.properties.id;let u=[];function d(e,t){let i="",a=null;e.forEach(((e,s)=>{const l=null!=t?`${t}.${s}`:String(s),d=r(c,e,l,f(l));if(n.midpoints&&a){const e=o(c,a,d,n.map);e&&u.push(e)}a=d;const p=JSON.stringify(e);i!==p&&u.push(d),0===s&&(i=p)}))}function f(e){return!!n.selectedPaths&&-1!==n.selectedPaths.indexOf(e)}return s===i.geojsonTypes.POINT?u.push(r(c,l,a,f(a))):s===i.geojsonTypes.POLYGON?l.forEach(((e,t)=>{d(e,null!==a?`${a}.${t}`:String(t))})):s===i.geojsonTypes.LINE_STRING?d(l,a):0===s.indexOf(i.geojsonTypes.MULTI_PREFIX)&&function(){const r=s.replace(i.geojsonTypes.MULTI_PREFIX,"");l.forEach(((o,a)=>{const s={type:i.geojsonTypes.FEATURE,properties:t.properties,geometry:{type:r,coordinates:o}};u=u.concat(e(s,n,a))}))}(),u}},79936:(e,t,n)=>{const r=n(37680);e.exports=function(e){const{properties:t,geometry:n}=e;if(!t.user_isCircle)return null;const o=[],i=n.coordinates[0].slice(0,-1);for(let e=0;e<i.length;e+=Math.round(i.length/4))o.push(r(t.id,i[e],`0.${e}`,!1));return o}},37680:(e,t,n)=>{const r=n(58473);e.exports=function(e,t,n,o){return{type:r.geojsonTypes.FEATURE,properties:{meta:r.meta.VERTEX,parent:e,coord_path:n,active:o?r.activeStates.ACTIVE:r.activeStates.INACTIVE},geometry:{type:r.geojsonTypes.POINT,coordinates:t}}}},77714:e=>{e.exports={enable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},disable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)}}},65398:e=>{e.exports={enable(e){setTimeout((()=>{e.map&&e.map.dragPan&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("dragPan")&&e.map.dragPan.enable()}),0)},disable(e){setTimeout((()=>{e.map&&e.map.doubleClickZoom&&e.map.dragPan.disable()}),0)}}},15636:(e,t,n)=>{const r=n(615),o=n(58473);e.exports=function(e,t){const n=r(e.map((e=>e.toGeoJSON())),t);e.forEach((e=>{const t=e.getCoordinates(),r=e=>{const t={lng:e[0]+n.lng,lat:e[1]+n.lat};return[t.lng,t.lat]},i=e=>e.map((e=>r(e)));let a;e.type===o.geojsonTypes.POINT?a=r(t):e.type===o.geojsonTypes.LINE_STRING||e.type===o.geojsonTypes.MULTI_POINT?a=t.map(r):e.type===o.geojsonTypes.POLYGON||e.type===o.geojsonTypes.MULTI_LINE_STRING?a=t.map(i):e.type===o.geojsonTypes.MULTI_POLYGON&&(a=t.map((e=>e.map((e=>i(e)))))),e.incomingCoords(a)}))}},78910:function(e,t,n){e.exports=function(){"use strict";var e=function(e,t){var n={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},r={on:function(e,t,r){if(void 0===n[e])throw new Error("Invalid event type: "+e);n[e].push({selector:t,fn:r})},render:function(e){t.store.featureChanged(e)}},o=function(e,o){for(var i=n[e],a=i.length;a--;){var s=i[a];if(s.selector(o)){s.fn.call(r,o)||t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(r),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),t.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){o("drag",e)},click:function(e){o("click",e)},mousemove:function(e){o("mousemove",e)},mousedown:function(e){o("mousedown",e)},mouseup:function(e){o("mouseup",e)},mouseout:function(e){o("mouseout",e)},keydown:function(e){o("keydown",e)},keyup:function(e){o("keyup",e)},touchstart:function(e){o("touchstart",e)},touchmove:function(e){o("touchmove",e)},touchend:function(e){o("touchend",e)},tap:function(e){o("tap",e)}}},t=6378137;function r(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(o(e[n]))}return t}function o(e){var n,r,o,a,s,l,c=0,u=e.length;if(u>2){for(l=0;l<u;l++)l===u-2?(o=u-2,a=u-1,s=0):l===u-1?(o=u-1,a=0,s=1):(o=l,a=l+1,s=l+2),n=e[o],r=e[a],c+=(i(e[s][0])-i(n[0]))*Math.sin(i(r[1]));c=c*t*t/2}return c}function i(e){return e*Math.PI/180}var a=function e(t){var n,o=0;switch(t.type){case"Polygon":return r(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)o+=r(t.coordinates[n]);return o;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)o+=e(t.geometries[n]);return o}},s="active",l="mapbox-gl-draw-hot",c="mapbox-gl-draw-cold",u="add",d="move",f="pointer",p="none",h={POLYGON:"polygon",LINE:"line_string",POINT:"point"},m="Feature",g="Polygon",v="LineString",y="Point",b="FeatureCollection",_="Multi",w={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},x="draw.create",S="draw.update",E="feature",C="midpoint",k="vertex",A="true",T="false",I=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],P={Point:0,LineString:1,Polygon:2};function O(e,t){var n=P[e.geometry.type]-P[t.geometry.type];return 0===n&&e.geometry.type===g?e.area-t.area:n}function M(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(var t=0,n=e.length;t<n;t++)this.add(e[t]),void 0!==e[t]&&("string"==typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}M.prototype.add=function(e){return this.has(e)||(this._length++,"string"==typeof e?this._items[e]=this._length:this._nums[e]=this._length),this},M.prototype.delete=function(e){return!1===this.has(e)||(this._length--,delete this._items[e],delete this._nums[e]),this},M.prototype.has=function(e){return!("string"!=typeof e&&"number"!=typeof e||void 0===this._items[e]&&void 0===this._nums[e])},M.prototype.values=function(){var e=this,t=[];return Object.keys(this._items).forEach((function(n){t.push({k:n,v:e._items[n]})})),Object.keys(this._nums).forEach((function(n){t.push({k:JSON.parse(n),v:e._nums[n]})})),t.sort((function(e,t){return e.v-t.v})).map((function(e){return e.k}))},M.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var N=[E,C,k],L={click:function(e,t,n){return R(e,t,n,n.options.clickBuffer)},touch:function(e,t,n){return R(e,t,n,n.options.touchBuffer)}};function R(e,t,n,r){if(null===n.map)return[];var o=e?function(e,t){return void 0===t&&(t=0),[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}(e,r):t,i={};n.options.styles&&(i.layers=n.options.styles.map((function(e){return e.id})));var s=n.map.queryRenderedFeatures(o,i).filter((function(e){return-1!==N.indexOf(e.properties.meta)})),l=new M,c=[];return s.forEach((function(e){var t=e.properties.id;l.has(t)||(l.add(t),c.push(e))})),function(e){return e.map((function(e){return e.geometry.type===g&&(e.area=a({type:m,property:{},geometry:e.geometry})),e})).sort(O).map((function(e){return delete e.area,e}))}(c)}function D(e,t){var n=L.click(e,null,t),r={mouse:p};return n[0]&&(r.mouse=n[0].properties.active===A?d:f,r.feature=n[0].properties.meta),-1!==t.events.currentModeName().indexOf("draw")&&(r.mouse=u),t.ui.queueMapClasses(r),t.ui.updateMapClasses(),n[0]}function z(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function F(e,t,n){void 0===n&&(n={});var r=null!=n.fineTolerance?n.fineTolerance:4,o=null!=n.grossTolerance?n.grossTolerance:12,i=null!=n.interval?n.interval:500;e.point=e.point||t.point,e.time=e.time||t.time;var a=z(e.point,t.point);return a<r||a<o&&t.time-e.time<i}function U(e,t,n){void 0===n&&(n={});var r=null!=n.tolerance?n.tolerance:25,o=null!=n.interval?n.interval:250;return e.point=e.point||t.point,e.time=e.time||t.time,z(e.point,t.point)<r&&t.time-e.time<o}function j(e,t){return e(t={exports:{}},t.exports),t.exports}var B=j((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var r=Math.log(Math.pow(2,e))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,e/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++)a=Math.floor(Math.random()*n).toString(n)+a;if(i){var s=Math.pow(n,i);a=Math.floor(Math.random()*s).toString(n)+a}var l=parseInt(a,n);return l!==1/0&&l>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,r){var o=function(o){var a=0;do{if(a++>10){if(!r)throw new Error("too many ID collisions, use more bits");e+=r}var s=t(e,n)}while(Object.hasOwnProperty.call(i,s));return i[s]=o,s},i=o.hats={};return o.get=function(e){return o.hats[e]},o.set=function(e,t){return o.hats[e]=t,o},o.bits=e||128,o.base=n||16,o}})),V=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||B(),this.type=t.geometry.type};V.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},V.prototype.incomingCoords=function(e){this.setCoordinates(e)},V.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},V.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},V.prototype.setProperty=function(e,t){this.properties[e]=t},V.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:m,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},V.prototype.internal=function(e){var t={id:this.id,meta:E,"meta:type":this.type,active:T,mode:e};if(this.ctx.options.userProperties)for(var n in this.properties)t["user_"+n]=this.properties[n];return{type:m,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var G=function(e,t){V.call(this,e,t)};(G.prototype=Object.create(V.prototype)).isValid=function(){return"number"==typeof this.coordinates[0]&&"number"==typeof this.coordinates[1]},G.prototype.updateCoordinate=function(e,t,n){this.coordinates=3===arguments.length?[t,n]:[e,t],this.changed()},G.prototype.getCoordinate=function(){return this.getCoordinates()};var q=function(e,t){V.call(this,e,t)};(q.prototype=Object.create(V.prototype)).isValid=function(){return this.coordinates.length>1},q.prototype.addCoordinate=function(e,t,n){this.changed();var r=parseInt(e,10);this.coordinates.splice(r,0,[t,n])},q.prototype.getCoordinate=function(e){var t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},q.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},q.prototype.updateCoordinate=function(e,t,n){var r=parseInt(e,10);this.coordinates[r]=[t,n],this.changed()};var H=function(e,t){V.call(this,e,t),this.coordinates=this.coordinates.map((function(e){return e.slice(0,-1)}))};(H.prototype=Object.create(V.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every((function(e){return e.length>2}))},H.prototype.incomingCoords=function(e){this.coordinates=e.map((function(e){return e.slice(0,-1)})),this.changed()},H.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},H.prototype.addCoordinate=function(e,t,n){this.changed();var r=e.split(".").map((function(e){return parseInt(e,10)}));this.coordinates[r[0]].splice(r[1],0,[t,n])},H.prototype.removeCoordinate=function(e){this.changed();var t=e.split(".").map((function(e){return parseInt(e,10)})),n=this.coordinates[t[0]];n&&(n.splice(t[1],1),n.length<3&&this.coordinates.splice(t[0],1))},H.prototype.getCoordinate=function(e){var t=e.split(".").map((function(e){return parseInt(e,10)})),n=this.coordinates[t[0]];return JSON.parse(JSON.stringify(n[t[1]]))},H.prototype.getCoordinates=function(){return this.coordinates.map((function(e){return e.concat([e[0]])}))},H.prototype.updateCoordinate=function(e,t,n){this.changed();var r=e.split("."),o=parseInt(r[0],10),i=parseInt(r[1],10);void 0===this.coordinates[o]&&(this.coordinates[o]=[]),this.coordinates[o][i]=[t,n]};var W={MultiPoint:G,MultiLineString:q,MultiPolygon:H},K=function(e,t,n,r,o){var i=n.split("."),a=parseInt(i[0],10),s=i[1]?i.slice(1).join("."):null;return e[a][t](s,r,o)},$=function(e,t){if(V.call(this,e,t),delete this.coordinates,this.model=W[t.geometry.type],void 0===this.model)throw new TypeError(t.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(t.geometry.coordinates)};function Z(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e}($.prototype=Object.create(V.prototype))._coordinatesToFeatures=function(e){var t=this,n=this.model.bind(this);return e.map((function(e){return new n(t.ctx,{id:B(),type:m,properties:{},geometry:{coordinates:e,type:t.type.replace("Multi","")}})}))},$.prototype.isValid=function(){return this.features.every((function(e){return e.isValid()}))},$.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},$.prototype.getCoordinate=function(e){return K(this.features,"getCoordinate",e)},$.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map((function(e){return e.type===g?e.getCoordinates():e.coordinates}))))},$.prototype.updateCoordinate=function(e,t,n){K(this.features,"updateCoordinate",e,t,n),this.changed()},$.prototype.addCoordinate=function(e,t,n){K(this.features,"addCoordinate",e,t,n),this.changed()},$.prototype.removeCoordinate=function(e){K(this.features,"removeCoordinate",e),this.changed()},$.prototype.getFeatures=function(){return this.features},Z.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},Z.prototype.setSelectedCoordinates=function(e){var t=this;this._ctx.store.setSelectedCoordinates(e),e.reduce((function(e,n){return void 0===e[n.feature_id]&&(e[n.feature_id]=!0,t._ctx.store.get(n.feature_id).changed()),e}),{})},Z.prototype.getSelected=function(){return this._ctx.store.getSelected()},Z.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},Z.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},Z.prototype.getFeature=function(e){return this._ctx.store.get(e)},Z.prototype.select=function(e){return this._ctx.store.select(e)},Z.prototype.deselect=function(e){return this._ctx.store.deselect(e)},Z.prototype.deleteFeature=function(e,t){return void 0===t&&(t={}),this._ctx.store.delete(e,t)},Z.prototype.addFeature=function(e){return this._ctx.store.add(e)},Z.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},Z.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},Z.prototype.setActionableState=function(e){void 0===e&&(e={});var t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},Z.prototype.changeMode=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),this._ctx.events.changeMode(e,t,n)},Z.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},Z.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},Z.prototype.featuresAt=function(e,t,n){if(void 0===n&&(n="click"),"click"!==n&&"touch"!==n)throw new Error("invalid buffer type");return L[n](e,t,this._ctx)},Z.prototype.newFeature=function(e){var t=e.geometry.type;return t===y?new G(this._ctx,e):t===v?new q(this._ctx,e):t===g?new H(this._ctx,e):new $(this._ctx,e)},Z.prototype.isInstanceOf=function(e,t){if(e===y)return t instanceof G;if(e===v)return t instanceof q;if(e===g)return t instanceof H;if("MultiFeature"===e)return t instanceof $;throw new Error("Unknown feature class: "+e)},Z.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)},Z.prototype.onSetup=function(){},Z.prototype.onDrag=function(){},Z.prototype.onClick=function(){},Z.prototype.onMouseMove=function(){},Z.prototype.onMouseDown=function(){},Z.prototype.onMouseUp=function(){},Z.prototype.onMouseOut=function(){},Z.prototype.onKeyUp=function(){},Z.prototype.onKeyDown=function(){},Z.prototype.onTouchStart=function(){},Z.prototype.onTouchMove=function(){},Z.prototype.onTouchEnd=function(){},Z.prototype.onTap=function(){},Z.prototype.onStop=function(){},Z.prototype.onTrash=function(){},Z.prototype.onCombineFeature=function(){},Z.prototype.onUncombineFeature=function(){},Z.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var Y={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},J=Object.keys(Y);function X(e){return[].concat(e).filter((function(e){return void 0!==e}))}function Q(){var e=this;if(!e.ctx.map||void 0===e.ctx.map.getSource(l))return u();var t=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:t});var n=[],r=[];e.isDirty?r=e.getAllIds():(n=e.getChangedIds().filter((function(t){return void 0!==e.get(t)})),r=e.sources.hot.filter((function(t){return t.properties.id&&-1===n.indexOf(t.properties.id)&&void 0!==e.get(t.properties.id)})).map((function(e){return e.properties.id}))),e.sources.hot=[];var o=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter((function(e){var t=e.properties.id||e.properties.parent;return-1===n.indexOf(t)}));var i=o!==e.sources.cold.length||r.length>0;function a(n,r){var o=e.get(n).internal(t);e.ctx.events.currentModeRender(o,(function(t){e.sources[r].push(t)}))}if(n.forEach((function(e){return a(e,"hot")})),r.forEach((function(e){return a(e,"cold")})),i&&e.ctx.map.getSource(c).setData({type:b,features:e.sources.cold}),e.ctx.map.getSource(l).setData({type:b,features:e.sources.hot}),e._emitSelectionChange&&(e.ctx.map.fire("draw.selectionchange",{features:e.getSelected().map((function(e){return e.toGeoJSON()})),points:e.getSelectedCoordinates().map((function(e){return{type:m,properties:{},geometry:{type:y,coordinates:e.coordinates}}}))}),e._emitSelectionChange=!1),e._deletedFeaturesToEmit.length){var s=e._deletedFeaturesToEmit.map((function(e){return e.toGeoJSON()}));e._deletedFeaturesToEmit=[],e.ctx.map.fire("draw.delete",{features:s})}function u(){e.isDirty=!1,e.clearChangedIds()}u(),e.ctx.map.fire("draw.render",{})}function ee(e){var t,n=this;this._features={},this._featureIds=new M,this._selectedFeatureIds=new M,this._selectedCoordinates=[],this._changedFeatureIds=new M,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=function(){t||(t=requestAnimationFrame((function(){t=null,Q.call(n)})))},this.isDirty=!1}function te(e,t){var n=e._selectedCoordinates.filter((function(t){return e._selectedFeatureIds.has(t.feature_id)}));e._selectedCoordinates.length===n.length||t.silent||(e._emitSelectionChange=!0),e._selectedCoordinates=n}ee.prototype.createRenderBatch=function(){var e=this,t=this.render,n=0;return this.render=function(){n++},function(){e.render=t,n>0&&e.render()}},ee.prototype.setDirty=function(){return this.isDirty=!0,this},ee.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},ee.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},ee.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},ee.prototype.getAllIds=function(){return this._featureIds.values()},ee.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},ee.prototype.delete=function(e,t){var n=this;return void 0===t&&(t={}),X(e).forEach((function(e){n._featureIds.has(e)&&(n._featureIds.delete(e),n._selectedFeatureIds.delete(e),t.silent||-1===n._deletedFeaturesToEmit.indexOf(n._features[e])&&n._deletedFeaturesToEmit.push(n._features[e]),delete n._features[e],n.isDirty=!0)})),te(this,t),this},ee.prototype.get=function(e){return this._features[e]},ee.prototype.getAll=function(){var e=this;return Object.keys(this._features).map((function(t){return e._features[t]}))},ee.prototype.select=function(e,t){var n=this;return void 0===t&&(t={}),X(e).forEach((function(e){n._selectedFeatureIds.has(e)||(n._selectedFeatureIds.add(e),n._changedFeatureIds.add(e),t.silent||(n._emitSelectionChange=!0))})),this},ee.prototype.deselect=function(e,t){var n=this;return void 0===t&&(t={}),X(e).forEach((function(e){n._selectedFeatureIds.has(e)&&(n._selectedFeatureIds.delete(e),n._changedFeatureIds.add(e),t.silent||(n._emitSelectionChange=!0))})),te(this,t),this},ee.prototype.clearSelected=function(e){return void 0===e&&(e={}),this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},ee.prototype.setSelected=function(e,t){var n=this;return void 0===t&&(t={}),e=X(e),this.deselect(this._selectedFeatureIds.values().filter((function(t){return-1===e.indexOf(t)})),{silent:t.silent}),this.select(e.filter((function(e){return!n._selectedFeatureIds.has(e)})),{silent:t.silent}),this},ee.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},ee.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},ee.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},ee.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map((function(t){return e.get(t)}))},ee.prototype.getSelectedCoordinates=function(){var e=this;return this._selectedCoordinates.map((function(t){return{coordinates:e.get(t.feature_id).getCoordinate(t.coord_path)}}))},ee.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},ee.prototype.setFeatureProperty=function(e,t,n){this.get(e).setProperty(t,n),this.featureChanged(e)},ee.prototype.storeMapConfig=function(){var e=this;I.forEach((function(t){e.ctx.map[t]&&(e._mapInitialConfig[t]=e.ctx.map[t].isEnabled())}))},ee.prototype.restoreMapConfig=function(){var e=this;Object.keys(this._mapInitialConfig).forEach((function(t){e._mapInitialConfig[t]?e.ctx.map[t].enable():e.ctx.map[t].disable()}))},ee.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]};var ne=function(){for(var e=arguments,t={},n=0;n<arguments.length;n++){var r=e[n];for(var o in r)re.call(r,o)&&(t[o]=r[o])}return t},re=Object.prototype.hasOwnProperty,oe=["mode","feature","mouse"];function ie(t){var n=null,r=null,o={onRemove:function(){return t.map.off("load",o.connect),clearInterval(r),o.removeLayers(),t.store.restoreMapConfig(),t.ui.removeButtons(),t.events.removeEventListeners(),t.ui.clearMapClasses(),t.map=null,t.container=null,t.store=null,n&&n.parentNode&&n.parentNode.removeChild(n),n=null,this},connect:function(){t.map.off("load",o.connect),clearInterval(r),o.addLayers(),t.store.storeMapConfig(),t.events.addEventListeners()},onAdd:function(i){var a=i.fire;return i.fire=function(e,t){var n=arguments;return 1===a.length&&1!==arguments.length&&(n=[ne({},{type:e},t)]),a.apply(i,n)},t.map=i,t.events=function(t){var n=Object.keys(t.options.modes).reduce((function(e,n){return e[n]=function(e){var t=Object.keys(e);return function(n,r){void 0===r&&(r={});var o={},i=t.reduce((function(t,n){return t[n]=e[n],t}),new Z(n));return{start:function(){var t=this;o=i.onSetup(r),J.forEach((function(n){var r,a=Y[n],s=function(){return!1};e[a]&&(s=function(){return!0}),t.on(n,s,(r=a,function(e){return i[r](o,e)}))}))},stop:function(){i.onStop(o)},trash:function(){i.onTrash(o)},combineFeatures:function(){i.onCombineFeatures(o)},uncombineFeatures:function(){i.onUncombineFeatures(o)},render:function(e,t){i.toDisplayFeatures(o,e,t)}}}}(t.options.modes[n]),e}),{}),r={},o={},i={},a=null,s=null;i.drag=function(e,n){n({point:e.point,time:(new Date).getTime()})?(t.ui.queueMapClasses({mouse:"drag"}),s.drag(e)):e.originalEvent.stopPropagation()},i.mousedrag=function(e){i.drag(e,(function(e){return!F(r,e)}))},i.touchdrag=function(e){i.drag(e,(function(e){return!U(o,e)}))},i.mousemove=function(e){if(1===(void 0!==e.originalEvent.buttons?e.originalEvent.buttons:e.originalEvent.which))return i.mousedrag(e);var n=D(e,t);e.featureTarget=n,s.mousemove(e)},i.mousedown=function(e){r={time:(new Date).getTime(),point:e.point};var n=D(e,t);e.featureTarget=n,s.mousedown(e)},i.mouseup=function(e){var n=D(e,t);e.featureTarget=n,F(r,{point:e.point,time:(new Date).getTime()})?s.click(e):s.mouseup(e)},i.mouseout=function(e){s.mouseout(e)},i.touchstart=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){o={time:(new Date).getTime(),point:e.point};var n=L.touch(e,null,t)[0];e.featureTarget=n,s.touchstart(e)}},i.touchmove=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled)return s.touchmove(e),i.touchdrag(e)},i.touchend=function(e){if(e.originalEvent.preventDefault(),t.options.touchEnabled){var n=L.touch(e,null,t)[0];e.featureTarget=n,U(o,{time:(new Date).getTime(),point:e.point})?s.tap(e):s.touchend(e)}};var l=function(e){return!(8===e||46===e||e>=48&&e<=57)};function c(r,o,i){void 0===i&&(i={}),s.stop();var l=n[r];if(void 0===l)throw new Error(r+" is not valid");a=r;var c=l(t,o);s=e(c,t),i.silent||t.map.fire("draw.modechange",{mode:r}),t.store.setDirty(),t.store.render()}i.keydown=function(e){"mapboxgl-canvas"===(e.srcElement||e.target).classList[0]&&(8!==e.keyCode&&46!==e.keyCode||!t.options.controls.trash?l(e.keyCode)?s.keydown(e):49===e.keyCode&&t.options.controls.point?c(w.DRAW_POINT):50===e.keyCode&&t.options.controls.line_string?c(w.DRAW_LINE_STRING):51===e.keyCode&&t.options.controls.polygon&&c(w.DRAW_POLYGON):(e.preventDefault(),s.trash()))},i.keyup=function(e){l(e.keyCode)&&s.keyup(e)},i.zoomend=function(){t.store.changeZoom()},i.data=function(e){if("style"===e.dataType){var n=t.setup,r=t.map,o=t.options,i=t.store;o.styles.some((function(e){return r.getLayer(e.id)}))||(n.addLayers(),i.setDirty(),i.render())}};var u={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){a=t.options.defaultMode,s=e(n[a](t),t)},changeMode:c,actionable:function(e){var n=!1;Object.keys(e).forEach((function(t){if(void 0===u[t])throw new Error("Invalid action type");u[t]!==e[t]&&(n=!0),u[t]=e[t]})),n&&t.map.fire("draw.actionable",{actions:u})},currentModeName:function(){return a},currentModeRender:function(e,t){return s.render(e,t)},fire:function(e,t){i[e]&&i[e](t)},addEventListeners:function(){t.map.on("mousemove",i.mousemove),t.map.on("mousedown",i.mousedown),t.map.on("mouseup",i.mouseup),t.map.on("data",i.data),t.map.on("touchmove",i.touchmove),t.map.on("touchstart",i.touchstart),t.map.on("touchend",i.touchend),t.container.addEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.addEventListener("keydown",i.keydown),t.container.addEventListener("keyup",i.keyup))},removeEventListeners:function(){t.map.off("mousemove",i.mousemove),t.map.off("mousedown",i.mousedown),t.map.off("mouseup",i.mouseup),t.map.off("data",i.data),t.map.off("touchmove",i.touchmove),t.map.off("touchstart",i.touchstart),t.map.off("touchend",i.touchend),t.container.removeEventListener("mouseout",i.mouseout),t.options.keybindings&&(t.container.removeEventListener("keydown",i.keydown),t.container.removeEventListener("keyup",i.keyup))},trash:function(e){s.trash(e)},combineFeatures:function(){s.combineFeatures()},uncombineFeatures:function(){s.uncombineFeatures()},getMode:function(){return a}}}(t),t.ui=function(e){var t={},n=null,r={mode:null,feature:null,mouse:null},o={mode:null,feature:null,mouse:null};function i(e){o=ne(o,e)}function a(){var t,n;if(e.container){var i=[],a=[];oe.forEach((function(e){o[e]!==r[e]&&(i.push(e+"-"+r[e]),null!==o[e]&&a.push(e+"-"+o[e]))})),i.length>0&&(t=e.container.classList).remove.apply(t,i),a.length>0&&(n=e.container.classList).add.apply(n,a),r=ne(r,o)}}function l(e,t){void 0===t&&(t={});var r=document.createElement("button");return r.className="mapbox-gl-draw_ctrl-draw-btn "+t.className,r.setAttribute("title",t.title),t.container.appendChild(r),r.addEventListener("click",(function(r){if(r.preventDefault(),r.stopPropagation(),r.target===n)return c(),void t.onDeactivate();u(e),t.onActivate()}),!0),r}function c(){n&&(n.classList.remove(s),n=null)}function u(e){c();var r=t[e];r&&r&&"trash"!==e&&(r.classList.add(s),n=r)}return{setActiveButton:u,queueMapClasses:i,updateMapClasses:a,clearMapClasses:function(){i({mode:null,feature:null,mouse:null}),a()},addButtons:function(){var n=e.options.controls,r=document.createElement("div");return r.className="mapboxgl-ctrl-group mapboxgl-ctrl",n?(n[h.LINE]&&(t[h.LINE]=l(h.LINE,{container:r,className:"mapbox-gl-draw_line",title:"LineString tool "+(e.options.keybindings?"(l)":""),onActivate:function(){return e.events.changeMode(w.DRAW_LINE_STRING)},onDeactivate:function(){return e.events.trash()}})),n[h.POLYGON]&&(t[h.POLYGON]=l(h.POLYGON,{container:r,className:"mapbox-gl-draw_polygon",title:"Polygon tool "+(e.options.keybindings?"(p)":""),onActivate:function(){return e.events.changeMode(w.DRAW_POLYGON)},onDeactivate:function(){return e.events.trash()}})),n[h.POINT]&&(t[h.POINT]=l(h.POINT,{container:r,className:"mapbox-gl-draw_point",title:"Marker tool "+(e.options.keybindings?"(m)":""),onActivate:function(){return e.events.changeMode(w.DRAW_POINT)},onDeactivate:function(){return e.events.trash()}})),n.trash&&(t.trash=l("trash",{container:r,className:"mapbox-gl-draw_trash",title:"Delete",onActivate:function(){e.events.trash()}})),n.combine_features&&(t.combine_features=l("combineFeatures",{container:r,className:"mapbox-gl-draw_combine",title:"Combine",onActivate:function(){e.events.combineFeatures()}})),n.uncombine_features&&(t.uncombine_features=l("uncombineFeatures",{container:r,className:"mapbox-gl-draw_uncombine",title:"Uncombine",onActivate:function(){e.events.uncombineFeatures()}})),r):r},removeButtons:function(){Object.keys(t).forEach((function(e){var n=t[e];n.parentNode&&n.parentNode.removeChild(n),delete t[e]}))}}}(t),t.container=i.getContainer(),t.store=new ee(t),n=t.ui.addButtons(),t.options.boxSelect&&(i.boxZoom.disable(),i.dragPan.disable(),i.dragPan.enable()),i.loaded()?o.connect():(i.on("load",o.connect),r=setInterval((function(){i.loaded()&&o.connect()}),16)),t.events.start(),n},addLayers:function(){t.map.addSource(c,{data:{type:b,features:[]},type:"geojson"}),t.map.addSource(l,{data:{type:b,features:[]},type:"geojson"}),t.options.styles.forEach((function(e){t.map.addLayer(e)})),t.store.setDirty(!0),t.store.render()},removeLayers:function(){t.options.styles.forEach((function(e){t.map.getLayer(e.id)&&t.map.removeLayer(e.id)})),t.map.getSource(c)&&t.map.removeSource(c),t.map.getSource(l)&&t.map.removeSource(l)}};return t.setup=o,o}function ae(e){return function(t){var n=t.featureTarget;return!!n&&!!n.properties&&n.properties.meta===e}}function se(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===A&&e.featureTarget.properties.meta===E}function le(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.active===T&&e.featureTarget.properties.meta===E}function ce(e){return void 0===e.featureTarget}function ue(e){var t=e.featureTarget;return!!t&&!!t.properties&&t.properties.meta===k}function de(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey}function fe(e){return 27===e.keyCode}function pe(e){return 13===e.keyCode}var he=me;function me(e,t){this.x=e,this.y=t}function ge(e,t){var n=t.getBoundingClientRect();return new he(e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0))}function ve(e,t,n,r){return{type:m,properties:{meta:k,parent:e,coord_path:n,active:r?A:T},geometry:{type:y,coordinates:t}}}function ye(e,t,n){void 0===t&&(t={}),void 0===n&&(n=null);var r,o=e.geometry,i=o.type,a=o.coordinates,s=e.properties&&e.properties.id,l=[];function c(e,n){var r="",o=null;e.forEach((function(e,i){var a=null!=n?n+"."+i:String(i),c=ve(s,e,a,u(a));if(t.midpoints&&o){var d=function(e,t,n){var r=t.geometry.coordinates,o=n.geometry.coordinates;if(r[1]>85||r[1]<-85||o[1]>85||o[1]<-85)return null;var i={lng:(r[0]+o[0])/2,lat:(r[1]+o[1])/2};return{type:m,properties:{meta:C,parent:e,lng:i.lng,lat:i.lat,coord_path:n.properties.coord_path},geometry:{type:y,coordinates:[i.lng,i.lat]}}}(s,o,c);d&&l.push(d)}o=c;var f=JSON.stringify(e);r!==f&&l.push(c),0===i&&(r=f)}))}function u(e){return!!t.selectedPaths&&-1!==t.selectedPaths.indexOf(e)}return i===y?l.push(ve(s,a,n,u(n))):i===g?a.forEach((function(e,t){c(e,null!==n?n+"."+t:String(t))})):i===v?c(a,n):0===i.indexOf(_)&&(r=i.replace(_,""),a.forEach((function(n,o){var i={type:m,properties:e.properties,geometry:{type:r,coordinates:n}};l=l.concat(ye(i,t,o))}))),l}me.prototype={clone:function(){return new me(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,o=n*this.x+t*this.y;return this.x=r,this.y=o,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),o=t.x+n*(this.x-t.x)-r*(this.y-t.y),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},me.convert=function(e){return e instanceof me?e:Array.isArray(e)?new me(e[0],e[1]):e};var be=function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()}),0)},_e=function(e){setTimeout((function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()}),0)},we=function(e){if(!e||!e.type)return null;var t=xe[e.type];return t?"geometry"===t?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===t?{type:"FeatureCollection",features:[e]}:"featurecollection"===t?e:void 0:null},xe={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function Se(e){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.reduce((function(e,t){return e.concat(Se(t))}),[]),e;case"Feature":return e.geometry?Se(e.geometry).map((function(t){var n={type:"Feature",properties:JSON.parse(JSON.stringify(e.properties)),geometry:t};return void 0!==e.id&&(n.id=e.id),n})):[e];case"MultiPoint":return e.coordinates.map((function(e){return{type:"Point",coordinates:e}}));case"MultiPolygon":return e.coordinates.map((function(e){return{type:"Polygon",coordinates:e}}));case"MultiLineString":return e.coordinates.map((function(e){return{type:"LineString",coordinates:e}}));case"GeometryCollection":return e.geometries.map(Se).reduce((function(e,t){return e.concat(t)}),[]);case"Point":case"Polygon":case"LineString":return[e]}}var Ee=j((function(e){var t=e.exports=function(e){return new n(e)};function n(e){this.value=e}function r(e,t,n){var r=[],a=[],u=!0;return function e(d){var f=n?o(d):d,p={},h=!0,m={node:f,node_:d,path:[].concat(r),parent:a[a.length-1],parents:a,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){m.isRoot||(m.parent.node[m.key]=e),m.node=e,t&&(h=!1)},delete:function(e){delete m.parent.node[m.key],e&&(h=!1)},remove:function(e){s(m.parent.node)?m.parent.node.splice(m.key,1):delete m.parent.node[m.key],e&&(h=!1)},keys:null,before:function(e){p.before=e},after:function(e){p.after=e},pre:function(e){p.pre=e},post:function(e){p.post=e},stop:function(){u=!1},block:function(){h=!1}};if(!u)return m;function g(){if("object"==typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=i(m.node)),m.isLeaf=0==m.keys.length;for(var e=0;e<a.length;e++)if(a[e].node_===d){m.circular=a[e];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf,m.notRoot=!m.isRoot}g();var v=t.call(m,m.node);return void 0!==v&&m.update&&m.update(v),p.before&&p.before.call(m,m.node),h?("object"!=typeof m.node||null===m.node||m.circular||(a.push(m),g(),l(m.keys,(function(t,o){r.push(t),p.pre&&p.pre.call(m,m.node[t],t);var i=e(m.node[t]);n&&c.call(m.node,t)&&(m.node[t]=i.node),i.isLast=o==m.keys.length-1,i.isFirst=0==o,p.post&&p.post.call(m,i),r.pop()})),a.pop()),p.after&&p.after.call(m,m.node),m):m}(e).node}function o(e){if("object"==typeof e&&null!==e){var t;if(s(e))t=[];else if("[object Date]"===a(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===a(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===a(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===a(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===a(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===a(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},r=function(){};r.prototype=n,t=new r}return l(i(e),(function(n){t[n]=e[n]})),t}return e}n.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!c.call(t,r)){t=void 0;break}t=t[r]}return t},n.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!c.call(t,r))return!1;t=t[r]}return!0},n.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];c.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t,t},n.prototype.map=function(e){return r(this.value,e,!0)},n.prototype.forEach=function(e){return this.value=r(this.value,e,!1),this.value},n.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach((function(t){this.isRoot&&n||(r=e.call(this,r,t))})),r},n.prototype.paths=function(){var e=[];return this.forEach((function(t){e.push(this.path)})),e},n.prototype.nodes=function(){var e=[];return this.forEach((function(t){e.push(this.node)})),e},n.prototype.clone=function(){var e=[],t=[];return function n(r){for(var a=0;a<e.length;a++)if(e[a]===r)return t[a];if("object"==typeof r&&null!==r){var s=o(r);return e.push(r),t.push(s),l(i(r),(function(e){s[e]=n(r[e])})),e.pop(),t.pop(),s}return r}(this.value)};var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function a(e){return Object.prototype.toString.call(e)}var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)};l(i(n.prototype),(function(e){t[e]=function(t){var r=[].slice.call(arguments,1),o=new n(t);return o[e].apply(o,r)}}));var c=Object.hasOwnProperty||function(e,t){return t in e}})),Ce=ke;function ke(e){if(!(this instanceof ke))return new ke(e);this._bbox=e||[1/0,1/0,-1/0,-1/0],this._valid=!!e}ke.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},ke.prototype.equals=function(e){var t;return t=e instanceof ke?e.bbox():e,this._bbox[0]==t[0]&&this._bbox[1]==t[1]&&this._bbox[2]==t[2]&&this._bbox[3]==t[3]},ke.prototype.center=function(e){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},ke.prototype.union=function(e){var t;return this._valid=!0,t=e instanceof ke?e.bbox():e,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[2]),this._bbox[3]=Math.max(this._bbox[3],t[3]),this},ke.prototype.bbox=function(){return this._valid?this._bbox:null},ke.prototype.contains=function(e){if(!e)return this._fastContains();if(!this._valid)return null;var t=e[0],n=e[1];return this._bbox[0]<=t&&this._bbox[1]<=n&&this._bbox[2]>=t&&this._bbox[3]>=n},ke.prototype.intersect=function(e){return this._valid?(t=e instanceof ke?e.bbox():e,!(this._bbox[0]>t[2]||this._bbox[2]<t[0]||this._bbox[3]<t[1]||this._bbox[1]>t[3])):null;var t},ke.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var e="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",e)},ke.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var Ae={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},Te=Object.keys(Ae),Ie=function(e){return Pe(e).bbox()};function Pe(e){for(var t=Ce(),n=function(e){if(!e)return[];var t=Se(we(e)),n=[];return t.features.forEach((function(e){e.geometry&&(n=n.concat(function e(t){return Array.isArray(t)&&t.length&&"number"==typeof t[0]?[t]:t.reduce((function(t,n){return Array.isArray(n)&&Array.isArray(n[0])?t.concat(e(n)):(t.push(n),t)}),[])}(e.geometry.coordinates)))})),n}(e),r=0;r<n.length;r++)t.include(n[r]);return t}function Oe(e,t){var n=-90,r=90,o=-90,i=90,a=270,s=-270;e.forEach((function(e){var t=Ie(e),l=t[1],c=t[3],u=t[0],d=t[2];l>n&&(n=l),c<r&&(r=c),c>o&&(o=c),l<i&&(i=l),u<a&&(a=u),d>s&&(s=d)}));var l=t;return n+l.lat>85&&(l.lat=85-n),o+l.lat>90&&(l.lat=90-o),r+l.lat<-85&&(l.lat=-85-r),i+l.lat<-90&&(l.lat=-90-i),a+l.lng<=-270&&(l.lng+=360*Math.ceil(Math.abs(l.lng)/360)),s+l.lng>=270&&(l.lng-=360*Math.ceil(Math.abs(l.lng)/360)),l}function Me(e,t){var n=Oe(e.map((function(e){return e.toGeoJSON()})),t);e.forEach((function(e){var t,r=e.getCoordinates(),o=function(e){var t={lng:e[0]+n.lng,lat:e[1]+n.lat};return[t.lng,t.lat]},i=function(e){return e.map((function(e){return o(e)}))};e.type===y?t=o(r):e.type===v||"MultiPoint"===e.type?t=r.map(o):e.type===g||"MultiLineString"===e.type?t=r.map(i):"MultiPolygon"===e.type&&(t=r.map((function(e){return e.map((function(e){return i(e)}))}))),e.incomingCoords(t)}))}Ie.polygon=function(e){return Pe(e).polygon()},Ie.bboxify=function(e){return Ee(e).map((function(e){e&&Te.some((function(t){return!!e[t]&&-1!==Ae[t].indexOf(e.type)}))&&(e.bbox=Pe(e).bbox(),this.update(e))}))};var Ne={onSetup:function(e){var t=this,n={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(n.initiallySelectedFeatureIds.filter((function(e){return void 0!==t.getFeature(e)}))),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),n},fireUpdate:function(){this.map.fire(S,{action:"move",features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(){var e=this,t=this.getSelected(),n=t.filter((function(t){return e.isInstanceOf("MultiFeature",t)})),r=!1;if(t.length>1){r=!0;var o=t[0].type.replace("Multi","");t.forEach((function(e){e.type.replace("Multi","")!==o&&(r=!1)}))}var i=n.length>0,a=t.length>0;this.setActionableState({combineFeatures:r,uncombineFeatures:i,trash:a})},getUniqueIds:function(e){return e.length?e.map((function(e){return e.properties.id})).filter((function(e){return void 0!==e})).reduce((function(e,t){return e.add(t),e}),new M).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){be(this)},onMouseMove:function(e){return this.stopExtendedInteractions(e),!0},onMouseOut:function(e){return!e.dragMoving||this.fireUpdate()}};Ne.onTap=Ne.onClick=function(e,t){return ce(t)?this.clickAnywhere(e,t):ae(k)(t)?this.clickOnVertex(e,t):function(e){return!!e.featureTarget&&!!e.featureTarget.properties&&e.featureTarget.properties.meta===E}(t)?this.clickOnFeature(e,t):void 0},Ne.clickAnywhere=function(e){var t=this,n=this.getSelectedIds();n.length&&(this.clearSelectedFeatures(),n.forEach((function(e){return t.doRender(e)}))),be(this),this.stopExtendedInteractions(e)},Ne.clickOnVertex=function(e,t){this.changeMode(w.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:d})},Ne.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},Ne.clickOnFeature=function(e,t){var n=this;_e(this),this.stopExtendedInteractions(e);var r=de(t),o=this.getSelectedIds(),i=t.featureTarget.properties.id,a=this.isSelected(i);if(!r&&a&&this.getFeature(i).type!==y)return this.changeMode(w.DIRECT_SELECT,{featureId:i});a&&r?(this.deselect(i),this.updateUIClasses({mouse:f}),1===o.length&&be(this)):!a&&r?(this.select(i),this.updateUIClasses({mouse:d})):a||r||(o.forEach((function(e){return n.doRender(e)})),this.setSelected(i),this.updateUIClasses({mouse:d})),this.doRender(i)},Ne.onMouseDown=function(e,t){return se(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&function(e){return!!e.originalEvent&&!!e.originalEvent.shiftKey&&0===e.originalEvent.button}(t)?this.startBoxSelect(e,t):void 0},Ne.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=ge(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},Ne.onTouchStart=function(e,t){if(se(t))return this.startOnActiveFeature(e,t)},Ne.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},Ne.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:u}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add("mapbox-gl-draw_boxselect"),this.map.getContainer().appendChild(e.boxSelectElement));var n=ge(t.originalEvent,this.map.getContainer()),r=Math.min(e.boxSelectStartLocation.x,n.x),o=Math.max(e.boxSelectStartLocation.x,n.x),i=Math.min(e.boxSelectStartLocation.y,n.y),a=Math.max(e.boxSelectStartLocation.y,n.y),s="translate("+r+"px, "+i+"px)";e.boxSelectElement.style.transform=s,e.boxSelectElement.style.WebkitTransform=s,e.boxSelectElement.style.width=o-r+"px",e.boxSelectElement.style.height=a-i+"px"},Ne.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};Me(this.getSelected(),n),e.dragMoveLocation=t.lngLat},Ne.onMouseUp=function(e,t){var n=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var r=[e.boxSelectStartLocation,ge(t.originalEvent,this.map.getContainer())],o=this.featuresAt(null,r,"click"),i=this.getUniqueIds(o).filter((function(e){return!n.isSelected(e)}));i.length&&(this.select(i),i.forEach((function(e){return n.doRender(e)})),this.updateUIClasses({mouse:d}))}this.stopExtendedInteractions(e)},Ne.toDisplayFeatures=function(e,t,n){t.properties.active=this.isSelected(t.properties.id)?A:T,n(t),this.fireActionable(),t.properties.active===A&&t.geometry.type!==y&&ye(t).forEach(n)},Ne.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},Ne.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],n=[],r=e[0].type.replace("Multi",""),o=0;o<e.length;o++){var i=e[o];if(i.type.replace("Multi","")!==r)return;i.type.includes("Multi")?i.getCoordinates().forEach((function(e){t.push(e)})):t.push(i.getCoordinates()),n.push(i.toGeoJSON())}if(n.length>1){var a=this.newFeature({type:m,properties:n[0].properties,geometry:{type:"Multi"+r,coordinates:t}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire("draw.combine",{createdFeatures:[a.toGeoJSON()],deletedFeatures:n})}this.fireActionable()}},Ne.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var n=[],r=[],o=function(o){var i=t[o];e.isInstanceOf("MultiFeature",i)&&(i.getFeatures().forEach((function(t){e.addFeature(t),t.properties=i.properties,n.push(t.toGeoJSON()),e.select([t.id])})),e.deleteFeature(i.id,{silent:!0}),r.push(i.toGeoJSON()))},i=0;i<t.length;i++)o(i);n.length>1&&this.map.fire("draw.uncombine",{createdFeatures:n,deletedFeatures:r}),this.fireActionable()}};var Le=ae(k),Re=ae(C),De={fireUpdate:function(){this.map.fire(S,{action:"change_coordinates",features:this.getSelected().map((function(e){return e.toGeoJSON()}))})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties,r=e.selectedCoordPaths.indexOf(n.coord_path);de(t)||-1!==r?de(t)&&-1===r&&e.selectedCoordPaths.push(n.coord_path):e.selectedCoordPaths=[n.coord_path];var o=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(o)},onMidpoint:function(e,t){this.startDragging(e,t);var n=t.featureTarget.properties;e.feature.addCoordinate(n.coord_path,n.lng,n.lat),this.fireUpdate(),e.selectedCoordPaths=[n.coord_path]},pathsToCoordinates:function(e,t){return t.map((function(t){return{feature_id:e,coord_path:t}}))},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,n){Me(this.getSelected(),n),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,n){for(var r=e.selectedCoordPaths.map((function(t){return e.feature.getCoordinate(t)})),o=Oe(r.map((function(e){return{type:m,properties:{},geometry:{type:y,coordinates:e}}})),n),i=0;i<r.length;i++){var a=r[i];e.feature.updateCoordinate(e.selectedCoordPaths[i],a[0]+o.lng,a[1]+o.lat)}},clickNoTarget:function(){this.changeMode(w.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(w.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,n=this.getFeature(t);if(!n)throw new Error("You must provide a featureId to enter direct_select mode");if(n.type===y)throw new TypeError("direct_select mode doesn't handle point features");var r={featureId:t,feature:n,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,r.selectedCoordPaths)),this.setSelected(t),_e(this),this.setActionableState({trash:!0}),r},onStop:function(){be(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,n){e.featureId===t.properties.id?(t.properties.active=A,n(t),ye(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(n)):(t.properties.active=T,n(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort((function(e,t){return t.localeCompare(e,"en",{numeric:!0})})).forEach((function(t){return e.feature.removeCoordinate(t)})),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(w.SIMPLE_SELECT,{}))},onMouseMove:function(e,t){var n=se(t),r=Le(t),o=0===e.selectedCoordPaths.length;return n&&o||r&&!o?this.updateUIClasses({mouse:d}):this.updateUIClasses({mouse:p}),this.stopDragging(e),!0},onMouseOut:function(e){return e.dragMoving&&this.fireUpdate(),!0}};De.onTouchStart=De.onMouseDown=function(e,t){return Le(t)?this.onVertex(e,t):se(t)?this.onFeature(e,t):Re(t)?this.onMidpoint(e,t):void 0},De.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var n={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,n):this.dragFeature(e,t,n),e.dragMoveLocation=t.lngLat}},De.onClick=function(e,t){return ce(t)?this.clickNoTarget(e,t):se(t)?this.clickActiveFeature(e,t):le(t)?this.clickInactive(e,t):void this.stopDragging(e)},De.onTap=function(e,t){return ce(t)?this.clickNoTarget(e,t):se(t)?this.clickActiveFeature(e,t):le(t)?this.clickInactive(e,t):void 0},De.onTouchEnd=De.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)};var ze={};function Fe(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}ze.onSetup=function(){var e=this.newFeature({type:m,properties:{},geometry:{type:y,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:u}),this.activateUIButton(h.POINT),this.setActionableState({trash:!0}),{point:e}},ze.stopDrawingAndRemove=function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(w.SIMPLE_SELECT)},ze.onTap=ze.onClick=function(e,t){this.updateUIClasses({mouse:d}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.map.fire(x,{features:[e.point.toGeoJSON()]}),this.changeMode(w.SIMPLE_SELECT,{featureIds:[e.point.id]})},ze.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},ze.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.point.id;if(t.properties.active=r?A:T,!r)return n(t)},ze.onTrash=ze.stopDrawingAndRemove,ze.onKeyUp=function(e,t){if(fe(t)||pe(t))return this.stopDrawingAndRemove(e,t)};var Ue={onSetup:function(){var e=this.newFeature({type:m,properties:{},geometry:{type:g,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),_e(this),this.updateUIClasses({mouse:u}),this.activateUIButton(h.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Fe(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(w.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:u}),e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(w.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),ue(t)&&this.updateUIClasses({mouse:f})}};Ue.onTap=Ue.onClick=function(e,t){return ue(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},Ue.onKeyUp=function(e,t){fe(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(w.SIMPLE_SELECT)):pe(t)&&this.changeMode(w.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},Ue.onStop=function(e){this.updateUIClasses({mouse:p}),be(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0."+e.currentVertexPosition),e.polygon.isValid()?this.map.fire(x,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(w.SIMPLE_SELECT,{},{silent:!0})))},Ue.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.polygon.id;if(t.properties.active=r?A:T,!r)return n(t);if(0!==t.geometry.coordinates.length){var o=t.geometry.coordinates[0].length;if(!(o<3)){if(t.properties.meta=E,n(ve(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),o>3){var i=t.geometry.coordinates[0].length-3;n(ve(e.polygon.id,t.geometry.coordinates[0][i],"0."+i,!1))}if(o<=4){var a=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(n({type:m,properties:t.properties,geometry:{coordinates:a,type:v}}),3===o)return}return n(t)}}},Ue.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(w.SIMPLE_SELECT)};var je={onSetup:function(e){var t,n,r=(e=e||{}).featureId,o="forward";if(r){if(!(t=this.getFeature(r)))throw new Error("Could not find a feature with the provided featureId");var i=e.from;if(i&&"Feature"===i.type&&i.geometry&&"Point"===i.geometry.type&&(i=i.geometry),i&&"Point"===i.type&&i.coordinates&&2===i.coordinates.length&&(i=i.coordinates),!i||!Array.isArray(i))throw new Error("Please use the `from` property to indicate which point to continue the line from");var a=t.coordinates.length-1;if(t.coordinates[a][0]===i[0]&&t.coordinates[a][1]===i[1])n=a+1,t.addCoordinate.apply(t,[n].concat(t.coordinates[a]));else{if(t.coordinates[0][0]!==i[0]||t.coordinates[0][1]!==i[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");o="backwards",n=0,t.addCoordinate.apply(t,[n].concat(t.coordinates[0]))}}else t=this.newFeature({type:m,properties:{},geometry:{type:v,coordinates:[]}}),n=0,this.addFeature(t);return this.clearSelectedFeatures(),_e(this),this.updateUIClasses({mouse:u}),this.activateUIButton(h.LINE),this.setActionableState({trash:!0}),{line:t,currentVertexPosition:n,direction:o}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&Fe(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&Fe(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(w.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:u}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(w.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),ue(t)&&this.updateUIClasses({mouse:f})}};je.onTap=je.onClick=function(e,t){if(ue(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},je.onKeyUp=function(e,t){pe(t)?this.changeMode(w.SIMPLE_SELECT,{featureIds:[e.line.id]}):fe(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(w.SIMPLE_SELECT))},je.onStop=function(e){be(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(""+e.currentVertexPosition),e.line.isValid()?this.map.fire(x,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(w.SIMPLE_SELECT,{},{silent:!0})))},je.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(w.SIMPLE_SELECT)},je.toDisplayFeatures=function(e,t,n){var r=t.properties.id===e.line.id;if(t.properties.active=r?A:T,!r)return n(t);t.geometry.coordinates.length<2||(t.properties.meta=E,n(ve(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],""+("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),n(t))};var Be={simple_select:Ne,direct_select:De,draw_point:ze,draw_polygon:Ue,draw_line_string:je},Ve={defaultMode:w.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}],modes:Be,controls:{},userProperties:!1},Ge={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},qe={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function He(e,t){return e.map((function(e){return e.source?e:ne(e,{id:e.id+"."+t,source:"hot"===t?l:c})}))}var We=j((function(e,t){var r="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[r]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[o]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,f=u||d||Function("return this")(),p=t&&!t.nodeType&&t,h=p&&e&&!e.nodeType&&e,m=h&&h.exports===p,g=m&&u.process,v=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),y=v&&v.isTypedArray;function b(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function _(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var x,S,E,C=Array.prototype,k=Function.prototype,A=Object.prototype,T=f["__core-js_shared__"],I=k.toString,P=A.hasOwnProperty,O=(x=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",M=A.toString,N=RegExp("^"+I.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=m?f.Buffer:void 0,R=f.Symbol,D=f.Uint8Array,z=A.propertyIsEnumerable,F=C.splice,U=R?R.toStringTag:void 0,j=Object.getOwnPropertySymbols,B=L?L.isBuffer:void 0,V=(S=Object.keys,E=Object,function(e){return S(E(e))}),G=he(f,"DataView"),q=he(f,"Map"),H=he(f,"Promise"),W=he(f,"Set"),K=he(f,"WeakMap"),$=he(Object,"create"),Z=ye(G),Y=ye(q),J=ye(H),X=ye(W),Q=ye(K),ee=R?R.prototype:void 0,te=ee?ee.valueOf:void 0;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function re(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}function ae(e){var t=this.__data__=new re(e);this.size=t.size}function se(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function le(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U&&U in Object(e)?function(e){var t=P.call(e,U),n=e[U];try{e[U]=void 0;var r=!0}catch(e){}var o=M.call(e);return r&&(t?e[U]=n:delete e[U]),o}(e):function(e){return M.call(e)}(e)}function ce(e){return ke(e)&&le(e)==r}function ue(e,t,n,s,l){return e===t||(null==e||null==t||!ke(e)&&!ke(t)?e!=e&&t!=t:function(e,t,n,s,l,c){var u=we(e),d=we(t),f=u?"[object Array]":ge(e),p=d?"[object Array]":ge(t),h=(f=f==r?i:f)==i,m=(p=p==r?i:p)==i,g=f==p;if(g&&xe(e)){if(!xe(t))return!1;u=!0,h=!1}if(g&&!h)return c||(c=new ae),u||Ae(e)?de(e,t,n,s,l,c):function(e,t,n,r,i,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new D(e),new D(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return be(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var c=_;case a:var u=1&r;if(c||(c=w),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;r|=2,l.set(e,t);var f=de(c(e),c(t),r,i,s,l);return l.delete(e),f;case"[object Symbol]":if(te)return te.call(e)==te.call(t)}return!1}(e,t,f,n,s,l,c);if(!(1&n)){var v=h&&P.call(e,"__wrapped__"),y=m&&P.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,x=y?t.value():t;return c||(c=new ae),l(b,x,n,s,c)}}return!!g&&(c||(c=new ae),function(e,t,n,r,o,i){var a=1&n,s=fe(e),l=s.length;if(l!=fe(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:P.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<l;){var h=e[u=s[c]],m=t[u];if(r)var g=a?r(m,h,u,t,e,i):r(h,m,u,e,t,i);if(!(void 0===g?h===m||o(h,m,n,r,i):g)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,s,l,c))}(e,t,n,s,ue,l))}function de(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,f=2&n?new ie:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var p=e[u],h=t[u];if(r)var m=a?r(h,p,u,t,e,i):r(p,h,u,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!b(t,(function(e,t){if(a=t,!f.has(a)&&(p===e||o(p,e,n,r,i)))return f.push(t);var a}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function fe(e){return function(e,t,n){var r=t(e);return we(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Te,me)}function pe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function he(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ce(e)||function(e){return!!O&&O in e}(e))&&(Se(e)?N:s).test(ye(e))}(n)?n:void 0}ne.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if($){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return P.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:P.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$&&void 0===t?"__lodash_hash_undefined__":t,this},re.prototype.clear=function(){this.__data__=[],this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():F.call(t,n,1),--this.size,0))},re.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},re.prototype.has=function(e){return se(this.__data__,e)>-1},re.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},oe.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(q||re),string:new ne}},oe.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},oe.prototype.get=function(e){return pe(this,e).get(e)},oe.prototype.has=function(e){return pe(this,e).has(e)},oe.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.clear=function(){this.__data__=new re,this.size=0},ae.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var n=this.__data__;if(n instanceof re){var r=n.__data__;if(!q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this};var me=j?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a)&&(i[o++]=a)}return i}(j(e),(function(t){return z.call(e,t)})))}:function(){return[]},ge=le;function ve(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ye(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function be(e,t){return e===t||e!=e&&t!=t}(G&&"[object DataView]"!=ge(new G(new ArrayBuffer(1)))||q&&ge(new q)!=o||H&&"[object Promise]"!=ge(H.resolve())||W&&ge(new W)!=a||K&&"[object WeakMap]"!=ge(new K))&&(ge=function(e){var t=le(e),n=t==i?e.constructor:void 0,r=n?ye(n):"";if(r)switch(r){case Z:return"[object DataView]";case Y:return o;case J:return"[object Promise]";case X:return a;case Q:return"[object WeakMap]"}return t});var _e=ce(function(){return arguments}())?ce:function(e){return ke(e)&&P.call(e,"callee")&&!z.call(e,"callee")},we=Array.isArray,xe=B||function(){return!1};function Se(e){if(!Ce(e))return!1;var t=le(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ce(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Ae=y?function(e){return function(t){return e(t)}}(y):function(e){return ke(e)&&Ee(e.length)&&!!c[le(e)]};function Te(e){return null!=(t=e)&&Ee(t.length)&&!Se(t)?function(e,t){var n=we(e),r=!n&&_e(e),o=!n&&!r&&xe(e),i=!n&&!r&&!o&&Ae(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!P.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ve(c,l))||s.push(c);return s}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||A))return V(e);var t,n,r=[];for(var o in Object(e))P.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e);var t}e.exports=function(e,t){return ue(e,t)}})),Ke={Polygon:H,LineString:q,Point:G,MultiPolygon:$,MultiLineString:$,MultiPoint:$};var $e=function(e,t){var n={options:e=function(e){void 0===e&&(e={});var t=ne(e);return e.controls||(t.controls={}),!1===e.displayControlsDefault?t.controls=ne(qe,e.controls):t.controls=ne(Ge,e.controls),(t=ne(Ve,t)).styles=He(t.styles,"cold").concat(He(t.styles,"hot")),t}(e)};t=function(e,t){return t.modes=w,t.getFeatureIdsAt=function(t){return L.click({point:t},null,e).map((function(e){return e.properties.id}))},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:b,features:e.store.getSelectedIds().map((function(t){return e.store.get(t)})).map((function(e){return e.toGeoJSON()}))}},t.getSelectedPoints=function(){return{type:b,features:e.store.getSelectedCoordinates().map((function(e){return{type:m,properties:{},geometry:{type:y,coordinates:e.coordinates}}}))}},t.set=function(n){if(void 0===n.type||n.type!==b||!Array.isArray(n.features))throw new Error("Invalid FeatureCollection");var r=e.store.createRenderBatch(),o=e.store.getAllIds().slice(),i=t.add(n),a=new M(i);return(o=o.filter((function(e){return!a.has(e)}))).length&&t.delete(o),r(),i},t.add=function(t){var n=JSON.parse(JSON.stringify(we(t))).features.map((function(t){if(t.id=t.id||B(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){var n=Ke[t.geometry.type];if(void 0===n)throw new Error("Invalid geometry type: "+t.geometry.type+".");var r=new n(e,t);e.store.add(r)}else{var o=e.store.get(t.id);o.properties=t.properties,We(o.getCoordinates(),t.geometry.coordinates)||o.incomingCoords(t.geometry.coordinates)}return t.id}));return e.store.render(),n},t.get=function(t){var n=e.store.get(t);if(n)return n.toGeoJSON()},t.getAll=function(){return{type:b,features:e.store.getAll().map((function(e){return e.toGeoJSON()}))}},t.delete=function(n){return e.store.delete(n,{silent:!0}),t.getMode()!==w.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(w.SIMPLE_SELECT,void 0,{silent:!0}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:!0}),t.getMode()===w.DIRECT_SELECT?e.events.changeMode(w.SIMPLE_SELECT,void 0,{silent:!0}):e.store.render(),t},t.changeMode=function(n,r){return void 0===r&&(r={}),n===w.SIMPLE_SELECT&&t.getMode()===w.SIMPLE_SELECT?(o=r.featureIds||[],i=e.store.getSelectedIds(),o.length===i.length&&JSON.stringify(o.map((function(e){return e})).sort())===JSON.stringify(i.map((function(e){return e})).sort())||(e.store.setSelected(r.featureIds,{silent:!0}),e.store.render()),t):(n===w.DIRECT_SELECT&&t.getMode()===w.DIRECT_SELECT&&r.featureId===e.store.getSelectedIds()[0]||e.events.changeMode(n,r,{silent:!0}),t);var o,i},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:!0}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:!0}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:!0}),t},t.setFeatureProperty=function(n,r,o){return e.store.setFeatureProperty(n,r,o),t},t}(n,t),n.api=t;var r=ie(n);return t.onAdd=r.onAdd,t.onRemove=r.onRemove,t.types=h,t.options=e,t};function Ze(e){$e(e,this)}return Ze.modes=Be,Ze}()},79082:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AmplifyGeocoderAPI:()=>U,AmplifyGeofenceControl:()=>fe,AmplifyMapLibreRequest:()=>b,createAmplifyGeocoder:()=>j,createDefaultIcon:()=>D,createMap:()=>_,drawGeofences:()=>re,drawPoints:()=>N});var r=n(40611),o=n(7262),i=n(9270),a=n(90633),s=n(20490),l=n(21066),c=n(24613),u=n.n(c);function d(e){return Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]}function f(e){return d(e[0])}function p(e){return Array.isArray(e)&&(t=e[0])&&"string"==typeof t.geofenceId&&"object"==typeof t.geometry;var t}const h=e=>"string"==typeof e&&e.length>0,m=e=>{let t;return t=f(e)?e.map((e=>({type:"Feature",geometry:{type:"Point",coordinates:e},properties:{place_name:`Coordinates,${e}`}}))):(n=e[0])&&Array.isArray(n.coordinates)&&"number"==typeof n.coordinates[0]&&"number"==typeof n.coordinates[1]?e.map((e=>({type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:{title:e.title,address:e.address}}))):e,t;var n};function g(e,t,n){const r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}function v(e){e.parentNode&&e.parentNode.removeChild(e)}var y=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};class b{constructor(e,t){this.refreshCredentials=()=>y(this,void 0,void 0,(function*(){try{this.credentials=yield r.c.get()}catch(e){throw console.error(`Failed to refresh credentials: ${e}`),e}})),this.refreshCredentialsWithRetry=()=>y(this,void 0,void 0,(function*(){try{const e=3e5;yield(0,o.Xm)(this.refreshCredentials,[],e),this.activeTimeout&&clearTimeout(this.activeTimeout);const t=new Date(this.credentials.expiration).getTime()-(new Date).getTime()-1e4;this.activeTimeout=window.setTimeout(this.refreshCredentialsWithRetry,t)}catch(e){console.error(`Failed to refresh credentials: ${e}`)}})),this.transformRequest=(e,t)=>{if("Style"===t&&!e.includes("://")){if(null==this.region)throw new Error("AWS region for map is undefined. Please verify that the region is set in aws-exports.js or that you are providing an AWS region parameter to createMap");e=`https://maps.geo.${this.region}.amazonaws.com/maps/v0/maps/${e}/style-descriptor`}if(e.includes("amazonaws.com")){const t=e+`?x-amz-user-agent=${encodeURIComponent((n=(0,i.Z)(),n.replace(/\./g,"%2E")))}`;return{url:a.E.signUrl(t,{access_key:this.credentials.accessKeyId,secret_key:this.credentials.secretAccessKey,session_token:this.credentials.sessionToken})}}var n},this.credentials=e,this.region=t,this.activeTimeout=null,this.refreshCredentialsWithRetry(),s.X.listen("auth",(e=>{switch(e.payload.event){case"signIn":case"signOut":case"tokenRefresh":this.refreshCredentialsWithRetry()}}))}}b.createMapLibreMap=e=>y(void 0,void 0,void 0,(function*(){const{region:t,mapConstructor:n=c.Map}=e,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["region","mapConstructor"]),i=l.l.getDefaultMap(),a=new b(yield r.c.get(),t||i.region).transformRequest;return new n(Object.assign(Object.assign({},o),{style:e.style||i.mapName,transformRequest:a}))}));const _=e=>y(void 0,void 0,void 0,(function*(){return b.createMapLibreMap(e)})),w="#fff",x="#000",S="#5d8aff",E="#2194f3",C="#003560",k="#FF9900",A="M24.8133 38.533C18.76 31.493 13 28.8264 13 20.8264C13.4827 14.9864 16.552 9.67169 21.368 6.33302C33.768 -2.26165 50.824 5.78902 52.0667 20.8264C52.0667 28.613 46.5733 31.6797 40.6533 38.373C32.4933 47.5464 35.4 63.093 32.4933 63.093C29.72 63.093 32.4933 47.5464 24.8133 38.533ZM32.4933 8.23969C26.5573 8.23969 21.7467 13.0504 21.7467 18.9864C21.7467 24.9224 26.5573 29.733 32.4933 29.733C38.4293 29.733 43.24 24.9224 43.24 18.9864C43.24 13.0504 38.4293 8.23969 32.4933 8.23969Z";var T;!function(e){e.ESRI_TOPOGRAPHIC="VectorEsriTopographic",e.ESRI_STREETS="VectorEsriStreets",e.ESRI_LIGHT_GRAY="VectorEsriLightGrayCanvas",e.ESRI_DARK_GRAY="VectorEsriDarkGrayCanvas",e.ESRI_NAVIGATION="VectorEsriNavigation",e.HERE_BERLIN="VectorHereBerlin"}(T||(T={}));const I={[T.ESRI_TOPOGRAPHIC]:"Noto Sans Regular",[T.ESRI_STREETS]:"Arial Regular",[T.ESRI_LIGHT_GRAY]:"Ubuntu Regular",[T.ESRI_DARK_GRAY]:"Ubuntu Regular",[T.ESRI_NAVIGATION]:"Arial Regular",[T.HERE_BERLIN]:"Fira GO Regular"};function P(e){const t=(null==e?void 0:e.fillColor)?e.fillColor:S,n=(null==e?void 0:e.strokeColor)?e.strokeColor:w,r=(null==e?void 0:e.lineWidth)?e.lineWidth:4;return{width:64,height:64,data:new Uint8Array(16384),onAdd:function(){const e=document.createElement("canvas");e.width=this.width,e.height=this.height,this.context=e.getContext("2d")},render:function(){const e=this.context,o=new Path2D(A);return e.stroke(o),e.fillStyle=t,e.strokeStyle=n,e.lineWidth=r,e.fill(o),this.data=e.getImageData(0,0,this.width,this.height).data,!0}}}const O="amplify-tip";function M(e,t,n){var{showMarkerPopup:r=!1}=n,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["showMarkerPopup"]);const i=`${e}-layer-unclustered-point`;let a=null;function s(){null!==a&&(t.setLayoutProperty(i,"icon-image","inactive-marker"),a=null)}const l=o.popupRender?o.popupRender:function(e,{popupBackgroundColor:t=w,popupBorderColor:n="#0000001f",popupBorderWidth:r=2,popupFontColor:o=x,popupPadding:i=20,popupBorderRadius:a=4,popupTitleFontWeight:s="bold"}){return l=>{let c,u;if(h(l.properties.place_name)){const e=l.properties.place_name.split(",");c=e[0],u=e.splice(1,e.length).join(",")}else h(l.properties.title)||h(l.properties.address)?(c=l.properties.title,u=l.properties.address):(c="Coordinates",u=l.geometry.coordinates);let d=`<div class="${e}-popup" style="background: ${t}; border: ${r}px solid ${n}; color: ${o}; border-radius: ${a}px; padding: ${i}px; word-wrap: break-word; margin: -10px -10px -15px;">`;return c&&(d+=`<div class="${e}-popup-title" style="font-weight: ${s};">${c}</div>`),u&&(d+=`<div class="${e}-popup-address">${u}</div>`),d+="</div>",d}}(i,o);!function(e,{selectedColor:t="#ff9900",selectedBorderColor:n=w,selectedBorderWidth:r=4,defaultBorderColor:o=w,defaultBorderWidth:i=4,defaultColor:a=S,markerImageElement:s,activeMarkerImageElement:l}){const c=s||P({fillColor:a,strokeColor:o,lineWidth:i}),u=l||s||P({fillColor:t,strokeColor:n,lineWidth:r});e.addImage("inactive-marker",c,{pixelRatio:2}),e.addImage("active-marker",u,{pixelRatio:2})}(t,o);const u={id:i,type:"symbol",source:e,filter:["!",["has","point_count"]],layout:{"icon-image":"inactive-marker"}};if(t.addLayer(Object.assign({},u)),r&&!document.getElementById(O)){const e=document.createElement("style");e.setAttribute("id",O),document.head.append(e),e.textContent=".mapboxgl-popup-tip { display: none; }"}return t.on("click",(function(){s()})),t.on("click",i,(function(e){if("function"==typeof o.onClick&&o.onClick(e),a=e.features[0].id,t.setLayoutProperty(i,"icon-image",["match",["id"],a,"active-marker","inactive-marker"]),r){const n=e.features[0],r=n.geometry.coordinates;d(r)&&(new c.Popup).setLngLat(r).setHTML(l(n)).setOffset(15).addTo(t).on("close",(function(){a===n.id&&s()}))}})),t.on("mouseover",i,(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave",i,(()=>{t.getCanvas().style.cursor=""})),{unclusteredLayerId:i}}function N(e,t,n,{showCluster:r=!0,clusterOptions:o={},unclusteredOptions:i={},autoFit:a=!0}={},s){var c,u;if(!n||"function"!=typeof n.addSource||"function"!=typeof n.addLayer)throw new Error("Please use a maplibre map");const d=m(t),f=e;let p,h;n.addSource(f,{type:"geojson",data:{type:"FeatureCollection",features:d},cluster:r,clusterMaxZoom:null!==(c=o.clusterMaxZoom)&&void 0!==c?c:14,clusterRadius:null!==(u=o.smCircleSize)&&void 0!==u?u:60,generateId:!0}),r&&({clusterLayerId:p,clusterSymbolLayerId:h}=function(e,t,{fillColor:n=S,smCircleSize:r=60,smThreshold:o=50,mdCircleSize:i=100,mdThreshold:a=100,lgCircleSize:s=140,lgThreshold:c=500,xlCircleSize:u=180,borderWidth:d=4,borderColor:f=w,clusterPaint:p,onClick:h,showCount:m,clusterCountLayout:g,fontColor:v=w},y){const b=`${e}-layer-clusters`,_=`${e}-layer-cluster-count`,x=Object.assign({"circle-color":["step",["get","point_count"],n,o,n,a,n,c,n],"circle-radius":["step",["get","point_count"],r,o,i,a,s,c,u],"circle-stroke-width":d,"circle-stroke-color":f},p),E={id:b,type:"circle",source:e,filter:["has","point_count"],paint:x};if(t.addLayer(Object.assign({},E)),t.on("click",b,(function(n){"function"==typeof h&&h(n);const r=t.queryRenderedFeatures(n.point,{layers:[b]}),o=r[0].properties.cluster_id,i=t.getSource(e);(function(e){return"geojson"===e.type})(i)&&i.getClusterExpansionZoom(o,(function(e,n){e||t.easeTo({center:r[0].geometry.coordinates,zoom:n})}))})),m){const n={"text-field":"{point_count_abbreviated}","text-size":24},r=y||l.l.getDefaultMap().style;r&&(n["text-font"]=[I[r]]);const o=Object.assign(Object.assign({},n),g),i={id:_,type:"symbol",source:e,filter:["has","point_count"],layout:o,paint:{"text-color":v}};t.addLayer(Object.assign({},i))}return{clusterLayerId:b,clusterSymbolLayerId:_}}(f,n,o,s));const{unclusteredLayerId:g}=M(f,n,i||{});if(a){const e=n.getBounds();d.forEach((function(t){e.extend(t.geometry.coordinates)})),n.fitBounds(e)}return{sourceId:f,unclusteredLayerId:g,clusterLayerId:p,clusterSymbolLayerId:h,setData:e=>{const t=m(e);n.getSource(f).setData({type:"FeatureCollection",features:t})},show:()=>{n.setLayoutProperty(g,"visibility","visible"),p&&n.setLayoutProperty(p,"visibility","visible"),h&&n.setLayoutProperty(h,"visibility","visible")},hide:()=>{n.setLayoutProperty(g,"visibility","none"),p&&n.setLayoutProperty(p,"visibility","none"),h&&n.setLayoutProperty(h,"visibility","none")}}}var L=n(606),R=n.n(L);function D(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path"),n=document.createElement("circle");return e.setAttribute("viewBox","0 0 64 64"),e.setAttribute("width","32"),e.setAttribute("height","32"),t.setAttribute("d",A),t.setAttribute("fill","#5d8aff"),n.setAttribute("fill","white"),n.setAttribute("cx","50%"),n.setAttribute("cy","50%"),n.setAttribute("r","5"),e.appendChild(n),e.appendChild(t),e}var z=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const U={forwardGeocode:e=>z(void 0,void 0,void 0,(function*(){const t=[];try{const n=yield l.l.searchByText(e.query,{biasPosition:e.bbox?void 0:e.proximity,searchAreaConstraints:e.bbox,countries:e.countries,maxResults:e.limit});n&&n.forEach((e=>{const{geometry:n}=e,r=F(e,["geometry"]);t.push({type:"Feature",geometry:{type:"Point",coordinates:n.point},properties:Object.assign({},r),place_name:r.label,text:r.label,center:n.point})}))}catch(e){console.error(`Failed to forwardGeocode with error: ${e}`)}return{features:t}})),reverseGeocode:e=>z(void 0,void 0,void 0,(function*(){const t=[];try{const n=yield l.l.searchByCoordinates(e.query,{maxResults:e.limit});if(n&&n.geometry){const{geometry:e}=n,r=F(n,["geometry"]);t.push({type:"Feature",geometry:{type:"Point",coordinates:e.point},properties:Object.assign({},r),place_name:r.label,text:r.label,center:e.point})}}catch(e){console.error(`Failed to reverseGeocode with error: ${e}`)}return{features:t}})),getSuggestions:e=>z(void 0,void 0,void 0,(function*(){const t=[];try{const n=yield l.l.searchForSuggestions(e.query,{biasPosition:e.proximity,searchAreaConstraints:e.bbox,countries:e.countries,maxResults:e.limit});t.push(...n)}catch(e){console.error(`Failed to get suggestions with error: ${e}`)}return{suggestions:t}})),searchByPlaceId:e=>z(void 0,void 0,void 0,(function*(){let t;try{const n=yield l.l.searchByPlaceId(e.query);if(n){const{geometry:e}=n,r=F(n,["geometry"]);t={type:"Feature",geometry:{type:"Point",coordinates:e.point},properties:Object.assign({},r),place_name:r.label,text:r.label,center:e.point}}}catch(e){console.error(`Failed to get place with error: ${e}`)}return{place:t}}))};function j(e){return new(R())(U,Object.assign({maplibregl:u(),showResultMarkers:{element:D()},marker:{element:D()},showResultsWhileTyping:null==e?void 0:e.autocomplete},e))}var B=n(1449),V=n(36987);function G(e,t,n){if(void 0===n&&(n={}),!0===n.final)return function(e,t){var n=G(t,e);return(n+180)%360}(e,t);var r=(0,V.c9)(e),o=(0,V.c9)(t),i=(0,B.Ht)(r[0]),a=(0,B.Ht)(o[0]),s=(0,B.Ht)(r[1]),l=(0,B.Ht)(o[1]),c=Math.sin(a-i)*Math.cos(l),u=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-i);return(0,B.vi)(Math.atan2(c,u))}function q(e,t,n,r){void 0===r&&(r={});var o=(0,V.c9)(e),i=(0,B.Ht)(o[0]),a=(0,B.Ht)(o[1]),s=(0,B.Ht)(n),l=(0,B.lF)(t,r.units),c=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(s)),u=i+Math.atan2(Math.sin(s)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(c)),d=(0,B.vi)(u),f=(0,B.vi)(c);return(0,B.xm)([d,f],r.properties)}const H=function(e,t,n){void 0===n&&(n={});var r=(0,V.c9)(e),o=(0,V.c9)(t),i=(0,B.Ht)(o[1]-r[1]),a=(0,B.Ht)(o[0]-r[0]),s=(0,B.Ht)(r[1]),l=(0,B.Ht)(o[1]),c=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(l);return(0,B.DL)(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),n.units)};function W(e,t,n){void 0===n&&(n={});for(var r=(0,V.wA)(e).coordinates,o=0,i=0;i<r.length&&!(t>=o&&i===r.length-1);i++){if(o>=t){var a=t-o;if(a){var s=G(r[i],r[i-1])-180;return q(r[i],a,s,n)}return(0,B.xm)(r[i])}o+=H(r[i],r[i+1],n)}return(0,B.xm)(r[r.length-1])}const K=function(e,t,n){void 0===n&&(n={});for(var r=n.steps||64,o=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},i=[],a=0;a<r;a++)i.push(q(e,t,-360*a/r,n).geometry.coordinates);return i.push(i[0]),(0,B.yu)([i],o)};function $(e,t,n){if(null!==e)for(var r,o,i,a,s,l,c,u,d=0,f=0,p=e.type,h="FeatureCollection"===p,m="Feature"===p,g=h?e.features.length:1,v=0;v<g;v++){s=(u=!!(c=h?e.features[v].geometry:m?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var y=0;y<s;y++){var b=0,_=0;if(null!==(a=u?c.geometries[y]:c)){l=a.coordinates;var w=a.type;switch(d=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(l,f,v,b,_))return!1;f++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],f,v,b,_))return!1;f++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(o=0;o<l[r].length-d;o++){if(!1===t(l[r][o],f,v,b,_))return!1;f++}"MultiLineString"===w&&b++,"Polygon"===w&&_++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(_=0,o=0;o<l[r].length;o++){for(i=0;i<l[r][o].length-d;i++){if(!1===t(l[r][o][i],f,v,b,_))return!1;f++}_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===$(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Z(e,t){!function(e,t){var n,r,o,i,a,s,l,c,u,d,f=0,p="FeatureCollection"===e.type,h="Feature"===e.type,m=p?e.features.length:1;for(n=0;n<m;n++){for(s=p?e.features[n].geometry:h?e.geometry:e,c=p?e.features[n].properties:h?e.properties:{},u=p?e.features[n].bbox:h?e.bbox:void 0,d=p?e.features[n].id:h?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,c,u,d))return!1;break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)if(!1===t(i.geometries[r],f,c,u,d))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,u,d))return!1;f++}}(e,(function(e,n,r,o,i){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t((0,B.zL)(e,r,{bbox:o,id:i}),n,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<e.coordinates.length;l++){var c={type:a,coordinates:e.coordinates[l]};if(!1===t((0,B.zL)(c,r),n,l))return!1}}))}function Y(e,t,n){var r=n,o=!1;return function(e,t){Z(e,(function(e,n,r){var o=0;if(e.geometry){var i=e.geometry.type;if("Point"!==i&&"MultiPoint"!==i){var a,s=0,l=0,c=0;return!1!==$(e,(function(i,u,d,f,p){if(void 0===a||n>s||f>l||p>c)return a=i,s=n,l=f,c=p,void(o=0);var h=(0,B.Tu)([a,i],e.properties);if(!1===t(h,n,r,p,o))return!1;o++,a=i}))&&void 0}}}))}(e,(function(e,i,a,s,l){r=!1===o&&void 0===n?e:t(r,e,i,a,s,l),o=!0})),r}function J(e,t){return void 0===t&&(t={}),Y(e,(function(e,n){var r=n.geometry.coordinates;return e+H(r[0],r[1],t)}),0)}const X=/^[-._\p{L}\p{N}]+$/iu,Q=e=>({type:"Feature",geometry:{type:"MultiPolygon",coordinates:p(e)?e.map((e=>e.geometry.polygon)):e},properties:{}}),ee=e=>({type:"Feature",geometry:{type:"Polygon",coordinates:e},properties:{}}),te=e=>{const t=e.getSouthWest().toArray(),n=e.getNorthEast().toArray(),r=e.getCenter().toArray();return J((0,B.Tu)([t,r,n]),{units:"miles"})},ne=(e,t)=>((e,t)=>!!t[e])(e,t);function re(e,t,n,r={}){var o,i,a,s,l,c,u,d,h,m;if(!n||"function"!=typeof n.addSource||"function"!=typeof n.addLayer)throw new Error("Please use a maplibre map");if(t.length>0&&!p(t)&&(h=t,!(Array.isArray(h)&&(m=h[0],Array.isArray(m)&&f(m[0])))))throw new Error("Please pass in an array of Geofences or an array of Polygons");const g=`${e}`;n.addSource(g,{type:"geojson",data:Q(t),generateId:!0});const v=null===(o=r.visible)||void 0===o||o?"visible":"none",y=`${e}-fill-layer`;n.addLayer({id:y,type:"fill",source:g,layout:{visibility:v},paint:{"fill-color":null!==(i=r.fillColor)&&void 0!==i?i:x,"fill-opacity":null!==(a=r.fillOpacity)&&void 0!==a?a:.3}});const b=`${e}-outline-layer`;return n.addLayer({id:b,type:"line",source:g,layout:{visibility:v},paint:{"line-color":null!==(s=r.borderColor)&&void 0!==s?s:x,"line-opacity":null!==(l=r.borderOpacity)&&void 0!==l?l:.5,"line-width":null!==(c=r.borderWidth)&&void 0!==c?c:4,"line-offset":null!==(u=r.borderOffset)&&void 0!==u?u:(null!==(d=r.borderWidth)&&void 0!==d?d:4)/2*-1}}),{sourceId:g,outlineLayerId:b,fillLayerId:y,show:()=>{n.setLayoutProperty(y,"visibility","visible"),n.setLayoutProperty(b,"visibility","visible")},hide:()=>{n.setLayoutProperty(y,"visibility","none"),n.setLayoutProperty(b,"visibility","none")},isVisible:()=>"visible"===n.getLayoutProperty(y,"visibility"),setData:e=>{n.getSource(g).setData(e)}}}var oe=n(20296),ie=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};var ae=n(1307),se=n.n(ae),le=n(44183);class ce{constructor(e,t){this._mapBoxDraw=new(se())({displayControlsDefault:!1,defaultMode:"simple_select",userProperties:!0,controls:{trash:!0},modes:Object.assign(Object.assign({},se().modes),{draw_circle:le.CircleMode,direct_select:le.DirectMode,simple_select:le.SimpleSelectMode}),styles:[{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":E,"fill-outline-color":E,"fill-opacity":.3}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":5,"circle-color":k}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":C,"line-width":4}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":8,"circle-color":k,"circle-stroke-color":C,"circle-stroke-width":1}}]}),this._map=e,this._ui=t,this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.drawPolygonGeofence=this.drawPolygonGeofence.bind(this)}get(e){return this._mapBoxDraw.get(e)}add(e){const t=e.properties.isCircle;this.enable(t),this._mapBoxDraw.add(e),this._mapBoxDraw.changeMode("direct_select",{featureId:e.id})}delete(e){this._mapBoxDraw.delete(e)}disable(){this._map.hasControl(this._mapBoxDraw)&&this._map.removeControl(this._mapBoxDraw),this._ui.removeGeofenceCreateContainer()}enable(e){this._map.hasControl(this._mapBoxDraw)||(this._map.addControl(this._mapBoxDraw,"bottom-right"),this._ui.createGeofenceCreateContainer(e))}drawPolygonGeofence(e){const t=((e,t)=>{const n=t.getSouthWest().toArray(),r=t.getNorthEast().toArray(),o=t.getCenter().toArray(),i=(0,B.Tu)([n,o,r]),a=J(i,{units:"miles"}),s=W(i,a/4,{units:"miles"}).geometry.coordinates,l=W(i,a*(3/4),{units:"miles"}).geometry.coordinates;return{id:e,type:"Feature",geometry:{type:"Polygon",coordinates:[[l,[s[0],l[1]],s,[l[0],s[1]],l]]},properties:{}}})(e,this._map.getBounds());this.add(t)}drawCircularGeofence(e,t){const n=this._map.getBounds(),r=((e,t,{bounds:n,radius:r})=>{if(!n&&!r)throw new Error("Circle requires a bounds or a radius");!function(e){const[t,n]=e;if(!Number.isFinite(t)||!Number.isFinite(n))throw new Error(`Invalid coordinates: [${t},${n}]`);if(n<-90||n>90){const e="Latitude must be between -90 and 90 degrees inclusive.";throw console.warn(e),new Error(e)}if(t<-180||t>180){const e="Longitude must be between -180 and 180 degrees inclusive.";throw console.warn(e),new Error(e)}}(t);const o=null!=r?r:te(n)/8;return{id:e,type:"Feature",properties:{isCircle:!0,center:t,radius:o},geometry:{type:"Polygon",coordinates:K(t,o,{units:"miles"}).geometry.coordinates}}})(e,this._map.getCenter().toArray(),{bounds:n,radius:t});this.add(r),this._ui.updateGeofenceRadius(t||r.properties.radius.toFixed(2))}}var ue=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};const de={left:240};class fe{constructor(e){this._geofenceCollectionId=null==e?void 0:e.geofenceCollectionId,this._loadedGeofences={},this._displayedGeofences=[],this.changeMode=this.changeMode.bind(this),this.loadInitialGeofences=this.loadInitialGeofences.bind(this),this.loadMoreGeofences=this.loadMoreGeofences.bind(this),this._loadGeofence=this._loadGeofence.bind(this),this.updateInputRadius=this.updateInputRadius.bind(this),this.saveGeofence=this.saveGeofence.bind(this),this.editGeofence=this.editGeofence.bind(this),this.deleteGeofence=this.deleteGeofence.bind(this),this.displayAllGeofences=this.displayAllGeofences.bind(this),this.hideAllGeofences=this.hideAllGeofences.bind(this),this.addEditableGeofence=this.addEditableGeofence.bind(this),this.setEditingModeEnabled=this.setEditingModeEnabled.bind(this),this.displayHighlightedGeofence=this.displayHighlightedGeofence.bind(this),this.hideHighlightedGeofence=this.hideHighlightedGeofence.bind(this),this.displayGeofence=this.displayGeofence.bind(this),this.hideGeofence=this.hideGeofence.bind(this),this.fitGeofence=this.fitGeofence.bind(this),this.fitAllGeofences=this.fitAllGeofences.bind(this)}getDefaultPosition(){return"full-screen"}onRemove(){this._ui.removeElement(this._container)}reorderMapLibreClassNames(){const e=document.getElementsByClassName("maplibregl-canvas").item(0);e&&(e.className="mapboxgl-canvas maplibregl-canvas")}onAdd(e){return this._map=e,this.reorderMapLibreClassNames(),this._container=g("div","geofence-ctrl maplibregl-ctrl"),this._ui=function(e,t){let n,r,o,i,a,s,l,c,u,d,f,p,h,m;function y(t){d=g("div","geofence-ctrl-create-circle-mode-container",t),g("div","geofence-ctrl-create-circle-mode-title",d).innerHTML="Radius",m=g("input","geofence-ctrl-create-circle-mode-input",d),m.addEventListener("keydown",(0,oe.debounce)(e.updateInputRadius,200))}function b(t){f=g("div","geofence-ctrl-create-polygon-mode-container",t);const n=g("div","geofence-ctrl-create-polygon-mode-info-container",f),r=g("div","geofence-ctrl-create-polygon-mode-icon",n);g("div","geofence-ctrl-create-polygon-mode-info-icon",r).innerHTML="i",g("div","geofence-ctrl-create-polygon-mode-title",n).innerHTML="How it works?";const o=g("div","geofence-ctrl-create-polygon-mode-reset-button geofence-ctrl-button",f);o.innerHTML="Reset",o.addEventListener("click",(()=>{e.resetGeofence()}));const i=function(e){const t=g("div","geofence-ctrl-create-polygon-mode-popup-container",e),n=g("div","geofence-ctrl-create-polygon-mode-popup",t);return _(n,"Move dots to desired position",function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 38 38"),e.setAttribute("width","38"),e.setAttribute("height","38"),e.setAttribute("fill","none");const t=document.createElementNS("http://www.w3.org/2000/svg","circle");t.setAttribute("cx","19"),t.setAttribute("cy","18"),t.setAttribute("r","8"),t.setAttribute("fill","#FF9900");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M19 0L23.3302 7.5H14.6699L19 0Z"),n.setAttribute("fill","#003560");const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d","M19 36.5L14.6698 29H23.3301L19 36.5Z"),r.setAttribute("fill","#003560");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d","M0 18.33L7.5 13.9999L7.5 22.6602L0 18.33Z"),o.setAttribute("fill","#003560");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d","M37.5 18.3301L30 22.6603V14L37.5 18.3301Z"),i.setAttribute("fill","#003560"),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(o),e.appendChild(i),e}()),_(n,"Click on a border to create a dot",function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 42 27"),e.setAttribute("width","42"),e.setAttribute("height","27"),e.setAttribute("fill","none");const t=document.createElementNS("http://www.w3.org/2000/svg","line");t.setAttribute("y1","8"),t.setAttribute("x2","42"),t.setAttribute("y2","8"),t.setAttribute("stroke","black"),t.setAttribute("stroke-width","2");const n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx","21"),n.setAttribute("cy","8"),n.setAttribute("r","8"),n.setAttribute("fill","#FF9900");const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d","M21 6.17822V22.488L24.6951 19.4356L27.172 26.1782L29.0399 25.3582L26.6035 18.57L31.4762 17.9322L21 6.17822Z"),r.setAttribute("fill","#003560"),e.appendChild(t),e.appendChild(n),e.appendChild(r),e}()),_(n,"Click into shape to move",function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 32 32"),e.setAttribute("width","32"),e.setAttribute("height","32"),e.setAttribute("fill","none");const t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("y","1"),t.setAttribute("x","1"),t.setAttribute("width","30"),t.setAttribute("height","30"),t.setAttribute("fill","#2196F3"),t.setAttribute("fill-opacity","0.4"),t.setAttribute("stroke","#003560"),t.setAttribute("stroke-width","2");const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M11 6V22.3098L14.6951 19.2574L17.172 26L19.0399 25.18L16.6035 18.3918L21.4762 17.754L11 6Z"),n.setAttribute("fill","#003560"),e.appendChild(t),e.appendChild(n),e}()),_(n,"Press delete to remove a dot",function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 64 20"),e.setAttribute("width","64"),e.setAttribute("height","20"),e.setAttribute("fill","none");const t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("y","0.5"),t.setAttribute("x","0.5"),t.setAttribute("width","63"),t.setAttribute("height","19"),t.setAttribute("rx","3.5"),t.setAttribute("stroke","#014478");const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M14.4148 15C17.517 15 19.3118 13.076 19.3118 9.89418C19.3118 6.72727 17.517 4.81818 14.5192 4.81818H11.1186V15H14.4148ZM12.6548 13.6577V6.16051H14.4247C16.652 6.16051 17.8004 7.4929 17.8004 9.89418C17.8004 12.3054 16.652 13.6577 14.3303 13.6577H12.6548ZM24.394 15.1541C26.0595 15.1541 27.2377 14.3338 27.5758 13.0909L26.1689 12.8374C25.9004 13.5582 25.2541 13.9261 24.4089 13.9261C23.1362 13.9261 22.2811 13.1009 22.2413 11.6293H27.6703V11.1023C27.6703 8.34304 26.0197 7.2642 24.2896 7.2642C22.1618 7.2642 20.7598 8.88494 20.7598 11.2315C20.7598 13.603 22.1419 15.1541 24.394 15.1541ZM22.2463 10.5156C22.3059 9.43182 23.0914 8.49219 24.2995 8.49219C25.4529 8.49219 26.2086 9.3473 26.2136 10.5156H22.2463ZM30.8061 4.81818H29.3196V15H30.8061V4.81818ZM36.0971 15.1541C37.7626 15.1541 38.9409 14.3338 39.2789 13.0909L37.872 12.8374C37.6035 13.5582 36.9572 13.9261 36.112 13.9261C34.8393 13.9261 33.9842 13.1009 33.9444 11.6293H39.3734V11.1023C39.3734 8.34304 37.7228 7.2642 35.9927 7.2642C33.8649 7.2642 32.4629 8.88494 32.4629 11.2315C32.4629 13.603 33.845 15.1541 36.0971 15.1541ZM33.9494 10.5156C34.0091 9.43182 34.7946 8.49219 36.0027 8.49219C37.1561 8.49219 37.9118 9.3473 37.9167 10.5156H33.9494ZM44.5874 7.36364H43.0213V5.53409H41.5348V7.36364H40.4162V8.55682H41.5348V13.0661C41.5298 14.4531 42.5888 15.1243 43.7621 15.0994C44.2344 15.0945 44.5526 15.005 44.7266 14.9403L44.4581 13.7124C44.3587 13.7322 44.1747 13.777 43.9361 13.777C43.4538 13.777 43.0213 13.6179 43.0213 12.7578V8.55682H44.5874V7.36364ZM49.4409 15.1541C51.1064 15.1541 52.2846 14.3338 52.6227 13.0909L51.2157 12.8374C50.9473 13.5582 50.301 13.9261 49.4558 13.9261C48.1831 13.9261 47.3279 13.1009 47.2882 11.6293H52.7172V11.1023C52.7172 8.34304 51.0666 7.2642 49.3365 7.2642C47.2086 7.2642 45.8066 8.88494 45.8066 11.2315C45.8066 13.603 47.1887 15.1541 49.4409 15.1541ZM47.2931 10.5156C47.3528 9.43182 48.1383 8.49219 49.3464 8.49219C50.4998 8.49219 51.2555 9.3473 51.2605 10.5156H47.2931Z"),n.setAttribute("fill","black"),e.appendChild(t),e.appendChild(n),e}()),n}(r);n.addEventListener("click",(()=>{i.classList.toggle("show")}))}function _(e,t,n){const r=g("div","geofence-ctrl-create-polygon-mode-popup-step",e);g("div","geofence-ctrl-create-polygon-mode-popup-step-image",r).appendChild(n),g("div","geofence-ctrl-create-polygon-mode-popup-step-text",r).innerHTML=t}function w(){v(n),x(),u.style.display="flex"}function x(){h&&(v(h),h=void 0)}return{registerControlPosition:function(e,t){if(e._controlPositions[t])return;const n=document.createElement("div");n.className=`maplibregl-ctrl-${t}`,e._controlContainer.appendChild(n),e._controlPositions[t]=n},createElement:g,removeElement:v,createGeofenceCreateContainer:function(n){const r=g("div","geofence-ctrl-create-prompt-container",t);if(s=g("div","geofence-ctrl-create-prompt",r),n){const t=g("div","geofence-ctrl-create-prompt-buttons",s),n=g("div","geofence-ctrl-create-prompt-button-circle geofence-ctrl-create-prompt-button",t);n.addEventListener("click",(()=>{n.classList.add("geofence-ctrl-create-prompt-selected"),r.classList.remove("geofence-ctrl-create-prompt-selected"),f&&(v(f),f=void 0),d||y(s),e.changeMode("draw_circle")})),n.innerHTML="Circle";const r=g("div","geofence-ctrl-create-prompt-button-polygon geofence-ctrl-create-prompt-button",t);r.addEventListener("click",(()=>{e.changeMode("draw_polygon"),r.classList.add("geofence-ctrl-create-prompt-selected"),n.classList.remove("geofence-ctrl-create-prompt-selected"),d&&(v(d),d=void 0),f||b(s)})),r.innerHTML="Custom",n.classList.add("geofence-ctrl-create-prompt-selected"),y(s)}else b(s)},createGeofenceListContainer:function(){const r=g("div","geofence-ctrl-list-container",t);!function(t){const r=g("div","geofence-ctrl-list-header",t);l=g("div","geofence-ctrl-list-header-title",r),l.innerHTML="Geofences (0)",c=g("div","geofence-ctrl-list-header-checkbox-create-container",r),function(t){u=g("div","geofence-ctrl-list-checkbox-all-container",t),i=g("input","geofence-ctrl-list-checkbox-all",u),i.type="checkbox",i.addEventListener("click",(function(){i.checked?(e.displayAllGeofences(),r.innerHTML="Deselect All"):(e.hideAllGeofences(),r.innerHTML="Select All")}));const r=g("div","geofence-ctrl-list-checkbox-all-title",u);r.innerHTML="Select all",o=g("div","geofence-ctrl-list-header-add-button",u),o.innerHTML="+ Add",o.addEventListener("click",(()=>{!function(){u.style.display="none",n=g("div","geofence-ctrl-add-geofence-container",c);const t=g("div","geofence-ctrl-add-geofence",n),r=g("input","geofence-ctrl-add-geofence-input",t);r.placeholder="Enter name";const o=g("div","geofence-ctrl-add-geofence-buttons",t),i=g("div","geofence-ctrl-add-geofence-cancel-button geofence-ctrl-button ",o);i.innerHTML="Cancel",i.addEventListener("click",(()=>{w(),e.setEditingModeEnabled(!1)}));const a=g("div","geofence-ctrl-button geofence-ctrl-save-button",o);a.innerHTML="Save",a.addEventListener("click",(function(){return ie(this,void 0,void 0,(function*(){x(),(yield e.createGeofence(escape(r.value)))&&w()}))})),e.addEditableGeofence()}()}))}(c)}(r),a=g("div","geofence-ctrl-list",r),a.addEventListener("scroll",(()=>{const{scrollHeight:t,scrollTop:n,clientHeight:r}=a;n+r>=t-20&&e.loadMoreGeofences()}))},removeAddGeofenceContainer:w,createAddGeofencePromptError:function(e){h||(h=g("div","geofence-ctrl-add-geofence-error",n),g("div","geofence-ctrl-add-geofence-error-icon",h).appendChild(function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 12 10"),e.setAttribute("width","12"),e.setAttribute("height","10"),e.setAttribute("fill","none");const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M0 10H11.5789L5.78947 0L0 10ZM6.31579 8.42105H5.26316V7.36842H6.31579V8.42105ZM6.31579 6.31579H5.26316V4.21053H6.31579V6.31579Z"),t.setAttribute("fill","#FF5050"),e.appendChild(t),e}()),g("div","geofence-ctrl-add-geofence-error-text",h).innerHTML=e)},renderListItem:function(n){const o=g("li","geofence-ctrl-list-item-container",a);o.id=`list-item-${n.geofenceId}`;const i=g("li","geofence-ctrl-list-item",o),s=g("div","geofence-ctrl-list-item-left-container",i),l=g("input","geofence-ctrl-list-item-checkbox",s);l.id=`list-item-checkbox-${n.geofenceId}`,l.type="checkbox",l.addEventListener("click",(function(){l.checked?(e.displayGeofence(n.geofenceId),e.fitGeofence(n.geofenceId)):e.hideGeofence(n.geofenceId)}));const c=g("div","geofence-ctrl-list-item-right-container",i),u=g("div","geofence-ctrl-list-item-title-container",c);u.addEventListener("mouseover",(function(){e.displayHighlightedGeofence(n.geofenceId)})),u.addEventListener("mouseout",(function(){e.hideHighlightedGeofence()})),g("div","geofence-ctrl-list-item-title",u).innerHTML=n.geofenceId;const d=g("div","geofence-ctrl-edit-button",u);d.addEventListener("click",(function(){e.editGeofence(n.geofenceId),function(n,o,i,a){const s=g("div","geofence-ctrl-list-item-controls",o),l=function(n,o){const i=g("div","geofence-ctrl-delete-button",n);return i.classList.add("geofence-ctrl-button"),i.addEventListener("click",(function(){!function(n){r=g("div","geofence-ctrl-delete-prompt-container",t);const o=g("div","geofence-ctrl-delete-prompt",r);g("div","geofence-ctrl-delete-geofence-title",o).innerHTML=`Are you sure you want to delete <strong>${n}</strong>?`,function(n,o){const i=g("div","geofence-ctrl-delete-geofence-buttons",n),a=g("div","geofence-ctrl-delete-geofence-cancel-button",i);a.innerHTML="Cancel",a.addEventListener("click",(()=>{v(r)}));const s=g("div","geofence-ctrl-delete-geofence-confirm-button",i);s.innerHTML="Delete",s.addEventListener("click",(function(){return ie(this,void 0,void 0,(function*(){(yield e.deleteGeofence(o))&&(function(e){p=g("div","geofence-ctrl-delete-popdown-container",t);const n=g("div","geofence-ctrl-delete-popdown",p),r=g("div","geofence-ctrl-delete-popdown-close-button",p);r.appendChild(function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 12 12"),e.setAttribute("width","12"),e.setAttribute("height","12"),e.setAttribute("fill","none");const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M10.773 2.28762L9.71231 1.22696L6 4.93927L2.28769 1.22696L1.22703 2.28762L4.93934 5.99993L1.22703 9.71224L2.28769 10.7729L6 7.06059L9.71231 10.7729L10.773 9.71224L7.06066 5.99993L10.773 2.28762Z"),t.setAttribute("fill","white"),t.setAttribute("fill-rule","evenodd"),t.setAttribute("clip-rule","evenodd"),e.appendChild(t),e}()),r.addEventListener("click",(()=>{v(p)})),g("div","geofence-ctrl-delete-popdown-icon",n).appendChild(function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 12 12"),e.setAttribute("width","12"),e.setAttribute("height","12"),e.setAttribute("fill","none");const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M6 0C2.688 0 0 2.688 0 6C0 9.312 2.688 12 6 12C9.312 12 12 9.312 12 6C12 2.688 9.312 0 6 0ZM6 10.8C3.354 10.8 1.2 8.646 1.2 6C1.2 3.354 3.354 1.2 6 1.2C8.646 1.2 10.8 3.354 10.8 6C10.8 8.646 8.646 10.8 6 10.8ZM8.754 3.348L4.8 7.302L3.246 5.754L2.4 6.6L4.8 9L9.6 4.2L8.754 3.348Z"),t.setAttribute("fill","white"),e.appendChild(t),e}()),g("div","geofence-ctrl-delete-popdown-text",n).innerHTML="Geofence was deleted successfully"}(),v(r),e.setEditingModeEnabled(!1))}))}))}(o,n)}(o)})),i.appendChild(function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("viewBox","0 0 12 16"),e.setAttribute("width","12"),e.setAttribute("height","16"),e.setAttribute("fill","none"),t.setAttribute("d","M9.33317 5.5V13.8333H2.6665V5.5H9.33317ZM8.08317 0.5H3.9165L3.08317 1.33333H0.166504V3H11.8332V1.33333H8.9165L8.08317 0.5ZM10.9998 3.83333H0.999837V13.8333C0.999837 14.75 1.74984 15.5 2.6665 15.5H9.33317C10.2498 15.5 10.9998 14.75 10.9998 13.8333V3.83333Z"),t.setAttribute("fill","white"),e.appendChild(t),e}()),i}(i,a),c=()=>{n.classList.remove("geofence-ctrl-list-selected-item"),n.classList.add("geofence-ctrl-list-item"),v(s),v(l)},u=g("div","geofence-ctrl-cancel-button",s);u.classList.add("geofence-ctrl-button"),u.innerHTML="Cancel",u.addEventListener("click",(()=>{e.setEditingModeEnabled(!1),c()}));const d=g("div","geofence-ctrl-save-button geofence-ctrl-button",s);d.addEventListener("click",(()=>ie(this,void 0,void 0,(function*(){yield e.saveGeofence(),c()})))),d.title="Save",d.innerHTML="Save"}(i,c,s,n.geofenceId),i.classList.remove("geofence-ctrl-list-item"),i.classList.add("geofence-ctrl-list-selected-item")})),d.appendChild(function(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("viewBox","0 0 16 16"),e.setAttribute("width","16"),e.setAttribute("height","16"),e.setAttribute("fill","none"),t.setAttribute("d","M0.5 12.375V15.5H3.625L12.8417 6.28333L9.71667 3.15833L0.5 12.375ZM2.93333 13.8333H2.16667V13.0667L9.71667 5.51667L10.4833 6.28333L2.93333 13.8333ZM15.2583 2.69167L13.3083 0.741667C13.1417 0.575 12.9333 0.5 12.7167 0.5C12.5 0.5 12.2917 0.583333 12.1333 0.741667L10.6083 2.26667L13.7333 5.39167L15.2583 3.86667C15.5833 3.54167 15.5833 3.01667 15.2583 2.69167Z"),t.setAttribute("fill","white"),e.appendChild(t),e}())},updateCheckbox:function(e,t){const n=document.getElementById(`list-item-checkbox-${e}`);n&&(n.checked=t)},removeGeofenceListItem:function(e){v(document.getElementById(`list-item-${e}`))},setGeofenceListEnabled:function(e){i.disabled=!e,e?o.classList.remove("geofence-ctrl-noHover"):o.classList.add("geofence-ctrl-noHover");const t=document.getElementsByClassName("geofence-ctrl-list-item-checkbox");for(let n=0;n<t.length;n++)t.item(n).disabled=!e;const n=document.getElementsByClassName("geofence-ctrl-list-item-container");for(let t=0;t<n.length;t++)e?n.item(t).classList.remove("geofence-ctrl-noHover"):n.item(t).classList.add("geofence-ctrl-noHover")},getCheckboxAllValue:function(){return i.checked},removeGeofenceCreateContainer:function(){v(s),s=void 0,d=void 0,f=void 0},updateGeofenceCount:function(e){l.innerHTML=`Geofences (${e})`},updateGeofenceRadius:function(e){m&&(m.value=`${e}`)}}}(this,this._container),this._amplifyDraw=new ce(e,this._ui),this._ui.registerControlPosition(e,"full-screen"),this._ui.createGeofenceListContainer(),this._map.once("load",function(){this._map.getSource("displayedGeofences")||(this._drawGeofencesOutput=re("displayedGeofences",[],this._map,{fillColor:E,borderColor:C,borderOpacity:1}),this._highlightedGeofenceOutput=re("highlightedGeofence",[],this._map,{fillColor:E,borderColor:C,borderOpacity:1,borderWidth:6}),this.loadInitialGeofences(),e.addControl(new(u().NavigationControl)({showCompass:!1}),"bottom-right"))}.bind(this)),this._map.on("draw.update",(()=>{const e=this._amplifyDraw._mapBoxDraw.getAll().features[0].geometry.coordinates[0],t=(n=e[0],r=e[Math.floor(e.length/2)],J((0,B.Tu)([n,r]),{units:"miles"})/2);var n,r;this._ui.updateGeofenceRadius(t.toFixed(2))})),this._container}createGeofence(e){return ue(this,void 0,void 0,(function*(){if(e&&0!==e.length)if(e.match(X)){if(!ne(e,this._loadedGeofences))return this.saveGeofence(e);this._ui.createAddGeofencePromptError("Geofence ID already exists.")}else this._ui.createAddGeofencePromptError("Geofence ID contains special characters.");else this._ui.createAddGeofencePromptError("Geofence ID is empty.")}))}saveGeofence(e){return ue(this,void 0,void 0,(function*(){const t=this._amplifyDraw.get(this._editingGeofenceId),n=e||this._editingGeofenceId,r=yield l.l.saveGeofences({geofenceId:n,geometry:{polygon:t.geometry.coordinates}});if(r.errors[0]){const e=r.errors[0];throw new Error(`There was an error saving geofence with id ${n}: ${e.error.code} - ${e.error.message}`)}const o={geofenceId:r.successes[0].geofenceId,geometry:{polygon:t.geometry.coordinates}};return this._loadGeofence(o),this.displayGeofence(o.geofenceId),this.setEditingModeEnabled(!1),o.geofenceId}))}loadInitialGeofences(){return ue(this,void 0,void 0,(function*(){try{const{entries:e,nextToken:t}=yield l.l.listGeofences();this._listGeofencesNextToken=t;const n=this._loadGeofence;e.forEach((e=>n(e))),this._ui.updateGeofenceCount(Object.keys(this._loadedGeofences).length)}catch(e){throw new Error(`Error calling listGeofences: ${e}`)}}))}loadMoreGeofences(){return ue(this,void 0,void 0,(function*(){if(this._listGeofencesNextToken)try{const{entries:e,nextToken:t}=yield l.l.listGeofences({nextToken:this._listGeofencesNextToken});this._listGeofencesNextToken=t;const n=this._loadGeofence;e.forEach((e=>n(e))),this._ui.updateGeofenceCount(Object.keys(this._loadedGeofences).length)}catch(e){throw new Error(`Error calling listGeofences: ${e}`)}}))}editGeofence(e){this.setEditingModeEnabled(!0);const t=this._loadedGeofences[e];if(!t)throw new Error(`Geofence with id ${e} does not exist`);const n=ee(t.geometry.polygon),r=Object.assign({id:t.geofenceId},n);this._amplifyDraw.add(r),this._editingGeofenceId=t.geofenceId}deleteGeofence(e){return ue(this,void 0,void 0,(function*(){const t=yield l.l.deleteGeofences(e);if(t.errors[0]){const n=t.errors[0].error;throw new Error(`There was an error deleting geofence with id ${e}: ${n.code} - ${n.message}`)}return this._ui.removeGeofenceListItem(e),delete this._loadedGeofences[e],this._ui.updateGeofenceCount(Object.keys(this._loadedGeofences).length),this._displayedGeofences=this._displayedGeofences.filter((t=>t.geofenceId!==e)),this._updateDisplayedGeofences(),e}))}deleteSelectedGeofences(){this._displayedGeofences.map((e=>e.geofenceId)).forEach((e=>{this._ui.removeGeofenceListItem(e),delete this._loadedGeofences[e]})),this._displayedGeofences=[],this._updateDisplayedGeofences()}_loadGeofence(e){this._loadedGeofences[e.geofenceId]?this._displayedGeofences=this._displayedGeofences.filter((t=>t.geofenceId!==e.geofenceId)):this._ui.renderListItem(e),this._loadedGeofences[e.geofenceId]=e,this._ui.updateGeofenceCount(Object.keys(this._loadedGeofences).length)}displayGeofence(e){this._displayedGeofences.push(this._loadedGeofences[e]),this._updateDisplayedGeofences(),this._ui.updateCheckbox(e,!0),this.fitAllGeofences()}displayAllGeofences(){this._displayedGeofences.push(...Object.values(this._loadedGeofences)),this._updateDisplayedGeofences();const e=document.getElementsByClassName("geofence-ctrl-list-item-checkbox");Array.from(e).forEach((e=>e.checked=this._ui.getCheckboxAllValue())),this.fitAllGeofences()}fitGeofence(e){const t=this._map.getBounds();this._loadedGeofences[e].geometry.polygon[0].forEach((e=>{t.extend(e)})),this._map.fitBounds(t,{padding:de})}fitAllGeofences(){let e=!1;const t=this._map.getBounds();this._displayedGeofences.forEach((n=>{n.geometry.polygon[0].forEach((n=>{t.contains(n)||(t.extend(n),e=!0)}))})),e&&this._map.fitBounds(t,{padding:de})}hideGeofence(e){this._displayedGeofences=this._displayedGeofences.filter((t=>t.geofenceId!==e)),this._updateDisplayedGeofences(),this._ui.updateCheckbox(e,!1)}hideAllGeofences(){this._displayedGeofences=[],this._updateDisplayedGeofences();const e=document.getElementsByClassName("geofence-ctrl-list-item-checkbox");Array.from(e).forEach((e=>e.checked=this._ui.getCheckboxAllValue()))}_updateDisplayedGeofences(){const e=Q(this._displayedGeofences);this._drawGeofencesOutput.setData(e)}displayHighlightedGeofence(e){const t=this._loadedGeofences[e];if(!t)return void console.warn(`Geofence with id ${e} does not exist`);const n=ee(t.geometry.polygon);this._highlightedGeofenceOutput.setData(n),this._highlightedGeofenceOutput.show()}hideHighlightedGeofence(){this._highlightedGeofenceOutput.hide()}changeMode(e){this._amplifyDraw.delete(this._editingGeofenceId),"draw_circle"===e?this._amplifyDraw.drawCircularGeofence(this._editingGeofenceId):this._amplifyDraw.drawPolygonGeofence(this._editingGeofenceId)}resetGeofence(){this._amplifyDraw.delete(this._editingGeofenceId),ne(this._editingGeofenceId,this._loadedGeofences)?this.editGeofence(this._editingGeofenceId):this._amplifyDraw.drawPolygonGeofence(this._editingGeofenceId)}setEditingModeEnabled(e){e?this._amplifyDraw.enable():this._amplifyDraw.disable(),e?this._drawGeofencesOutput.hide():this._drawGeofencesOutput.show(),this._ui.setGeofenceListEnabled(!e)}updateInputRadius(e){const t=e.target.value,n=parseInt(t);isNaN(n)||this._amplifyDraw.drawCircularGeofence(this._editingGeofenceId,n)}addEditableGeofence(){this._editingGeofenceId="tempGeofence",this._amplifyDraw.drawCircularGeofence("tempGeofence"),this.setEditingModeEnabled(!0)}}},92592:(e,t,n)=>{const r=n(34474),o=n(95115),i=n(6907),a=n(93776);function s(e,t,n,i,a){const s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(n=t,t=i=void 0):2!==l||t.getContext||(i=n,n=t,t=void 0),new Promise((function(r,a){try{const a=o.create(n,i);r(e(a,t,i))}catch(e){a(e)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(a=n,n=t,t=i=void 0):3===l&&(t.getContext&&void 0===a?(a=i,i=void 0):(a=i,i=n,n=t,t=void 0));try{const r=o.create(n,i);a(null,e(r,t,i))}catch(e){a(e)}}t.create=o.create,t.toCanvas=s.bind(null,i.render),t.toDataURL=s.bind(null,i.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return a.render(e,n)}))},34474:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},21845:(e,t,n)=>{const r=n(10242).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),o=145===n?26:2*Math.ceil((n-13)/(2*t-2)),i=[n-7];for(let e=1;e<t-1;e++)i[e]=i[e-1]-o;return i.push(6),i.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),o=r.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||n.push([r[e],r[t]]);return n}},8260:(e,t,n)=>{const r=n(76910),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=r.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*o.indexOf(this.data[t]);n+=o.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},e.exports=i},97245:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},73280:e=>{function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){const o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},43424:(e,t,n)=>{const r=n(62378),o=n(76910);function i(e){this.mode=o.BYTE,this.data=new Uint8Array(r(e))}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=i},26245:(e,t,n)=>{const r=n(64908),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}}},64908:(e,t)=>{t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},76526:(e,t,n)=>{const r=n(10242).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},61642:(e,t,n)=>{const r=n(10242),o=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let i=n<<10;for(;r.getBCHDigit(i)-o>=0;)i^=1335<<r.getBCHDigit(i)-o;return 21522^(n<<10|i)}},69729:(e,t)=>{const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},35442:(e,t,n)=>{const r=n(76910),o=n(10242);function i(e){this.mode=r.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=o.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=i},27126:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let n=0,r=0,o=0,i=null,a=null;for(let s=0;s<t;s++){r=o=0,i=a=null;for(let l=0;l<t;l++){let t=e.get(s,l);t===i?r++:(r>=5&&(n+=r-5+3),i=t,r=1),t=e.get(l,s),t===a?o++:(o>=5&&(n+=o-5+3),a=t,o=1)}r>=5&&(n+=r-5+3),o>=5&&(n+=o-5+3)}return n},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){const t=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==t&&0!==t||n++}return 3*n},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,o=0;for(let i=0;i<t;i++){r=o=0;for(let a=0;a<t;a++)r=r<<1&2047|e.get(i,a),a>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(a,i),a>=10&&(1488===o||93===o)&&n++}return 40*n},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(e,t){const r=t.size;for(let o=0;o<r;o++)for(let i=0;i<r;i++)t.isReserved(i,o)||t.xor(i,o,n(e,i,o))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let o=0,i=1/0;for(let a=0;a<r;a++){n(a),t.applyMask(a,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),r<i&&(i=r,o=a)}return o}},76910:(e,t,n)=>{const r=n(43114),o=n(7007);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return o.testNumeric(e)?t.NUMERIC:o.testAlphanumeric(e)?t.ALPHANUMERIC:o.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},41085:(e,t,n)=>{const r=n(76910);function o(e){this.mode=r.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*o+1))},e.exports=o},26143:(e,t,n)=>{const r=n(69729);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let o=0;o<e.length;o++)for(let i=0;i<t.length;i++)n[o+i]^=r.mul(e[o],t[i]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let o=0;o<t.length;o++)n[o]^=r.mul(t[o],e);let o=0;for(;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let o=0;o<e;o++)n=t.mul(n,new Uint8Array([1,r.exp(o)]));return n}},95115:(e,t,n)=>{const r=n(10242),o=n(64908),i=n(97245),a=n(73280),s=n(21845),l=n(76526),c=n(27126),u=n(26245),d=n(52882),f=n(23103),p=n(61642),h=n(76910),m=n(16130);function g(e,t,n){const r=e.size,o=p.getEncodedBits(t,n);let i,a;for(i=0;i<15;i++)a=1==(o>>i&1),i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(r-15+i,8,a,!0),i<8?e.set(8,r-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(r-8,8,1,!0)}function v(e,t,n,o){let p;if(Array.isArray(e))p=m.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=m.rawSplit(e);r=f.getBestVersionForData(t,n)}p=m.fromString(e,r||40)}}const v=f.getBestVersionForData(p,n);if(!v)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<v)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+v+".\n")}else t=v;const y=function(e,t,n){const o=new i;n.forEach((function(t){o.put(t.mode.bit,4),o.put(t.getLength(),h.getCharCountIndicator(t.mode,e)),t.write(o)}));const a=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const s=(a-o.getLengthInBits())/8;for(let e=0;e<s;e++)o.put(e%2?17:236,8);return function(e,t,n){const o=r.getSymbolTotalCodewords(t),i=o-u.getTotalCodewordsCount(t,n),a=u.getBlocksCount(t,n),s=a-o%a,l=Math.floor(o/a),c=Math.floor(i/a),f=c+1,p=l-c,h=new d(p);let m=0;const g=new Array(a),v=new Array(a);let y=0;const b=new Uint8Array(e.buffer);for(let e=0;e<a;e++){const t=e<s?c:f;g[e]=b.slice(m,m+t),v[e]=h.encode(g[e]),m+=t,y=Math.max(y,t)}const _=new Uint8Array(o);let w,x,S=0;for(w=0;w<y;w++)for(x=0;x<a;x++)w<g[x].length&&(_[S++]=g[x][w]);for(w=0;w<p;w++)for(x=0;x<a;x++)_[S++]=v[x][w];return _}(o,e,t)}(t,n,p),b=r.getSymbolSize(t),_=new a(b);return function(e,t){const n=e.size,r=l.getPositions(t);for(let t=0;t<r.length;t++){const o=r[t][0],i=r[t][1];for(let t=-1;t<=7;t++)if(!(o+t<=-1||n<=o+t))for(let r=-1;r<=7;r++)i+r<=-1||n<=i+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(o+t,i+r,!0,!0):e.set(o+t,i+r,!1,!0))}}(_,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(_),function(e,t){const n=s.getPositions(t);for(let t=0;t<n.length;t++){const r=n[t][0],o=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,o+n,!0,!0):e.set(r+t,o+n,!1,!0)}}(_,t),g(_,n,0),t>=7&&function(e,t){const n=e.size,r=f.getEncodedBits(t);let o,i,a;for(let t=0;t<18;t++)o=Math.floor(t/3),i=t%3+n-8-3,a=1==(r>>t&1),e.set(o,i,a,!0),e.set(i,o,a,!0)}(_,t),function(e,t){const n=e.size;let r=-1,o=n-1,i=7,a=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(o,s-n)){let r=!1;a<t.length&&(r=1==(t[a]>>>i&1)),e.set(o,s-n,r),i--,-1===i&&(a++,i=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}(_,y),isNaN(o)&&(o=c.getBestMask(_,g.bind(null,_,n))),c.applyMask(o,_),g(_,n,o),{modules:_,version:t,errorCorrectionLevel:n,maskPattern:o,segments:p}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,i,a=o.M;return void 0!==t&&(a=o.from(t.errorCorrectionLevel,o.M),n=f.from(t.version),i=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),v(e,n,a,i)}},52882:(e,t,n)=>{const r=n(26143);function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),o=this.degree-n.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(n,o),e}return n},e.exports=o},7007:(e,t)=>{const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+r+"$"),a=new RegExp("^"+n+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return i.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},16130:(e,t,n)=>{const r=n(76910),o=n(41085),i=n(8260),a=n(43424),s=n(35442),l=n(7007),c=n(10242),u=n(65987);function d(e){return unescape(encodeURIComponent(e)).length}function f(e,t,n){const r=[];let o;for(;null!==(o=e.exec(n));)r.push({data:o[0],index:o.index,mode:t,length:o[0].length});return r}function p(e){const t=f(l.NUMERIC,r.NUMERIC,e),n=f(l.ALPHANUMERIC,r.ALPHANUMERIC,e);let o,i;return c.isKanjiModeEnabled()?(o=f(l.BYTE,r.BYTE,e),i=f(l.KANJI,r.KANJI,e)):(o=f(l.BYTE_KANJI,r.BYTE,e),i=[]),t.concat(n,o,i).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,t){switch(t){case r.NUMERIC:return o.getBitsLength(e);case r.ALPHANUMERIC:return i.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return a.getBitsLength(e)}}function m(e,t){let n;const l=r.getBestModeForData(e);if(n=r.from(t,l),n!==r.BYTE&&n.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(l));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new o(e);case r.ALPHANUMERIC:return new i(e);case r.KANJI:return new s(e);case r.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e}),[])},t.fromString=function(e,n){const o=function(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n];switch(o.mode){case r.NUMERIC:t.push([o,{data:o.data,mode:r.ALPHANUMERIC,length:o.length},{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.ALPHANUMERIC:t.push([o,{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.KANJI:t.push([o,{data:o.data,mode:r.BYTE,length:d(o.data)}]);break;case r.BYTE:t.push([{data:o.data,mode:r.BYTE,length:d(o.data)}])}}return t}(p(e,c.isKanjiModeEnabled())),i=function(e,t){const n={},o={start:{}};let i=["start"];for(let a=0;a<e.length;a++){const s=e[a],l=[];for(let e=0;e<s.length;e++){const c=s[e],u=""+a+e;l.push(u),n[u]={node:c,lastCount:0},o[u]={};for(let e=0;e<i.length;e++){const a=i[e];n[a]&&n[a].node.mode===c.mode?(o[a][u]=h(n[a].lastCount+c.length,c.mode)-h(n[a].lastCount,c.mode),n[a].lastCount+=c.length):(n[a]&&(n[a].lastCount=c.length),o[a][u]=h(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,t))}}i=l}for(let e=0;e<i.length;e++)o[i[e]].end=0;return{map:o,table:n}}(o,n),a=u.find_path(i.map,"start","end"),s=[];for(let e=1;e<a.length-1;e++)s.push(i.table[a[e]].node);return t.fromArray(s.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[]))},t.rawSplit=function(e){return t.fromArray(p(e,c.isKanjiModeEnabled()))}},10242:(e,t)=>{let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},43114:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},23103:(e,t,n)=>{const r=n(10242),o=n(26245),i=n(64908),a=n(76910),s=n(43114),l=r.getBCHDigit(7973);function c(e,t){return a.getCharCountIndicator(e,t)+4}function u(e,t){let n=0;return e.forEach((function(e){const r=c(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);const i=8*(r.getSymbolTotalCodewords(e)-o.getTotalCodewordsCount(e,t));if(n===a.MIXED)return i;const l=i-c(n,e);switch(n){case a.NUMERIC:return Math.floor(l/10*3);case a.ALPHANUMERIC:return Math.floor(l/11*2);case a.KANJI:return Math.floor(l/13);case a.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,n){let r;const o=i.from(n,i.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(u(e,r)<=t.getCapacity(r,n,a.MIXED))return r}(e,o);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let o=1;o<=40;o++)if(n<=t.getCapacity(o,r,e))return o}(r.mode,r.getLength(),o)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-l>=0;)t^=7973<<r.getBCHDigit(t)-l;return e<<12|t}},6907:(e,t,n)=>{const r=n(89653);t.render=function(e,t,n){let o=n,i=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(i=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=r.getOptions(o);const a=r.getImageWidth(e.modules.size,o),s=i.getContext("2d"),l=s.createImageData(a,a);return r.qrToImageData(l.data,e,o),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,i,a),s.putImageData(l,0,0),i},t.renderToDataURL=function(e,n,r){let o=r;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});const i=t.render(e,n,o),a=o.type||"image/png",s=o.rendererOpts||{};return i.toDataURL(a,s.quality)}},93776:(e,t,n)=>{const r=n(89653);function o(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function i(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){const a=r.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*a.margin,u=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+o(a.color.dark,"stroke")+' d="'+function(e,t,n){let r="",o=0,a=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);c||a||(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(r+=a?i("M",c+n,.5+u+n):i("m",o,0),o=0,a=!1),c+1<t&&e[l+1]||(r+=i("h",s),s=0)):o++}return r}(l,s,a.margin)+'"/>',f='viewBox="0 0 '+c+" "+c+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,p),p}},89653:(e,t)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:r,scale:r?4:o,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const o=n.modules.size,i=n.modules.data,a=t.getScale(o,r),s=Math.floor((o+2*r.margin)*a),l=r.margin*a,c=[r.color.light,r.color.dark];for(let t=0;t<s;t++)for(let n=0;n<s;n++){let u=4*(t*s+n),d=r.color.light;t>=l&&n>=l&&t<s-l&&n<s-l&&(d=c[i[Math.floor((t-l)/a)*o+Math.floor((n-l)/a)]?1:0]),e[u++]=d.r,e[u++]=d.g,e[u++]=d.b,e[u]=d.a}}},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(n);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,f,p,h=e[c].replace(a,"%20"),m=h.indexOf(r);m>=0?(u=h.substr(0,m),d=h.substr(m+1)):(u=h,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),t(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[o]))})).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},17673:(e,t,n)=>{"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},61269:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}e.exports=t},64448:(e,t,n)=>{"use strict";var r=n(67294),o=n(63840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,z=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return j(e.type,!1);case 11:return j(e.type.render,!1);case 1:return j(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=_o(e)){if("function"!=typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ae(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Ie(),Ae())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ne=!1}function Re(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var De=!1,ze=null,Fe=!1,Ue=null,je={onError:function(e){De=!0,ze=e}};function Be(e,t,n,r,o,i,a,s,l){De=!1,ze=null,Re.apply(je,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(i(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return qe(o),e;if(a===r)return qe(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,$e=o.unstable_cancelCallback,Ze=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Je=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!=(i&=a)&&(r=dt(i))}else 0!=(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!=(4194240&i)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,Ct,kt=!1,At=[],Tt=null,It=null,Pt=null,Ot=new Map,Mt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=_o(t))&&xt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function zt(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_o(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){kt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),Ot.forEach(Ut),Mt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,jt)))}function Vt(e){function t(t){return Bt(t,e)}if(0<At.length){Bt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),Ot.forEach(t),Mt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)zt(n),null===n.blockedOn&&Nt.shift()}var Gt=_.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var o=bt,i=Gt.transition;Gt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=o,Gt.transition=i}}function Wt(e,t,n,r){var o=bt,i=Gt.transition;Gt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=o,Gt.transition=i}}function Kt(e,t,n,r){if(qt){var o=Zt(e,t,n,r);if(null===o)qr(e,t,r,$t,n),Rt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,o),!0;case"dragenter":return It=Dt(It,e,t,n,r,o),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Mt.set(i,Dt(Mt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=_o(o);if(null!==i&&wt(i),null===(i=Zt(e,t,n,r))&&qr(e,t,r,$t,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else qr(e,t,r,null,n)}}var $t=null;function Zt(e,t,n,r){if($t=null,null!==(e=bo(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Xt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=z({},cn,{view:0,detail:0}),fn=on(dn),pn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),mn=on(z({},pn,{dataTransfer:0})),gn=on(z({},dn,{relatedTarget:0})),vn=on(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(z({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var kn=z({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(kn),Tn=on(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=on(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(On),Nn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Rn,zn=u&&(!Ln||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function $n(e){Fr(e,0)}function Zn(e){if(K(wo(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"==typeof er.oninput}Xn=Qn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function ir(e,t){if("click"===e)return Zn(t)}function ar(e,t){if("input"===e||"change"===e)return Zn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==$(r)||(r="selectionStart"in(r=gr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Cr("animationend"),Ar=Cr("animationiteration"),Tr=Cr("animationstart"),Ir=Cr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Pr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Or.length;Nr++){var Lr=Or[Nr];Mr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Mr(kr,"onAnimationEnd"),Mr(Ar,"onAnimationIteration"),Mr(Tr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(i(198));var u=ze;De=!1,ze=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;zr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;zr(o,s,c),i=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Yt(t)){case 1:var o=Ht;break;case 4:o=Wt;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,o){var i=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=i,o=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case kr:case Ar:case Tr:l=vn;break;case Ir:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!=(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&null!=(m=Me(h,f))&&u.push(Hr(h,m,p))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:wo(l),p=null==c?s:wo(c),(s=new u(m,h+"leave",l,n,o)).target=d,s.relatedTarget=p,m=null,bo(o)===r&&((u=new u(f,h+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,h=0,p=u=l;p;p=Kr(p))h++;for(p=0,m=f;m;m=Kr(m))p++;for(;0<h-p;)u=Kr(u),h--;for(;0<p-h;)f=Kr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Kr(u),f=Kr(f)}u=null}else u=null;null!==l&&$r(a,s,l,u,!1),null!==c&&null!==d&&$r(a,d,c,u,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(qn(s))if(Jn)g=ar;else{g=or;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Hn(a,g,n,o):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wo(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(a,n,o)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Xt="value"in(Jt=o)?Jt.value:Jt.textContent,Vn=!0)),0<(v=Wr(r,b)).length&&(b=new _n(b,e,null,n,o),a.push({event:b,listeners:v}),(y||null!==(y=Bn(n)))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&jn(e,t)?(e=en(),Qt=Xt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(o=new _n("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y)}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Me(e,n))&&r.unshift(Hr(e,i,o)),null!=(i=Me(e,t))&&r.push(Hr(e,i,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Me(n,i))&&a.unshift(Hr(n,l,s)):o||null!=(l=Me(n,i))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"==typeof e?e:""+e).replace(Zr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,mo="__reactContainer$"+fo,go="__reactEvents$"+fo,vo="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function _o(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[ho]||null}var So=[],Eo=-1;function Co(e){return{current:e}}function ko(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Ao(e,t){Eo++,So[Eo]=e.current,e.current=t}var To={},Io=Co(To),Po=Co(!1),Oo=To;function Mo(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!=e.childContextTypes}function Lo(){ko(Po),ko(Io)}function Ro(e,t,n){if(Io.current!==To)throw Error(i(168));Ao(Io,t),Ao(Po,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,G(e)||"Unknown",o));return z({},n,r)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Oo=Io.current,Ao(Io,e),Ao(Po,Po.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,ko(Po),ko(Io),Ao(Io,e)):ko(Po),Ao(Po,n)}var Uo=null,jo=!1,Bo=!1;function Vo(e){null===Uo?Uo=[e]:Uo.push(e)}function Go(){if(!Bo&&null!==Uo){Bo=!0;var e=0,t=bt;try{var n=Uo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Uo=null,jo=!1}catch(t){throw null!==Uo&&(Uo=Uo.slice(e+1)),Ke(Qe,Go),t}finally{bt=t,Bo=!1}}return null}var qo=[],Ho=0,Wo=null,Ko=0,$o=[],Zo=0,Yo=null,Jo=1,Xo="";function Qo(e,t){qo[Ho++]=Ko,qo[Ho++]=Wo,Wo=e,Ko=t}function ei(e,t,n){$o[Zo++]=Jo,$o[Zo++]=Xo,$o[Zo++]=Yo,Yo=e;var r=Jo;e=Xo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Jo=1<<32-at(t)+o|n<<o|r,Xo=i+e}else Jo=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=qo[--Ho],qo[Ho]=null,Ko=qo[--Ho],qo[Ho]=null;for(;e===Yo;)Yo=$o[--Zo],$o[Zo]=null,Xo=$o[--Zo],$o[Zo]=null,Jo=$o[--Zo],$o[Zo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=_.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=Co(null),bi=null,_i=null,wi=null;function xi(){wi=_i=bi=null}function Si(e){var t=yi.current;ko(yi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){bi=e,wi=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(_s=!0),e.firstContext=null)}function ki(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===_i){if(null===bi)throw Error(i(308));_i=e,bi.dependencies={lanes:0,firstContext:e}}else _i=_i.next=e;return t}var Ai=null;function Ti(e){null===Ai?Ai=[e]:Ai.push(e)}function Ii(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ti(t)):(n.next=o.next,o.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ni(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Tl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Pi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ti(r)):(t.next=o.next,o.next=t),r.interleaved=t,Pi(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;Oi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=m.payload)?h.call(p,d,f):h))break e;d=z({},d,f);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var ji=(new r.Component).refs;function Bi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Li(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Ri(e,i,o))&&(nc(t,e,o,r),Di(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=Li(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Ri(e,i,o))&&(nc(t,e,o,r),Di(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=Li(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ri(e,o,r))&&(nc(t,e,r,n),Di(t,e,r))}};function Gi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function qi(e,t,n){var r=!1,o=To,i=t.contextType;return"object"==typeof i&&null!==i?i=ki(i):(o=No(t)?Oo:Io.current,i=(r=null!=(r=t.contextTypes))?Mo(e,o):To),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Hi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Wi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=ji,Mi(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=ki(i):(i=No(t)?Oo:Io.current,o.context=Mo(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(Bi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Vi.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Ki(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===ji&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function $i(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function Yi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===M&&Zi(i)===t.type)?((r=o(t,n.props)).ref=Ki(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ki(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ki(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;$i(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case x:return n.key===o?u(e,t,n,r):null;case M:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||R(n))return null!==o?null:d(e,t,n,r,null);$i(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case M:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,o,null);$i(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(o,d),ii&&Qo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Qo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(g=h(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Qo(o,m),c}function g(o,s,l,c){var u=R(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ii&&Qo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=f(o,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return ii&&Qo(o,g),u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=h(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Qo(o,g),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===M&&Zi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=Ki(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Rc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Ki(r,i,a),l.return=r,r=l)}return s(r);case x:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return s(r);case M:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(R(a))return g(r,i,a,l);$i(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=zc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Ji=Yi(!0),Xi=Yi(!1),Qi={},ea=Co(Qi),ta=Co(Qi),na=Co(Qi);function ra(e){if(e===Qi)throw Error(i(174));return e}function oa(e,t){switch(Ao(na,t),Ao(ta,e),Ao(ea,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ko(ea),Ao(ea,t)}function ia(){ko(ea),ko(ta),ko(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ao(ta,e),Ao(ea,n))}function sa(e){ta.current===e&&(ko(ea),ko(ta))}var la=Co(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var fa=_.ReactCurrentDispatcher,pa=_.ReactCurrentBatchConfig,ha=0,ma=null,ga=null,va=null,ya=!1,ba=!1,_a=0,wa=0;function xa(){throw Error(i(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,o,a){if(ha=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,o),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(i(301));a+=1,va=ga=null,t.updateQueue=null,fa.current=cs,e=n(r,o)}while(ba)}if(fa.current=as,t=null!==ga&&null!==ga.next,ha=0,va=ga=ma=null,ya=!1,t)throw Error(i(300));return e}function Ca(){var e=0!==_a;return _a=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Aa(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ta(e,t){return"function"==typeof t?t(e):t}function Ia(e){var t=Aa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ga,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ha&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,ma.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ma.lanes|=a,Dl|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Aa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Ma(e,t){var n=ma,r=Aa(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,_s=!0),r=r.queue,qa(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ua(9,La.bind(null,n,r,o,t),void 0,null),null===Il)throw Error(i(349));0!=(30&ha)||Na(n,t,o)}return o}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function La(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&za(e)}function Ra(e,t,n){return n((function(){Da(t)&&za(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function za(e){var t=Pi(e,1);null!==t&&nc(t,e,1,-1)}function Fa(e){var t=ka();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return Aa().memoizedState}function Ba(e,t,n,r){var o=ka();ma.flags|=e,o.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var o=Aa();r=void 0===r?null:r;var i=void 0;if(null!==ga){var a=ga.memoizedState;if(i=a.destroy,null!==r&&Sa(r,a.deps))return void(o.memoizedState=Ua(t,n,i,r))}ma.flags|=e,o.memoizedState=Ua(1|t,n,i,r)}function Ga(e,t){return Ba(8390656,8,e,t)}function qa(e,t){return Va(2048,8,e,t)}function Ha(e,t){return Va(4,2,e,t)}function Wa(e,t){return Va(4,4,e,t)}function Ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!=n?n.concat([e]):null,Va(4,4,Ka.bind(null,t,e),n)}function Za(){}function Ya(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0==(21&ha)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Dl|=n,e.baseState=!0),t)}function Qa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function es(){return Aa().memoizedState}function ts(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?os(t,n):null!==(n=Ii(e,t,n,r))&&(nc(n,e,r,ec()),is(n,t,r))}function ns(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ti(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ii(e,t,o,r))&&(nc(n,e,r,o=ec()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function os(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:ki,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:ki,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ki,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ba(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Fa,useDebugValue:Za,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Qa.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,o=ka();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Il)throw Error(i(349));0!=(30&ha)||Na(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ga(Ra.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,La.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Il.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=(Jo&~(1<<32-at(Jo)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:ki,useCallback:Ya,useContext:ki,useEffect:qa,useImperativeHandle:$a,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ja,useReducer:Ia,useRef:ja,useState:function(){return Ia(Ta)},useDebugValue:Za,useDeferredValue:function(e){return Xa(Aa(),ga.memoizedState,e)},useTransition:function(){return[Ia(Ta)[0],Aa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ma,useId:es,unstable_isNewReconciler:!1},cs={readContext:ki,useCallback:Ya,useContext:ki,useEffect:qa,useImperativeHandle:$a,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:Ja,useReducer:Pa,useRef:ja,useState:function(){return Pa(Ta)},useDebugValue:Za,useDeferredValue:function(e){var t=Aa();return null===ga?t.memoizedState=e:Xa(t,ga.memoizedState,e)},useTransition:function(){return[Pa(Ta)[0],Aa().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Ma,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),fs(0,t)},n}function ms(e,t,n){(n=Li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!=typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,Ri(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Xi(t,null,n,r):Ji(t,e.child,n,r)}function xs(e,t,n,r,o){n=n.render;var i=t.ref;return Ci(t,o),r=Ea(e,t,n,r,i,o),n=Ca(),null===e||_s?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Mc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Es(e,t,i,r,o))}if(i=e.child,0==(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,o)}return t.flags|=1,(e=Nc(i,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=i,0==(e.lanes&o))return t.lanes=e.lanes,qs(e,t,o);0!=(131072&e.flags)&&(_s=!0)}}return As(e,t,n,r,o)}function Cs(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(Nl,Ml),Ml|=n;else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ao(Nl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ao(Nl,Ml),Ml|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ao(Nl,Ml),Ml|=r;return ws(e,t,o,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,o){var i=No(n)?Oo:Io.current;return i=Mo(t,i),Ci(t,o),n=Ea(e,t,n,r,i,o),r=Ca(),null===e||_s?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,qs(e,t,o))}function Ts(e,t,n,r,o){if(No(n)){var i=!0;zo(t)}else i=!1;if(Ci(t,o),null===t.stateNode)Gs(e,t),qi(t,n,r),Wi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?ki(c):Mo(t,c=No(n)?Oo:Io.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Hi(t,a,r,c),Oi=!1;var f=t.memoizedState;a.state=f,Fi(t,r,a,o),l=t.memoizedState,s!==r||f!==l||Po.current||Oi?("function"==typeof u&&(Bi(t,n,u,r),l=t.memoizedState),(s=Oi||Gi(t,n,s,r,f,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ni(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vi(t.type,s),a.props=c,d=t.pendingProps,f=a.context,l="object"==typeof(l=n.contextType)&&null!==l?ki(l):Mo(t,l=No(n)?Oo:Io.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==l)&&Hi(t,a,r,l),Oi=!1,f=t.memoizedState,a.state=f,Fi(t,r,a,o);var h=t.memoizedState;s!==d||f!==h||Po.current||Oi?("function"==typeof p&&(Bi(t,n,p,r),h=t.memoizedState),(c=Oi||Gi(t,n,c,r,f,h,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,i,o)}function Is(e,t,n,r,o,i){ks(e,t);var a=0!=(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),qs(e,t,i);r=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ji(t,e.child,null,i),t.child=Ji(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),oa(e,t.containerInfo)}function Os(e,t,n,r,o){return hi(),mi(o),t.flags|=256,ws(e,t,n,r),t.child}var Ms,Ns,Ls,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,o=t.pendingProps,a=la.current,s=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ao(la,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Dc(l,o,0,null),e=Rc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Rs,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(a=Rc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Ji(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Rs,a);if(0==(1&t.mode))return Us(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(a=Error(i(419)),r,void 0))}if(l=0!=(s&e.childLanes),_s||l){if(null!==(r=Il)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!=(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Pi(e,o),nc(r,e,o,-1))}return mc(),Us(e,t,s,r=ds(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&($o[Zo++]=Jo,$o[Zo++]=Xo,$o[Zo++]=Yo,Jo=e.id,Xo=e.overflow,Yo=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 0==(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nc(r,s):(s=Rc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,o}return e=(s=e.child).sibling,o=Nc(s,{mode:"visible",children:o.children}),0==(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fs(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mi(r),Ji(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Bs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Vs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!=(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ao(la,r),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ca(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return No(t.type)&&Lo(),Ws(t),null;case 3:return r=t.stateNode,ia(),ko(Po),ko(Io),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Ws(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ws(t),null}if(e=ra(ea.current),fi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=0!=(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(o=0;o<Rr.length;o++)Ur(Rr[o],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":oe(r,a),Ur("invalid",r)}for(var l in ye(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Q(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,Ms(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),o=r;break;case"iframe":case"object":case"embed":Ur("load",e),o=r;break;case"video":case"audio":for(o=0;o<Rr.length;o++)Ur(Rr[o],e);o=r;break;case"source":Ur("error",e),o=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),o=r;break;case"details":Ur("toggle",e),o=r;break;case"input":Y(e,r),o=Z(e,r),Ur("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=z({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Ur("invalid",e)}for(a in ye(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ws(t),null;case 13:if(ko(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!=(1&t.mode)&&0==(128&t.flags))pi(),hi(),t.flags|=98560,a=!1;else if(a=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&la.current)?0===Ll&&(Ll=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return ia(),null===e&&Vr(t.stateNode.containerInfo),Ws(t),null;case 10:return Si(t.type._context),Ws(t),null;case 19:if(ko(la),null===(a=t.memoizedState))return Ws(t),null;if(r=0!=(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Ll||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ao(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Vl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return Ws(t),null}else 2*Je()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=la.current,Ao(la,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ml)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function $s(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),ko(Po),ko(Io),da(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(ko(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ko(la),null;case 4:return ia(),null;case 10:return Si(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"select":o=z({},o,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Ys=!1,Js="function"==typeof WeakSet?WeakSet:Set,Xs=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[go],delete t[vo],delete t[yo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Ys||Qs(n,t);case 6:var r=ul,o=dl;ul=null,fl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ys&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)||0!=(4&i))&&el(n,t,a),o=o.next}while(o!==r)}fl(e,t,n);break;case 1:if(!Ys&&(Qs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(a,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(o,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,u)}switch(l){case"input":X(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(t){Ec(e,e.return,t)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Ec(e,e.return,t)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Je())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,ml(t,e),Ys=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!=(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(f=Xs=d;null!==Xs;){switch(h=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){wl(f);continue}}null!==h?(h.return=p,Xs=h):wl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){Ec(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),vl(e),4&r&&hl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!=(1&e.mode);null!==Xs;){var o=Xs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Zs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Zs;var c=Ys;if(Zs=a,(Ys=l)&&!c)for(Xs=o;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?xl(o):null!==l?(l.return=a,Xs=l):xl(o);for(;null!==i;)Xs=i,bl(i,t,n),i=i.sibling;Xs=o,Zs=s,Ys=c}_l(e)}else 0!=(8772&o.subtreeFlags)&&null!==i?(i.return=o,Xs=i):_l(e)}}function _l(e){for(;null!==Xs;){var t=Xs;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ui(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ui(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&ol(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Ec(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Ec(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ec(t,a,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sl,El=Math.ceil,Cl=_.ReactCurrentDispatcher,kl=_.ReactCurrentOwner,Al=_.ReactCurrentBatchConfig,Tl=0,Il=null,Pl=null,Ol=0,Ml=0,Nl=Co(0),Ll=0,Rl=null,Dl=0,zl=0,Fl=0,Ul=null,jl=null,Bl=0,Vl=1/0,Gl=null,ql=!1,Hl=null,Wl=null,Kl=!1,$l=null,Zl=0,Yl=0,Jl=null,Xl=-1,Ql=0;function ec(){return 0!=(6&Tl)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0==(1&e.mode)?1:0!=(2&Tl)&&0!==Ol?Ol&-Ol:null!==gi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Jl=null,Error(i(185));vt(e,n,r),0!=(2&Tl)&&e===Il||(e===Il&&(0==(2&Tl)&&(zl|=n),4===Ll&&sc(e,Ol)),rc(e,r),1===n&&0===Tl&&0==(1&t.mode)&&(Vl=Je()+500,jo&&Go()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!=(s&n)&&0==(s&r)||(o[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===Il?Ol:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){jo=!0,Vo(e)}(lc.bind(null,e)):Vo(lc.bind(null,e)),ao((function(){0==(6&Tl)&&Go()})),n=null;else{switch(_t(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xl=-1,Ql=0,0!=(6&Tl))throw Error(i(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ft(e,e===Il?Ol:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var a=hc();for(Il===e&&Ol===t||(Gl=null,Vl=Je()+500,fc(e,t));;)try{yc();break}catch(t){pc(e,t)}xi(),Cl.current=a,Tl=o,null!==Pl?t=0:(Il=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&0!==(o=ht(e))&&(r=o,t=ic(e,o)),1===t)throw n=Rl,fc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&0!==(a=ht(e))&&(r=a,t=ic(e,a)),1===t))throw n=Rl,fc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,jl,Gl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,jl,Gl),t);break}wc(e,jl,Gl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,jl,Gl),r);break}wc(e,jl,Gl);break;default:throw Error(i(329))}}}return rc(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=jl,jl=n,null!==t&&ac(t)),e}function ac(e){null===jl?jl=e:jl.push.apply(jl,e)}function sc(e,t){for(t&=~Fl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!=(6&Tl))throw Error(i(327));xc();var t=ft(e,0);if(0==(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Rl,fc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,jl,Gl),rc(e,Je()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Je()+500,jo&&Go())}}function uc(e){null!==$l&&0===$l.tag&&0==(6&Tl)&&xc();var t=Tl;Tl|=1;var n=Al.transition,r=bt;try{if(Al.transition=null,bt=1,e)return e()}finally{bt=r,Al.transition=n,0==(6&(Tl=t))&&Go()}}function dc(){Ml=Nl.current,ko(Nl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Lo();break;case 3:ia(),ko(Po),ko(Io),da();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:ko(la);break;case 10:Si(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,Pl=e=Nc(e.current,null),Ol=Ml=t,Ll=0,Rl=null,Fl=zl=Dl=0,jl=Ul=null,null!==Ai){for(t=0;t<Ai.length;t++)if(null!==(r=(n=Ai[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ai=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(xi(),fa.current=as,ya){for(var r=ma.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ya=!1}if(ha=0,va=ga=ma=null,ba=!1,_a=0,kl.current=null,null===n||null===n.return){Ll=1,Rl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,f=d.tag;if(0==(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ys(h,s,l,0,t),1&h.mode&&gs(a,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0==(1&t)){gs(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=vs(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mi(us(c,l));break e}}a=c=us(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,hs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(e){t=e,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function hc(){var e=Cl.current;return Cl.current=as,null===e?as:e}function mc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Il||0==(268435455&Dl)&&0==(268435455&zl)||sc(Il,Ol)}function gc(e,t){var n=Tl;Tl|=2;var r=hc();for(Il===e&&Ol===t||(Gl=null,fc(e,t));;)try{vc();break}catch(t){pc(e,t)}if(xi(),Tl=n,Cl.current=r,null!==Pl)throw Error(i(261));return Il=null,Ol=0,Ll}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Ze();)bc(Pl)}function bc(e){var t=Sl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?_c(e):Pl=t,kl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ks(n,t,Ml)))return void(Pl=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wc(e,t,n){var r=bt,o=Al.transition;try{Al.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==$l);if(0!=(6&Tl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Il&&(Pl=Il=null,Ol=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Kl||(Kl=!0,Ic(tt,(function(){return xc(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,kl.current=null,function(e,t){if(eo=qt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(l=s+o),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===o&&(l=s),p===a&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(to),qt=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Tl=l,bt=s,Al.transition=a}else e.current=n;if(Kl&&(Kl=!1,$l=e,Zl=o),0===(a=e.pendingLanes)&&(Wl=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!=(1&Zl)&&0!==e.tag&&xc(),0!=(1&(a=e.pendingLanes))?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Go()}(e,t,n,r)}finally{Al.transition=o,bt=r}return null}function xc(){if(null!==$l){var e=_t(Zl),t=Al.transition,n=bt;try{if(Al.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Zl=0,0!=(6&Tl))throw Error(i(331));var o=Tl;for(Tl|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!=(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Xs=f;else for(;null!==Xs;){var p=(d=Xs).sibling,h=d.return;if(il(d),d===u){Xs=null;break}if(null!==p){p.return=h,Xs=p;break}Xs=h}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!=(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var _=(s=Xs).child;if(0!=(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=b;null!==Xs;){if(0!=(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Tl=o,Go(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,Al.transition=t}}return!1}function Sc(e,t,n){e=Ri(e,t=hs(0,t=us(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ri(t,e=ms(t,e=us(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ol&n)===n&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Je()-Bl?fc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Pi(e,t))&&(vt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),kc(e,n)}function Ic(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Pc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Mc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Rc(n.children,o,a,t);case E:s=8,o|=8;break;case C:return(e=Oc(12,n,t,2|o)).elementType=C,e.lanes=a,e;case I:return(e=Oc(13,n,t,o)).elementType=I,e.lanes=a,e;case P:return(e=Oc(19,n,t,o)).elementType=P,e.lanes=a,e;case N:return Dc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case A:s=9;break e;case T:s=11;break e;case O:s=14;break e;case M:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,o,i,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Oc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return To;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Do(e,n,t)}return t}function Gc(e,t,n,r,o,i,a,s,l){return(e=jc(n,r,!0,e,0,i,0,s,l)).context=Vc(null),n=e.current,(i=Li(r=ec(),o=tc(n))).callback=null!=t?t:null,Ri(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function qc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ri(o,t,a))&&(nc(e,o,a,i),Di(e,o,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)_s=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),hi();break;case 5:aa(t);break;case 1:No(t.type)&&zo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ao(yi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ao(la,1&la.current),t.flags|=128,null):0!=(n&t.child.childLanes)?zs(e,t,n):(Ao(la,1&la.current),null!==(e=qs(e,t,n))?e.sibling:null);Ao(la,1&la.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return qs(e,t,n)}(e,t,n);_s=0!=(131072&e.flags)}else _s=!1,ii&&0!=(1048576&t.flags)&&ei(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var o=Mo(t,Io.current);Ci(t,n),o=Ea(null,t,r,e,o,n);var a=Ca();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(a=!0,zo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Mi(t),o.updater=Vi,t.stateNode=o,o._reactInternals=t,Wi(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Mc(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=vi(r,e),o){case 0:t=As(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ts(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 3:e:{if(Ps(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Ni(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,o=us(Error(i(423)),t));break e}if(r!==o){t=Os(e,t,r,n,o=us(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),ks(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return zs(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ji(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:vi(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ao(yi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Po.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Li(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ei(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ei(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ci(t,n),r=r(o=ki(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=vi(r=t.type,t.pendingProps),Ss(e,t,r,o=vi(r.type,o),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:vi(r,o),Gs(e,t),t.tag=1,No(r)?(e=!0,zo(t)):e=!1,Ci(t,n),qi(t,r,o),Wi(t,r,o,n),Is(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(i(156,t.tag))};var $c="function"==typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function eu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=Hc(a);s.call(e)}}qc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Hc(a);i.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=a,e[mo]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=jc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mo]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,l,n,r)})),l}(n,t,e,o,r);return Hc(a)}Yc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Yc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&zt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0==(6&Tl)&&(Vl=Je()+500,Go()))}break;case 13:uc((function(){var t=Pi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Pi(e,134217728);null!==t&&nc(t,e,134217728,ec()),Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Pi(e,t);null!==n&&nc(n,e,t,ec()),Kc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));K(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ie=uc;var tu={usingClientEntryPoint:!1,Events:[_o,wo,xo,ke,Ae,cc]},nu={findFiberByHostInstance:bo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),it=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(i(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(i(299));var n=!1,r="",o=$c;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=$c;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},20745:(e,t,n)=>{"use strict";var r=n(73935);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},85136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttributionControl:()=>R,FullscreenControl:()=>D,GeolocateControl:()=>F,Layer:()=>W,Map:()=>k,MapProvider:()=>i,Marker:()=>O,NavigationControl:()=>U,Popup:()=>N,ScaleControl:()=>B,Source:()=>q,default:()=>k,useControl:()=>L,useMap:()=>a});var r=n(67294);const o=r.createContext(null),i=e=>{const[t,n]=(0,r.useState)({}),i=(0,r.useCallback)(((e,t="default")=>{n((n=>{if("current"===t)throw new Error("'current' cannot be used as map id");if(n[t])throw new Error(`Multiple maps with the same id: ${t}`);return{...n,[t]:e}}))}),[]),a=(0,r.useCallback)(((e="default")=>{n((t=>{if(t[e]){const n={...t};return delete n[e],n}return t}))}),[]);return r.createElement(o.Provider,{value:{maps:t,onMapMount:i,onMapUnmount:a}},e.children)};function a(){var e;const t=null===(e=(0,r.useContext)(o))||void 0===e?void 0:e.maps,n=(0,r.useContext)(S);return(0,r.useMemo)((()=>({...t,current:null==n?void 0:n.map})),[t,n])}function s(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function l(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function c(e,t){const n=t.viewState||t;let r=!1;if("longitude"in n&&"latitude"in n){const t=e.center;e.center=new t.constructor(n.longitude,n.latitude),r=r||t!==e.center}if("zoom"in n){const t=e.zoom;e.zoom=n.zoom,r=r||t!==e.zoom}if("bearing"in n){const t=e.bearing;e.bearing=n.bearing,r=r||t!==e.bearing}if("pitch"in n){const t=e.pitch;e.pitch=n.pitch,r=r||t!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(r=!0,e.padding=n.padding),r}const u=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function d(e){if(!e)return null;if("string"==typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const n of e.layers)t[n.id]=n;const n=e.layers.map((e=>{const n=t[e.ref];let r=null;if("interactive"in e&&(r={...e},delete r.interactive),n){r=r||{...e},delete r.ref;for(const e of u)e in n&&(r[e]=n[e])}return r||e}));return{...e,layers:n}}function f(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!f(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const r of n){if(!t.hasOwnProperty(r))return!1;if(!f(e[r],t[r]))return!1}return!0}return!1}const p={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},h={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},m={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},g=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],v=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class y{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[m[e.type]];t&&t(e)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[p[e.type]];if(t){if(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){const t=this._hoveredFeatures||this._map.queryRenderedFeatures(e.point,{layers:this.props.interactiveLayerIds});if(!t.length)return;e.features=t}t(e),delete e.features}},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[h[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const n=this._updateSettings(e,t);n&&(this._renderTransform=s(this._map.transform));const r=this._updateSize(e),o=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||r||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=y.savedMaps.pop();if(!n)return null;const r=n.map,o=r.getContainer();for(t.className=o.className;o.childNodes.length>0;)t.appendChild(o.childNodes[0]);return r._container=t,e.initialViewState&&n._updateViewState(e.initialViewState,!1),r.resize(),n.setProps({...e,styleDiffing:!1}),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),n}_initialize(e){const{props:t}=this,n={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||b()||null,container:e,style:d(t.mapStyle)},r=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[r.longitude||0,r.latitude||0],zoom:r.zoom||0,pitch:r.pitch||0,bearing:r.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const o=new this._MapClass(n);r.padding&&o.setPadding(r.padding),t.cursor&&(o.getCanvas().style.cursor=t.cursor),this._renderTransform=s(o.transform);const i=o._render;o._render=e=>{this._inRender=!0,i.call(o,e),this._inRender=!1};const a=o._renderTaskQueue.run;o._renderTaskQueue.run=e=>{a.call(o._renderTaskQueue,e),this._onBeforeRepaint()},o.on("render",(()=>this._onAfterRepaint()));const l=o.fire;o.fire=this._fireEvent.bind(this,l),o.on("resize",(()=>{this._renderTransform.resize(o.transform.width,o.transform.height)})),o.on("styledata",(()=>this._updateStyleComponents(this.props,{}))),o.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const e in p)o.on(e,this._onPointerEvent);for(const e in h)o.on(e,this._onCameraEvent);for(const e in m)o.on(e,this._onEvent);this._map=o}recycle(){y.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform,{zoom:o,pitch:i,bearing:a}=r,s=c(r,{...l(n.transform),...e});if(s&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=o!==r.zoom),e.rotate||(e.rotate=a!==r.bearing),e.pitch||(e.pitch=i!==r.pitch)}return n.isMoving()||c(n.transform,e),s}_updateSettings(e,t){const n=this._map;let r=!1;for(const o of g)o in e&&!f(e[o],t[o])&&(r=!0,n[`set${o[0].toUpperCase()}${o.slice(1)}`](e[o]));return r}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){const t={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(t.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(d(e.mapStyle),t),!0}return!1}_updateStyleComponents(e,t){const n=this._map;let r=!1;return n.style.loaded()&&("light"in e&&!f(e.light,t.light)&&(r=!0,n.setLight(e.light)),"fog"in e&&!f(e.fog,t.fog)&&(r=!0,n.setFog(e.fog)),"terrain"in e&&!f(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(r=!0,n.setTerrain(e.terrain)))),r}_updateHandlers(e,t){const n=this._map;let r=!1;for(const o of v){const i=e[o];f(i,t[o])||(r=!0,i?n[o].enable(i):n[o].disable())}return r}_updateHover(e){var t;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const r=e.type,o=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0;let i;if("mousemove"===r)try{i=this._map.queryRenderedFeatures(e.point,{layers:n.interactiveLayerIds})}catch(e){i=[]}else i=[];const a=i.length>0;!a&&o&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=i,a&&!o&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=r}else this._hoveredFeatures=null}_fireEvent(e,t,n){const r=this._map,o=r.transform,i="string"==typeof t?t:t.type;return"move"===i&&this._updateViewState(this.props,!1),i in h&&("object"==typeof t&&(t.viewState=l(o)),this._map.isMoving())?(r.transform=this._renderTransform,e.call(r,t,n),r.transform=o,r):(e.call(r,t,n),r)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const t in this._deferredEvents)this._deferredEvents[t]&&e.fire(t);this._internalUpdate=!1;const t=this._map.transform;this._map.transform=this._renderTransform,this._map.painter.transform=this._renderTransform,this._onAfterRepaint=()=>{(t.elevation=this._renderTransform.elevation)&&t.updateElevation(!1),this._map.transform=t}}}function b(){let e=null;if("undefined"!=typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||process.env.MapboxAccessToken}catch(e){}try{e=e||process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(e){}return e}y.savedMaps=[];const _=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];const w="undefined"!=typeof document?r.useLayoutEffect:r.useEffect,x=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"],S=r.createContext(null),E={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:e=>console.error(e.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},C=(0,r.forwardRef)(((e,t)=>{const i=(0,r.useContext)(o),[a,s]=(0,r.useState)(null),l=(0,r.useRef)(),{current:c}=(0,r.useRef)({mapLib:null,map:null});(0,r.useEffect)((()=>{const t=e.mapLib;let r,o=!0;return Promise.resolve(t||n.e(158).then(n.t.bind(n,6158,23))).then((t=>{if(o){if(t.Map||(t=t.default),!t||!t.Map)throw new Error("Invalid mapLib");if(!t.supported(e))throw new Error("Map is not supported by this browser");!function(e,t){for(const n of x)n in t&&(e[n]=t[n]);t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,(e=>{e&&console.error(e)}),!1)}(t,e),e.reuseMaps&&(r=y.reuse(e,l.current)),r||(r=new y(t.Map,e,l.current)),c.map=function(e,t){if(!e)return null;const n=e.map,r={getMap:()=>n,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>e.transform.locationPoint(t.LngLat.convert(n)),unproject:n=>e.transform.pointLocation(t.Point.convert(n))};for(const e of function(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"==typeof e[r]&&"fire"!==r&&"setEventedParent"!==r&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}(n))e in r||_.includes(e)||(r[e]=n[e].bind(n));return r}(r,t),c.mapLib=t,s(r),null==i||i.onMapMount(c.map,e.id)}})).catch((t=>{e.onError({type:"error",target:null,originalEvent:null,error:t})})),()=>{o=!1,r&&(null==i||i.onMapUnmount(e.id),e.reuseMaps?r.recycle():r.destroy())}}),[]),w((()=>{a&&a.setProps(e)})),(0,r.useImperativeHandle)(t,(()=>c.map),[a]);const u=(0,r.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...e.style})),[e.style]);return r.createElement("div",{id:e.id,ref:l,style:u},a&&r.createElement(S.Provider,{value:c},e.children))}));C.displayName="Map",C.defaultProps=E;const k=C;var A=n(73935);const T=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function I(e,t){if(!e||!t)return;const n=e.style;for(const e in t){const r=t[e];Number.isFinite(r)&&!T.test(e)?n[e]=`${r}px`:n[e]=r}}function P(e){const{map:t,mapLib:n}=(0,r.useContext)(S),o=(0,r.useRef)({props:e});o.current.props=e;const i=(0,r.useMemo)((()=>{let t=!1;r.Children.forEach(e.children,(e=>{e&&(t=!0)}));const a={...e,element:t?document.createElement("div"):null},s=new n.Marker(a).setLngLat([e.longitude,e.latitude]);return s.getElement().addEventListener("click",(e=>{var t,n;null===(n=(t=o.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(e=>{var t,n;const r=e;r.lngLat=i.getLngLat(),null===(n=(t=o.current.props).onDragStart)||void 0===n||n.call(t,r)})),s.on("drag",(e=>{var t,n;const r=e;r.lngLat=i.getLngLat(),null===(n=(t=o.current.props).onDrag)||void 0===n||n.call(t,r)})),s.on("dragend",(e=>{var t,n;const r=e;r.lngLat=i.getLngLat(),null===(n=(t=o.current.props).onDragEnd)||void 0===n||n.call(t,r)})),s}),[]);return(0,r.useEffect)((()=>(i.addTo(t.getMap()),()=>{i.remove()})),[]),(0,r.useEffect)((()=>{I(i.getElement(),e.style)}),[e.style]),i.getLngLat().lng===e.longitude&&i.getLngLat().lat===e.latitude||i.setLngLat([e.longitude,e.latitude]),e.offset&&!function(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,o=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return n===o&&r===i}(i.getOffset(),e.offset)&&i.setOffset(e.offset),i.isDraggable()!==e.draggable&&i.setDraggable(e.draggable),i.getRotation()!==e.rotation&&i.setRotation(e.rotation),i.getRotationAlignment()!==e.rotationAlignment&&i.setRotationAlignment(e.rotationAlignment),i.getPitchAlignment()!==e.pitchAlignment&&i.setPitchAlignment(e.pitchAlignment),i.getPopup()!==e.popup&&i.setPopup(e.popup),(0,A.createPortal)(e.children,i.getElement())}P.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};const O=r.memo(P);function M(e){return new Set(e?e.trim().split(/\s+/):[])}const N=r.memo((function(e){const{map:t,mapLib:n}=(0,r.useContext)(S),o=(0,r.useMemo)((()=>document.createElement("div")),[]),i=(0,r.useRef)({props:e});i.current.props=e;const a=(0,r.useMemo)((()=>{const t={...e},r=new n.Popup(t).setLngLat([e.longitude,e.latitude]);return r.once("open",(e=>{var t,n;null===(n=(t=i.current.props).onOpen)||void 0===n||n.call(t,e)})),r}),[]);if((0,r.useEffect)((()=>{const e=e=>{var t,n;null===(n=(t=i.current.props).onClose)||void 0===n||n.call(t,e)};return a.on("close",e),a.setDOMContent(o).addTo(t.getMap()),()=>{a.off("close",e),a.isOpen()&&a.remove()}}),[]),(0,r.useEffect)((()=>{I(a.getElement(),e.style)}),[e.style]),a.isOpen()&&(a.getLngLat().lng===e.longitude&&a.getLngLat().lat===e.latitude||a.setLngLat([e.longitude,e.latitude]),e.offset&&!f(a.options.offset,e.offset)&&a.setOffset(e.offset),a.options.anchor===e.anchor&&a.options.maxWidth===e.maxWidth||(a.options.anchor=e.anchor,a.setMaxWidth(e.maxWidth)),a.options.className!==e.className)){const t=M(a.options.className),n=M(e.className);for(const e of t)n.has(e)||a.removeClassName(e);for(const e of n)t.has(e)||a.addClassName(e);a.options.className=e.className}return(0,A.createPortal)(e.children,o)}));function L(e,t,n){const o=(0,r.useContext)(S),i=(0,r.useMemo)((()=>e(o)),[]);return(0,r.useEffect)((()=>{var e;const{map:r}=o;return r.hasControl(i)||r.addControl(i,null===(e=n||t)||void 0===e?void 0:e.position),()=>{"function"==typeof t&&t(o),r.hasControl(i)&&r.removeControl(i)}}),[]),i}const R=r.memo((function(e){const t=L((({mapLib:t})=>new t.AttributionControl(e)),{position:e.position});return(0,r.useEffect)((()=>{I(t._container,e.style)}),[e.style]),null})),D=r.memo((function(e){const t=L((({mapLib:t})=>new t.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)})),{position:e.position});return(0,r.useEffect)((()=>{I(t._controlContainer,e.style)}),[e.style]),null})),z=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useRef)({props:e}),o=L((({mapLib:t})=>{const r=new t.GeolocateControl(e),o=r._setupUI;return r._setupUI=e=>{r._container.hasChildNodes()||o(e)},r.on("geolocate",(e=>{var t,r;null===(r=(t=n.current.props).onGeolocate)||void 0===r||r.call(t,e)})),r.on("error",(e=>{var t,r;null===(r=(t=n.current.props).onError)||void 0===r||r.call(t,e)})),r.on("outofmaxbounds",(e=>{var t,r;null===(r=(t=n.current.props).onOutOfMaxBounds)||void 0===r||r.call(t,e)})),r.on("trackuserlocationstart",(e=>{var t,r;null===(r=(t=n.current.props).onTrackUserLocationStart)||void 0===r||r.call(t,e)})),r.on("trackuserlocationend",(e=>{var t,r;null===(r=(t=n.current.props).onTrackUserLocationEnd)||void 0===r||r.call(t,e)})),r}),{position:e.position});return n.current.props=e,(0,r.useImperativeHandle)(t,(()=>({trigger:()=>o.trigger()})),[]),(0,r.useEffect)((()=>{I(o._container,e.style)}),[e.style]),null}));z.displayName="GeolocateControl";const F=r.memo(z),U=r.memo((function(e){const t=L((({mapLib:t})=>new t.NavigationControl(e)),{position:e.position});return(0,r.useEffect)((()=>{I(t._container,e.style)}),[e.style]),null}));function j(e){const t=L((({mapLib:t})=>new t.ScaleControl(e)),{position:e.position});return t.options.unit===e.unit&&t.options.maxWidth===e.maxWidth||(t.options.maxWidth=e.maxWidth,t.setUnit(e.unit)),(0,r.useEffect)((()=>{I(t._container,e.style)}),[e.style]),null}j.defaultProps={unit:"metric",maxWidth:100};const B=r.memo(j);function V(e,t){if(!e)throw new Error(t)}let G=0;const q=function(e){const t=(0,r.useContext)(S).map.getMap(),n=(0,r.useRef)(e),[,o]=(0,r.useState)(0),i=(0,r.useMemo)((()=>e.id||"jsx-source-"+G++),[]);(0,r.useEffect)((()=>{if(t){const e=()=>o((e=>e+1));return t.on("styledata",e),e(),()=>{var n;if(t.off("styledata",e),t.style&&t.style._loaded&&t.getSource(i)){const e=null===(n=t.getStyle())||void 0===n?void 0:n.layers;if(e)for(const n of e)n.source===i&&t.removeLayer(n.id);t.removeSource(i)}}}}),[t]);let a=t&&t.style&&t.getSource(i);return a?function(e,t,n){V(t.id===n.id,"source id changed"),V(t.type===n.type,"source type changed");let r="",o=0;for(const e in t)"children"===e||"id"===e||f(n[e],t[e])||(r=e,o++);if(!o)return;const i=t.type;if("geojson"===i)e.setData(t.data);else if("image"===i)e.updateImage({url:t.url,coordinates:t.coordinates});else if("canvas"!==i&&"video"!==i||1!==o||"coordinates"!==r)if("vector"===i&&"setUrl"in e)switch(r){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn(`Unable to update <Source> prop: ${r}`);else e.setCoordinates(t.coordinates)}(a,e,n.current):a=function(e,t,n){if(e.style&&e.style._loaded){const r={...n};return delete r.id,delete r.children,e.addSource(t,r),e.getSource(t)}return null}(t,i,e),n.current=e,a&&r.Children.map(e.children,(e=>e&&(0,r.cloneElement)(e,{source:i})))||null};let H=0;const W=function(e){const t=(0,r.useContext)(S).map.getMap(),n=(0,r.useRef)(e),[,o]=(0,r.useState)(0),i=(0,r.useMemo)((()=>e.id||"jsx-layer-"+H++),[]);if((0,r.useEffect)((()=>{if(t){const e=()=>o((e=>e+1));return t.on("styledata",e),e(),()=>{t.off("styledata",e),t.style&&t.style._loaded&&t.getLayer(i)&&t.removeLayer(i)}}}),[t]),t&&t.style&&t.getLayer(i))try{!function(e,t,n,r){if(V(n.id===r.id,"layer id changed"),V(n.type===r.type,"layer type changed"),"custom"===n.type||"custom"===r.type)return;const{layout:o={},paint:i={},filter:a,minzoom:s,maxzoom:l,beforeId:c}=n;if(c!==r.beforeId&&e.moveLayer(t,c),o!==r.layout){const n=r.layout||{};for(const r in o)f(o[r],n[r])||e.setLayoutProperty(t,r,o[r]);for(const r in n)o.hasOwnProperty(r)||e.setLayoutProperty(t,r,void 0)}if(i!==r.paint){const n=r.paint||{};for(const r in i)f(i[r],n[r])||e.setPaintProperty(t,r,i[r]);for(const r in n)i.hasOwnProperty(r)||e.setPaintProperty(t,r,void 0)}f(a,r.filter)||e.setFilter(t,a),s===r.minzoom&&l===r.maxzoom||e.setLayerZoomRange(t,s,l)}(t,i,e,n.current)}catch(e){console.warn(e)}else!function(e,t,n){if(e.style&&e.style._loaded&&(!("source"in n)||e.getSource(n.source))){const r={...n,id:t};delete r.beforeId,e.addLayer(r,n.beforeId)}}(t,i,e);return n.current=e,null}},49818:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbortedDeferredError:()=>B,Await:()=>Tt,BrowserRouter:()=>Yt,Form:()=>nn,HashRouter:()=>Jt,Link:()=>en,MemoryRouter:()=>xt,NavLink:()=>tn,Navigate:()=>St,NavigationType:()=>r,Outlet:()=>Et,Route:()=>Ct,Router:()=>kt,RouterProvider:()=>wt,Routes:()=>At,ScrollRestoration:()=>on,UNSAFE_DataRouterContext:()=>De,UNSAFE_DataRouterStateContext:()=>ze,UNSAFE_LocationContext:()=>je,UNSAFE_NavigationContext:()=>Ue,UNSAFE_RouteContext:()=>Be,UNSAFE_enhanceManualRouteObjects:()=>Rt,UNSAFE_useScrollRestoration:()=>_n,createBrowserRouter:()=>Wt,createHashRouter:()=>Kt,createMemoryRouter:()=>Dt,createPath:()=>m,createRoutesFromChildren:()=>Nt,createRoutesFromElements:()=>Nt,createSearchParams:()=>Vt,defer:()=>q,generatePath:()=>A,isRouteErrorResponse:()=>K,json:()=>j,matchPath:()=>T,matchRoutes:()=>_,parsePath:()=>g,redirect:()=>H,renderMatches:()=>Lt,resolvePath:()=>M,unstable_HistoryRouter:()=>Xt,unstable_useBlocker:()=>_t,unstable_usePrompt:()=>xn,useActionData:()=>mt,useAsyncError:()=>yt,useAsyncValue:()=>vt,useBeforeUnload:()=>wn,useFetcher:()=>gn,useFetchers:()=>vn,useFormAction:()=>hn,useHref:()=>Ge,useInRouterContext:()=>qe,useLinkClickHandler:()=>un,useLoaderData:()=>pt,useLocation:()=>He,useMatch:()=>Ke,useMatches:()=>ft,useNavigate:()=>$e,useNavigation:()=>ut,useNavigationType:()=>We,useOutlet:()=>Je,useOutletContext:()=>Ye,useParams:()=>Xe,useResolvedPath:()=>Qe,useRevalidator:()=>dt,useRouteError:()=>gt,useRouteLoaderData:()=>ht,useRoutes:()=>et,useSearchParams:()=>dn,useSubmit:()=>fn});var r,o=n(67294),i=n.t(o,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const s="popstate";function l(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:o,v5Compat:i=!1}=e;t=n.map(((e,t)=>d(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let a=c(null==o?t.length-1:o),s=r.Pop,l=null;function c(e){return Math.min(Math.max(e,0),t.length-1)}function u(){return t[a]}function d(e,n,r){void 0===n&&(n=null);let o=h(t?u().pathname:"/",e,n,r);return f("/"===o.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),o}function p(e){return"string"==typeof e?e:m(e)}return{get index(){return a},get action(){return s},get location(){return u()},createHref:p,createURL:e=>new URL(p(e),"http://localhost"),encodeLocation(e){let t="string"==typeof e?g(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){s=r.Push;let o=d(e,n);a+=1,t.splice(a,t.length,o),i&&l&&l({action:s,location:o,delta:1})},replace(e,n){s=r.Replace;let o=d(e,n);t[a]=o,i&&l&&l({action:s,location:o,delta:0})},go(e){s=r.Pop;let n=c(a+e),o=t[n];a=n,l&&l({action:s,location:o,delta:e})},listen:e=>(l=e,()=>{l=null})}}function c(e){return void 0===e&&(e={}),v((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return h("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:m(t)}),null,e)}function u(e){return void 0===e&&(e={}),v((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=g(e.location.hash.substr(1));return h("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:m(t))}),(function(e,t){f("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function d(e,t){if(!1===e||null==e)throw new Error(t)}function f(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,o){void 0===o&&(o={});let{window:i=document.defaultView,v5Compat:l=!1}=o,c=i.history,u=r.Pop,f=null,g=v();function v(){return(c.state||{idx:null}).idx}function y(){u=r.Pop;let e=v(),t=null==e?null:e-g;g=e,f&&f({action:u,location:_.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:m(e);return d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,c.replaceState(a({},c.state,{idx:g}),""));let _={get action(){return u},get location(){return e(i,c)},listen(e){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(s,y),f=e,()=>{i.removeEventListener(s,y),f=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=r.Push;let o=h(_.location,e,t);n&&n(o,e),g=v()+1;let a=p(o,g),s=_.createHref(o);try{c.pushState(a,"",s)}catch(e){i.location.assign(s)}l&&f&&f({action:u,location:_.location,delta:1})},replace:function(e,t){u=r.Replace;let o=h(_.location,e,t);n&&n(o,e),g=v();let i=p(o,g),a=_.createHref(o);c.replaceState(i,"",a),l&&f&&f({action:u,location:_.location,delta:0})},go:e=>c.go(e)};return _}var y;function b(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map(((e,r)=>{let o=[...t,r],i="string"==typeof e.id?e.id:o.join("-");return d(!0!==e.index||!e.children,"Cannot specify children on an index route"),d(!n.has(i),'Found a route id collision on id "'+i+"\".  Route id's must be globally unique within Data Router usages"),n.add(i),function(e){return!0===e.index}(e)?a({},e,{id:i}):a({},e,{id:i,children:e.children?b(e.children,o,n):void 0})}))}function _(e,t,n){void 0===n&&(n="/");let r=P(("string"==typeof t?g(t):t).pathname||"/",n);if(null==r)return null;let o=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let e=0;null==i&&e<o.length;++e)i=k(o[e],I(r));return i}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=D([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),w(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:C(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of x(e.path))o(e,t,n);else o(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=x(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const S=/^:\w+$/,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((e=>!E(e))).reduce(((e,t)=>e+(S.test(t)?3:""===t?1:10)),r)}function k(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===o?t:t.slice(o.length)||"/",c=T({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=a.route;i.push({params:r,pathname:D([o,c.pathname]),pathnameBase:z(D([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=D([o,c.pathnameBase]))}return i}function A(e,t){void 0===t&&(t={});let n=e;return n.endsWith("*")&&"*"!==n&&!n.endsWith("/*")&&(O(!1,'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),n=n.replace(/\*$/,"/*")),n.replace(/^:(\w+)(\??)/g,((e,n,r)=>{let o=t[n];return"?"===r?null==o?"":o:(null==o&&d(!1,'Missing ":'+n+'" param'),o)})).replace(/\/:(\w+)(\??)/g,((e,n,r)=>{let o=t[n];return"?"===r?null==o?"":"/"+o:(null==o&&d(!1,'Missing ":'+n+'" param'),"/"+o)})).replace(/\?/g,"").replace(/(\/?)\*/,((e,n,r,o)=>null==t["*"]?"/*"===o?"/":"":""+n+t["*"]))}function T(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function I(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function M(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:F(r),hash:U(o)}}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=g(e):(o=a({},e),d(!o.pathname||!o.pathname.includes("?"),N("?","pathname","search",o)),d(!o.pathname||!o.pathname.includes("#"),N("#","pathname","hash",o)),d(!o.search||!o.search.includes("#"),N("#","search","hash",o)));let i,s=""===e||""===o.pathname,l=s?"/":o.pathname;if(r||null==l)i=n;else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=M(o,i),u=l&&"/"!==l&&l.endsWith("/"),f=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!f||(c.pathname+="/"),c}const D=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",j=function(e,t){void 0===t&&(t={});let n="number"==typeof t?{status:t}:t,r=new Headers(n.headers);return r.has("Content-Type")||r.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),a({},n,{headers:r}))};class B extends Error{}class V{constructor(e,t){let n;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],d(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,t)=>n=t)),this.controller=new AbortController;let r=()=>n(new B("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,null,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){return this.controller.signal.aborted&&n instanceof B?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r))}emit(e,t){this.subscribers.forEach((n=>n(e,t)))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach(((e,t)=>this.pendingKeysSet.delete(t))),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return d(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:G(r)})}),{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function G(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}const q=function(e,t){return void 0===t&&(t={}),new V(e,"number"==typeof t?{status:t}:t)},H=function(e,t){void 0===t&&(t=302);let n=t;"number"==typeof n?n={status:n}:void 0===n.status&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",e),new Response(null,a({},n,{headers:r}))};class W{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function K(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const $=["post","put","patch","delete"],Z=new Set($),Y=["get",...$],J=new Set(Y),X=new Set([301,302,303,307,308]),Q=new Set([307,308]),ee={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},te={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ne={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ie=!oe;function ae(e){d(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=b(e.routes),n=null,o=new Set,i=null,s=null,l=null,c=null!=e.hydrationData,u=_(t,e.history.location,e.basename),f=null;if(null==u){let n=ye(404,{pathname:e.history.location.pathname}),{matches:r,route:o}=ve(t);u=r,f={[o.id]:n}}let p,m,g=!u.some((e=>e.route.loader))||null!=e.hydrationData,v={historyAction:e.history.action,location:e.history.location,matches:u,initialized:g,navigation:ee,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||f,fetchers:new Map,blockers:new Map},w=r.Pop,x=!1,S=!1,E=!1,C=[],k=[],A=new Map,T=0,I=-1,P=new Map,M=new Set,N=new Map,L=new Map,R=new Map,D=!1;function z(e){v=a({},v,e),o.forEach((e=>e(v)))}function F(t,n){var o,i;let s,l=null!=v.actionData&&null!=v.navigation.formMethod&&Ee(v.navigation.formMethod)&&"loading"===v.navigation.state&&!0!==(null==(o=t.state)?void 0:o._isRedirect);s=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:l?v.actionData:null;let c=n.loaderData?me(v.loaderData,n.loaderData,n.matches||[],n.errors):v.loaderData;for(let[e]of R)Z(e);let u=!0===x||null!=v.navigation.formMethod&&Ee(v.navigation.formMethod)&&!0!==(null==(i=t.state)?void 0:i._isRedirect);z(a({},n,{actionData:s,loaderData:c,historyAction:w,location:t,initialized:!0,navigation:ee,revalidation:"idle",restoreScrollPosition:ae(t,n.matches||v.matches),preventScrollReset:u,blockers:new Map(v.blockers)})),S||w===r.Pop||(w===r.Push?e.history.push(t,t.state):w===r.Replace&&e.history.replace(t,t.state)),w=r.Pop,x=!1,S=!1,E=!1,C=[],k=[]}async function U(n,o,c){m&&m.abort(),m=null,w=n,S=!0===(c&&c.startUninterruptedRevalidation),function(e,t){if(i&&s&&l){let n=t.map((e=>Te(e,v.loaderData))),r=s(e,n)||e.key;i[r]=l()}}(v.location,v.matches),x=!0===(c&&c.preventScrollReset);let u=c&&c.overrideNavigation,f=_(t,o,e.basename);if(!f){let e=ye(404,{pathname:o.pathname}),{matches:n,route:r}=ve(t);return X(),void F(o,{matches:n,loaderData:{},errors:{[r.id]:e}})}if(g=o,!((h=v.location).pathname!==g.pathname||h.search!==g.search||h.hash===g.hash||c&&c.submission&&Ee(c.submission.formMethod)))return void F(o,{matches:f});var h,g;m=new AbortController;let b,P,O=fe(e.history,o,m.signal,c&&c.submission);if(c&&c.pendingError)P={[ge(f).route.id]:c.pendingError};else if(c&&c.submission&&Ee(c.submission.formMethod)){let e=await async function(e,t,n,o,i){let s;G(),z({navigation:a({state:"submitting",location:t},n)});let l=Ie(o,t);if(l.route.action){if(s=await de("action",e,l,o,p.basename),e.signal.aborted)return{shortCircuited:!0}}else s={type:y.error,error:ye(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(Se(s)){let e;return e=i&&null!=i.replace?i.replace:s.location===v.location.pathname+v.location.search,await B(v,s,{submission:n,replace:e}),{shortCircuited:!0}}if(xe(s)){let e=ge(o,l.route.id);return!0!==(i&&i.replace)&&(w=r.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(we(s))throw ye(400,{type:"defer-action"});return{pendingActionData:{[l.route.id]:s.data}}}(O,o,c.submission,f,{replace:c.replace});if(e.shortCircuited)return;b=e.pendingActionData,P=e.pendingActionError,u=a({state:"loading",location:o},c.submission),O=new Request(O.url,{signal:O.signal})}let{shortCircuited:R,loaderData:D,errors:U}=await async function(t,n,r,o,i,s,l,c){let u=o;u||(u=a({state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},i));let f=i||(u.formMethod&&u.formAction&&u.formData&&u.formEncType?{formMethod:u.formMethod,formAction:u.formAction,formData:u.formData,formEncType:u.formEncType}:void 0),[p,h]=le(e.history,v,r,f,n,E,C,k,l,c,N);if(X((e=>!(r&&r.some((t=>t.route.id===e)))||p&&p.some((t=>t.route.id===e)))),0===p.length&&0===h.length)return F(n,a({matches:r,loaderData:{},errors:c||null},l?{actionData:l}:{})),{shortCircuited:!0};if(!S){h.forEach((e=>{let t=v.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(e.key,n)}));let e=l||v.actionData;z(a({navigation:u},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},h.length>0?{fetchers:new Map(v.fetchers)}:{}))}I=++T,h.forEach((e=>A.set(e.key,m)));let{results:g,loaderResults:y,fetcherResults:b}=await V(v.matches,r,p,h,t);if(t.signal.aborted)return{shortCircuited:!0};h.forEach((e=>A.delete(e.key)));let _=be(g);if(_)return await B(v,_,{replace:s}),{shortCircuited:!0};let{loaderData:w,errors:x}=he(v,r,p,y,c,h,b,L);return L.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&L.delete(t)}))})),function(){let e=[];for(let t of M){let n=v.fetchers.get(t);d(n,"Expected fetcher: "+t),"loading"===n.state&&(M.delete(t),e.push(t))}K(e)}(),a({loaderData:w,errors:x},$(I)||h.length>0?{fetchers:new Map(v.fetchers)}:{})}(O,o,f,u,c&&c.submission,c&&c.replace,b,P);R||(m=null,F(o,a({matches:f},b?{actionData:b}:{},{loaderData:D,errors:U})))}function j(e){return v.fetchers.get(e)||te}async function B(t,n,o){var i;let{submission:s,replace:l,isFetchActionRedirect:c}=void 0===o?{}:o;n.revalidate&&(E=!0);let u=h(t.location,n.location,a({_isRedirect:!0},c?{_isFetchActionRedirect:!0}:{}));if(d(u,"Expected a location on the redirect navigation"),re.test(n.location)&&oe&&void 0!==(null==(i=window)?void 0:i.location)){let t=e.history.createURL(n.location).origin;if(window.location.origin!==t)return void(l?window.location.replace(n.location):window.location.assign(n.location))}m=null;let f=!0===l?r.Replace:r.Push,{formMethod:p,formAction:g,formEncType:v,formData:y}=t.navigation;!s&&p&&g&&y&&v&&(s={formMethod:p,formAction:g,formEncType:v,formData:y}),Q.has(n.status)&&s&&Ee(s.formMethod)?await U(f,u,{submission:a({},s,{formAction:n.location}),preventScrollReset:x}):await U(f,u,{overrideNavigation:{state:"loading",location:u,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:x})}async function V(t,n,r,o,i){let a=await Promise.all([...r.map((e=>de("loader",i,e,n,p.basename))),...o.map((t=>de("loader",fe(e.history,t.path,i.signal),t.match,t.matches,p.basename)))]),s=a.slice(0,r.length),l=a.slice(r.length);return await Promise.all([Ce(t,r,s,i.signal,!1,v.loaderData),Ce(t,o.map((e=>e.match)),l,i.signal,!0)]),{results:a,loaderResults:s,fetcherResults:l}}function G(){E=!0,C.push(...X()),N.forEach(((e,t)=>{A.has(t)&&(k.push(t),W(t))}))}function q(e,t,n){let r=ge(v.matches,t);H(e),z({errors:{[r.route.id]:n},fetchers:new Map(v.fetchers)})}function H(e){A.has(e)&&W(e),N.delete(e),P.delete(e),M.delete(e),v.fetchers.delete(e)}function W(e){let t=A.get(e);d(t,"Expected fetch controller: "+e),t.abort(),A.delete(e)}function K(e){for(let t of e){let e={state:"idle",data:j(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(t,e)}}function $(e){let t=[];for(let[n,r]of P)if(r<e){let e=v.fetchers.get(n);d(e,"Expected fetcher: "+n),"loading"===e.state&&(W(n),P.delete(n),t.push(n))}return K(t),t.length>0}function Z(e){v.blockers.delete(e),R.delete(e)}function Y(e,t){let n=v.blockers.get(e)||ne;d("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),v.blockers.set(e,t),z({blockers:new Map(v.blockers)})}function J(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===R.size)return;R.size>1&&O(!1,"A router only supports one blocker at a time");let o=Array.from(R.entries()),[i,a]=o[o.length-1],s=v.blockers.get(i);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?i:void 0}function X(e){let t=[];return L.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),L.delete(r))})),t}function ae(e,t){if(i&&s&&l){let n=t.map((e=>Te(e,v.loaderData))),r=s(e,n)||e.key,o=i[r];if("number"==typeof o)return o}return null}return p={get basename(){return e.basename},get state(){return v},get routes(){return t},initialize:function(){return n=e.history.listen((t=>{let{action:n,location:r,delta:o}=t;if(D)return void(D=!1);O(0===R.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let i=J({currentLocation:v.location,nextLocation:r,historyAction:n});return i&&null!=o?(D=!0,e.history.go(-1*o),void Y(i,{state:"blocked",location:r,proceed(){Y(i,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(o)},reset(){Z(i),z({blockers:new Map(p.state.blockers)})}})):U(n,r)})),v.initialized||U(r.Pop,v.location),p},subscribe:function(e){return o.add(e),()=>o.delete(e)},enableScrollRestoration:function(e,t,n){if(i=e,l=t,s=n||(e=>e.key),!c&&v.navigation===ee){c=!0;let e=ae(v.location,v.matches);null!=e&&z({restoreScrollPosition:e})}return()=>{i=null,l=null,s=null}},navigate:async function t(n,o){if("number"==typeof n)return void e.history.go(n);let{path:i,submission:s,error:l}=se(n,o),c=v.location,u=h(v.location,i,o&&o.state);u=a({},u,e.history.encodeLocation(u));let d=o&&null!=o.replace?o.replace:void 0,f=r.Push;!0===d?f=r.Replace:!1===d||null!=s&&Ee(s.formMethod)&&s.formAction===v.location.pathname+v.location.search&&(f=r.Replace);let p=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,m=J({currentLocation:c,nextLocation:u,historyAction:f});if(!m)return await U(f,u,{submission:s,pendingError:l,preventScrollReset:p,replace:o&&o.replace});Y(m,{state:"blocked",location:u,proceed(){Y(m,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(n,o)},reset(){Z(m),z({blockers:new Map(v.blockers)})}})},fetch:function(n,r,o,i){if(ie)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");A.has(n)&&W(n);let s=_(t,o,e.basename);if(!s)return void q(n,r,ye(404,{pathname:o}));let{path:l,submission:c}=se(o,i,!0),u=Ie(s,l);x=!0===(i&&i.preventScrollReset),c&&Ee(c.formMethod)?async function(n,r,o,i,s,l){if(G(),N.delete(n),!i.route.action){let e=ye(405,{method:l.formMethod,pathname:o,routeId:r});return void q(n,r,e)}let c=v.fetchers.get(n),u=a({state:"submitting"},l,{data:c&&c.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(n,u),z({fetchers:new Map(v.fetchers)});let f=new AbortController,h=fe(e.history,o,f.signal,l);A.set(n,f);let g=await de("action",h,i,s,p.basename);if(h.signal.aborted)return void(A.get(n)===f&&A.delete(n));if(Se(g)){A.delete(n),M.add(n);let e=a({state:"loading"},l,{data:void 0," _hasFetcherDoneAnything ":!0});return v.fetchers.set(n,e),z({fetchers:new Map(v.fetchers)}),B(v,g,{isFetchActionRedirect:!0})}if(xe(g))return void q(n,r,g.error);if(we(g))throw ye(400,{type:"defer-action"});let y=v.navigation.location||v.location,b=fe(e.history,y,f.signal),x="idle"!==v.navigation.state?_(t,v.navigation.location,e.basename):v.matches;d(x,"Didn't find any matches after fetcher action");let S=++T;P.set(n,S);let O=a({state:"loading",data:g.data},l,{" _hasFetcherDoneAnything ":!0});v.fetchers.set(n,O);let[R,D]=le(e.history,v,x,l,y,E,C,k,{[i.route.id]:g.data},void 0,N);D.filter((e=>e.key!==n)).forEach((e=>{let t=e.key,n=v.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(t,r),A.set(t,f)})),z({fetchers:new Map(v.fetchers)});let{results:U,loaderResults:j,fetcherResults:H}=await V(v.matches,x,R,D,b);if(f.signal.aborted)return;P.delete(n),A.delete(n),D.forEach((e=>A.delete(e.key)));let W=be(U);if(W)return B(v,W);let{loaderData:K,errors:Z}=he(v,v.matches,R,j,void 0,D,H,L),Y={state:"idle",data:g.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(n,Y);let J=$(S);"loading"===v.navigation.state&&S>I?(d(w,"Expected pending action"),m&&m.abort(),F(v.navigation.location,{matches:x,loaderData:K,errors:Z,fetchers:new Map(v.fetchers)})):(z(a({errors:Z,loaderData:me(v.loaderData,K,x,Z)},J?{fetchers:new Map(v.fetchers)}:{})),E=!1)}(n,r,l,u,s,c):(N.set(n,{routeId:r,path:l,match:u,matches:s}),async function(t,n,r,o,i,s){let l=v.fetchers.get(t),c=a({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},s,{data:l&&l.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(t,c),z({fetchers:new Map(v.fetchers)});let u=new AbortController,f=fe(e.history,r,u.signal);A.set(t,u);let h=await de("loader",f,o,i,p.basename);if(we(h)&&(h=await ke(h,f.signal,!0)||h),A.get(t)===u&&A.delete(t),f.signal.aborted)return;if(Se(h))return void await B(v,h);if(xe(h)){let e=ge(v.matches,n);return v.fetchers.delete(t),void z({fetchers:new Map(v.fetchers),errors:{[e.route.id]:h.error}})}d(!we(h),"Unhandled fetcher deferred data");let m={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(t,m),z({fetchers:new Map(v.fetchers)})}(n,r,l,u,s,c))},revalidate:function(){G(),z({revalidation:"loading"}),"submitting"!==v.navigation.state&&("idle"!==v.navigation.state?U(w||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation}):U(v.historyAction,v.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:j,deleteFetcher:H,dispose:function(){n&&n(),o.clear(),m&&m.abort(),v.fetchers.forEach(((e,t)=>H(t))),v.blockers.forEach(((e,t)=>Z(t)))},getBlocker:function(e,t){let n=v.blockers.get(e)||ne;return R.get(e)!==t&&R.set(e,t),n},deleteBlocker:Z,_internalFetchControllers:A,_internalActiveDeferreds:L},p}function se(e,t,n){void 0===n&&(n=!1);let r,o="string"==typeof e?e:m(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:o};if(t.formMethod&&(i=t.formMethod,!J.has(i)))return{path:o,error:ye(405,{method:t.formMethod})};var i;if(t.formData&&(r={formMethod:t.formMethod||"get",formAction:_e(o),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},Ee(r.formMethod)))return{path:o,submission:r};let a=g(o),s=pe(t.formData);return n&&a.search&&Ae(a.search)&&s.append("index",""),a.search="?"+s,{path:m(a),submission:r}}function le(e,t,n,r,o,i,s,l,c,u,d){let f=u?Object.values(u)[0]:c?Object.values(c)[0]:void 0,p=e.createURL(t.location),h=e.createURL(o),m=i||p.toString()===h.toString()||p.search!==h.search,g=u?Object.keys(u)[0]:void 0,v=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(n,g).filter(((e,n)=>{if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,o=void 0===e[n.route.id];return r||o}(t.loaderData,t.matches[n],e)||s.some((t=>t===e.route.id)))return!0;let o=t.matches[n],i=e;return ue(e,a({currentUrl:p,currentParams:o.params,nextUrl:h,nextParams:i.params},r,{actionResult:f,defaultShouldRevalidate:m||ce(o,i)}))})),y=[];return d&&d.forEach(((e,o)=>{n.some((t=>t.route.id===e.routeId))&&(l.includes(o)||ue(e.match,a({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:f,defaultShouldRevalidate:m})))&&y.push(a({key:o},e))})),[v,y]}function ce(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ue(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function de(e,t,n,r,o,i,a,s){let l,c,u;void 0===o&&(o="/"),void 0===i&&(i=!1),void 0===a&&(a=!1);let f=new Promise(((e,t)=>u=t)),p=()=>u();t.signal.addEventListener("abort",p);try{let r=n.route[e];d(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),c=await Promise.race([r({request:t,params:n.params,context:s}),f]),d(void 0!==c,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=y.error,c=e}finally{t.signal.removeEventListener("abort",p)}if(null!=(h=c)&&"number"==typeof h.status&&"string"==typeof h.statusText&&"object"==typeof h.headers&&void 0!==h.body){let e,s=c.status;if(X.has(s)){let e=c.headers.get("Location");if(d(e,"Redirects returned/thrown from loaders/actions must have a Location header"),re.test(e)){if(!i){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e);r.origin===n.origin&&(e=r.pathname+r.search+r.hash)}}else{let i=R(e,L(r.slice(0,r.indexOf(n)+1)).map((e=>e.pathnameBase)),new URL(t.url).pathname);if(d(m(i),"Unable to resolve redirect location: "+e),o){let e=i.pathname;i.pathname="/"===e?o:D([o,e])}e=m(i)}if(i)throw c.headers.set("Location",e),c;return{type:y.redirect,status:s,location:e,revalidate:null!==c.headers.get("X-Remix-Revalidate")}}if(a)throw{type:l||y.data,response:c};let u=c.headers.get("Content-Type");return e=u&&/\bapplication\/json\b/.test(u)?await c.json():await c.text(),l===y.error?{type:l,error:new W(s,c.statusText,e),headers:c.headers}:{type:y.data,data:e,statusCode:c.status,headers:c.headers}}var h;return l===y.error?{type:l,error:c}:c instanceof V?{type:y.deferred,deferredData:c}:{type:y.data,data:c}}function fe(e,t,n,r){let o=e.createURL(_e(t)).toString(),i={signal:n};if(r&&Ee(r.formMethod)){let{formMethod:e,formEncType:t,formData:n}=r;i.method=e.toUpperCase(),i.body="application/x-www-form-urlencoded"===t?pe(n):n}return new Request(o,i)}function pe(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function he(e,t,n,r,o,i,s,l){let{loaderData:c,errors:u}=function(e,t,n,r,o){let i,a={},s=null,l=!1,c={};return n.forEach(((n,u)=>{let f=t[u].route.id;if(d(!Se(n),"Cannot handle redirect results in processLoaderData"),xe(n)){let t=ge(e,f),o=n.error;r&&(o=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=o),a[f]=void 0,l||(l=!0,i=K(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else we(n)?(o.set(f,n.deferredData),a[f]=n.deferredData.data):a[f]=n.data,null==n.statusCode||200===n.statusCode||l||(i=n.statusCode),n.headers&&(c[f]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:i||200,loaderHeaders:c}}(t,n,r,o,l);for(let t=0;t<i.length;t++){let{key:n,match:r}=i[t];d(void 0!==s&&void 0!==s[t],"Did not find corresponding fetcher result");let o=s[t];if(xe(o)){let t=ge(e.matches,r.route.id);u&&u[t.route.id]||(u=a({},u,{[t.route.id]:o.error})),e.fetchers.delete(n)}else if(Se(o))d(!1,"Unhandled fetcher revalidation redirect");else if(we(o))d(!1,"Unhandled fetcher deferred data");else{let t={state:"idle",data:o.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(n,t)}}return{loaderData:c,errors:u}}function me(e,t,n,r){let o=a({},t);for(let i of n){let n=i.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&(o[n]=e[n]),r&&r.hasOwnProperty(n))break}return o}function ge(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ve(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ye(e,t){let{pathname:n,routeId:r,method:o,type:i}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",o&&n&&r?s="You made a "+o+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===i&&(s="defer() is not supported in actions")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",o&&n&&r?s="You made a "+o.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':o&&(s='Invalid request method "'+o.toUpperCase()+'"')),new W(e||500,a,new Error(s),!0)}function be(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Se(n))return n}}function _e(e){return m(a({},"string"==typeof e?g(e):e,{hash:""}))}function we(e){return e.type===y.deferred}function xe(e){return e.type===y.error}function Se(e){return(e&&e.type)===y.redirect}function Ee(e){return Z.has(e)}async function Ce(e,t,n,r,o,i){for(let a=0;a<n.length;a++){let s=n[a],l=t[a],c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!ce(c,l)&&void 0!==(i&&i[l.route.id]);we(s)&&(o||u)&&await ke(s,r,o).then((e=>{e&&(n[a]=e||n[a])}))}}async function ke(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(e){return{type:y.error,error:e}}return{type:y.data,data:e.deferredData.data}}}function Ae(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Te(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function Ie(e,t){let n="string"==typeof t?g(t).search:t.search;if(e[e.length-1].route.index&&Ae(n||""))return e[e.length-1];let r=L(e);return r[r.length-1]}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}Symbol("deferred");"function"==typeof Object.is&&Object.is;const{useState:Oe,useEffect:Me,useLayoutEffect:Ne,useDebugValue:Le}=i;"undefined"==typeof window||void 0===window.document||window.document.createElement;const Re=i.useSyncExternalStore,De=o.createContext(null),ze=o.createContext(null),Fe=o.createContext(null),Ue=o.createContext(null),je=o.createContext(null),Be=o.createContext({outlet:null,matches:[]}),Ve=o.createContext(null);function Ge(e,t){let{relative:n}=void 0===t?{}:t;qe()||d(!1);let{basename:r,navigator:i}=o.useContext(Ue),{hash:a,pathname:s,search:l}=Qe(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:D([r,s])),i.createHref({pathname:c,search:l,hash:a})}function qe(){return null!=o.useContext(je)}function He(){return qe()||d(!1),o.useContext(je).location}function We(){return o.useContext(je).navigationType}function Ke(e){qe()||d(!1);let{pathname:t}=He();return o.useMemo((()=>T(e,t)),[t,e])}function $e(){qe()||d(!1);let{basename:e,navigator:t}=o.useContext(Ue),{matches:n}=o.useContext(Be),{pathname:r}=He(),i=JSON.stringify(L(n).map((e=>e.pathnameBase))),a=o.useRef(!1);return o.useEffect((()=>{a.current=!0})),o.useCallback((function(n,o){if(void 0===o&&(o={}),!a.current)return;if("number"==typeof n)return void t.go(n);let s=R(n,JSON.parse(i),r,"path"===o.relative);"/"!==e&&(s.pathname="/"===s.pathname?e:D([e,s.pathname])),(o.replace?t.replace:t.push)(s,o.state,o)}),[e,t,i,r])}const Ze=o.createContext(null);function Ye(){return o.useContext(Ze)}function Je(e){let t=o.useContext(Be).outlet;return t?o.createElement(Ze.Provider,{value:e},t):t}function Xe(){let{matches:e}=o.useContext(Be),t=e[e.length-1];return t?t.params:{}}function Qe(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=o.useContext(Be),{pathname:i}=He(),a=JSON.stringify(L(r).map((e=>e.pathnameBase)));return o.useMemo((()=>R(e,JSON.parse(a),i,"path"===n)),[e,a,i,n])}function et(e,t){qe()||d(!1);let{navigator:n}=o.useContext(Ue),i=o.useContext(ze),{matches:a}=o.useContext(Be),s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,f=He();if(t){var p;let e="string"==typeof t?g(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||d(!1),u=e}else u=f;let h=u.pathname||"/",m=_(e,{pathname:"/"===c?h:h.slice(c.length)||"/"}),v=ot(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:D([c,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:D([c,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i||void 0);return t&&v?o.createElement(je.Provider,{value:{location:Pe({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:r.Pop}},v):v}function tt(){let e=gt(),t=K(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:r},n):null,null)}class nt extends o.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?o.createElement(Be.Provider,{value:this.props.routeContext},o.createElement(Ve.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rt(e){let{routeContext:t,match:n,children:r}=e,i=o.useContext(De);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(Be.Provider,{value:t},r)}function ot(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let r=e,i=null==n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||d(!1),r=r.slice(0,Math.min(r.length,e+1))}return r.reduceRight(((e,a,s)=>{let l=a.route.id?null==i?void 0:i[a.route.id]:null,c=n?a.route.errorElement||o.createElement(tt,null):null,u=t.concat(r.slice(0,s+1)),d=()=>o.createElement(rt,{match:a,routeContext:{outlet:e,matches:u}},l?c:void 0!==a.route.element?a.route.element:e);return n&&(a.route.errorElement||0===s)?o.createElement(nt,{location:n.location,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u}}):d()}),null)}var it,at;function st(e){let t=o.useContext(De);return t||d(!1),t}function lt(e){let t=o.useContext(ze);return t||d(!1),t}function ct(e){let t=function(e){let t=o.useContext(Be);return t||d(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}function ut(){return lt(at.UseNavigation).navigation}function dt(){let e=st(it.UseRevalidator),t=lt(at.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function ft(){let{matches:e,loaderData:t}=lt(at.UseMatches);return o.useMemo((()=>e.map((e=>{let{pathname:n,params:r}=e;return{id:e.route.id,pathname:n,params:r,data:t[e.route.id],handle:e.route.handle}}))),[e,t])}function pt(){let e=lt(at.UseLoaderData),t=ct(at.UseLoaderData);if(!e.errors||null==e.errors[t])return e.loaderData[t];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")")}function ht(e){return lt(at.UseRouteLoaderData).loaderData[e]}function mt(){let e=lt(at.UseActionData);return o.useContext(Be)||d(!1),Object.values((null==e?void 0:e.actionData)||{})[0]}function gt(){var e;let t=o.useContext(Ve),n=lt(at.UseRouteError),r=ct(at.UseRouteError);return t||(null==(e=n.errors)?void 0:e[r])}function vt(){let e=o.useContext(Fe);return null==e?void 0:e._data}function yt(){let e=o.useContext(Fe);return null==e?void 0:e._error}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(it||(it={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(at||(at={}));let bt=0;function _t(e){let{router:t}=st(it.UseBlocker),[n]=o.useState((()=>String(++bt))),r=o.useCallback((t=>"function"==typeof e?!!e(t):!!e),[e]),i=t.getBlocker(n,r);return o.useEffect((()=>()=>t.deleteBlocker(n)),[t,n]),i}function wt(e){let{fallbackElement:t,router:n}=e,r=Re(n.subscribe,(()=>n.state),(()=>n.state)),i=o.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),a=n.basename||"/";return o.createElement(o.Fragment,null,o.createElement(De.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},o.createElement(ze.Provider,{value:r},o.createElement(kt,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?o.createElement(At,null):t))),null)}function xt(e){let{basename:t,children:n,initialEntries:r,initialIndex:i}=e,a=o.useRef();null==a.current&&(a.current=l({initialEntries:r,initialIndex:i,v5Compat:!0}));let s=a.current,[c,u]=o.useState({action:s.action,location:s.location});return o.useLayoutEffect((()=>s.listen(u)),[s]),o.createElement(kt,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s})}function St(e){let{to:t,replace:n,state:r,relative:i}=e;qe()||d(!1);let a=o.useContext(ze),s=$e();return o.useEffect((()=>{a&&"idle"!==a.navigation.state||s(t,{replace:n,state:r,relative:i})})),null}function Et(e){return Je(e.context)}function Ct(e){d(!1)}function kt(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:s,static:l=!1}=e;qe()&&d(!1);let c=t.replace(/^\/*/,"/"),u=o.useMemo((()=>({basename:c,navigator:s,static:l})),[c,s,l]);"string"==typeof i&&(i=g(i));let{pathname:f="/",search:p="",hash:h="",state:m=null,key:v="default"}=i,y=o.useMemo((()=>{let e=P(f,c);return null==e?null:{pathname:e,search:p,hash:h,state:m,key:v}}),[c,f,p,h,m,v]);return null==y?null:o.createElement(Ue.Provider,{value:u},o.createElement(je.Provider,{children:n,value:{location:y,navigationType:a}}))}function At(e){let{children:t,location:n}=e,r=o.useContext(De);return et(r&&!t?r.router.routes:Nt(t),n)}function Tt(e){let{children:t,errorElement:n,resolve:r}=e;return o.createElement(Ot,{resolve:r,errorElement:n},o.createElement(Mt,null,t))}var It;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(It||(It={}));const Pt=new Promise((()=>{}));class Ot extends o.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,i=It.pending;if(n instanceof Promise)if(this.state.error){i=It.error;let e=this.state.error;r=Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(r=n,i=void 0!==r._error?It.error:void 0!==r._data?It.success:It.pending):(i=It.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else i=It.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(i===It.error&&r._error instanceof B)throw Pt;if(i===It.error&&!t)throw r._error;if(i===It.error)return o.createElement(Fe.Provider,{value:r,children:t});if(i===It.success)return o.createElement(Fe.Provider,{value:r,children:e});throw r}}function Mt(e){let{children:t}=e,n=vt(),r="function"==typeof t?t(n):t;return o.createElement(o.Fragment,null,r)}function Nt(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;if(e.type===o.Fragment)return void n.push.apply(n,Nt(e.props.children,t));e.type!==Ct&&d(!1),e.props.index&&e.props.children&&d(!1);let i=[...t,r],a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=Nt(e.props.children,i)),n.push(a)})),n}function Lt(e){return ot(e)}function Rt(e){return e.map((e=>{let t=Pe({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=Rt(t.children)),t}))}function Dt(e,t){return ae({basename:null==t?void 0:t.basename,history:l({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:Rt(e)}).initialize()}function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Ft(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}const Ut="get",jt="application/x-www-form-urlencoded";function Bt(e){return null!=e&&"string"==typeof e.tagName}function Vt(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}const Gt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],qt=["aria-current","caseSensitive","className","end","style","to","children"],Ht=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function Wt(e,t){return ae({basename:null==t?void 0:t.basename,history:c({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||$t(),routes:Rt(e)}).initialize()}function Kt(e,t){return ae({basename:null==t?void 0:t.basename,history:u({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||$t(),routes:Rt(e)}).initialize()}function $t(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=zt({},t,{errors:Zt(t.errors)})),t}function Zt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[e]=new W(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){let t=new Error(r.message);t.stack="",n[e]=t}else n[e]=r;return n}function Yt(e){let{basename:t,children:n,window:r}=e,i=o.useRef();null==i.current&&(i.current=c({window:r,v5Compat:!0}));let a=i.current,[s,l]=o.useState({action:a.action,location:a.location});return o.useLayoutEffect((()=>a.listen(l)),[a]),o.createElement(kt,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}function Jt(e){let{basename:t,children:n,window:r}=e,i=o.useRef();null==i.current&&(i.current=u({window:r,v5Compat:!0}));let a=i.current,[s,l]=o.useState({action:a.action,location:a.location});return o.useLayoutEffect((()=>a.listen(l)),[a]),o.createElement(kt,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}function Xt(e){let{basename:t,children:n,history:r}=e;const[i,a]=o.useState({action:r.action,location:r.location});return o.useLayoutEffect((()=>r.listen(a)),[r]),o.createElement(kt,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:r})}const Qt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,en=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d}=e,f=Ft(e,Gt),p=!1;if(Qt&&"string"==typeof u&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(u)){n=u;let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u);t.origin===e.origin?u=t.pathname+t.search+t.hash:p=!0}let h=Ge(u,{relative:i}),m=un(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i});return o.createElement("a",zt({},f,{href:n||h,onClick:p||a?r:function(e){r&&r(e),e.defaultPrevented||m(e)},ref:t,target:c}))})),tn=o.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:s,to:l,children:c}=e,u=Ft(e,qt),d=Qe(l,{relative:u.relative}),f=He(),p=o.useContext(ze),{navigator:h}=o.useContext(Ue),m=h.encodeLocation?h.encodeLocation(d).pathname:d.pathname,g=f.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(g=g.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase());let y,b=g===m||!a&&g.startsWith(m)&&"/"===g.charAt(m.length),_=null!=v&&(v===m||!a&&v.startsWith(m)&&"/"===v.charAt(m.length)),w=b?n:void 0;y="function"==typeof i?i({isActive:b,isPending:_}):[i,b?"active":null,_?"pending":null].filter(Boolean).join(" ");let x="function"==typeof s?s({isActive:b,isPending:_}):s;return o.createElement(en,zt({},u,{"aria-current":w,className:y,ref:t,style:x,to:l}),"function"==typeof c?c({isActive:b,isPending:_}):c)})),nn=o.forwardRef(((e,t)=>o.createElement(rn,zt({},e,{ref:t})))),rn=o.forwardRef(((e,t)=>{let{reloadDocument:n,replace:r,method:i=Ut,action:a,onSubmit:s,fetcherKey:l,routeId:c,relative:u,preventScrollReset:d}=e,f=Ft(e,Ht),p=pn(l,c),h="get"===i.toLowerCase()?"get":"post",m=hn(a,{relative:u});return o.createElement("form",zt({ref:t,method:h,action:m,onSubmit:n?s:e=>{if(s&&s(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null==t?void 0:t.getAttribute("formmethod"))||i;p(t||e.currentTarget,{method:n,replace:r,relative:u,preventScrollReset:d})}},f))}));function on(e){let{getKey:t,storageKey:n}=e;return _n({getKey:t,storageKey:n}),null}var an,sn;function ln(e){let t=o.useContext(De);return t||d(!1),t}function cn(e){let t=o.useContext(ze);return t||d(!1),t}function un(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s}=void 0===t?{}:t,l=$e(),c=He(),u=Qe(e,{relative:s});return o.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:m(c)===m(u);l(e,{replace:n,state:i,preventScrollReset:a,relative:s})}}),[c,l,u,r,i,n,e,a,s])}function dn(e){let t=o.useRef(Vt(e)),n=o.useRef(!1),r=He(),i=o.useMemo((()=>function(e,t){let n=Vt(e);if(t)for(let e of t.keys())n.has(e)||t.getAll(e).forEach((t=>{n.append(e,t)}));return n}(r.search,n.current?null:t.current)),[r.search]),a=$e(),s=o.useCallback(((e,t)=>{const r=Vt("function"==typeof e?e(i):e);n.current=!0,a("?"+r,t)}),[a,i]);return[i,s]}function fn(){return pn()}function pn(e,t){let{router:n}=ln(an.UseSubmitImpl),r=hn();return o.useCallback((function(o,i){if(void 0===i&&(i={}),"undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:a,encType:s,formData:l,url:c}=function(e,t,n){let r,o,i,a;if(Bt(s=e)&&"form"===s.tagName.toLowerCase()){let s=n.submissionTrigger;r=n.method||e.getAttribute("method")||Ut,o=n.action||e.getAttribute("action")||t,i=n.encType||e.getAttribute("enctype")||jt,a=new FormData(e),s&&s.name&&a.append(s.name,s.value)}else if(function(e){return Bt(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Bt(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');r=n.method||e.getAttribute("formmethod")||s.getAttribute("method")||Ut,o=n.action||e.getAttribute("formaction")||s.getAttribute("action")||t,i=n.encType||e.getAttribute("formenctype")||s.getAttribute("enctype")||jt,a=new FormData(s),e.name&&a.append(e.name,e.value)}else{if(Bt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(r=n.method||Ut,o=n.action||t,i=n.encType||jt,e instanceof FormData)a=e;else if(a=new FormData,e instanceof URLSearchParams)for(let[t,n]of e)a.append(t,n);else if(null!=e)for(let t of Object.keys(e))a.append(t,e[t])}var s;let{protocol:l,host:c}=window.location;return{url:new URL(o,l+"//"+c),method:r.toLowerCase(),encType:i,formData:a}}(o,r,i),u=c.pathname+c.search,f={replace:i.replace,preventScrollReset:i.preventScrollReset,formData:l,formMethod:a,formEncType:s};e?(null==t&&d(!1),n.fetch(e,t,u,f)):n.navigate(u,f)}),[r,n,e,t])}function hn(e,t){let{relative:n}=void 0===t?{}:t,{basename:r}=o.useContext(Ue),i=o.useContext(Be);i||d(!1);let[a]=i.matches.slice(-1),s=zt({},Qe(e||".",{relative:n})),l=He();if(null==e&&(s.search=l.search,s.hash=l.hash,a.route.index)){let e=new URLSearchParams(s.search);e.delete("index"),s.search=e.toString()?"?"+e.toString():""}return e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(s.pathname="/"===s.pathname?r:D([r,s.pathname])),m(s)}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(an||(an={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(sn||(sn={}));let mn=0;function gn(){var e;let{router:t}=ln(an.UseFetcher),n=o.useContext(Be);n||d(!1);let r=null==(e=n.matches[n.matches.length-1])?void 0:e.route.id;null==r&&d(!1);let[i]=o.useState((()=>String(++mn))),[a]=o.useState((()=>(r||d(!1),function(e,t){return o.forwardRef(((n,r)=>o.createElement(rn,zt({},n,{ref:r,fetcherKey:e,routeId:t}))))}(i,r)))),[s]=o.useState((()=>e=>{t||d(!1),r||d(!1),t.fetch(i,r,e)})),l=pn(i,r),c=t.getFetcher(i),u=o.useMemo((()=>zt({Form:a,submit:l,load:s},c)),[c,a,l,s]);return o.useEffect((()=>()=>{t?t.deleteFetcher(i):console.warn("No fetcher available to clean up from useFetcher()")}),[t,i]),u}function vn(){return[...cn(sn.UseFetchers).fetchers.values()]}const yn="react-router-scroll-positions";let bn={};function _n(e){let{getKey:t,storageKey:n}=void 0===e?{}:e,{router:r}=ln(an.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:a}=cn(sn.UseScrollRestoration),s=He(),l=ft(),c=ut();o.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),function(e,t){let{capture:n}={};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}}),[e,n])}(o.useCallback((()=>{if("idle"===c.state){let e=(t?t(s,l):null)||s.key;bn[e]=window.scrollY}sessionStorage.setItem(n||yn,JSON.stringify(bn)),window.history.scrollRestoration="auto"}),[n,t,c.state,s,l])),"undefined"!=typeof document&&(o.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(n||yn);e&&(bn=JSON.parse(e))}catch(e){}}),[n]),o.useLayoutEffect((()=>{let e=null==r?void 0:r.enableScrollRestoration(bn,(()=>window.scrollY),t);return()=>e&&e()}),[r,t]),o.useLayoutEffect((()=>{if(!1!==i)if("number"!=typeof i){if(s.hash){let e=document.getElementById(s.hash.slice(1));if(e)return void e.scrollIntoView()}!0!==a&&window.scrollTo(0,0)}else window.scrollTo(0,i)}),[s,i,a]))}function wn(e,t){let{capture:n}=t||{};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}}),[e,n])}function xn(e){let{when:t,message:n}=e,r=_t(t);o.useEffect((()=>{"blocked"!==r.state||t||r.reset()}),[r,t]),o.useEffect((()=>{"blocked"===r.state&&(window.confirm(n)?setTimeout(r.proceed,0):r.reset())}),[r,n])}},75251:(e,t,n)=>{"use strict";var r=n(67294),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},72408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+T(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),I(a,t,o,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+T(s=e[c],c);l+=I(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=I(s=s.value,t,o,u=i+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},N={transition:null},L={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},28660:(e,t,n)=>{var r;!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:o=i(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,a={__proto__:[]}instanceof Array,s=!i&&!a,l={create:i?function(){return R(Object.create(null))}:a?function(){return R({__proto__:null})}:function(){return R({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,f=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,p=new(u||"function"!=typeof WeakMap?function(){var e=l.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+a()}while(l.has(e,t));return e[t]=!0,t}function o(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function i(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function a(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):i(new Uint8Array(e),e):i(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<16;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function h(e,t,n){var r=p.get(e);if(S(r)){if(!n)return;r=new d,p.set(e,r)}var o=r.get(t);if(S(o)){if(!n)return;o=new d,r.set(t,o)}return o}function m(e,t,n){if(g(e,t,n))return!0;var r=L(t);return!E(r)&&m(e,r,n)}function g(e,t,n){var r=h(t,n,!1);return!S(r)&&!!r.has(e)}function v(e,t,n){if(g(e,t,n))return y(e,t,n);var r=L(t);return E(r)?void 0:v(e,r,n)}function y(e,t,n){var r=h(t,n,!1);if(!S(r))return r.get(e)}function b(e,t,n,r){h(n,r,!0).set(e,t)}function _(e,t){var n=w(e,t),r=L(e);if(null===r)return n;var o=_(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new f,a=[],s=0,l=n;s<l.length;s++){var c=l[s];i.has(c)||(i.add(c),a.push(c))}for(var u=0,d=o;u<d.length;u++)c=d[u],i.has(c)||(i.add(c),a.push(c));return a}function w(e,t){var n=[],r=h(e,t,!1);if(S(r))return n;for(var i=function(e){var t=O(e,o);if(!I(t))throw new TypeError;var n=t.call(e);if(!C(n))throw new TypeError;return n}(r.keys()),a=0;;){var s=M(i);if(!s)return n.length=a,n;var l=s.value;try{n[a]=l}catch(e){try{N(i)}finally{throw e}}a++}}function x(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function S(e){return void 0===e}function E(e){return null===e}function C(e){return"object"==typeof e?null!==e:"function"==typeof e}function k(e,t){switch(x(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=O(e,r);if(void 0!==o){var i=o.call(e,n);if(C(i))throw new TypeError;return i}return function(e,t){if("string"===t){var n=e.toString;if(I(n)&&!C(o=n.call(e)))return o;if(I(r=e.valueOf)&&!C(o=r.call(e)))return o}else{var r;if(I(r=e.valueOf)&&!C(o=r.call(e)))return o;var o,i=e.toString;if(I(i)&&!C(o=i.call(e)))return o}throw new TypeError}(e,"default"===n?"number":n)}function A(e){var t=k(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function T(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function I(e){return"function"==typeof e}function P(e){return"function"==typeof e}function O(e,t){var n=e[t];if(null!=n){if(!I(n))throw new TypeError;return n}}function M(e){var t=e.next();return!t.done&&t}function N(e){var t=e.return;t&&t.call(e)}function L(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function R(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(S(n)){if(!T(e))throw new TypeError;if(!P(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!S(r)&&!E(r)){if(!P(r))throw new TypeError;t=r}}return t}(e,t)}if(!T(e))throw new TypeError;if(!C(t))throw new TypeError;if(!C(r)&&!S(r)&&!E(r))throw new TypeError;return E(r)&&(r=void 0),function(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!S(i)&&!E(i)){if(!C(i))throw new TypeError;r=i}}return r}(e,t,n=A(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!C(n))throw new TypeError;if(!S(r)&&!function(e){switch(x(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;b(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!C(n))throw new TypeError;return S(r)||(r=A(r)),b(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return S(n)||(n=A(n)),m(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return S(n)||(n=A(n)),g(e,t,n)})),e("getMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return S(n)||(n=A(n)),v(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return S(n)||(n=A(n)),y(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!C(e))throw new TypeError;return S(t)||(t=A(t)),_(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!C(e))throw new TypeError;return S(t)||(t=A(t)),w(e,t)})),e("deleteMetadata",(function(e,t,n){if(!C(t))throw new TypeError;S(n)||(n=A(n));var r=h(t,n,!1);if(S(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=p.get(t);return o.delete(n),o.size>0||p.delete(t),!0}))}(o)}()}(r||(r={}))},60053:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,N(x);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,y(k),k=-1),h=!0;var i=p;try{for(_(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!I());){var a=f.callback;if("function"==typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?f.callback=s:f===r(c)&&o(c),_(n)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{f=null,p=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,k=-1,A=5,T=-1;function I(){return!(t.unstable_now()-T<A)}function P(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"==typeof b)S=function(){b(P)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=P,S=function(){M.postMessage(null)}}else S=function(){v(P,0)};function N(e){C=e,E||(E=!0,S())}function L(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,N(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,L(w,i-a))):(e.sortIndex=s,n(c,e),m||h||(m=!0,N(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},25547:(e,t,n)=>{var r=n(16580);e.exports=function e(t,n,o){if(null==t)return{};var i,a,s,l,c,u,d=t[0]||{},f=1,p=t.length;for(o=o||[],"object"!=typeof d&&(d={});f<p;f++)if(null!=(c=t[f]))for(l in c)if(c.hasOwnProperty(l)&&"__proto__"!==l&&(i=d[l],d!==(s=c[l])))if(s&&(r.isPlainObject(s)||(a=r.isArray(s)))){a?(a=!1,u=i&&r.isArray(i)?i:[]):u=i&&r.isPlainObject(i)?i:{};var h=o.slice(0);h.push(l),d[l]=e([u,s],n,h)}else void 0!==s&&(null!=i&&"function"==typeof n&&n({target:d,copy:c,path:o,key:l}),d[l]=s);return d}},16580:(e,t,n)=>{const r=n(37240),o=function(e,t){Object.keys(e||{}).forEach((n=>{let r=e[n];t(r,n)}))},i=function(e){return null==e||"object"!=typeof e?e:e instanceof Array?e.reduce(((e,t,n)=>(e[n]=i(t),e)),[]):e instanceof Object?Object.keys(e||{}).reduce(((t,n)=>(t[n]=i(e[n]),t)),{}):void 0},a=function(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)},s=function(e,t){return a(t)?Object.keys(t).every((n=>s(e[n],t[n]))):e==t},l={transform:r.camelCaseTransformMerge};var c;e.exports={each:o,forEach:o,forIn:o,keys:Object.keys,clone:function(e){return Object.assign(new e.constructor,e)},cloneDeep:i,extend:Object.assign,isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return Array.isArray(e)},isObject:a,isPlainObject:function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},isEmpty:function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length},filter:function(e,t){if("function"!=typeof t)throw"filter is not a function";return void 0===e?[]:e.filter(t)},reduce:function(e,t,n){return Object.keys(e||{}).reduce(((n,r)=>{let o=e[r];return t(n,o,r,e)}),n)},assign:function(){let e=Array.prototype.slice.call(arguments);return e.unshift({}),Object.assign(...e)},upperFirst:function(e){return e?e[0].toUpperCase()+e.substr(1):""},camelCase:(c=r.camelCase,(e,t)=>c(e,Object.assign({},l,undefined,t))),snakeCase:r.snakeCase,kebabCase:r.paramCase,pull:function(e,...t){var n=new Set(t);for(let t=e.length-1;t>=0;t--)n.has(e[t])&&e.splice(t,1)},matches:function(e){let t=i(e);return e=>s(e,t)},unique:function(e){return[...new Set(e)]}}},17460:(e,t,n)=>{var r=n(16580);e.exports=function e(t,n){for(var o in n=n||[],t)t.hasOwnProperty(o)&&(r.isPlainObject(t[o])&&"value"in t[o]?n.push(t[o]):r.isPlainObject(t[o])&&e(t[o],n));return n}},17617:(e,t,n)=>{const r=n(72043);e.exports=function(e={}){const t=Object.assign({},r,e);return new RegExp("\\"+t.opening_character+"([^"+t.closing_character+"]+)\\"+t.closing_character,"g")}},72043:e=>{e.exports={opening_character:"{",closing_character:"}",separator:"."}},46239:(e,t,n)=>{const r=n(17617);e.exports=function e(t,n={}){const o=n instanceof RegExp?n:r(n);if("string"==typeof t)return o.test(t);if("object"==typeof t){let r=!1;for(const o in t)if(t.hasOwnProperty(o)&&e(t[o],n)){r=!0;break}return r}return!1}},94395:function(e){var t;t=function(){var e=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function t(t){return t.match(e)||[]}function n(e){return{language:(e=t(e))[1]||"",extlang:e[2]||"",script:e[3]||"",region:e[4]||""}}function r(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!0})}function o(e,o,i){function a(n){return t(n)[e]||""}r(a,"pattern",o),r(n,i,a)}return o(1,/^[a-zA-Z]{2,3}$/,"language"),o(2,/^[a-zA-Z]{3}$/,"extlang"),o(3,/^[a-zA-Z]{4}$/,"script"),o(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),r(n,"split",(function(e){return t(e).filter((function(e,t){return e&&t}))})),n},e.exports?e.exports=t():this.subtag=t()},59162:(e,t,n)=>{"use strict";var r=n(69097);e.exports=r,"undefined"!=typeof window&&(window.Suggestions=r)},23405:e=>{"use strict";var t=function(e){return this.component=e,this.items=[],this.active=e.options.noInitialSelection?-1:0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};t.prototype.show=function(){this.element.style.display="block"},t.prototype.hide=function(){this.element.style.display="none"},t.prototype.add=function(e){this.items.push(e)},t.prototype.clear=function(){this.items=[],this.active=this.component.options.noInitialSelection?-1:0},t.prototype.isEmpty=function(){return!this.items.length},t.prototype.isVisible=function(){return"block"===this.element.style.display},t.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()}else this.hide()},t.prototype.drawItem=function(e,t){var n=document.createElement("li"),r=document.createElement("a");t&&(n.className+=" active"),r.innerHTML=e.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))},t.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},t.prototype.move=function(e){this.active=e,this.draw()},t.prototype.previous=function(){this.move(this.active<=0?this.items.length-1:this.active-1)},t.prototype.next=function(){this.move(this.active>=this.items.length-1?0:this.active+1)},t.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},e.exports=t},69097:(e,t,n)=>{"use strict";var r=n(47529),o=n(43261),i=n(23405),a=function(e,t,n){return n=n||{},this.options=r({minLength:2,limit:5,filter:!0,hideOnBlur:!0,noInitialSelection:!0},n),this.el=e,this.data=t||[],this.list=new i(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(e){this.handleKeyUp(e.keyCode,e)}.bind(this),!1),this.el.addEventListener("keydown",function(e){this.handleKeyDown(e)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(e){this.handlePaste(e)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(e,t){40!==e&&38!==e&&27!==e&&9!==e&&(13!==e?this.handleInputChange(this.el.value):this.list.items[this.list.active]&&(this.list.handleMouseUp(this.list.items[this.list.active]),t.stopPropagation()))},a.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:this.list.active>=0&&(this.list.selectingListItem=!0);break;case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.active>=0?this.list.items[this.list.active].original:null),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},a.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout((function(){t.handleInputChange(e.target.value)}),100)}},a.prototype.handleInputChange=function(e){this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(e){this.data=e,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(e){return e.toLowerCase()},a.prototype.match=function(e,t){return e.indexOf(t)>-1},a.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e||{place_name:this.query}),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(e){return this.getItemValue(e)}.bind(this)};e(this.options.filter?o.filter(this.query,this.data,t).map(function(e){return{original:e.original,string:this.render(e.original,e.string)}}.bind(this)):this.data.map(function(e){return{original:e,string:this.render(e)}}.bind(this)))},a.prototype.getItemValue=function(e){return e},a.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),r=this.normalize(n),o=r.lastIndexOf(this.query);o>-1;){var i=o+this.query.length;n=n.slice(0,o)+"<strong>"+n.slice(o,i)+"</strong>"+n.slice(i),o=r.slice(0,o).lastIndexOf(this.query)}return n},a.prototype.renderError=function(e){this.list.drawError(e)},e.exports=a},17621:(e,t,n)=>{var r;!function(o){var i=/^\s+/,a=/\s+$/,s=0,l=o.round,c=o.min,u=o.max,d=o.random;function f(e,t){if(t=t||{},(e=e||"")instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=function(e){var t,n,r,s={r:0,g:0,b:0},l=1,d=null,f=null,p=null,h=!1,m=!1;return"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(P[e])e=P[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=G.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=G.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=G.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=G.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=G.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=G.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=G.hex8.exec(e))?{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:U(t[4]),format:n?"name":"hex8"}:(t=G.hex6.exec(e))?{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"}:(t=G.hex4.exec(e))?{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:U(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=G.hex3.exec(e))&&{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(q(e.r)&&q(e.g)&&q(e.b)?(t=e.r,n=e.g,r=e.b,s={r:255*N(t,255),g:255*N(n,255),b:255*N(r,255)},h=!0,m="%"===String(e.r).substr(-1)?"prgb":"rgb"):q(e.h)&&q(e.s)&&q(e.v)?(d=z(e.s),f=z(e.v),s=function(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),l=n*(1-(1-i)*t),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(e.h,d,f),h=!0,m="hsv"):q(e.h)&&q(e.s)&&q(e.l)&&(d=z(e.s),p=z(e.l),s=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,d,p),h=!0,m="hsl"),e.hasOwnProperty("a")&&(l=e.a)),l=M(l),{ok:h,format:e.format||m,r:c(255,u(s.r,0)),g:c(255,u(s.g,0)),b:c(255,u(s.b,0)),a:l}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,o,i=u(e,t,n),a=c(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:s}}function h(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,o,i=u(e,t,n),a=c(e,t,n),s=i,l=i-a;if(o=0===i?0:l/i,i==a)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:s}}function m(e,t,n,r){var o=[D(l(e).toString(16)),D(l(t).toString(16)),D(l(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function g(e,t,n,r){return[D(F(r)),D(l(e).toString(16)),D(l(t).toString(16)),D(l(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=L(n.s),f(n)}function y(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=L(n.s),f(n)}function b(e){return f(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=L(n.l),f(n)}function w(e,t){t=0===t?0:t||10;var n=f(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),f(n)}function x(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=L(n.l),f(n)}function S(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function E(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function C(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function A(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),o=360/n,i=[f(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(f(r));return i}function I(e,t){t=t||6;for(var n=f(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(f({h:r,s:o,v:i})),i=(i+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=M(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),r=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[D(l(e).toString(16)),D(l(t).toString(16)),D(l(n).toString(16)),D(F(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*N(this._r,255))+"%",g:l(100*N(this._g,255))+"%",b:l(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*N(this._r,255))+"%, "+l(100*N(this._g,255))+"%, "+l(100*N(this._b,255))+"%)":"rgba("+l(100*N(this._r,255))+"%, "+l(100*N(this._g,255))+"%, "+l(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(O[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=f(e);n="#"+g(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(I,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:z(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})},f.mix=function(e,t,n){n=0===n?0:n||50;var r=f(e).toRgb(),o=f(t).toRgb(),i=n/100;return f({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r,o,i,a,s,l=f.readability(e,t);switch(o=!1,(i=n,"AA"!==(a=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(i.size||"small").toLowerCase())&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":o=l>=4.5;break;case"AAlarge":o=l>=3;break;case"AAAsmall":o=l>=7}return o},f.mostReadable=function(e,t,n){var r,o,i,a,s=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=f.readability(e,t[c]))>l&&(l=r,s=f(t[c]));return f.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],n))};var P=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=f.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(P);function M(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function L(e){return c(1,u(0,e))}function R(e){return parseInt(e,16)}function D(e){return 1==e.length?"0"+e:""+e}function z(e){return e<=1&&(e=100*e+"%"),e}function F(e){return o.round(255*parseFloat(e)).toString(16)}function U(e){return R(e)/255}var j,B,V,G=(B="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",V="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function q(e){return!!G.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}(Math)},13692:e=>{"use strict";function t(e){return Object.prototype.toString.call(e)}var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)}var o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},i=Object.prototype.hasOwnProperty||function(e,t){return t in e};function a(e){if("object"==typeof e&&null!==e){var i;if(n(e))i=[];else if("[object Date]"===t(e))i=new Date(e.getTime?e.getTime():e);else if("[object RegExp]"===t(e))i=new RegExp(e);else if(function(e){return"[object Error]"===t(e)}(e))i={message:e.message};else if(function(e){return"[object Boolean]"===t(e)}(e)||function(e){return"[object Number]"===t(e)}(e)||function(e){return"[object String]"===t(e)}(e))i=Object(e);else if(Object.create&&Object.getPrototypeOf)i=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)i={};else{var a=e.constructor&&e.constructor.prototype||e.__proto__||{},s=function(){};s.prototype=a,i=new s}return r(o(e),(function(t){i[t]=e[t]})),i}return e}function s(e,t,s){var l=[],c=[],u=!0;return function e(d){var f=s?a(d):d,p={},h=!0,m={node:f,node_:d,path:[].concat(l),parent:c[c.length-1],parents:c,key:l[l.length-1],isRoot:0===l.length,level:l.length,circular:null,update:function(e,t){m.isRoot||(m.parent.node[m.key]=e),m.node=e,t&&(h=!1)},delete:function(e){delete m.parent.node[m.key],e&&(h=!1)},remove:function(e){n(m.parent.node)?m.parent.node.splice(m.key,1):delete m.parent.node[m.key],e&&(h=!1)},keys:null,before:function(e){p.before=e},after:function(e){p.after=e},pre:function(e){p.pre=e},post:function(e){p.post=e},stop:function(){u=!1},block:function(){h=!1}};if(!u)return m;function g(){if("object"==typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=o(m.node)),m.isLeaf=0===m.keys.length;for(var e=0;e<c.length;e++)if(c[e].node_===d){m.circular=c[e];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf,m.notRoot=!m.isRoot}g();var v=t.call(m,m.node);return void 0!==v&&m.update&&m.update(v),p.before&&p.before.call(m,m.node),h?("object"!=typeof m.node||null===m.node||m.circular||(c.push(m),g(),r(m.keys,(function(t,n){l.push(t),p.pre&&p.pre.call(m,m.node[t],t);var r=e(m.node[t]);s&&i.call(m.node,t)&&(m.node[t]=r.node),r.isLast=n===m.keys.length-1,r.isFirst=0===n,p.post&&p.post.call(m,r),l.pop()})),c.pop()),p.after&&p.after.call(m,m.node),m):m}(e).node}function l(e){this.value=e}function c(e){return new l(e)}l.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!i.call(t,r))return;t=t[r]}return t},l.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!i.call(t,r))return!1;t=t[r]}return!0},l.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];i.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t,t},l.prototype.map=function(e){return s(this.value,e,!0)},l.prototype.forEach=function(e){return this.value=s(this.value,e,!1),this.value},l.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach((function(t){this.isRoot&&n||(r=e.call(this,r,t))})),r},l.prototype.paths=function(){var e=[];return this.forEach((function(){e.push(this.path)})),e},l.prototype.nodes=function(){var e=[];return this.forEach((function(){e.push(this.node)})),e},l.prototype.clone=function(){var e=[],t=[];return function n(i){for(var s=0;s<e.length;s++)if(e[s]===i)return t[s];if("object"==typeof i&&null!==i){var l=a(i);return e.push(i),t.push(l),r(o(i),(function(e){l[e]=n(i[e])})),e.pop(),t.pop(),l}return i}(this.value)},r(o(l.prototype),(function(e){c[e]=function(t){var n=[].slice.call(arguments,1),r=new l(t);return r[e].apply(r,n)}})),e.exports=c},31270:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(85893);n(10701);var o=n(49818),i=n(73474),a=n(47340);function s(){return(0,r.jsx)("div",{children:"Home"})}i.Amplify.configure({aws_project_region:"us-west-2",aws_cognito_region:"us-west-2",aws_cognito_identity_pool_id:"",aws_user_pools_id:"us-west-2_TvI3ruKim",aws_user_pools_web_client_id:"4jmtnd4196fsmq2t7ukslbh8no"}),t.default=(0,a.withAuthenticator)((function(){return(0,r.jsx)(o.BrowserRouter,{children:(0,r.jsx)(o.Routes,{children:(0,r.jsx)(o.Route,{path:"/",element:(0,r.jsx)(s,{})})})})}),{hideSignUp:!0})},53042:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(85893);n(28660);var i=r(n(67294)),a=r(n(20745));n(51424);var s=r(n(31270)),l=r(n(79125));a.default.createRoot(document.getElementById("root")).render((0,o.jsx)(i.default.StrictMode,{children:(0,o.jsx)(s.default,{})})),(0,l.default)()},79125:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e&&e instanceof Function&&Promise.resolve().then((function(){return i(n(82131))})).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))}},70655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>x,__await:()=>b,__awaiter:()=>u,__classPrivateFieldGet:()=>A,__classPrivateFieldIn:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>p,__extends:()=>o,__generator:()=>d,__importDefault:()=>k,__importStar:()=>C,__makeTemplateObject:()=>S,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArray:()=>y,__spreadArrays:()=>v,__values:()=>h});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof b?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return E(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function T(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function I(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},94788:()=>{},25869:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var o=new XMLHttpRequest,i=[],a=[],s={},l=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:l,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(l())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},38087:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},o=t||{},a=e.split(";"),s=o.decode||n,l=0;l<a.length;l++){var c=a[l],u=c.indexOf("=");if(!(u<0)){var d=c.substring(0,u).trim();if(null==r[d]){var f=c.substring(u+1,c.length).trim();'"'===f[0]&&(f=f.slice(1,-1)),r[d]=i(f,s)}}}return r},t.q=function(e,t,n){var i=n||{},a=i.encode||r;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var l=e+"="+s;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(c)}if(i.domain){if(!o.test(i.domain))throw new TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!o.test(i.path))throw new TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l};var n=decodeURIComponent,r=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){try{return t(e)}catch(t){return e}}},52511:function(e,t,n){var r;e=n.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var a,s=2147483647,l=36,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=l)e=p(e/35);return p(r+36*e/(e+38))}function x(e){var t,n,r,o,i,a,c,u,d,f,h,g=[],v=e.length,y=0,_=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<v;){for(i=y,a=1,c=l;o>=v&&m("invalid-input"),((u=(h=e.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||u>p((s-y)/a))&&m("overflow"),y+=u*a,!(u<(d=c<=x?1:c>=x+26?26:c-x));c+=l)a>p(s/(f=l-d))&&m("overflow"),a*=f;x=w(y-i,t=g.length+1,0==i),p(y/t)>s-_&&m("overflow"),_+=p(y/t),y%=t,g.splice(y++,0,_)}return b(g)}function S(e){var t,n,r,o,i,a,c,u,d,f,g,v,b,x,S,E=[];for(v=(e=y(e)).length,t=128,n=0,i=72,a=0;a<v;++a)(g=e[a])<128&&E.push(h(g));for(r=o=E.length,o&&E.push("-");r<v;){for(c=s,a=0;a<v;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>p((s-n)/(b=r+1))&&m("overflow"),n+=(c-t)*b,t=c,a=0;a<v;++a)if((g=e[a])<t&&++n>s&&m("overflow"),g==t){for(u=n,d=l;!(u<(f=d<=i?1:d>=i+26?26:d-i));d+=l)S=u-f,x=l-f,E.push(h(_(f+S%x,0))),u=p(S/x);E.push(h(_(u,0))),i=w(n,b,r==o),n=0,++r}++n,++t}return E.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:b},decode:x,encode:S,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8575:(e,t,n)=>{"use strict";var r=n(52511),o=n(62502);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b,t.WU=function(e){return o.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)};var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(17673);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!v[w])){for(var E,C,k=-1,A=0;A<f.length;A++)-1!==(T=b.indexOf(f[A]))&&(-1===k||T<k)&&(k=T);for(-1!==(C=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(E=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(E)),k=-1,A=0;A<d.length;A++){var T;-1!==(T=b.indexOf(d[A]))&&(-1===k||T<k)&&(k=T)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),O=(A=0,P.length);A<O;A++){var M=P[A];if(M&&!M.match(p)){for(var N="",L=0,R=M.length;L<R;L++)M.charCodeAt(L)>127?N+="x":N+=M[L];if(!N.match(p)){var D=P.slice(0,A),z=P.slice(A+1),F=M.match(h);F&&(D.push(F[1]),z.unshift(F[2])),z.length&&(b="/"+z.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+U,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[x])for(A=0,O=u.length;A<O;A++){var B=u[A];if(-1!==b.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),b=b.split(B).join(V)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var H=this.search||"";this.path=U+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,x=w,S=n.pathname&&n.pathname.split("/")||[],E=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===S[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return E&&(n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],k=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,A=0,T=S.length;T>=0;T--)"."===(C=S[T])?S.splice(T,1):".."===C?(S.splice(T,1),A++):A&&(S.splice(T,1),A--);if(!w&&!x)for(;A--;A)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var I,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);return E&&(n.hostname=n.host=P?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift())),(w=w||n.host&&S.length)&&!P&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},53250:(e,t,n)=>{"use strict";var r=n(67294),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),a((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},50139:(e,t,n)=>{"use strict";var r=n(67294),o=n(61688),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var p=a(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),u(p),p}},61688:(e,t,n)=>{"use strict";e.exports=n(53250)},52798:(e,t,n)=>{"use strict";e.exports=n(50139)},44586:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>u});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&a.test(e)};for(var l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));const u=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n}(r)}},82131:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getCLS:()=>b,getFCP:()=>g,getFID:()=>k,getLCP:()=>T,getTTFB:()=>I});var r,o,i,a,s=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},l=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},c=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},u=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},d=function(e,t,n){var r;return function(o){t.value>=0&&(o||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},f=-1,p=function(){return"hidden"===document.visibilityState?0:1/0},h=function(){c((function(e){var t=e.timeStamp;f=t}),!0)},m=function(){return f<0&&(f=p(),h(),u((function(){setTimeout((function(){f=p(),h()}),0)}))),{get firstHiddenTime(){return f}}},g=function(e,t){var n,r=m(),o=s("FCP"),i=function(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=e.startTime,o.entries.push(e),n(!0)))},a=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],c=a?null:l("paint",i);(a||c)&&(n=d(e,o,t),a&&i(a),u((function(r){o=s("FCP"),n=d(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,n(!0)}))}))})))},v=!1,y=-1,b=function(e,t){v||(g((function(e){y=e.value})),v=!0);var n,r=function(t){y>-1&&e(t)},o=s("CLS",0),i=0,a=[],f=function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];i&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e]),i>o.value&&(o.value=i,o.entries=a,n())}},p=l("layout-shift",f);p&&(n=d(r,o,t),c((function(){p.takeRecords().map(f),n(!0)})),u((function(){i=0,y=-1,o=s("CLS",0),n=d(r,o,t)})))},_={passive:!0,capture:!0},w=new Date,x=function(e,t){r||(r=t,o=e,i=new Date,C(removeEventListener),S())},S=function(){if(o>=0&&o<i-w){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+o};a.forEach((function(t){t(e)})),a=[]}},E=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){x(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,_),removeEventListener("pointercancel",r,_)};addEventListener("pointerup",n,_),addEventListener("pointercancel",r,_)}(t,e):x(t,e)}},C=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,E,_)}))},k=function(e,t){var n,i=m(),f=s("FID"),p=function(e){e.startTime<i.firstHiddenTime&&(f.value=e.processingStart-e.startTime,f.entries.push(e),n(!0))},h=l("first-input",p);n=d(e,f,t),h&&c((function(){h.takeRecords().map(p),h.disconnect()}),!0),h&&u((function(){var i;f=s("FID"),n=d(e,f,t),a=[],o=-1,r=null,C(addEventListener),i=p,a.push(i),S()}))},A={},T=function(e,t){var n,r=m(),o=s("LCP"),i=function(e){var t=e.startTime;t<r.firstHiddenTime&&(o.value=t,o.entries.push(e),n())},a=l("largest-contentful-paint",i);if(a){n=d(e,o,t);var f=function(){A[o.id]||(a.takeRecords().map(i),a.disconnect(),A[o.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,f,{once:!0,capture:!0})})),c(f,!0),u((function(r){o=s("LCP"),n=d(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,A[o.id]=!0,n(!0)}))}))}))}},I=function(e){var t,n=s("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();if(n.value=n.delta=t.responseStart,n.value<0||n.value>performance.now())return;n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("load",(function(){return setTimeout(t,0)}))}},98933:(e,t,n)=>{"use strict";n.d(t,{Xg:()=>l,f3:()=>c,mu:()=>s,vk:()=>u});var r=n(63056),o=n(89823),i=n(10797);function a(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[o.L$]=function(){return this},t}function s(e,t,n,r){var i,s=(0,o.j)(e.src),c=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[s.type],u=e.data?(0,o.QX)(e.data,n,r):void 0,d=c?l(c,e.id,u):a(e.id);return d.meta=e,d}function l(e,t,n){var r=a(t);if(r.deferred=!0,(0,o.O4)(e)){var s=r.state=(0,i.J)(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return s}}return r}function c(e){return function(e){try{return"function"==typeof e.send}catch(e){return!1}}(e)&&"id"in e}function u(e){var t;return(0,r.pi)(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[o.L$]=function(){return this},t),e)}},54911:(e,t,n)=>{"use strict";n.d(t,{TL:()=>u,ZM:()=>f,j1:()=>d,j_:()=>c});var r=n(63056),o=n(87353),i=n(89823),a=n(56115),s=n(30375),l=n(14066);function c(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if((0,i.HD)(e)||(0,i.HD)(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return c(e[n],t[n])}))}function u(e){return"object"==typeof e&&null!==e&&"value"in e&&"_event"in e}function d(e,t){var n=e.exec;return(0,r.pi)((0,r.pi)({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}var f=function(){function e(e){var t,n=this;this.actions=[],this.activities=o.qP,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||o.qP,this.meta=(0,a.xZ)(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return(0,a.nJ)(n.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:s.initEvent,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=s.initEvent;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),(0,i.HD)(e))return[e];var o=Object.keys(e);return o.concat.apply(o,(0,r.ev)([],(0,r.CR)(o.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=(0,r._T)(e,["configuration","transitions","tags","machine"]);return(0,r.pi)((0,r.pi)({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return(0,i.W)(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;l.M&&(0,i.ZK)(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}()},63056:(e,t,n)=>{"use strict";n.d(t,{CR:()=>a,XA:()=>i,_T:()=>o,ev:()=>s,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function s(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}},3884:(e,t,n)=>{"use strict";n.r(t),n.d(t,{after:()=>d,assign:()=>u,cancel:()=>l,choose:()=>_,doneState:()=>f,error:()=>y,errorExecution:()=>g,errorPlatform:()=>v,init:()=>h,invoke:()=>m,log:()=>p,nullEvent:()=>c,pure:()=>w,raise:()=>a,send:()=>s,start:()=>o,stop:()=>i,update:()=>b});var r=n(59043),o=r.M.Start,i=r.M.Stop,a=r.M.Raise,s=r.M.Send,l=r.M.Cancel,c=r.M.NullEvent,u=r.M.Assign,d=r.M.After,f=r.M.DoneState,p=r.M.Log,h=r.M.Init,m=r.M.Invoke,g=r.M.ErrorExecution,v=r.M.ErrorPlatform,y=r.M.ErrorCustom,b=r.M.Update,_=r.M.Choose,w=r.M.Pure},30375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{actionTypes:()=>i,after:()=>P,assign:()=>T,cancel:()=>E,choose:()=>z,done:()=>O,doneInvoke:()=>M,error:()=>N,escalate:()=>D,forwardTo:()=>R,getActionFunction:()=>c,initEvent:()=>l,isActionObject:()=>I,log:()=>x,pure:()=>L,raise:()=>p,resolveActions:()=>F,resolveLog:()=>S,resolveRaise:()=>h,resolveSend:()=>g,resolveStop:()=>A,respond:()=>_,send:()=>m,sendParent:()=>v,sendTo:()=>y,sendUpdate:()=>b,start:()=>C,stop:()=>k,toActionObject:()=>u,toActionObjects:()=>d,toActivityDefinition:()=>f});var r=n(63056),o=n(59043),i=n(3884),a=n(89823),s=n(14066),l=(0,a.g5)({type:i.init});function c(e,t){return t&&t[e]||void 0}function u(e,t){var n;if((0,a.HD)(e)||"number"==typeof e){var o=c(e,t);n=(0,a.mf)(o)?{type:e,exec:o}:o||{type:e,exec:void 0}}else if((0,a.mf)(e))n={type:e.name||e.toString(),exec:e};else if(o=c(e.type,t),(0,a.mf)(o))n=(0,r.pi)((0,r.pi)({},e),{exec:o});else if(o){var i=o.type||e.type;n=(0,r.pi)((0,r.pi)((0,r.pi)({},o),e),{type:i})}else n=e;return n}var d=function(e,t){return e?((0,a.kJ)(e)?e:[e]).map((function(e){return u(e,t)})):[]};function f(e){var t=u(e);return(0,r.pi)((0,r.pi)({id:(0,a.HD)(e)?e:t.id},t),{type:t.type})}function p(e){return(0,a.HD)(e)?{type:i.raise,event:e}:m(e,{to:o.K.Internal})}function h(e){return{type:i.raise,_event:(0,a.g5)(e.event)}}function m(e,t){return{to:t?t.to:void 0,type:i.send,event:(0,a.mf)(e)?e:(0,a._v)(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:(0,a.mf)(e)?e.name:(0,a.x6)(e)}}function g(e,t,n,o){var i,s={_event:n},l=(0,a.g5)((0,a.mf)(e.event)?e.event(t,n.data,s):e.event);if((0,a.HD)(e.delay)){var c=o&&o[e.delay];i=(0,a.mf)(c)?c(t,n.data,s):c}else i=(0,a.mf)(e.delay)?e.delay(t,n.data,s):e.delay;var u=(0,a.mf)(e.to)?e.to(t,n.data,s):e.to;return(0,r.pi)((0,r.pi)({},e),{to:u,_event:l,event:l.data,delay:i})}function v(e,t){return m(e,(0,r.pi)((0,r.pi)({},t),{to:o.K.Parent}))}function y(e,t,n){return m(t,(0,r.pi)((0,r.pi)({},n),{to:e}))}function b(){return v(i.update)}function _(e,t){return m(e,(0,r.pi)((0,r.pi)({},t),{to:function(e,t,n){return n._event.origin}}))}var w=function(e,t){return{context:e,event:t}};function x(e,t){return void 0===e&&(e=w),{type:i.log,label:t,expr:e}}var S=function(e,t,n){return(0,r.pi)((0,r.pi)({},e),{value:(0,a.HD)(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},E=function(e){return{type:i.cancel,sendId:e}};function C(e){var t=f(e);return{type:o.M.Start,activity:t,exec:void 0}}function k(e){var t=(0,a.mf)(e)?e:f(e);return{type:o.M.Stop,activity:t,exec:void 0}}function A(e,t,n){var r=(0,a.mf)(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:o.M.Stop,activity:i}}var T=function(e){return{type:i.assign,assignment:e}};function I(e){return"object"==typeof e&&"type"in e}function P(e,t){var n=t?"#".concat(t):"";return"".concat(o.M.After,"(").concat(e,")").concat(n)}function O(e,t){var n="".concat(o.M.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function M(e,t){var n="".concat(o.M.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function N(e,t){var n="".concat(o.M.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function L(e){return{type:o.M.Pure,get:e}}function R(e,t){if(!(s.M||e&&"function"!=typeof e)){var n=e;e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o="function"==typeof n?n.apply(void 0,(0,r.ev)([],(0,r.CR)(e),!1)):n;if(!o)throw new Error("Attempted to forward event to undefined actor. This risks an infinite loop in the sender.");return o}}return m((function(e,t){return t}),(0,r.pi)((0,r.pi)({},t),{to:e}))}function D(e,t){return v((function(t,n,r){return{type:i.error,data:(0,a.mf)(e)?e(t,n,r):e}}),(0,r.pi)((0,r.pi)({},t),{to:o.K.Parent}))}function z(e){return{type:o.M.Choose,conds:e}}function F(e,t,n,l,c,f,p){void 0===p&&(p=!1);var m=p?[]:function(e){var t,n,o=[];try{for(var a=(0,r.XA)(e),s=a.next();!s.done;s=a.next())for(var l=s.value,c=0;c<l.actions.length;)l.actions[c].type!==i.assign?c++:(o.push(l.actions[c]),l.actions.splice(c,1))}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}(c),v=m.length?(0,a.dt)(n,l,m,t):n,y=p?[n]:void 0,b=[];function _(c,m){var _;switch(m.type){case i.raise:return h(m);case i.send:var w=g(m,v,l,e.options.delays);return s.M||(0,a.ZK)(!(0,a.HD)(m.delay)||"number"==typeof w.delay,"No delay reference for delay expression '".concat(m.delay,"' was found on machine '").concat(e.id,"'")),f&&w.to!==o.K.Internal&&("entry"===c?b.push(w):null==f||f(w,v,l)),w;case i.log:var x=S(m,v,l);return null==f||f(x,v,l),x;case i.choose:if(!(T=null===(_=m.conds.find((function(n){var r=(0,a.Qi)(n.cond,e.options.guards);return!r||(0,a.vx)(e,r,v,l,f?void 0:t)})))||void 0===_?void 0:_.actions))return[];var E=(0,r.CR)(F(e,t,v,l,[{type:c,actions:d((0,a.qo)(T),e.options.actions)}],f,p),2),C=E[0],k=E[1];return v=k,null==y||y.push(v),C;case i.pure:var T;if(!(T=m.get(v,l.data)))return[];var I=(0,r.CR)(F(e,t,v,l,[{type:c,actions:d((0,a.qo)(T),e.options.actions)}],f,p),2),P=I[0],O=I[1];return v=O,null==y||y.push(v),P;case i.stop:return x=A(m,v,l),null==f||f(x,n,l),x;case i.assign:v=(0,a.dt)(v,l,[m],f?void 0:t),null==y||y.push(v);break;default:var M=u(m,e.options.actions),N=M.exec;if(f)f(M,v,l);else if(N&&y){var L=y.length-1;M=(0,r.pi)((0,r.pi)({},M),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];N.apply(void 0,(0,r.ev)([y[L]],(0,r.CR)(t),!1))}})}return M}}return[(0,a.xH)(c.map((function(e){var t,n,o=[];try{for(var i=(0,r.XA)(e.actions),a=i.next();!a.done;a=i.next()){var s=a.value,c=_(e.type,s);c&&(o=o.concat(c))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return b.forEach((function(e){f(e,v,l)})),b.length=0,o}))),v]}},68199:(e,t,n)=>{"use strict";n.d(t,{YP:()=>i});var r=n(98933),o=n(89823);function i(e,t){void 0===t&&(t={});var n=e.initialState,i=new Set,a=[],s=!1,l=(0,r.vk)({id:t.id,send:function(t){a.push(t),function(){if(!s){for(s=!0;a.length>0;){var t=a.shift();n=e.transition(n,t,c),i.forEach((function(e){return e.next(n)}))}s=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,r){var a=(0,o.zM)(e,t,r);return i.add(a),a.next(n),{unsubscribe:function(){i.delete(a)}}}}),c={parent:t.parent,self:l,id:t.id||"anonymous",observers:i};return n=e.start?e.start(c):n,l}},87353:(e,t,n)=>{"use strict";n.d(t,{TV:()=>i,iS:()=>r,qP:()=>o,rt:()=>a});var r=".",o={},i="xstate.guard",a=""},14066:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=!0},52564:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionTypes:()=>l.M,Interpreter:()=>i.Ng,InterpreterStatus:()=>i.TM,Machine:()=>w,SpecialTargets:()=>l.K,State:()=>c.ZM,StateNode:()=>b,actions:()=>r,assign:()=>T,createMachine:()=>x,createSchema:()=>C,doneInvoke:()=>L,forwardTo:()=>N,interpret:()=>i.kJ,mapState:()=>S,matchState:()=>E,matchesState:()=>s.W,raise:()=>R,send:()=>I,sendParent:()=>O,sendTo:()=>P,sendUpdate:()=>M,spawn:()=>i.Cs,spawnBehavior:()=>A.YP,t:()=>k,toActorRef:()=>o.vk,toEventObject:()=>s._v,toObserver:()=>s.zM,toSCXMLEvent:()=>s.g5});var r=n(30375),o=n(98933),i=n(59805),a=n(63056),s=n(89823),l=n(59043),c=n(54911),u=n(3884),d=n(14066),f=n(87353),p=n(56115);function h(e){return(0,a.pi)((0,a.pi)({type:u.invoke},e),{toJSON:function(){e.onDone,e.onError;var t,n=(0,a._T)(e,["onDone","onError"]);return(0,a.pi)((0,a.pi)({},n),{type:u.invoke,src:(t=e.src,"string"==typeof t?{type:t,toString:function(){return t}}:t)})}})}var m="",g="*",v={},y=function(e){return"#"===e[0]},b=function(){function e(t,n,o,i){void 0===o&&(o="context"in t?t.context:void 0);var l,c=this;this.config=t,this._context=o,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:f.iS),this.id=this.config.id||(0,a.ev)([this.machine.key],(0,a.CR)(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(l=this.config.schema)&&void 0!==l?l:{},this.description=this.config.description,d.M||(0,s.ZK)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?(0,s.Q8)(this.config.states,(function(t,n){var r,o=new e(t,{},void 0,{parent:c,key:n});return Object.assign(c.idMap,(0,a.pi)(((r={})[o.id]=o,r),o.idMap)),o})):v;var u=0;!function e(t){var n,r;t.order=u++;try{for(var o=(0,a.XA)((0,p.nI)(t)),i=o.next();!i.done;i=o.next())e(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===m})):m in this.config.on),this.strict=!!this.config.strict,this.onEntry=(0,s.qo)(this.config.entry||this.config.onEntry).map((function(e){return(0,r.toActionObject)(e)})),this.onExit=(0,s.qo)(this.config.exit||this.config.onExit).map((function(e){return(0,r.toActionObject)(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=(0,s.qo)(this.config.invoke).map((function(e,t){var n,r;if((0,s.O4)(e)){var o=(0,s.bx)(c.id,t);return c.machine.options.services=(0,a.pi)(((n={})[o]=e,n),c.machine.options.services),h({src:o,id:o})}if((0,s.HD)(e.src))return o=e.id||(0,s.bx)(c.id,t),h((0,a.pi)((0,a.pi)({},e),{id:o,src:e.src}));if((0,s.O4)(e.src)||(0,s.mf)(e.src))return o=e.id||(0,s.bx)(c.id,t),c.machine.options.services=(0,a.pi)(((r={})[o]=e.src,r),c.machine.options.services),h((0,a.pi)((0,a.pi)({id:o},e),{src:o}));var i=e.src;return h((0,a.pi)((0,a.pi)({id:(0,s.bx)(c.id,t)},e),{src:i}))})),this.activities=(0,s.qo)(this.config.activities).concat(this.invoke).map((function(e){return(0,r.toActivityDefinition)(e)})),this.transition=this.transition.bind(this),this.tags=(0,s.qo)(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||(0,p.ac)(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,o=r.actions,i=r.activities,s=r.guards,l=r.services,c=r.delays;return new e(this.config,{actions:(0,a.pi)((0,a.pi)({},o),t.actions),activities:(0,a.pi)((0,a.pi)({},i),t.activities),guards:(0,a.pi)((0,a.pi)({},s),t.guards),services:(0,a.pi)((0,a.pi)({},l),t.services),delays:(0,a.pi)((0,a.pi)({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return(0,s.mf)(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:(0,s.Q8)(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===m,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||n.eventType===g}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var o=(0,s.mf)(t)?"".concat(e.id,":delay[").concat(n,"]"):t,i=(0,r.after)(o,e.id);return e.onEntry.push((0,r.send)(i,{delay:t})),e.onExit.push((0,r.cancel)(i)),i};return((0,s.kJ)(t)?t.map((function(e,t){var r=n(e.delay,t);return(0,a.pi)((0,a.pi)({},e),{event:r})})):(0,s.xH)(Object.keys(t).map((function(e,r){var o=t[e],i=(0,s.HD)(o)?{target:o}:o,l=isNaN(+e)?e:+e,c=n(l,r);return(0,s.qo)(i).map((function(e){return(0,a.pi)((0,a.pi)({},e),{event:c,delay:l})}))})))).map((function(t){var n=t.delay;return(0,a.pi)((0,a.pi)({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof c.ZM?e.value:(0,s.WM)(e,this.delimiter);if((0,s.HD)(r)){var o=this.getStateNode(r).initial;return void 0!==o?this.getStateNodes(((t={})[r]=o,t)):[this,this.states[r]]}var i=Object.keys(r),l=[this];return l.push.apply(l,(0,a.ev)([],(0,a.CR)((0,s.xH)(i.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),l},e.prototype.handles=function(e){var t=(0,s.x6)(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof c.ZM?e:c.ZM.create(e),n=Array.from((0,p.P_)([],this.getStateNodes(t.value)));return new c.ZM((0,a.pi)((0,a.pi)({},t),{value:this.resolve(t.value),configuration:n,done:(0,p.Ij)(n,this),tags:(0,p.Oe)(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),o=this.getStateNode(r[0])._transition(e[r[0]],t,n);return o&&o.transitions.length?o:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,o,i={};try{for(var l=(0,a.XA)(Object.keys(e)),c=l.next();!c.done;c=l.next()){var u=c.value,d=e[u];if(d){var f=this.getStateNode(u)._transition(d,t,n);f&&(i[u]=f)}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}var p=Object.keys(i).map((function(e){return i[e]})),h=(0,s.xH)(p.map((function(e){return e.transitions})));if(!p.some((function(e){return e.transitions.length>0})))return this.next(t,n);var m=(0,s.xH)(Object.keys(i).map((function(e){return i[e].configuration})));return{transitions:h,exitSet:(0,s.xH)(p.map((function(e){return e.exitSet}))),configuration:m,source:t,actions:(0,s.xH)(Object.keys(i).map((function(e){return i[e].actions})))}},e.prototype._transition=function(e,t,n){return(0,s.HD)(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,(0,s.g5)(t))},e.prototype.next=function(e,t){var n,r,o,i=this,l=t.name,c=[],u=[];try{for(var d=(0,a.XA)(this.getCandidates(l)),f=d.next();!f.done;f=d.next()){var p=f.value,h=p.cond,m=p.in,g=e.context,v=!m||((0,s.HD)(m)&&y(m)?e.matches((0,s.WM)(this.getStateNodeById(m).path,this.delimiter)):(0,s.W)((0,s.WM)(m,this.delimiter),(0,s.ET)(this.path.slice(0,-2))(e.value))),b=!1;try{b=!h||(0,s.vx)(this.machine,h,g,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(h.name||h.type,"' in transition for event '").concat(l,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(b&&v){void 0!==p.target&&(u=p.target),c.push.apply(c,(0,a.ev)([],(0,a.CR)(p.actions),!1)),o=p;break}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}if(o){if(!u.length)return{transitions:[o],exitSet:[],configuration:e.value?[this]:[],source:e,actions:c};var _=(0,s.xH)(u.map((function(t){return i.getRelativeStateNodes(t,e.historyValue)})));return{transitions:[o],exitSet:o.internal?[]:(0,s.xH)(u.map((function(e){return i.getPotentiallyReenteringNodes(e)}))),configuration:_,source:e,actions:c}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this,r=e;n&&n!==r;)t.push(n),n=n.parent;return n!==r?[]:(t.push(r),t)},e.prototype.getActions=function(e,t,n,o,i,c,d){var f,h,m,g,v=this,y=c?(0,p.P_)([],this.getStateNodes(c.value)):[],b=new Set;try{for(var _=(0,a.XA)(Array.from(e).sort((function(e,t){return e.order-t.order}))),w=_.next();!w.done;w=_.next()){var x=w.value;(!(0,p.e$)(y,x)||(0,p.e$)(n.exitSet,x)||x.parent&&b.has(x.parent))&&b.add(x)}}catch(e){f={error:e}}finally{try{w&&!w.done&&(h=_.return)&&h.call(_)}finally{if(f)throw f.error}}try{for(var S=(0,a.XA)(y),E=S.next();!E.done;E=S.next())x=E.value,(0,p.e$)(e,x)&&!(0,p.e$)(n.exitSet,x.parent)||n.exitSet.push(x)}catch(e){m={error:e}}finally{try{E&&!E.done&&(g=S.return)&&g.call(S)}finally{if(m)throw m.error}}n.exitSet.sort((function(e,t){return t.order-e.order}));var C=Array.from(b).sort((function(e,t){return e.order-t.order})),k=new Set(n.exitSet),A=(0,s.xH)(C.map((function(e){var t=[];if("final"!==e.type)return t;var a=e.parent;if(!a.parent)return t;t.push((0,r.done)(e.id,e.doneData),(0,r.done)(a.id,e.doneData?(0,s.QX)(e.doneData,o,i):void 0));var l=a.parent;return"parallel"===l.type&&(0,p.G)(l).every((function(e){return(0,p.Ij)(n.configuration,e)}))&&t.push((0,r.done)(l.id)),t}))),T=C.map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return(0,r.start)(e)}));return{type:"entry",actions:(0,r.toActionObjects)(d?(0,a.ev)((0,a.ev)([],(0,a.CR)(t),!1),(0,a.CR)(n),!1):(0,a.ev)((0,a.ev)([],(0,a.CR)(n),!1),(0,a.CR)(t),!1),v.machine.options.actions)}})).concat({type:"state_done",actions:A.map(r.raise)}),I=Array.from(k).map((function(e){return{type:"exit",actions:(0,r.toActionObjects)((0,a.ev)((0,a.ev)([],(0,a.CR)(e.onExit),!1),(0,a.CR)(e.activities.map((function(e){return(0,r.stop)(e)}))),!1),v.machine.options.actions)}})).concat({type:"transition",actions:(0,r.toActionObjects)(n.actions,this.machine.options.actions)}).concat(T);if(t){var P=(0,r.toActionObjects)((0,s.xH)((0,a.ev)([],(0,a.CR)(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return e.type!==u.raise&&(e.type!==u.send||!!e.to&&e.to!==l.K.Internal)}));return I.concat({type:"stop",actions:P})}return I},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var o,i=(0,s.g5)(t);if(e instanceof c.ZM)o=void 0===n?e:this.resolveState(c.ZM.from(e,n));else{var l=(0,s.HD)(e)?this.resolve((0,s.on)(this.getResolvedPath(e))):this.resolve(e),u=null!=n?n:this.machine.context;o=this.resolveState(c.ZM.from(l,u))}if(!d.M&&i.name===g)throw new Error("An event cannot have the wildcard type ('".concat(g,"')"));if(this.strict&&!this.events.includes(i.name)&&!(0,s.JQ)(i.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(i.name,"'"));var f=this._transition(o.value,o,i)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},h=(0,p.P_)([],this.getStateNodes(o.value)),m=f.configuration.length?(0,p.P_)(h,f.configuration):h;return f.configuration=(0,a.ev)([],(0,a.CR)(m),!1),this.resolveTransition(f,o,o.context,r,i)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var o,i=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(o=e.actions).unshift.apply(o,(0,a.ev)([],(0,a.CR)(i),!1)),e},e.prototype.resolveTransition=function(e,t,n,i,d){var f,h,g,v,y=this;void 0===d&&(d=r.initEvent);var b=e.configuration,_=!t||e.transitions.length>0,w=_?e.configuration:t?t.configuration:[],x=(0,p.Ij)(w,this),S=_?(0,p.NA)(this.machine,b):void 0,E=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,C=this.getActions(new Set(w),x,e,n,d,t,i),k=t?(0,a.pi)({},t.activities):{};try{for(var A=(0,a.XA)(C),T=A.next();!T.done;T=A.next()){var I=T.value;try{for(var P=(g=void 0,(0,a.XA)(I.actions)),O=P.next();!O.done;O=P.next()){var M=O.value;M.type===u.start?k[M.activity.id||M.activity.type]=M:M.type===u.stop&&(k[M.activity.id||M.activity.type]=!1)}}catch(e){g={error:e}}finally{try{O&&!O.done&&(v=P.return)&&v.call(P)}finally{if(g)throw g.error}}}}catch(e){f={error:e}}finally{try{T&&!T.done&&(h=A.return)&&h.call(A)}finally{if(f)throw f.error}}var N=(0,a.CR)((0,r.resolveActions)(this,t,n,d,C,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),L=N[0],R=N[1],D=(0,a.CR)((0,s.uK)(L,(function(e){return e.type===u.raise||e.type===u.send&&e.to===l.K.Internal})),2),z=D[0],F=D[1],U=L.filter((function(e){var t;return e.type===u.start&&(null===(t=e.activity)||void 0===t?void 0:t.type)===u.invoke})),j=U.reduce((function(e,t){return e[t.activity.id]=(0,o.mu)(t.activity,y.machine,R,d),e}),t?(0,a.pi)({},t.children):{}),B=new c.ZM({value:S||t.value,context:R,_event:d,_sessionid:t?t._sessionid:null,historyValue:S?E?(0,s.yv)(E,S):void 0:t?t.historyValue:void 0,history:!S||e.source?t:void 0,actions:S?F:[],activities:S?k:t?t.activities:{},events:[],configuration:w,transitions:e.transitions,children:j,done:x,tags:(0,p.Oe)(w),machine:this}),V=n!==R;B.changed=d.name===u.update||V;var G=B.history;G&&delete G.history;var q=!x&&(this._transient||b.some((function(e){return e._transient})));if(!(_||q&&d.name!==m))return B;var H=B;if(!x)for(q&&(H=this.resolveRaisedTransition(H,{type:u.nullEvent},d,i));z.length;){var W=z.shift();H=this.resolveRaisedTransition(H,W._event,d,i)}var K=H.changed||(G?!!H.actions.length||V||typeof G.value!=typeof H.value||!(0,c.j_)(H.value,G.value):void 0);return H.changed=K,H.history=G,H},e.prototype.getStateNode=function(e){if(y(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=y(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&y(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=(0,s.Q9)(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||v;switch(this.type){case"parallel":return(0,s.Q8)(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):v}));case"compound":if((0,s.HD)(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?(0,s.Q8)(e,(function(e,t){return e?n.getStateNode(t).resolve(e):v})):this.initialStateValue||{};default:return e||v}},e.prototype.getResolvedPath=function(e){if(y(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return(0,s.Q9)(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=(0,s.ib)(this.states,(function(e){return e.initialStateValue||v}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=(0,p.N9)(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=(0,s.HD)(t.target)&&y(t.target)?(0,s.on)(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if((0,p.N9)(this))return[this];if("compound"===this.type&&!this.initial)return d.M||(0,s.ZK)(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=(0,s.SA)(this.initialStateValue);return(0,s.xH)(t.map((function(t){return e.getFromRelativePath(t)})))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=(0,a.CR)(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var o=this.getStateNode(n);if("history"===o.type)return o.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:(0,s.ib)(this.states,(function(t,n){if(!e)return t.historyValue();var r=(0,s.HD)(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?(0,s.xH)((0,s.SA)(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var o=(0,s.gk)(n.path,"states")(e).current;return(0,s.HD)(o)?[n.getStateNode(o)]:(0,s.xH)((0,s.SA)(o).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=(0,s.xH)(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var o=this.states,i=new Set(this.ownEvents);if(o)try{for(var s=(0,a.XA)(Object.keys(o)),l=s.next();!l.done;l=s.next()){var c=o[l.value];if(c.states)try{for(var u=(n=void 0,(0,a.XA)(c.events)),d=u.next();!d.done;d=u.next()){var f=d.value;i.add("".concat(f))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!(0,s.HD)(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=(0,s.rg)(e.target),o="internal"in e?e.internal:!n||n.some((function(e){return(0,s.HD)(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,l=this.resolveTarget(n),c=(0,a.pi)((0,a.pi)({},e),{actions:(0,r.toActionObjects)((0,s.qo)(e.actions)),cond:(0,s.Qi)(e.cond,i),target:l,source:this,internal:o,eventType:e.event,toJSON:function(){return(0,a.pi)((0,a.pi)({},c),{target:c.target?c.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return c},e.prototype.formatTransitions=function(){var e,t,n,o=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,l=i[g],c=void 0===l?[]:l,u=(0,a._T)(i,["*"]);n=(0,s.xH)(Object.keys(u).map((function(e){d.M||e!==m||(0,s.ZK)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(o.id,'".'));var t=(0,s.jh)(e,u[e]);return d.M||function(e,t,n){var r=n.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&((0,s.HD)(e.target)||(0,s.O4)(e.target))})),o=t===m?"the transient event":"event '".concat(t,"'");(0,s.ZK)(!r,"One or more transitions for ".concat(o," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")}(o,e,t),t})).concat((0,s.jh)(g,c)))}else n=[];var f=this.config.always?(0,s.jh)("",this.config.always):[],p=this.config.onDone?(0,s.jh)(String((0,r.done)(this.id)),this.config.onDone):[];d.M||(0,s.ZK)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var h=(0,s.xH)(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,(0,a.ev)([],(0,a.CR)((0,s.jh)(String((0,r.doneInvoke)(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,(0,a.ev)([],(0,a.CR)((0,s.jh)(String((0,r.error)(e.id)),e.onError)),!1)),t}))),v=this.after,y=(0,s.xH)((0,a.ev)((0,a.ev)((0,a.ev)((0,a.ev)([],(0,a.CR)(p),!1),(0,a.CR)(h),!1),(0,a.CR)(n),!1),(0,a.CR)(f),!1).map((function(e){return(0,s.qo)(e).map((function(e){return o.formatTransition(e)}))})));try{for(var b=(0,a.XA)(v),_=b.next();!_.done;_=b.next()){var w=_.value;y.push(w)}}catch(t){e={error:t}}finally{try{_&&!_.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}return y},e}(),_=!1;function w(e,t,n){return void 0===n&&(n=e.context),new b(e,t,n)}function x(e,t){return d.M||"predictableActionArguments"in e||_||(_=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new b(e,t)}function S(e,t){var n,r,o;try{for(var i=(0,a.XA)(Object.keys(e)),l=i.next();!l.done;l=i.next()){var c=l.value;(0,s.W)(c,t)&&(!o||t.length>o.length)&&(o=c)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e[o]}function E(e,t,n){var r,o,i=c.ZM.from(e,e instanceof c.ZM?e.context:void 0);try{for(var s=(0,a.XA)(t),l=s.next();!l.done;l=s.next()){var u=(0,a.CR)(l.value,2),d=u[0],f=u[1];if(i.matches(d))return f(i)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return n(i)}function C(e){return e}var k=C,A=n(68199),T=r.assign,I=r.send,P=r.sendTo,O=r.sendParent,M=r.sendUpdate,N=r.forwardTo,L=r.doneInvoke,R=r.raise},59805:(e,t,n)=>{"use strict";n.d(t,{Ng:()=>w,TM:()=>v,kJ:()=>S,Cs:()=>x});var r=n(63056),o=n(59043),i=n(54911),a=n(3884),s=n(30375),l=n(14066),c=n(89823),u={deferEvents:!1},d=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=(0,r.pi)((0,r.pi)({},u),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),f=n(98933),p=new Map,h=0,m=function(e){p.delete(e)};function g(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void(l.M||console.warn("XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues"))}var v,y=n(10797),b=n(68199),_={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(v||(v={}));var w=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var i=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=v.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if((0,c.kJ)(e))return i.batch(e),i.state;var n=(0,c.g5)((0,c._v)(e,t));if(i.status===v.Stopped)return l.M||(0,c.ZK)(!1,'Event "'.concat(n.name,'" was sent to stopped service "').concat(i.machine.id,'". This service has already reached its final state, and will not transition.\nEvent: ').concat(JSON.stringify(n.data))),i.state;if(i.status!==v.Running&&!i.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(i.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return i.scheduler.schedule((function(){i.forward(n);var e=i._nextState(n);i.update(e,n)})),i._state},this.sendTo=function(e,t,n){var u=i.parent&&(t===o.K.Parent||i.parent.id===t),d=u?i.parent:(0,c.HD)(t)?i.children.get(t)||function(e){return p.get(e)}(t):(0,c.Bc)(t)?t:void 0;if(d)if("machine"in d){if(i.status!==v.Stopped||i.parent!==d||i.state.done){var f=(0,r.pi)((0,r.pi)({},e),{name:e.name===a.error?"".concat((0,s.error)(i.id)):e.name,origin:i.sessionId});!n&&i.machine.config.predictableActionArguments?i._outgoingQueue.push([d,f]):d.send(f)}}else!n&&i.machine.config.predictableActionArguments?i._outgoingQueue.push([d,e.data]):d.send(e.data);else{if(!u)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(i.id,"'."));l.M||(0,c.ZK)(!1,"Service '".concat(i.id,"' has no parent: unable to send event ").concat(e.type))}},this._exec=function(e,t,n,r){void 0===r&&(r=i.machine.options.actions);var u=e.exec||(0,s.getActionFunction)(e.type,r),d=(0,c.mf)(u)?u:u?u.exec:e.exec;if(d)try{return d(t,n.data,i.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:i.state,_event:n})}catch(e){throw i.parent&&i.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case a.send:var f=e;if("number"==typeof f.delay)return void i.defer(f);f.to?i.sendTo(f._event,f.to,n===s.initEvent):i.send(f._event);break;case a.cancel:i.cancel(e.sendId);break;case a.start:if(i.status!==v.Running)return;var p=e.activity;if(!i.machine.config.predictableActionArguments&&!i.state.activities[p.id||p.type])break;if(p.type===o.M.Invoke){var h=(0,c.j)(p.src),m=i.machine.options.services?i.machine.options.services[h.type]:void 0,g=p.id,y=p.data;l.M||(0,c.ZK)(!("forward"in p),"`forward` property is deprecated (found in invocation of '".concat(p.src,"' in in machine '").concat(i.machine.id,"'). ")+"Please use `autoForward` instead.");var b="autoForward"in p?p.autoForward:!!p.forward;if(!m)return void(l.M||(0,c.ZK)(!1,"No service found for invocation '".concat(p.src,"' in machine '").concat(i.machine.id,"'.")));var _=y?(0,c.QX)(y,t,n):void 0;if("string"==typeof m)return;var w=(0,c.mf)(m)?m(t,n.data,{data:_,src:h,meta:p.meta}):m;if(!w)return;var x=void 0;(0,c.O4)(w)&&(w=_?w.withContext(_):w,x={autoForward:b}),i.spawn(w,g,x)}else i.spawnActivity(p);break;case a.stop:i.stopChild(e.activity.id);break;case a.log:var S=e.label,E=e.value;S?i.logger(S,E):i.logger(E);break;default:l.M||(0,c.ZK)(!1,"No implementation found for action type '".concat(e.type,"'"))}};var u=(0,r.pi)((0,r.pi)({},e.defaultOptions),n),f=u.clock,m=u.logger,g=u.parent,y=u.id,b=void 0!==y?y:t.id;this.id=b,this.logger=m,this.clock=f,this.parent=g,this.options=u,this.scheduler=new d({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(h++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:(0,y.J)(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return l.M||(0,c.ZK)(this.status!==v.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,o;try{for(var i=(0,r.XA)(e.actions),a=i.next();!a.done;a=i.next()){var s=a.value;this.exec(s,e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,o,i,a,l,u,d,f,p=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==s.initEvent||!this.options.execute)for(var h=void 0;h=this._outgoingQueue.shift();)h[0].send(h[1]);else this.execute(this.state);if(this.children.forEach((function(e){p.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var g=(0,r.XA)(this.eventListeners),v=g.next();!v.done;v=g.next())(0,v.value)(e.event)}catch(e){n={error:e}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(n)throw n.error}}try{for(var y=(0,r.XA)(this.listeners),b=y.next();!b.done;b=y.next())(0,b.value)(e,e.event)}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}try{for(var _=(0,r.XA)(this.contextListeners),w=_.next();!w.done;w=_.next())(0,w.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){l={error:e}}finally{try{w&&!w.done&&(u=_.return)&&u.call(_)}finally{if(l)throw l.error}}if(this.state.done){var x=e.configuration.find((function(e){return"final"===e.type&&e.parent===p.machine})),S=x&&x.doneData?(0,c.QX)(x.doneData,e.context,t):void 0;try{for(var E=(0,r.XA)(this.doneListeners),C=E.next();!C.done;C=E.next())(0,C.value)((0,s.doneInvoke)(this.id,S))}catch(e){d={error:e}}finally{try{C&&!C.done&&(f=E.return)&&f.call(E)}finally{if(d)throw d.error}}this._stop(),this._stopChildren(),m(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===v.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,o=(0,c.zM)(e,t,n);this.listeners.add(o.next),this.status!==v.NotStarted&&o.next(this.state);var i=function(){r.doneListeners.delete(i),r.stopListeners.delete(i),o.complete()};return this.status===v.Stopped?o.complete():(this.onDone(i),this.onStop(i)),{unsubscribe:function(){r.listeners.delete(o.next),r.doneListeners.delete(i),r.stopListeners.delete(i)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t,n,r=this;if(this.status===v.Running)return this;this.machine._init(),t=this.sessionId,n=this,p.set(t,n),this.initialized=!0,this.status=v.Running;var o=void 0===e?this.initialState:(0,y.J)(this,(function(){return(0,i.TL)(e)?r.machine.resolveState(e):r.machine.resolveState(i.ZM.from(e,r.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){r.update(o,s.initEvent)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){(0,c.mf)(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,o,i,a,s,l,c,u;try{for(var f=(0,r.XA)(this.listeners),p=f.next();!p.done;p=f.next()){var h=p.value;this.listeners.delete(h)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}try{for(var m=(0,r.XA)(this.stopListeners),g=m.next();!g.done;g=m.next())(h=g.value)(),this.stopListeners.delete(h)}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}try{for(var y=(0,r.XA)(this.contextListeners),b=y.next();!b.done;b=y.next())h=b.value,this.contextListeners.delete(h)}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}try{for(var _=(0,r.XA)(this.doneListeners),w=_.next();!w.done;w=_.next())h=w.value,this.doneListeners.delete(h)}catch(e){s={error:e}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.initialized=!1,this.status=v.Stopped,this._initialState=void 0;try{for(var x=(0,r.XA)(Object.keys(this.delayedEventsMap)),S=x.next();!S.done;S=x.next()){var E=S.value;this.clock.clearTimeout(this.delayedEventsMap[E])}}catch(e){c={error:e}}finally{try{S&&!S.done&&(u=x.return)&&u.call(x)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new d({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t=(0,c.g5)({type:"xstate.stop"}),n=(0,y.J)(e,(function(){var n=(0,c.xH)((0,r.ev)([],(0,r.CR)(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return(0,s.toActionObjects)(t.onExit,e.machine.options.actions)}))),l=(0,r.CR)((0,s.resolveActions)(e.machine,e.state,e.state.context,t,[{type:"exit",actions:n}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),u=l[0],d=l[1],f=new i.ZM({value:e.state.value,context:d,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:u.filter((function(e){return e.type!==a.raise&&(e.type!==a.send||!!e.to&&e.to!==o.K.Internal)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return f.changed=!0,f}));e.update(n,t),e._stopChildren(),m(e.sessionId)})),this},e.prototype.batch=function(e){var t=this;if(this.status===v.NotStarted&&this.options.deferEvents)l.M||(0,c.ZK)(!1,"".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'" and are deferred. Make sure .start() is called for this service.\nEvent: ').concat(JSON.stringify(event)));else if(this.status!==v.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var o,a,s=t.state,l=!1,u=[],d=function(e){var o=(0,c.g5)(e);t.forward(o),s=(0,y.J)(t,(function(){return t.machine.transition(s,o,void 0,n||void 0)})),u.push.apply(u,(0,r.ev)([],(0,r.CR)(t.machine.config.predictableActionArguments?s.actions:s.actions.map((function(e){return(0,i.j1)(e,s)}))),!1)),l=l||!!s.changed};try{for(var f=(0,r.XA)(e),p=f.next();!p.done;p=f.next())d(p.value)}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}s.changed=l,s.actions=u,t.update(s,(0,c.g5)(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=(0,c.g5)(e);if(0===r.name.indexOf(a.errorPlatform)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(a.errorPlatform)})))throw r.data.data;return(0,y.J)(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var o=(0,r.XA)(this.forwardTo),i=o.next();!i.done;i=o.next()){var a=i.value,s=this.children.get(a);if(!s)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(a,"'."));s.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),(0,c.mf)(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==v.Running)return(0,f.Xg)(e,t);if((0,c.y8)(e))return this.spawnPromise(Promise.resolve(e),t);if((0,c.mf)(e))return this.spawnCallback(e,t);if((0,f.f3)(e))return this.spawnActor(e,t);if((0,c.bi)(e))return this.spawnObservable(e,t);if((0,c.O4)(e))return this.spawnMachine(e,(0,r.pi)((0,r.pi)({},n),{id:t}));if((0,c.HV)(e))return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,n){var o=this;void 0===n&&(n={});var i=new e(t,(0,r.pi)((0,r.pi)({},this.options),{parent:this,id:n.id||t.id})),s=(0,r.pi)((0,r.pi)({},_),n);s.sync&&i.onTransition((function(e){o.send(a.update,{state:e,id:i.id})}));var l=i;return this.children.set(i.id,l),s.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){o.removeChild(i.id),o.send((0,c.g5)(e,{origin:i.id}))})).start(),l},e.prototype.spawnBehavior=function(e,t){var n=(0,b.YP)(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,o=this,i=!1;e.then((function(e){i||(r=e,o.removeChild(t),o.send((0,c.g5)((0,s.doneInvoke)(t,e),{origin:t})))}),(function(e){if(!i){o.removeChild(t);var n=(0,s.error)(t,e);try{o.send((0,c.g5)(n,{origin:t}))}catch(r){(0,c.v4)(e,r,t),o.devTools&&o.devTools.send(n,o.state),o.machine.strict&&o.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var o=(0,c.zM)(t,n,r),i=!1;return e.then((function(e){i||(o.next(e),i||o.complete())}),(function(e){i||o.error(e)})),{unsubscribe:function(){return i=!0}}},stop:function(){i=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[c.L$]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,o,i=this,a=!1,l=new Set,u=new Set;try{o=e((function(e){r=e,u.forEach((function(t){return t(e)})),a||i.send((0,c.g5)(e,{origin:t}))}),(function(e){l.add(e)}))}catch(e){this.send((0,s.error)(t,e))}if((0,c.y8)(o))return this.spawnPromise(o,t);var d=((n={id:t,send:function(e){return l.forEach((function(t){return t(e)}))},subscribe:function(e){var t=(0,c.zM)(e);return u.add(t.next),{unsubscribe:function(){u.delete(t.next)}}},stop:function(){a=!0,(0,c.mf)(o)&&o()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[c.L$]=function(){return this},n);return this.children.set(t,d),d},e.prototype.spawnObservable=function(e,t){var n,r,o=this,i=e.subscribe((function(e){r=e,o.send((0,c.g5)(e,{origin:t}))}),(function(e){o.removeChild(t),o.send((0,c.g5)((0,s.error)(t,e),{origin:t}))}),(function(){o.removeChild(t),o.send((0,c.g5)((0,s.doneInvoke)(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[c.L$]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}else l.M||(0,c.ZK)(!1,"No implementation found for activity '".concat(e.type,"'"))},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[c.L$]=function(){return this},n))},e.prototype.attachDev=function(){var e=g();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect((0,r.pi)((0,r.pi)({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:(0,r.pi)({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(g()){var t=function(){var e=g();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[c.L$]=function(){return this},e.prototype.getSnapshot=function(){return this.status===v.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=S,e}();function x(e,t){var n=function(e){return(0,c.HD)(e)?(0,r.pi)((0,r.pi)({},_),{name:e}):(0,r.pi)((0,r.pi)((0,r.pi)({},_),{name:(0,c.EL)()}),e)}(t);return(0,y.F)((function(t){if(!l.M){var r=(0,c.O4)(e)||(0,c.mf)(e);(0,c.ZK)(!!t||r,'Attempted to spawn an Actor (ID: "'.concat((0,c.O4)(e)?e.id:"undefined",'") outside of a service. This will have no effect.'))}return t?t.spawn(e,n.name,n):(0,f.Xg)(e,n.name)}))}function S(e,t){return new w(e,t)}},10797:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,J:()=>o});var r=[],o=function(e,t){r.push(e);var n=t(e);return r.pop(),n},i=function(e){return e(r[r.length-1])}},56115:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,Ij:()=>m,N9:()=>i,NA:()=>f,Oe:()=>v,P_:()=>c,ac:()=>l,e$:()=>p,nI:()=>a,nJ:()=>h,xZ:()=>g});var r=n(63056),o=n(89823),i=function(e){return"atomic"===e.type||"final"===e.type};function a(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function s(e){return a(e).filter((function(e){return"history"!==e.type}))}function l(e){var t=[e];return i(e)?t:t.concat((0,o.xH)(s(e).map(l)))}function c(e,t){var n,o,i,a,l,c,u,f,p=d(new Set(e)),h=new Set(t);try{for(var m=(0,r.XA)(h),g=m.next();!g.done;g=m.next())for(var v=(k=g.value).parent;v&&!h.has(v);)h.add(v),v=v.parent}catch(e){n={error:e}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}var y=d(h);try{for(var b=(0,r.XA)(h),_=b.next();!_.done;_=b.next())if("compound"!==(k=_.value).type||y.get(k)&&y.get(k).length){if("parallel"===k.type)try{for(var w=(l=void 0,(0,r.XA)(s(k))),x=w.next();!x.done;x=w.next()){var S=x.value;h.has(S)||(h.add(S),p.get(S)?p.get(S).forEach((function(e){return h.add(e)})):S.initialStateNodes.forEach((function(e){return h.add(e)})))}}catch(e){l={error:e}}finally{try{x&&!x.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}}else p.get(k)?p.get(k).forEach((function(e){return h.add(e)})):k.initialStateNodes.forEach((function(e){return h.add(e)}))}catch(e){i={error:e}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}try{for(var E=(0,r.XA)(h),C=E.next();!C.done;C=E.next()){var k;for(v=(k=C.value).parent;v&&!h.has(v);)h.add(v),v=v.parent}}catch(e){u={error:e}}finally{try{C&&!C.done&&(f=E.return)&&f.call(E)}finally{if(u)throw u.error}}return h}function u(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(i(r))return r.key}var o={};return n.forEach((function(e){o[e.key]=u(e,t)})),o}function d(e){var t,n,o=new Map;try{for(var i=(0,r.XA)(e),a=i.next();!a.done;a=i.next()){var s=a.value;o.has(s)||o.set(s,[]),s.parent&&(o.has(s.parent)||o.set(s.parent,[]),o.get(s.parent).push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}function f(e,t){return u(e,d(c([e],t)))}function p(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function h(e){return(0,r.ev)([],(0,r.CR)(new Set((0,o.xH)((0,r.ev)([],(0,r.CR)(e.map((function(e){return e.ownEvents}))),!1)))),!1)}function m(e,t){return"compound"===t.type?s(t).some((function(t){return"final"===t.type&&p(e,t)})):"parallel"===t.type&&s(t).every((function(t){return m(e,t)}))}function g(e){return void 0===e&&(e=[]),e.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})}function v(e){return new Set((0,o.xH)(e.map((function(e){return e.tags}))))}},59043:(e,t,n)=>{"use strict";var r,o;n.d(t,{K:()=>o,M:()=>r}),function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(r||(r={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(o||(o={}))},89823:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>D,EL:()=>z,ET:()=>h,HD:()=>O,HV:()=>S,JQ:()=>w,L$:()=>L,O4:()=>R,Q8:()=>f,Q9:()=>c,QX:()=>_,Qi:()=>M,SA:()=>g,W:()=>s,WM:()=>u,ZK:()=>T,_v:()=>F,bi:()=>N,bx:()=>W,dt:()=>A,g5:()=>U,gk:()=>m,ib:()=>p,j:()=>q,jh:()=>j,kJ:()=>I,mf:()=>P,on:()=>d,qo:()=>b,rg:()=>B,uK:()=>E,v4:()=>V,vx:()=>G,x6:()=>l,xH:()=>v,y8:()=>x,yv:()=>k,zM:()=>H});var r,o=n(63056),i=n(87353),a=n(14066);function s(e,t,n){void 0===n&&(n=i.iS);var r=u(e,n),o=u(t,n);return O(o)?!!O(r)&&o===r:O(r)?r in o:Object.keys(r).every((function(e){return e in o&&s(r[e],o[e])}))}function l(e){try{return O(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function c(e,t){try{return I(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function u(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:I(e)?d(e):"string"!=typeof e?e:d(c(e,t));var n}function d(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function f(e,t){for(var n={},r=Object.keys(e),o=0;o<r.length;o++){var i=r[o];n[i]=t(e[i],i,e,o)}return n}function p(e,t,n){var r,i,a={};try{for(var s=(0,o.XA)(Object.keys(e)),l=s.next();!l.done;l=s.next()){var c=l.value,u=e[c];n(u)&&(a[c]=t(u,c,e))}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}var h=function(e){return function(t){var n,r,i=t;try{for(var a=(0,o.XA)(e),s=a.next();!s.done;s=a.next())i=i[s.value]}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}};function m(e,t){return function(n){var r,i,a=n;try{for(var s=(0,o.XA)(e),l=s.next();!l.done;l=s.next()){var c=l.value;a=a[t][c]}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}}function g(e){return e?O(e)?[[e]]:v(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?g(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function v(e){var t;return(t=[]).concat.apply(t,(0,o.ev)([],(0,o.CR)(e),!1))}function y(e){return I(e)?e:[e]}function b(e){return void 0===e?[]:y(e)}function _(e,t,n){var r,i;if(P(e))return e(t,n.data);var a={};try{for(var s=(0,o.XA)(Object.keys(e)),l=s.next();!l.done;l=s.next()){var c=l.value,u=e[c];P(u)?a[c]=u(t,n.data):a[c]=u}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}function w(e){return/^(done|error)\./.test(e)}function x(e){return e instanceof Promise||!(null===e||!P(e)&&"object"!=typeof e||!P(e.then))}function S(e){return null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition}function E(e,t){var n,r,i=(0,o.CR)([[],[]],2),a=i[0],s=i[1];try{for(var l=(0,o.XA)(e),c=l.next();!c.done;c=l.next()){var u=c.value;t(u)?a.push(u):s.push(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return[a,s]}function C(e,t){return f(e.states,(function(e,n){if(e){var r=(O(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:C(e,r)}}}))}function k(e,t){return{current:t,states:C(e,t)}}function A(e,t,n,r){a.M||T(!!e,"Attempting to update undefined context");var i=e?n.reduce((function(e,n){var i,a,s=n.assignment,l={state:r,action:n,_event:t},c={};if(P(s))c=s(e,t.data,l);else try{for(var u=(0,o.XA)(Object.keys(s)),d=u.next();!d.done;d=u.next()){var f=d.value,p=s[f];c[f]=P(p)?p(e,t.data,l):p}}catch(e){i={error:e}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,c)}),e):e;return i}var T=function(){};function I(e){return Array.isArray(e)}function P(e){return"function"==typeof e}function O(e){return"string"==typeof e}function M(e,t){if(e)return O(e)?{type:i.TV,name:e,predicate:t?t[e]:void 0}:P(e)?{type:i.TV,name:e.name,predicate:e}:e}function N(e){try{return"subscribe"in e&&P(e.subscribe)}catch(e){return!1}}a.M||(T=function(e,t){var n=e instanceof Error?e:void 0;if((n||!e)&&void 0!==console){var r=["Warning: ".concat(t)];n&&r.push(n),console.warn.apply(console,r)}});var L=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function R(e){return!!e&&"__xstatenode"in e}function D(e){return!!e&&"function"==typeof e.send}(r={})[L]=function(){return this},r[Symbol.observable]=function(){return this};var z=function(){var e=0;return function(){return(++e).toString(16)}}();function F(e,t){return O(e)||"number"==typeof e?(0,o.pi)({type:e},t):e}function U(e,t){if(!O(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=F(e);return(0,o.pi)({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function j(e,t){return y(t).map((function(t){return void 0===t||"string"==typeof t||R(t)?{target:t,event:e}:(0,o.pi)((0,o.pi)({},t),{event:e})}))}function B(e){if(void 0!==e&&e!==i.rt)return b(e)}function V(e,t,n){if(!a.M){var r=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(n,"', error was '").concat(e,"'.").concat(r));else{var o=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(n,"'. ")+"Original error: '".concat(e,"'. ").concat(r," Current error is '").concat(t,"'.").concat(o))}}}function G(e,t,n,r,o){var a=e.options.guards,s={state:o,cond:t,_event:r};if(t.type===i.TV)return((null==a?void 0:a[t.name])||t.predicate)(n,r.data,s);var l=null==a?void 0:a[t.type];if(!l)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return l(n,r.data,s)}function q(e){return"string"==typeof e?{type:e}:e}function H(e,t,n){var r=function(){},o="object"==typeof e,i=o?e:null;return{next:((o?e.next:e)||r).bind(i),error:((o?e.error:t)||r).bind(i),complete:((o?e.complete:n)||r).bind(i)}}function W(e,t){return"".concat(e,":invocation[").concat(t,"]")}},80552:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__assign=function(){return t.__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.__assign.apply(this,arguments)},t.__read=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},t.__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},t.__spreadArray=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},t.__values=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}},4531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(80552),o={timeout:1e4};t.waitFor=function(e,t,n){var i=r.__assign(r.__assign({},o),n);return new Promise((function(n,r){var o=!1,a=i.timeout===1/0?void 0:setTimeout((function(){l.unsubscribe(),r(new Error("Timeout of ".concat(i.timeout," ms exceeded")))}),i.timeout),s=function(){clearTimeout(a),o=!0,null==l||l.unsubscribe()},l=e.subscribe({next:function(e){t(e)&&(s(),n(e))},error:function(e){s(),r(e)},complete:function(){s(),r(new Error("Actor terminated without satisfying predicate"))}});o&&l.unsubscribe()}))}},47529:e=>{e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)t.call(r,o)&&(e[o]=r[o])}return e};var t=Object.prototype.hasOwnProperty},99904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(49329);const o=n.n(r)()},49329:(e,t,n)=>{e.exports=n(60516).Observable},60516:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var i=function(){return"function"==typeof Symbol},a=function(e){return i()&&Boolean(Symbol[e])},s=function(e){return a(e)?Symbol[e]:"@@"+e};i()&&!a("observable")&&(Symbol.observable=Symbol("observable"));var l=s("iterator"),c=s("observable"),u=s("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function f(e){var t=e.constructor;return void 0!==t&&null===(t=t[u])&&(t=void 0),void 0!==t?t:x}function p(e){return e instanceof x}function h(e){h.log?h.log(e):setTimeout((function(){throw e}))}function m(e){Promise.resolve().then((function(){try{e()}catch(e){h(e)}}))}function g(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){h(e)}}function v(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";var r=e._observer;try{var o=d(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(v(e),!o)throw n;o.call(r,n);break;case"complete":v(e),o&&o.call(r)}}catch(e){h(e)}"closed"===e._state?g(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(y(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void y(e,t,n);e._queue.push({type:t,value:n})}}var _=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var o=new w(this);try{this._cleanup=r.call(void 0,o)}catch(e){o.error(e)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(v(this),g(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),w=function(){function e(t){n(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),x=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return o(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new _(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(f(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=f(this),r=arguments.length>1,o=!1,i=arguments[1],a=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=f(this);return new o((function(t){var r,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=f(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=d(t,c);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return p(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(a("iterator")&&(r=d(t,l)))return new n((function(e){m((function(){if(!e.closed){var n=!0,o=!1,i=void 0;try{for(var a,s=r.call(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(e.next(l),e.closed)return}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){m((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"==typeof this?this:e;return new o((function(e){m((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:u,get:function(){return this}}]),e}();t.Observable=x,i()&&Object.defineProperty(x,Symbol("extensions"),{value:{symbol:c,hostReportError:h},configurable:!0})},71404:(e,t,n)=>{"use strict";var r,o,i=n(9623);function a(e,t,n){if(e._observer)s(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){s(e,t,n)}))}}function s(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function l(e){return e._observer||e._observers&&e._observers.size>0}function c(e){var t=this;this._observer=null,this._observers=null,this._observable=new i((function(n){return function(e,t){!l(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!l(e)&&t&&t.pause&&t.pause()}(t,e)}}))}r=c.prototype,o={get observable(){return this._observable},get observed(){return l(this)},next:function(e){a(this,"next",e)},error:function(e){a(this,"error",e)},complete:function(e){a(this,"complete",e)}},Object.keys(o).forEach((function(e){var t=Object.getOwnPropertyDescriptor(o,e);t.enumerable=!1,Object.defineProperty(r,e,t)})),e.exports=c},9623:(e,t,n)=>{e.exports=n(60896).Observable},60896:(e,t,n)=>{"use strict";e=n.nmd(e),function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function o(e){setTimeout((function(){throw e}))}function i(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function a(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:f}function s(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function l(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){o(e)}}}function c(e){return void 0===e._observer}function u(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=i(e,"start");n&&n.call(e,this)}catch(e){o(e)}if(!c(this)){e=new d(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)a=r,r=function(){a.unsubscribe()};else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}c(this)&&l(this)}var a}function d(e){this._subscription=e}function f(e){if(!(this instanceof f))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),s(u.prototype={},{get closed(){return c(this)},unsubscribe:function(){var e;c(e=this)||(e._observer=void 0,l(e))}}),s(d.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=i(n,"next");r&&r.call(n,e)}catch(e){o(e)}}},error:function(e){var t=this._subscription;if(c(t))o(e);else{var n=t._observer;t._observer=void 0;try{var r=i(n,"error");if(!r)throw e;r.call(n,e)}catch(e){o(e)}l(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=i(t,"complete");n&&n.call(t)}catch(e){o(e)}l(e)}}}),s(f.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new u(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(a(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=a(this),r=arguments.length>1,o=!1,i=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var a=!o;if(o=!0,!a||r)try{i=e(i,t)}catch(e){return n.error(e)}else i=t}},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))}}),Object.defineProperty(f.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),s(f,{from:function(e){var t="function"==typeof this?this:f;if(null==e)throw new TypeError(e+" is not an object");var o=i(e,r("observable"));if(o){var a=o.call(e);if(Object(a)!==a)throw new TypeError(a+" is not an object");return a.constructor===t?a:new t((function(e){return a.subscribe(e)}))}if(n("iterator")&&(o=i(e,r("iterator"))))return new t((function(t){for(var n,r=o.call(e)[Symbol.iterator]();!(n=r.next()).done;){var i=n.value;if(t.next(i),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:f)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(f,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(f,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){o=e}}}),e.Observable=f}(t)},77781:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27 fill=%27%23fff%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},39722:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},97509:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},21318:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3C/svg%3E"},51851:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},26082:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23666%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath d=%27m14 5 1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E%3C/svg%3E"},70077:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23999%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath d=%27m14 5 1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E%3C/svg%3E"},90592:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23aaa%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath d=%27m14 5 1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E%3C/svg%3E"},69519:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3C/svg%3E"},12273:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},74862:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},73601:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},6248:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E"},851:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E"},44842:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E"},81123:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E%3Cpath d=%27m10.5 14 4-8 4 8h-8z%27/%3E%3Cpath d=%27m10.5 16 4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E%3C/svg%3E"},34710:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E"},61963:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E"},43561:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E"},37103:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E"},26997:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E%3Cpath d=%27m10.5 14 4-8 4 8h-8z%27/%3E%3Cpath d=%27m10.5 16 4 8 4-8h-8z%27 fill=%27%23999%27/%3E%3C/svg%3E"},99168:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E%3C/svg%3E"},19515:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E%3C/svg%3E"},16181:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E%3C/svg%3E"},52502:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E%3C/svg%3E"},54967:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27m10.5 14 4-8 4 8h-8z%27/%3E%3Cpath d=%27m10.5 16 4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E%3C/svg%3E"},57275:e=>{"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2788%27 height=%2723%27 fill=%27none%27%3E%3Cpath d=%27M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.255 1.255 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.255 1.255 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5.11 5.11 0 0 1 .314-.787l.009-.016a4.623 4.623 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.548 4.548 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4.314.319.566.676.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.416 2.416 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.448 2.448 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675c.211.2.381.43.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.76 4.76 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.407 3.407 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.255 1.255 0 0 1 .689 1.004 4.73 4.73 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528 0 .343-.02.694-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.815 5.815 0 0 1-.548-2.512c0-.286.017-.567.053-.843a1.255 1.255 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.778 4.778 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.47 4.47 0 0 1-1.935-.424 1.252 1.252 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.402 2.402 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.703 4.703 0 0 1-1.782 1.884 4.767 4.767 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.47 4.47 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a4.983 4.983 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.255 1.255 0 0 1-1.115.676h-.098a1.255 1.255 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15c.329-.237.574-.499.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267c-.088-.22-.264-.438-.526-.658l-.032-.028a3.16 3.16 0 0 0-.668-.428l-.27-.12a3.293 3.293 0 0 0-1.235-.23c-.757 0-1.415.163-1.974.493a3.36 3.36 0 0 0-1.3 1.382c-.297.593-.444 1.284-.444 2.074 0 .8.17 1.503.51 2.107a3.795 3.795 0 0 0 1.382 1.381 3.883 3.883 0 0 0 1.893.477c.53 0 1.015-.11 1.455-.33zm-2.789-5.38c-.384.45-.575 1.038-.575 1.762 0 .735.186 1.332.559 1.794.384.45.933.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.17 2.17 0 0 0 .468-.29l.178-.161a2.163 2.163 0 0 0 .397-.561c.163-.333.244-.717.244-1.15v-.115c0-.472-.098-.894-.296-1.267l-.043-.077a2.211 2.211 0 0 0-.633-.709l-.13-.086-.047-.028a2.099 2.099 0 0 0-1.073-.285c-.702 0-1.244.231-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.958.958 0 0 0-.353-.389.851.851 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.626 2.626 0 0 0 .331.423c.213.22.464.402.755.548l.173.074c.433.17.93.255 1.49.255.68 0 1.295-.165 1.844-.493a3.447 3.447 0 0 0 1.316-1.4c.329-.603.493-1.299.493-2.089 0-1.273-.33-2.243-.988-2.913-.658-.68-1.52-1.02-2.584-1.02-.598 0-1.124.115-1.575.347a2.807 2.807 0 0 0-.415.262l-.199.166a3.35 3.35 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138c.137.193.297.36.48.5l.155.11.053.034c.34.197.713.297 1.119.297.714 0 1.262-.225 1.645-.675.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.29 0-.569.053-.835.16a2.366 2.366 0 0 0-.284.136 1.99 1.99 0 0 0-.363.254 2.237 2.237 0 0 0-.46.569l-.082.162a2.56 2.56 0 0 0-.213 1.072v.115c0 .471.098.894.296 1.267l.135.211zm.964-.818a1.11 1.11 0 0 0 .367.385.937.937 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a.995.995 0 0 0-.503.135l-.012.007a.859.859 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.43 1.43 0 0 0 .14.66zm15.7-6.222c.232-.23.346-.516.346-.856a1.053 1.053 0 0 0-.345-.79 1.175 1.175 0 0 0-.84-.329c-.34 0-.625.11-.855.33a1.053 1.053 0 0 0-.346.79c0 .34.115.625.346.855.23.23.516.346.856.346.34 0 .62-.115.839-.346zm4.337 9.314.033-1.332c.128.269.324.518.59.747l.098.081a3.727 3.727 0 0 0 .316.224l.223.122a3.21 3.21 0 0 0 1.44.322 3.785 3.785 0 0 0 1.875-.477 3.52 3.52 0 0 0 1.382-1.366c.352-.593.526-1.29.526-2.09 0-.79-.147-1.48-.444-2.073a3.235 3.235 0 0 0-1.283-1.399c-.549-.34-1.195-.51-1.942-.51a3.476 3.476 0 0 0-1.527.344l-.086.043-.165.09a3.412 3.412 0 0 0-.33.214c-.288.21-.507.446-.656.707a1.893 1.893 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.482 2.482 0 0 0 .566.7c.078.065.159.125.245.18l.144.08a2.105 2.105 0 0 0 .975.232c.713 0 1.262-.225 1.645-.675.384-.46.576-1.053.576-1.778 0-.734-.192-1.327-.576-1.777-.373-.46-.921-.692-1.645-.692a2.18 2.18 0 0 0-1.015.235c-.147.075-.285.17-.415.282l-.15.142a2.086 2.086 0 0 0-.42.594c-.149.32-.223.685-.223 1.1v.115c0 .47.097.89.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.868.868 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.13 1.13 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013c.23-.087.472-.134.724-.14l.069-.002c.329 0 .542.033.642.099l.247-1.794c-.13-.066-.37-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2.086 2.086 0 0 0-.411.148 2.18 2.18 0 0 0-.4.249 2.482 2.482 0 0 0-.485.499 2.659 2.659 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884c0-.364.053-.678.159-.943a1.49 1.49 0 0 1 .466-.636 2.52 2.52 0 0 1 .399-.253 2.19 2.19 0 0 1 .224-.099zm9.784 2.656.05-.922c0-1.162-.285-2.062-.856-2.698-.559-.647-1.42-.97-2.584-.97-.746 0-1.415.163-2.007.493a3.462 3.462 0 0 0-1.4 1.382c-.329.604-.493 1.306-.493 2.106 0 .714.143 1.371.428 1.975.285.593.73 1.07 1.332 1.432.604.351 1.355.526 2.255.526.649 0 1.204-.062 1.668-.185l.044-.012.135-.04c.409-.122.736-.263.984-.421l-.542-1.267c-.2.108-.415.199-.642.274l-.297.087c-.34.088-.773.131-1.3.131-.636 0-1.135-.147-1.497-.444a1.573 1.573 0 0 1-.192-.193c-.244-.294-.415-.705-.512-1.234l-.004-.021h5.43zm-5.427-1.256-.003.022h3.752v-.138c-.007-.485-.104-.857-.288-1.118a1.056 1.056 0 0 0-.156-.176c-.307-.285-.746-.428-1.316-.428-.657 0-1.155.202-1.494.604-.253.3-.417.712-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z%27 fill=%27%23000%27 fill-opacity=%27.4%27 fill-rule=%27evenodd%27/%3E%3Cpath d=%27m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81c-.68 0-1.311-.16-1.893-.478a3.795 3.795 0 0 1-1.381-1.382c-.34-.604-.51-1.306-.51-2.106 0-.79.147-1.482.444-2.074a3.364 3.364 0 0 1 1.3-1.382c.559-.33 1.217-.494 1.974-.494a3.293 3.293 0 0 1 1.234.231 3.341 3.341 0 0 1 .97.575c.264.22.44.439.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332c-.186.395-.526.746-1.02 1.053a3.167 3.167 0 0 1-1.662.444zm.296-1.482c.626 0 1.152-.214 1.58-.642.428-.44.642-1.01.642-1.711v-.115c0-.472-.098-.894-.296-1.267a2.211 2.211 0 0 0-.807-.872 2.098 2.098 0 0 0-1.119-.313c-.702 0-1.245.231-1.629.692-.384.45-.575 1.037-.575 1.76 0 .736.186 1.333.559 1.795.384.45.933.675 1.645.675zm6.521-6.237h1.711v1.4c.604-1.065 1.547-1.597 2.83-1.597 1.064 0 1.926.34 2.584 1.02.659.67.988 1.641.988 2.914 0 .79-.164 1.487-.493 2.09a3.456 3.456 0 0 1-1.316 1.399 3.51 3.51 0 0 1-1.844.493c-.636 0-1.19-.11-1.662-.329a2.665 2.665 0 0 1-1.086-.97l.017 5.134h-1.728V9.242zm4.048 6.22c.714 0 1.262-.224 1.645-.674.385-.46.576-1.048.576-1.762 0-.746-.192-1.338-.576-1.777-.372-.45-.92-.675-1.645-.675-.395 0-.768.098-1.12.296-.34.187-.613.46-.822.823-.197.351-.296.763-.296 1.234v.115c0 .472.098.894.296 1.267.209.362.483.647.823.855.34.197.713.297 1.119.297z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.159 1.159 0 0 1-.856-.346 1.165 1.165 0 0 1-.346-.856 1.053 1.053 0 0 1 .346-.79c.23-.219.516-.329.856-.329.329 0 .609.11.839.33a1.053 1.053 0 0 1 .345.79 1.159 1.159 0 0 1-.345.855c-.22.23-.5.346-.84.346zm7.875 9.133a3.167 3.167 0 0 1-1.662-.444c-.482-.307-.817-.658-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283c.186-.438.548-.812 1.086-1.119a3.486 3.486 0 0 1 1.778-.477c.746 0 1.393.17 1.942.51a3.235 3.235 0 0 1 1.283 1.4c.297.592.444 1.282.444 2.072 0 .8-.175 1.498-.526 2.09a3.52 3.52 0 0 1-1.382 1.366 3.785 3.785 0 0 1-1.876.477zm-.296-1.481c.713 0 1.26-.225 1.645-.675.384-.46.577-1.053.577-1.778 0-.734-.193-1.327-.577-1.776-.373-.46-.921-.692-1.645-.692a2.115 2.115 0 0 0-1.58.659c-.428.428-.642.992-.642 1.694v.115c0 .473.098.895.296 1.267a2.385 2.385 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481c.176-.505.46-.91.856-1.217a2.14 2.14 0 0 1 1.349-.46c.351 0 .593.032.724.098l-.247 1.794c-.099-.066-.313-.099-.642-.099-.516 0-.988.164-1.416.494-.417.329-.626.855-.626 1.58v3.883h-1.777V9.242zm9.534 7.718c-.9 0-1.651-.175-2.255-.526-.603-.362-1.047-.84-1.332-1.432a4.567 4.567 0 0 1-.428-1.975c0-.8.164-1.502.493-2.106a3.462 3.462 0 0 1 1.4-1.382c.592-.33 1.262-.494 2.007-.494 1.163 0 2.024.324 2.584.97.57.637.856 1.537.856 2.7 0 .296-.017.603-.05.92h-5.43c.12.67.356 1.153.708 1.45.362.296.86.443 1.497.443.526 0 .96-.044 1.3-.131a4.123 4.123 0 0 0 .938-.362l.542 1.267c-.274.175-.647.329-1.119.46-.472.132-1.042.197-1.711.197zm1.596-4.558c.01-.68-.137-1.158-.444-1.432-.307-.285-.746-.428-1.316-.428-1.152 0-1.815.62-1.991 1.86h3.752z%27 fill=%27%23e1e3e9%27/%3E%3Cg fill-rule=%27evenodd%27 stroke-width=%271.036%27%3E%3Cpath d=%27m8.166 16.146-.002.002a1.54 1.54 0 0 1-2.009 0l-.002-.002-.043-.034-.002-.002-.199-.162H4.377a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659H8.411l-.202.164zm-1.121-.905a.29.29 0 0 0 .113.023.286.286 0 0 0 .189-.07l.077-.063c.634-.508 4.672-3.743 4.672-7.575 0-2.55-2.215-4.625-4.938-4.625S2.221 5.006 2.221 7.556c0 3.225 2.86 6.027 4.144 7.137h.004l.04.038.484.4.077.063a.628.628 0 0 0 .074.047zm-2.52-.548a16.898 16.898 0 0 1-1.183-1.315C2.187 11.942.967 9.897.967 7.555c0-3.319 2.855-5.88 6.192-5.88 3.338 0 6.193 2.561 6.193 5.881 0 2.34-1.22 4.387-2.376 5.822a16.898 16.898 0 0 1-1.182 1.315h.15a1.912 1.912 0 0 1 1.914 1.914v1.84a1.912 1.912 0 0 1-1.914 1.914H4.377a1.912 1.912 0 0 1-1.914-1.914v-1.84a1.912 1.912 0 0 1 1.914-1.914zm3.82-6.935c0 .692-.55 1.222-1.187 1.222s-1.185-.529-1.185-1.222.548-1.222 1.185-1.222c.638 0 1.186.529 1.186 1.222zm-1.186 2.477c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477zm2.048 7.71H5.114v-.838h4.093z%27 fill=%27%23000%27 fill-opacity=%27.4%27/%3E%3Cpath d=%27M2.222 7.555c0-2.55 2.214-4.625 4.937-4.625 2.723 0 4.938 2.075 4.938 4.625 0 3.832-4.038 7.068-4.672 7.575l-.077.063a.286.286 0 0 1-.189.07.286.286 0 0 1-.188-.07l-.077-.063c-.634-.507-4.672-3.743-4.672-7.575zm4.937 2.68c1.348 0 2.442-1.11 2.442-2.478S8.507 5.28 7.159 5.28 4.72 6.39 4.72 7.758s1.092 2.477 2.44 2.477z%27 fill=%27%23e1e3e9%27/%3E%3Cpath d=%27M4.377 15.948a.657.657 0 0 0-.659.659v1.84a.657.657 0 0 0 .659.659h5.565a.657.657 0 0 0 .659-.659v-1.84a.657.657 0 0 0-.659-.659zm4.83 1.16H5.114v.838h4.093z%27 fill=%27%23fff%27/%3E%3C/g%3E%3C/svg%3E"},56249:()=>{},24613:function(e){e.exports=function(){"use strict";var e,t,n;function r(r,o){if(e)if(t){var i="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=o(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"})))}else t=o;else e=o}return r(0,(function(e){var t=n;function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}function r(e,n,r,o){const i=new t(e,n,r,o);return function(e){return i.solve(e)}}n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var o=this.sampleCurveX(n)-e;if(Math.abs(o)<t)return n;var i=this.sampleCurveDerivativeX(n);if(Math.abs(i)<1e-6)break;n-=o/i}var a=0,s=1;for(n=e,r=0;r<20&&(o=this.sampleCurveX(n),!(Math.abs(o-e)<t));r++)e>o?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};const o=r(.25,.1,.25,1);function i(e,t,n){return Math.min(n,Math.max(t,e))}function a(e,t,n){const r=n-t,o=((e-t)%r+r)%r+t;return o===t?n:o}function s(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}let l=1;function c(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t))}))}function u(e,t,n){const r={};for(const o in e)r[o]=t.call(n||this,e[o],o,e);return r}function d(e,t,n){const r={};for(const o in e)t.call(n||this,e[o],o,e)&&(r[o]=e[o]);return r}function f(e){return Array.isArray(e)?e.map(f):"object"==typeof e&&e?u(e,f):e}const p={};function h(e){p[e]||("undefined"!=typeof console&&console.warn(e),p[e]=!0)}function m(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function g(e){let t=0;for(let n,r,o=0,i=e.length,a=i-1;o<i;a=o++)n=e[o],r=e[a],t+=(r.x-n.x)*(n.y+r.y);return t}function v(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function y(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,n,r,o)=>{const i=r||o;return t[n]=!i||i.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let b,_,w=null;function x(e){if(null==w){const t=e.navigator?e.navigator.userAgent:null;w=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return w}function S(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const E={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e){const t=requestAnimationFrame(e);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(e,t=0){const n=window.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:e=>(b||(b=document.createElement("a")),b.href=e,b.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==_&&(_=matchMedia("(prefers-reduced-motion: reduce)")),_.matches)}};var C=k;function k(e,t){this.x=e,this.y=t}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},k.convert=function(e){return e instanceof k?e:Array.isArray(e)?new k(e[0],e[1]):e};const A={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},T="mapbox-tiles";let I,P=500,O=50;function M(){"undefined"==typeof caches||I||(I=caches.open(T))}let N=1/0;const L={supported:!1,testSupport:function(e){!z&&D&&(F?U(e):R=e)}};let R,D,z=!1,F=!1;function U(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,D),e.isContextLost())return;L.supported=!0}catch(e){}e.deleteTexture(t),z=!0}"undefined"!=typeof document&&(D=document.createElement("img"),D.onload=function(){R&&U(R),R=null,F=!0},D.onerror=function(){z=!0,R=null},D.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const j={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(j);class B extends Error{constructor(e,t,n,r){super(`AJAXError: ${t} (${e}): ${n}`),this.status=e,this.statusText=t,this.url=n,this.body=r}}const V=v()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href;function G(e,t){const n=new AbortController,r=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:V(),signal:n.signal});let o=!1,i=!1;return"json"===e.type&&r.headers.set("Accept","application/json"),((n,a,s)=>{if(i)return;Date.now();fetch(r).then((n=>n.ok?((n,r,a)=>{("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((e=>{i||(o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((e=>{i||t(new Error(e.message))}))})(n):n.blob().then((r=>t(new B(n.status,n.statusText,e.url,r)))))).catch((e=>{20!==e.code&&t(new Error(e.message))}))})(),{cancel:()=>{i=!0,o||n.abort()}}}const q=function(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(v()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!v()){const n=e.url.substring(0,e.url.indexOf("://"));return(A.REGISTERED_PROTOCOLS[n]||G)(e,t)}}if(!(/^file:/.test(n=e.url)||/^file:/.test(V())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return G(e,t);if(v()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){const n=new XMLHttpRequest;n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer");for(const t in e.headers)n.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else{const r=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new B(n.status,n.statusText,e.url,r))}},n.send(e.body),{cancel:()=>n.abort()}}(e,t)},H=function(e,t){return q(s(e,{type:"arrayBuffer"}),t)};function W(e){const t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}const K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let $,Z;$=[],Z=0;const Y=function(e,t){if(L.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),Z>=A.MAX_PARALLEL_IMAGE_REQUESTS){const n={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return $.push(n),n}Z++;let n=!1;const r=()=>{if(!n)for(n=!0,Z--;$.length&&Z<A.MAX_PARALLEL_IMAGE_REQUESTS;){const e=$.shift(),{requestParameters:t,callback:n,cancelled:r}=e;r||(e.cancel=Y(t,n).cancel)}},o=H(e,((e,n,o,i)=>{r(),e?t(e):n&&function(e,t){"function"==typeof createImageBitmap?function(e,t){const n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then((e=>{t(null,e)})).catch((e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(e,t):function(e,t){const n=new Image;n.onload=()=>{t(null,n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame((()=>{n.src=K}))},n.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const r=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?URL.createObjectURL(r):K}(e,t)}(n,((e,n)=>{null!=e?t(e):null!=n&&t(null,n,{cacheControl:o,expires:i})}))}));return{cancel:()=>{o.cancel(),r()}}};function J(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function X(e,t,n){if(n&&n[e]){const r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}class Q{constructor(e,t={}){s(this,t),this.type=e}}class ee extends Q{constructor(e,t={}){super("error",s({error:e},t))}}class te{on(e,t){return this._listeners=this._listeners||{},J(e,t,this._listeners),this}off(e,t){return X(e,t,this._listeners),X(e,t,this._oneTimeListeners),this}once(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},J(e,t,this._oneTimeListeners),this}fire(e,t){"string"==typeof e&&(e=new Q(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const r=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const t of r)X(n,t,this._oneTimeListeners),t.call(this,e);const o=this._eventedParent;o&&(s(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),o.fire(e))}else e instanceof ee&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class re{constructor(e,t,n,r){this.message=(e?`${e}: `:"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)}}function oe(e){const t=e.value;return t?[new re(e.key,t,"constants have been deprecated as of v8")]:[]}function ie(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function ae(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function se(e){if(Array.isArray(e))return e.map(se);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=se(e[n]);return t}return ae(e)}class le extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ce{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new ce(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const ue={kind:"null"},de={kind:"number"},fe={kind:"string"},pe={kind:"boolean"},he={kind:"color"},me={kind:"object"},ge={kind:"value"},ve={kind:"collator"},ye={kind:"formatted"},be={kind:"resolvedImage"};function _e(e,t){return{kind:"array",itemType:e,N:t}}function we(e){if("array"===e.kind){const t=we(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const xe=[ue,de,fe,pe,he,ye,me,_e(ge),be];function Se(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Se(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of xe)if(!Se(e,t))return null}return`Expected ${we(e)} but found ${we(t)} instead.`}function Ee(e,t){return t.some((t=>t.kind===e.kind))}function Ce(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}var ke,Ae={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Te(e){return(e=Math.round(e))<0?0:e>255?255:e}function Ie(e){return Te("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Pe(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Oe(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{ke={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in Ae)return Ae[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),o=n.indexOf(")");if(-1!==r&&o+1===n.length){var i=n.substr(0,r),a=n.substr(r+1,o-(r+1)).split(","),s=1;switch(i){case"rgba":if(4!==a.length)return null;s=Pe(a.pop());case"rgb":return 3!==a.length?null:[Ie(a[0]),Ie(a[1]),Ie(a[2]),s];case"hsla":if(4!==a.length)return null;s=Pe(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=Pe(a[1]),u=Pe(a[2]),d=u<=.5?u*(c+1):u+c-u*c,f=2*u-d;return[Te(255*Oe(f,d,l+1/3)),Te(255*Oe(f,d,l)),Te(255*Oe(f,d,l-1/3)),s];default:return null}}return null}}catch(e){}class Me{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof Me)return e;if("string"!=typeof e)return;const t=ke(e);return t?new Me(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}}Me.black=new Me(0,0,0,1),Me.white=new Me(1,1,1,1),Me.transparent=new Me(0,0,0,0),Me.red=new Me(1,0,0,1);class Ne{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Le{constructor(e,t,n,r,o){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=o}}class Re{constructor(e){this.sections=e}static fromString(e){return new Re([new Le(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof Re?e:Re.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class De{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new De({name:e,available:!1}):null}serialize(){return["image",this.name]}}function ze(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Fe(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Me)return!0;if(e instanceof Ne)return!0;if(e instanceof Re)return!0;if(e instanceof De)return!0;if(Array.isArray(e)){for(const t of e)if(!Fe(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Fe(e[t]))return!1;return!0}return!1}function Ue(e){if(null===e)return ue;if("string"==typeof e)return fe;if("boolean"==typeof e)return pe;if("number"==typeof e)return de;if(e instanceof Me)return he;if(e instanceof Ne)return ve;if(e instanceof Re)return ye;if(e instanceof De)return be;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=Ue(t);if(n){if(n===e)continue;n=ge;break}n=e}return _e(n||ge,t)}return me}function je(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Me||e instanceof Re||e instanceof De?e.toString():JSON.stringify(e)}class Be{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Fe(e[1]))return t.error("invalid value");const n=e[1];let r=Ue(n);const o=t.expectedType;return"array"!==r.kind||0!==r.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(r=o),new Be(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Me?["rgba"].concat(this.value.toArray()):this.value instanceof Re?this.value.serialize():this.value}}class Ve{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const Ge={string:fe,number:de,boolean:pe,object:me};class qe{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const o=e[0];if("array"===o){let o,i;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in Ge)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=Ge[n],r++}else o=ge;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);i=e[2],r++}n=_e(o,i)}else n=Ge[o];const i=[];for(;r<e.length;r++){const n=t.parse(e[r],r,ge);if(!n)return null;i.push(n)}return new qe(n,i)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!Se(this.type,Ue(n)))return n;if(t===this.args.length-1)throw new Ve(`Expected value to be of type ${we(this.type)}, but found ${we(Ue(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const r=e.N;("number"==typeof r||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map((e=>e.serialize())))}}class He{constructor(e){this.type=ye,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let o=!1;for(let n=1;n<=e.length-1;++n){const i=e[n];if(o&&"object"==typeof i&&!Array.isArray(i)){o=!1;let e=null;if(i["font-scale"]&&(e=t.parse(i["font-scale"],1,de),!e))return null;let n=null;if(i["text-font"]&&(n=t.parse(i["text-font"],1,_e(fe)),!n))return null;let a=null;if(i["text-color"]&&(a=t.parse(i["text-color"],1,he),!a))return null;const s=r[r.length-1];s.scale=e,s.font=n,s.textColor=a}else{const i=t.parse(e[n],1,ge);if(!i)return null;const a=i.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,r.push({content:i,scale:null,font:null,textColor:null})}}return new He(r)}evaluate(e){return new Re(this.sections.map((t=>{const n=t.content.evaluate(e);return Ue(n)===be?new Le("",n,null,null,null):new Le(je(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class We{constructor(e){this.type=be,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,fe);return n?new We(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=De.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Ke={"to-boolean":pe,"to-color":he,"to-number":de,"to-string":fe};class $e{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=Ke[n],o=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],n,ge);if(!r)return null;o.push(r)}return new $e(r,o)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof Me)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:ze(t[0],t[1],t[2],t[3]),!n))return new Me(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ve(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new Ve(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?Re.fromString(je(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?De.fromString(je(this.args[0].evaluate(e))):je(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){if("formatted"===this.type.kind)return new He([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new We(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild((t=>{e.push(t.serialize())})),e}}const Ze=["Unknown","Point","LineString","Polygon"];class Ye{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ze[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Me.parse(e)),t}}class Je{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map((e=>e.serialize())))}static parse(e,t){const n=e[0],r=Je.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const o=Array.isArray(r)?r[0]:r.type,i=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=i.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[r,i]of a){s=new _t(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],o=Array.isArray(r)?r[t-1]:r.type,i=s.parse(n,1+a.length,o);if(!i){l=!0;break}a.push(i)}if(!l)if(Array.isArray(r)&&r.length!==a.length)s.error(`Expected ${r.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(r)?r[e]:r.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Je(n,o,i,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:i).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(we).join(", ")})`:`(${we(t.type)}...)`;var t})).join(" | "),r=[];for(let n=1;n<e.length;n++){const o=t.parse(e[n],1+r.length);if(!o)return null;r.push(we(o.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){Je.definitions=t;for(const n in t)e[n]=Je}}class Xe{constructor(e,t,n){this.type=ve,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,pe);if(!r)return null;const o=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,pe);if(!o)return null;let i=null;return n.locale&&(i=t.parse(n.locale,1,fe),!i)?null:new Xe(r,o,i)}evaluate(e){return new Ne(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Qe=8192;function et(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function tt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function nt(e,t){const n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,o=Math.pow(2,t.z);return[Math.round(n*o*Qe),Math.round(r*o*Qe)]}function rt(e,t,n){const r=e[0]-t[0],o=e[1]-t[1],i=e[0]-n[0],a=e[1]-n[1];return r*a-i*o==0&&r*i<=0&&o*a<=0}function ot(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(rt(e,s[t],s[t+1]))return!1;(o=s[t])[1]>(r=e)[1]!=(i=s[t+1])[1]>r[1]&&r[0]<(i[0]-o[0])*(r[1]-o[1])/(i[1]-o[1])+o[0]&&(n=!n)}}var r,o,i;return n}function it(e,t){for(let n=0;n<t.length;n++)if(ot(e,t[n]))return!0;return!1}function at(e,t,n,r){const o=r[0]-n[0],i=r[1]-n[1],a=(e[0]-n[0])*i-o*(e[1]-n[1]),s=(t[0]-n[0])*i-o*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function st(e,t,n){for(const c of n)for(let n=0;n<c.length-1;++n)if(0!=(s=[(a=c[n+1])[0]-(i=c[n])[0],a[1]-i[1]])[0]*(l=[(o=t)[0]-(r=e)[0],o[1]-r[1]])[1]-s[1]*l[0]&&at(r,o,i,a)&&at(i,a,r,o))return!0;var r,o,i,a,s,l;return!1}function lt(e,t){for(let n=0;n<e.length;++n)if(!ot(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(st(e[n],e[n+1],t))return!1;return!0}function ct(e,t){for(let n=0;n<t.length;n++)if(lt(e,t[n]))return!0;return!1}function ut(e,t,n){const r=[];for(let o=0;o<e.length;o++){const i=[];for(let r=0;r<e[o].length;r++){const a=nt(e[o][r],n);et(t,a),i.push(a)}r.push(i)}return r}function dt(e,t,n){const r=[];for(let o=0;o<e.length;o++){const i=ut(e[o],t,n);r.push(i)}return r}function ft(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let o=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===o&&(o=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=o}et(t,e)}function pt(e,t,n,r){const o=Math.pow(2,r.z)*Qe,i=[r.x*Qe,r.y*Qe],a=[];for(const r of e)for(const e of r){const r=[e.x+i[0],e.y+i[1]];ft(r,t,n,o),a.push(r)}return a}function ht(e,t,n,r){const o=Math.pow(2,r.z)*Qe,i=[r.x*Qe,r.y*Qe],a=[];for(const n of e){const e=[];for(const r of n){const n=[r.x+i[0],r.y+i[1]];et(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=o/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const r of e)ft(r,t,n,o)}var s;return a}class mt{constructor(e,t){this.type=pe,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Fe(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new mt(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new mt(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new mt(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if("Polygon"===t.type){const i=ut(t.coordinates,r,o),a=pt(e.geometry(),n,r,o);if(!tt(n,r))return!1;for(const e of a)if(!ot(e,i))return!1}if("MultiPolygon"===t.type){const i=dt(t.coordinates,r,o),a=pt(e.geometry(),n,r,o);if(!tt(n,r))return!1;for(const e of a)if(!it(e,i))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if("Polygon"===t.type){const i=ut(t.coordinates,r,o),a=ht(e.geometry(),n,r,o);if(!tt(n,r))return!1;for(const e of a)if(!lt(e,i))return!1}if("MultiPolygon"===t.type){const i=dt(t.coordinates,r,o),a=ht(e.geometry(),n,r,o);if(!tt(n,r))return!1;for(const e of a)if(!ct(e,i))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function gt(e){if(e instanceof Je){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof mt)return!1;let t=!0;return e.eachChild((e=>{t&&!gt(e)&&(t=!1)})),t}function vt(e){if(e instanceof Je&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!vt(e)&&(t=!1)})),t}function yt(e,t){if(e instanceof Je&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!yt(e,t)&&(n=!1)})),n}class bt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new bt(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class _t{constructor(e,t=[],n,r=new ce,o=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=r,this.errors=o,this.expectedType=n}parse(e,t,n,r,o={}){return t?this.concat(t,n,r)._parse(e,o):this._parse(e,o)}_parse(e,t){function n(e,t,n){return"assert"===n?new qe(t,[e]):"coerce"===n?new $e(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const o=this.registry[r];if(o){let r=o.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,o=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==o.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==o.kind&&"string"!==o.kind){if(this.checkSubtype(e,o))return null}else r=n(r,e,t.typeAnnotation||"coerce");else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof Be)&&"resolvedImage"!==r.type.kind&&wt(r)){const t=new Ye;try{r=new Be(r.type,r.evaluate(t))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,o=n?this.scope.concat(n):this.scope;return new _t(this.registry,r,t||null,o,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new le(n,e))}checkSubtype(e,t){const n=Se(e,t);return n&&this.error(n),n}}function wt(e){if(e instanceof bt)return wt(e.boundExpression);if(e instanceof Je&&"error"===e.name)return!1;if(e instanceof Xe)return!1;if(e instanceof mt)return!1;const t=e instanceof $e||e instanceof qe;let n=!0;return e.eachChild((e=>{n=t?n&&wt(e):n&&e instanceof Be})),!!n&&gt(e)&&yt(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function xt(e,t){const n=e.length-1;let r,o,i=0,a=n,s=0;for(;i<=a;)if(s=Math.floor((i+a)/2),r=e[s],o=e[s+1],r<=t){if(s===n||t<o)return s;i=s+1}else{if(!(r>t))throw new Ve("Input is not a number.");a=s-1}return 0}class St{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,de);if(!n)return null;const r=[];let o=null;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(let n=1;n<e.length;n+=2){const i=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof i)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=i)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,o);if(!c)return null;o=o||c.type,r.push([i,c])}return new St(o,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const o=t.length;return r>=t[o-1]?n[o-1].evaluate(e):n[xt(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}function Et(e,t,n){return e*(1-n)+t*n}var Ct=Object.freeze({__proto__:null,number:Et,color:function(e,t,n){return new Me(Et(e.r,t.r,n),Et(e.g,t.g,n),Et(e.b,t.b,n),Et(e.a,t.a,n))},array:function(e,t,n){return e.map(((e,r)=>Et(e,t[r],n)))}});const kt=.95047,At=1.08883,Tt=4/29,It=6/29,Pt=3*It*It,Ot=Math.PI/180,Mt=180/Math.PI;function Nt(e){return e>.008856451679035631?Math.pow(e,1/3):e/Pt+Tt}function Lt(e){return e>It?e*e*e:Pt*(e-Tt)}function Rt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zt(e){const t=Dt(e.r),n=Dt(e.g),r=Dt(e.b),o=Nt((.4124564*t+.3575761*n+.1804375*r)/kt),i=Nt((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*i-16,a:500*(o-i),b:200*(i-Nt((.0193339*t+.119192*n+.9503041*r)/At)),alpha:e.a}}function Ft(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Lt(t),n=kt*Lt(n),r=At*Lt(r),new Me(Rt(3.2404542*n-1.5371385*t-.4985314*r),Rt(-.969266*n+1.8760108*t+.041556*r),Rt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Ut(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}const jt={forward:zt,reverse:Ft,interpolate:function(e,t,n){return{l:Et(e.l,t.l,n),a:Et(e.a,t.a,n),b:Et(e.b,t.b,n),alpha:Et(e.alpha,t.alpha,n)}}},Bt={forward:function(e){const{l:t,a:n,b:r}=zt(e),o=Math.atan2(r,n)*Mt;return{h:o<0?o+360:o,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Ot,n=e.c;return Ft({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Ut(e.h,t.h,n),c:Et(e.c,t.c,n),l:Et(e.l,t.l,n),alpha:Et(e.alpha,t.alpha,n)}}};var Vt=Object.freeze({__proto__:null,lab:jt,hcl:Bt});class Gt{constructor(e,t,n,r,o){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of o)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,n,r,o){let i=0;if("exponential"===e.name)i=qt(n,e.base,r,o);else if("linear"===e.name)i=qt(n,1,r,o);else if("cubic-bezier"===e.name){const a=e.controlPoints;i=new t(a[0],a[1],a[2],a[3]).solve(qt(n,1,r,o))}return i}static parse(e,t){let[n,r,o,...i]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(o=t.parse(o,2,de),!o)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=he:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<i.length;e+=2){const n=i[e],r=i[e+1],o=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',o);const c=t.parse(r,l,s);if(!c)return null;s=s||c.type,a.push([n,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Gt(s,n,r,o,a):t.error(`Type ${we(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const o=t.length;if(r>=t[o-1])return n[o-1].evaluate(e);const i=xt(t,r),a=Gt.interpolationFactor(this.interpolation,r,t[i],t[i+1]),s=n[i].evaluate(e),l=n[i+1].evaluate(e);return"interpolate"===this.operator?Ct[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?Bt.reverse(Bt.interpolate(Bt.forward(s),Bt.forward(l),a)):jt.reverse(jt.interpolate(jt.forward(s),jt.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function qt(e,t,n,r){const o=r-n,i=e-n;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}class Ht{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const o=[];for(const r of e.slice(1)){const e=t.parse(r,1+o.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,o.push(e)}const i=r&&o.some((e=>Se(r,e.type)));return new Ht(i?ge:n,o)}evaluate(e){let t,n=null,r=0;for(const o of this.args)if(r++,n=o.evaluate(e),n&&n instanceof De&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}serialize(){const e=["coalesce"];return this.eachChild((t=>{e.push(t.serialize())})),e}}class Wt{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const o=e[r];if("string"!=typeof o)return t.error(`Expected string, but found ${typeof o} instead.`,r);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const i=t.parse(e[r+1],r+1);if(!i)return null;n.push([o,i])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new Wt(n,r):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}class Kt{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,de),r=t.parse(e[2],2,_e(t.expectedType||ge));return n&&r?new Kt(r.type.itemType,n,r):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ve(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ve(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ve(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class $t{constructor(e,t){this.type=pe,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ge),r=t.parse(e[2],2,ge);return n&&r?Ee(n.type,[pe,fe,de,ue,ge])?new $t(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${we(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Ce(t,["boolean","string","number","null"]))throw new Ve(`Expected first argument to be of type boolean, string, number or null, but found ${we(Ue(t))} instead.`);if(!Ce(n,["string","array"]))throw new Ve(`Expected second argument to be of type array or string, but found ${we(Ue(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Zt{constructor(e,t,n){this.type=de,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ge),r=t.parse(e[2],2,ge);if(!n||!r)return null;if(!Ee(n.type,[pe,fe,de,ue,ge]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${we(n.type)} instead`);if(4===e.length){const o=t.parse(e[3],3,de);return o?new Zt(n,r,o):null}return new Zt(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Ce(t,["boolean","string","number","null"]))throw new Ve(`Expected first argument to be of type boolean, string, number or null, but found ${we(Ue(t))} instead.`);if(!Ce(n,["string","array"]))throw new Ve(`Expected second argument to be of type array or string, but found ${we(Ue(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class Yt{constructor(e,t,n,r,o,i){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=o,this.otherwise=i}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const o={},i=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ue(e)))return null}else n=Ue(e);if(void 0!==o[String(e)])return c.error("Branch labels must be unique.");o[String(e)]=i.length}const u=t.parse(l,a,r);if(!u)return null;r=r||u.type,i.push(u)}const a=t.parse(e[1],1,ge);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,r);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new Yt(n,r,a,o,i,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ue(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],r={};for(const e of t){const t=r[this.cases[e]];void 0===t?(r[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const o=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,r]of n)e.push(1===r.length?o(r[0]):r.map(o)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}class Jt{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let o=1;o<e.length-1;o+=2){const i=t.parse(e[o],o,pe);if(!i)return null;const a=t.parse(e[o+1],o+1,n);if(!a)return null;r.push([i,a]),n=n||a.type}const o=t.parse(e[e.length-1],e.length-1,n);return o?new Jt(n,r,o):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild((t=>{e.push(t.serialize())})),e}}class Xt{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ge),r=t.parse(e[2],2,de);if(!n||!r)return null;if(!Ee(n.type,[_e(ge),fe,ge]))return t.error(`Expected first argument to be of type array or string, but found ${we(n.type)} instead`);if(4===e.length){const o=t.parse(e[3],3,de);return o?new Xt(n.type,n,r,o):null}return new Xt(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Ce(t,["string","array"]))throw new Ve(`Expected first argument to be of type array or string, but found ${we(Ue(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function Qt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function en(e,t,n,r){return 0===r.compare(t,n)}function tn(e,t,n){const r="=="!==e&&"!="!==e;return class o{constructor(e,t,n){this.type=pe,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let i=t.parse(e[1],1,ge);if(!i)return null;if(!Qt(n,i.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${we(i.type)}'.`);let a=t.parse(e[2],2,ge);if(!a)return null;if(!Qt(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${we(a.type)}'.`);if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${we(i.type)}' and '${we(a.type)}'.`);r&&("value"===i.type.kind&&"value"!==a.type.kind?i=new qe(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new qe(i.type,[a])));let s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ve),!s)return null}return new o(i,a,s)}evaluate(o){const i=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(r&&this.hasUntypedArgument){const t=Ue(i),n=Ue(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ve(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=Ue(i),n=Ue(a);if("string"!==e.kind||"string"!==n.kind)return t(o,i,a)}return this.collator?n(o,i,a,this.collator.evaluate(o)):t(o,i,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild((e=>{t.push(e.serialize())})),t}}}const nn=tn("==",(function(e,t,n){return t===n}),en),rn=tn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!en(0,t,n,r)})),on=tn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),an=tn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),sn=tn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),ln=tn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0}));class cn{constructor(e,t,n,r,o){this.type=fe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,de);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let o=null;if(r.locale&&(o=t.parse(r.locale,1,fe),!o))return null;let i=null;if(r.currency&&(i=t.parse(r.currency,1,fe),!i))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,de),!a))return null;let s=null;return r["max-fraction-digits"]&&(s=t.parse(r["max-fraction-digits"],1,de),!s)?null:new cn(n,o,i,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class un{constructor(e){this.type=de,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${we(n.type)} instead.`):new un(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ve(`Expected value to be of type string or array, but found ${we(Ue(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild((t=>{e.push(t.serialize())})),e}}const dn={"==":nn,"!=":rn,">":an,"<":on,">=":ln,"<=":sn,array:qe,at:Kt,boolean:qe,case:Jt,coalesce:Ht,collator:Xe,format:He,image:We,in:$t,"index-of":Zt,interpolate:Gt,"interpolate-hcl":Gt,"interpolate-lab":Gt,length:un,let:Wt,literal:Be,match:Yt,number:qe,"number-format":cn,object:qe,slice:Xt,step:St,string:qe,"to-boolean":$e,"to-color":$e,"to-number":$e,"to-string":$e,var:bt,within:mt};function fn(e,[t,n,r,o]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const i=o?o.evaluate(e):1,a=ze(t,n,r,i);if(a)throw new Ve(a);return new Me(t/255*i,n/255*i,r/255*i,i)}function pn(e,t){return e in t}function hn(e,t){const n=t[e];return void 0===n?null:n}function mn(e){return{type:e}}function gn(e){return{result:"success",value:e}}function vn(e){return{result:"error",value:e}}function yn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function bn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function _n(e){return!!e.expression&&e.expression.interpolated}function wn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function xn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Sn(e){return e}function En(e,t){const n="color"===t.type,r=e.stops&&"object"==typeof e.stops[0][0],o=r||!(r||void 0!==e.property),i=e.type||(_n(t)?"exponential":"interval");if(n&&((e=ie({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],Me.parse(e[1])]))),e.default=Me.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Vt[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let a,s,l;if("exponential"===i)a=Tn;else if("interval"===i)a=An;else if("categorical"===i){a=kn,s=Object.create(null);for(const t of e.stops)s[t[0]]=t[1];l=typeof e.stops[0][0]}else{if("identity"!==i)throw new Error(`Unknown function type "${i}"`);a=In}if(r){const n={},r=[];for(let t=0;t<e.stops.length;t++){const o=e.stops[t],i=o[0].zoom;void 0===n[i]&&(n[i]={zoom:i,type:e.type,property:e.property,default:e.default,stops:[]},r.push(i)),n[i].stops.push([o[0].value,o[1]])}const o=[];for(const e of r)o.push([n[e].zoom,En(n[e],t)]);const i={name:"linear"};return{kind:"composite",interpolationType:i,interpolationFactor:Gt.interpolationFactor.bind(void 0,i),zoomStops:o.map((e=>e[0])),evaluate:({zoom:n},r)=>Tn({stops:o,base:e.base},t,n).evaluate(n,r)}}if(o){const n="exponential"===i?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:Gt.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:n})=>a(e,t,n,s,l)}}return{kind:"source",evaluate(n,r){const o=r&&r.properties?r.properties[e.property]:void 0;return void 0===o?Cn(e.default,t.default):a(e,t,o,s,l)}}}function Cn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function kn(e,t,n,r,o){return Cn(typeof n===o?r[n]:void 0,e.default,t.default)}function An(e,t,n){if("number"!==wn(n))return Cn(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const o=xt(e.stops.map((e=>e[0])),n);return e.stops[o][1]}function Tn(e,t,n){const r=void 0!==e.base?e.base:1;if("number"!==wn(n))return Cn(e.default,t.default);const o=e.stops.length;if(1===o)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[o-1][0])return e.stops[o-1][1];const i=xt(e.stops.map((e=>e[0])),n),a=function(e,t,n,r){const o=r-n,i=e-n;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}(n,r,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],l=e.stops[i+1][1];let c=Ct[t.type]||Sn;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Vt[e.colorSpace];c=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==n)return c(t,n,a)}}:c(s,l,a)}function In(e,t,n){return"color"===t.type?n=Me.parse(n):"formatted"===t.type?n=Re.fromString(n.toString()):"resolvedImage"===t.type?n=De.fromString(n.toString()):wn(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Cn(n,e.default,t.default)}Je.register(dn,{error:[{kind:"error"},[fe],(e,[t])=>{throw new Ve(t.evaluate(e))}],typeof:[fe,[ge],(e,[t])=>we(Ue(t.evaluate(e)))],"to-rgba":[_e(de,4),[he],(e,[t])=>t.evaluate(e).toArray()],rgb:[he,[de,de,de],fn],rgba:[he,[de,de,de,de],fn],has:{type:pe,overloads:[[[fe],(e,[t])=>pn(t.evaluate(e),e.properties())],[[fe,me],(e,[t,n])=>pn(t.evaluate(e),n.evaluate(e))]]},get:{type:ge,overloads:[[[fe],(e,[t])=>hn(t.evaluate(e),e.properties())],[[fe,me],(e,[t,n])=>hn(t.evaluate(e),n.evaluate(e))]]},"feature-state":[ge,[fe],(e,[t])=>hn(t.evaluate(e),e.featureState||{})],properties:[me,[],e=>e.properties()],"geometry-type":[fe,[],e=>e.geometryType()],id:[ge,[],e=>e.id()],zoom:[de,[],e=>e.globals.zoom],"heatmap-density":[de,[],e=>e.globals.heatmapDensity||0],"line-progress":[de,[],e=>e.globals.lineProgress||0],accumulated:[ge,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[de,mn(de),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[de,mn(de),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:de,overloads:[[[de,de],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[de],(e,[t])=>-t.evaluate(e)]]},"/":[de,[de,de],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[de,[de,de],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[de,[],()=>Math.LN2],pi:[de,[],()=>Math.PI],e:[de,[],()=>Math.E],"^":[de,[de,de],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[de,[de],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[de,[de],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[de,[de],(e,[t])=>Math.log(t.evaluate(e))],log2:[de,[de],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[de,[de],(e,[t])=>Math.sin(t.evaluate(e))],cos:[de,[de],(e,[t])=>Math.cos(t.evaluate(e))],tan:[de,[de],(e,[t])=>Math.tan(t.evaluate(e))],asin:[de,[de],(e,[t])=>Math.asin(t.evaluate(e))],acos:[de,[de],(e,[t])=>Math.acos(t.evaluate(e))],atan:[de,[de],(e,[t])=>Math.atan(t.evaluate(e))],min:[de,mn(de),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[de,mn(de),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[de,[de],(e,[t])=>Math.abs(t.evaluate(e))],round:[de,[de],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[de,[de],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[de,[de],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[pe,[fe,ge],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[pe,[ge],(e,[t])=>e.id()===t.value],"filter-type-==":[pe,[fe],(e,[t])=>e.geometryType()===t.value],"filter-<":[pe,[fe,ge],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r<o}],"filter-id-<":[pe,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[pe,[fe,ge],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r>o}],"filter-id->":[pe,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[pe,[fe,ge],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[pe,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[pe,[fe,ge],(e,[t,n])=>{const r=e.properties()[t.value],o=n.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[pe,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[pe,[ge],(e,[t])=>t.value in e.properties()],"filter-has-id":[pe,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[pe,[_e(fe)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[pe,[_e(ge)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[pe,[fe,_e(ge)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[pe,[fe,_e(ge)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const o=n+r>>1;if(t[o]===e)return!0;t[o]>e?r=o-1:n=o+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:pe,overloads:[[[pe,pe],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[mn(pe),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:pe,overloads:[[[pe,pe],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[mn(pe),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[pe,[pe],(e,[t])=>!t.evaluate(e)],"is-supported-script":[pe,[fe],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[fe,[fe],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[fe,[fe],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[fe,mn(ge),(e,t)=>t.map((t=>je(t.evaluate(e)))).join("")],"resolved-locale":[fe,[ve],(e,[t])=>t.evaluate(e).resolvedLocale()]});class Pn{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Ye,this._defaultValue=t?function(e){return"color"===e.type&&xn(e.default)?new Me(0,0,0,0):"color"===e.type?Me.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,o,i){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,o,i){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ve(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function On(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in dn}function Mn(e,t){const n=new _t(dn,[],t?function(e){const t={color:he,string:fe,number:de,enum:fe,boolean:pe,formatted:ye,resolvedImage:be};return"array"===e.type?_e(t[e.value]||ge,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?gn(new Pn(r,t)):vn(n.errors)}class Nn{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!vt(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,o,i)}evaluate(e,t,n,r,o,i){return this._styleExpression.evaluate(e,t,n,r,o,i)}}class Ln{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!vt(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,o,i)}evaluate(e,t,n,r,o,i){return this._styleExpression.evaluate(e,t,n,r,o,i)}interpolationFactor(e,t,n){return this.interpolationType?Gt.interpolationFactor(this.interpolationType,e,t,n):0}}function Rn(e,t){const n=Mn(e,t);if("error"===n.result)return n;const r=n.value.expression,o=gt(r);if(!o&&!yn(t))return vn([new le("","data expressions not supported")]);const i=yt(r,["zoom"]);if(!i&&!bn(t))return vn([new le("","zoom expressions not supported")]);const a=zn(r);return a||i?a instanceof le?vn([a]):a instanceof Gt&&!_n(t)?vn([new le("",'"interpolate" expressions cannot be used with this property')]):gn(a?new Ln(o?"camera":"composite",n.value,a.labels,a instanceof Gt?a.interpolation:void 0):new Nn(o?"constant":"source",n.value)):vn([new le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Dn{constructor(e,t){this._parameters=e,this._specification=t,ie(this,En(this._parameters,this._specification))}static deserialize(e){return new Dn(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function zn(e){let t=null;if(e instanceof Wt)t=zn(e.result);else if(e instanceof Ht){for(const n of e.args)if(t=zn(n),t)break}else(e instanceof St||e instanceof Gt)&&e.input instanceof Je&&"zoom"===e.input.name&&(t=e);return t instanceof le||e.eachChild((e=>{const n=zn(e);n instanceof le?t=n:!t&&n?t=new le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new le("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function Fn(e){const t=e.key,n=e.value,r=e.valueSpec||{},o=e.objectElementValidators||{},i=e.style,a=e.styleSpec;let s=[];const l=wn(n);if("object"!==l)return[new re(t,n,`object expected, ${l} found`)];for(const e in n){const l=e.split(".")[0],c=r[l]||r["*"];let u;if(o[l])u=o[l];else if(r[l])u=dr;else if(o["*"])u=o["*"];else{if(!r["*"]){s.push(new re(t,n[e],`unknown property "${e}"`));continue}u=dr}s=s.concat(u({key:(t?`${t}.`:t)+e,value:n[e],valueSpec:c,style:i,styleSpec:a,object:n,objectKey:e},n))}for(const e in r)o[e]||r[e].required&&void 0===r[e].default&&void 0===n[e]&&s.push(new re(t,n,`missing required property "${e}"`));return s}function Un(e){const t=e.value,n=e.valueSpec,r=e.style,o=e.styleSpec,i=e.key,a=e.arrayElementValidator||dr;if("array"!==wn(t))return[new re(i,t,`array expected, ${wn(t)} found`)];if(n.length&&t.length!==n.length)return[new re(i,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new re(i,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let s={type:n.value,values:n.values};o.$version<7&&(s.function=n.function),"object"===wn(n.value)&&(s=n.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:r,styleSpec:o,key:`${i}[${e}]`}));return l}function jn(e){const t=e.key,n=e.value,r=e.valueSpec;let o=wn(n);return"number"===o&&n!=n&&(o="NaN"),"number"!==o?[new re(t,n,`number expected, ${o} found`)]:"minimum"in r&&n<r.minimum?[new re(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new re(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function Bn(e){const t=e.valueSpec,n=ae(e.value.type);let r,o,i,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,c="array"===wn(e.value.stops)&&"array"===wn(e.value.stops[0])&&"object"===wn(e.value.stops[0][0]),u=Fn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new re(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const r=e.value;return t=t.concat(Un({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:d})),"array"===wn(r)&&0===r.length&&t.push(new re(e.key,r,"array must have at least one stop")),t},default:function(e){return dr({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&u.push(new re(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new re(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!_n(e.valueSpec)&&u.push(new re(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!yn(e.valueSpec)?u.push(new re(e.key,e.value,"property functions not supported")):s&&!bn(e.valueSpec)&&u.push(new re(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new re(e.key,e.value,'"property" property is required')),u;function d(e){let n=[];const r=e.value,s=e.key;if("array"!==wn(r))return[new re(s,r,`array expected, ${wn(r)} found`)];if(2!==r.length)return[new re(s,r,`array length 2 expected, length ${r.length} found`)];if(c){if("object"!==wn(r[0]))return[new re(s,r,`object expected, ${wn(r[0])} found`)];if(void 0===r[0].zoom)return[new re(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new re(s,r,"object stop key must have value")];if(i&&i>ae(r[0].zoom))return[new re(s,r[0].zoom,"stop zoom values must appear in ascending order")];ae(r[0].zoom)!==i&&(i=ae(r[0].zoom),o=void 0,a={}),n=n.concat(Fn({key:`${s}[0]`,value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:jn,value:f}}))}else n=n.concat(f({key:`${s}[0]`,value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return On(se(r[1]))?n.concat([new re(`${s}[1]`,r[1],"expressions are not allowed in function stops.")]):n.concat(dr({key:`${s}[1]`,value:r[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function f(e,i){const s=wn(e.value),l=ae(e.value),c=null!==e.value?e.value:i;if(r){if(s!==r)return[new re(e.key,c,`${s} stop domain type must match previous stop domain type ${r}`)]}else r=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new re(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let r=`number expected, ${s} found`;return yn(t)&&void 0===n&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new re(e.key,c,r)]}return"categorical"!==n||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&void 0!==o&&l<o?[new re(e.key,c,"stop domain values must appear in ascending order")]:(o=l,"categorical"===n&&l in a?[new re(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new re(e.key,c,`integer expected, found ${l}`)]}}function Vn(e){const t=("property"===e.expressionContext?Rn:Mn)(se(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new re(`${e.key}${t.key}`,e.value,t.message)));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new re(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!vt(n))return[new re(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!vt(n))return[new re(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!yt(n,["zoom","feature-state"]))return[new re(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!gt(n))return[new re(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gn(e){const t=e.key,n=e.value,r=e.valueSpec,o=[];return Array.isArray(r.values)?-1===r.values.indexOf(ae(n))&&o.push(new re(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(r.values).indexOf(ae(n))&&o.push(new re(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),o}function qn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!qn(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Hn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Wn(e){if(null==e)return{filter:()=>!0,needGeometry:!1};qn(e)||(e=Zn(e));const t=Mn(e,Hn);if("error"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return{filter:(e,n,r)=>t.value.evaluate(e,n,{},r),needGeometry:$n(e)}}function Kn(e,t){return e<t?-1:e>t?1:0}function $n(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if($n(e[t]))return!0;return!1}function Zn(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?Yn(e[1],e[2],"=="):"!="===t?Qn(Yn(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Yn(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(Zn))):"all"===t?["all"].concat(e.slice(1).map(Zn)):"none"===t?["all"].concat(e.slice(1).map(Zn).map(Qn)):"in"===t?Jn(e[1],e.slice(2)):"!in"===t?Qn(Jn(e[1],e.slice(2))):"has"===t?Xn(e[1]):"!has"===t?Qn(Xn(e[1])):"within"!==t||e;var n}function Yn(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function Jn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Kn)]]:["filter-in-small",e,["literal",t]]}}function Xn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Qn(e){return["!",e]}function er(e){return qn(se(e.value))?Vn(ie({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):tr(e)}function tr(e){const t=e.value,n=e.key;if("array"!==wn(t))return[new re(n,t,`array expected, ${wn(t)} found`)];const r=e.styleSpec;let o,i=[];if(t.length<1)return[new re(n,t,"filter array must have at least 1 element")];switch(i=i.concat(Gn({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),ae(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===ae(t[1])&&i.push(new re(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&i.push(new re(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(o=wn(t[1]),"string"!==o&&i.push(new re(`${n}[1]`,t[1],`string expected, ${o} found`)));for(let a=2;a<t.length;a++)o=wn(t[a]),"$type"===ae(t[1])?i=i.concat(Gn({key:`${n}[${a}]`,value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&i.push(new re(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let r=1;r<t.length;r++)i=i.concat(tr({key:`${n}[${r}]`,value:t[r],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":o=wn(t[1]),2!==t.length?i.push(new re(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==o&&i.push(new re(`${n}[1]`,t[1],`string expected, ${o} found`));break;case"within":o=wn(t[1]),2!==t.length?i.push(new re(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==o&&i.push(new re(`${n}[1]`,t[1],`object expected, ${o} found`))}return i}function nr(e,t){const n=e.key,r=e.style,o=e.styleSpec,i=e.value,a=e.objectKey,s=o[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return dr({key:n,value:i,valueSpec:o.transition,style:r,styleSpec:o});const c=e.valueSpec||s[a];if(!c)return[new re(n,i,`unknown property "${a}"`)];let u;if("string"===wn(i)&&yn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(i)))return[new re(n,i,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&d.push(new re(n,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&xn(se(i))&&"identity"===ae(i.type)&&d.push(new re(n,i,'"text-font" does not support identity functions'))),d.concat(dr({key:e.key,value:i,valueSpec:c,style:r,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:a}))}function rr(e){return nr(e,"paint")}function or(e){return nr(e,"layout")}function ir(e){let t=[];const n=e.value,r=e.key,o=e.style,i=e.styleSpec;n.type||n.ref||t.push(new re(r,n,'either "type" or "ref" is required'));let a=ae(n.type);const s=ae(n.ref);if(n.id){const i=ae(n.id);for(let a=0;a<e.arrayIndex;a++){const e=o.layers[a];ae(e.id)===i&&t.push(new re(r,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in n&&t.push(new re(r,n[e],`"${e}" is prohibited for ref layers`))})),o.layers.forEach((t=>{ae(t.id)===s&&(e=t)})),e?e.ref?t.push(new re(r,n.ref,"ref cannot reference another ref layer")):a=ae(e.type):t.push(new re(r,n.ref,`ref layer "${s}" not found`))}else if("background"!==a)if(n.source){const e=o.sources&&o.sources[n.source],i=e&&ae(e.type);e?"vector"===i&&"raster"===a?t.push(new re(r,n.source,`layer "${n.id}" requires a raster source`)):"raster"===i&&"raster"!==a?t.push(new re(r,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==i||n["source-layer"]?"raster-dem"===i&&"hillshade"!==a?t.push(new re(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===i&&e.lineMetrics||t.push(new re(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new re(r,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new re(r,n.source,`source "${n.source}" not found`))}else t.push(new re(r,n,'missing required property "source"'));return t=t.concat(Fn({key:r,value:n,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>dr({key:`${r}.type`,value:n.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:er,layout:e=>Fn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>or(ie({layerType:a},e))}}),paint:e=>Fn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>rr(ie({layerType:a},e))}})}})),t}function ar(e){const t=e.value,n=e.key,r=wn(t);return"string"!==r?[new re(n,t,`string expected, ${r} found`)]:[]}const sr={promoteId:function({key:e,value:t}){if("string"===wn(t))return ar({key:e,value:t});{const n=[];for(const r in t)n.push(...ar({key:`${e}.${r}`,value:t[r]}));return n}}};function lr(e){const t=e.value,n=e.key,r=e.styleSpec,o=e.style;if(!t.type)return[new re(n,t,'"type" is required')];const i=ae(t.type);let a;switch(i){case"vector":case"raster":case"raster-dem":return a=Fn({key:n,value:t,valueSpec:r[`source_${i.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:sr}),a;case"geojson":if(a=Fn({key:n,value:t,valueSpec:r.source_geojson,style:o,styleSpec:r,objectElementValidators:sr}),t.cluster)for(const e in t.clusterProperties){const[r,o]=t.clusterProperties[e],i="string"==typeof r?[r,["accumulated"],["get",e]]:r;a.push(...Vn({key:`${n}.${e}.map`,value:o,expressionContext:"cluster-map"})),a.push(...Vn({key:`${n}.${e}.reduce`,value:i,expressionContext:"cluster-reduce"}))}return a;case"video":return Fn({key:n,value:t,valueSpec:r.source_video,style:o,styleSpec:r});case"image":return Fn({key:n,value:t,valueSpec:r.source_image,style:o,styleSpec:r});case"canvas":return[new re(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Gn({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:r})}}function cr(e){const t=e.value,n=e.styleSpec,r=n.light,o=e.style;let i=[];const a=wn(t);if(void 0===t)return i;if("object"!==a)return i=i.concat([new re("light",t,`object expected, ${a} found`)]),i;for(const e in t){const a=e.match(/^(.*)-transition$/);i=i.concat(a&&r[a[1]]&&r[a[1]].transition?dr({key:e,value:t[e],valueSpec:n.transition,style:o,styleSpec:n}):r[e]?dr({key:e,value:t[e],valueSpec:r[e],style:o,styleSpec:n}):[new re(e,t[e],`unknown property "${e}"`)])}return i}const ur={"*":()=>[],array:Un,boolean:function(e){const t=e.value,n=e.key,r=wn(t);return"boolean"!==r?[new re(n,t,`boolean expected, ${r} found`)]:[]},number:jn,color:function(e){const t=e.key,n=e.value,r=wn(n);return"string"!==r?[new re(t,n,`color expected, ${r} found`)]:null===ke(n)?[new re(t,n,`color expected, "${n}" found`)]:[]},constants:oe,enum:Gn,filter:er,function:Bn,layer:ir,object:Fn,source:lr,light:cr,string:ar,formatted:function(e){return 0===ar(e).length?[]:Vn(e)},resolvedImage:function(e){return 0===ar(e).length?[]:Vn(e)}};function dr(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&xn(ae(t))?Bn(e):n.expression&&On(se(t))?Vn(e):n.type&&ur[n.type]?ur[n.type](e):Fn(ie({},e,{valueSpec:n.type?r[n.type]:n}))}function fr(e){const t=e.value,n=e.key,r=ar(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new re(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new re(n,t,'"glyphs" url must include a "{range}" token'))),r}function pr(e,t=ne){let n=[];return n=n.concat(dr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:fr,"*":()=>[]}})),e.constants&&(n=n.concat(oe({key:"constants",value:e.constants,style:e,styleSpec:t}))),hr(n)}function hr(e){return[].concat(e).sort(((e,t)=>e.line-t.line))}function mr(e){return function(...t){return hr(e.apply(this,t))}}pr.source=mr(lr),pr.light=mr(cr),pr.layer=mr(ir),pr.filter=mr(er),pr.paintProperty=mr(rr),pr.layoutProperty=mr(or);const gr=pr,vr=gr.light,yr=gr.paintProperty,br=gr.layoutProperty;function _r(e,t){let n=!1;if(t&&t.length)for(const r of t)e.fire(new ee(new Error(r.message))),n=!0;return n}class wr{constructor(e,t,n){const r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const o=new Int32Array(this.arrayBuffer);e=o[0],this.d=(t=o[1])+2*(n=o[2]);for(let e=0;e<this.d*this.d;e++){const t=o[3+e],n=o[3+e+1];r.push(t===n?null:o.subarray(t,n))}const i=o[3+r.length+1];this.keys=o.subarray(o[3+r.length],i),this.bboxes=o.subarray(i),this.insert=this._insertReadonly}else{this.d=t+2*n;for(let e=0;e<this.d*this.d;e++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;const o=n/t*e;this.min=-o,this.max=e+o}insert(e,t,n,r,o){this._forEachCell(t,n,r,o,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,n,r,o,i){this.cells[o].push(i)}query(e,t,n,r,o){const i=this.min,a=this.max;if(e<=i&&t<=i&&a<=n&&a<=r&&!o)return Array.prototype.slice.call(this.keys);{const i=[];return this._forEachCell(e,t,n,r,this._queryCell,i,{},o),i}}_queryCell(e,t,n,r,o,i,a,s){const l=this.cells[o];if(null!==l){const o=this.keys,c=this.bboxes;for(let u=0;u<l.length;u++){const d=l[u];if(void 0===a[d]){const l=4*d;(s?s(c[l+0],c[l+1],c[l+2],c[l+3]):e<=c[l+2]&&t<=c[l+3]&&n>=c[l+0]&&r>=c[l+1])?(a[d]=!0,i.push(o[d])):a[d]=!1}}}}_forEachCell(e,t,n,r,o,i,a,s){const l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),d=this._convertToCellCoord(r);for(let f=l;f<=u;f++)for(let l=c;l<=d;l++){const c=this.d*l+f;if((!s||s(this._convertFromCellCoord(f),this._convertFromCellCoord(l),this._convertFromCellCoord(f+1),this._convertFromCellCoord(l+1)))&&o.call(this,e,t,n,r,c,i,a,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,t=3+this.cells.length+1+1;let n=0;for(let e=0;e<this.cells.length;e++)n+=this.cells[e].length;const r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;let o=t;for(let t=0;t<e.length;t++){const n=e[t];r[3+t]=o,r.set(n,o),o+=n.length}return r[3+e.length]=o,r.set(this.keys,o),o+=this.keys.length,r[3+e.length+1]=o,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer}static serialize(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}static deserialize(e){return new wr(e.buffer)}}const xr={};function Sr(e,t,n={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),xr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}Sr("Object",Object),Sr("TransferableGridIndex",wr),Sr("Color",Me),Sr("Error",Error),Sr("AJAXError",B),Sr("ResolvedImage",De),Sr("StylePropertyFunction",Dn),Sr("StyleExpression",Pn,{omit:["_evaluator"]}),Sr("ZoomDependentExpression",Ln),Sr("ZoomConstantExpression",Nn),Sr("CompoundExpression",Je,{omit:["_evaluate"]});for(const e in dn)dn[e]._classRegistryKey||Sr(`Expression_${e}`,dn[e]);function Er(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Cr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(Er(e))return t&&t.push(e),e;if(S(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const n=e;return t&&t.push(n.buffer),n}if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const r of e)n.push(Cr(r,t));return n}if("object"==typeof e){const n=e.constructor,r=n._classRegistryKey;if(!r)throw new Error("can't serialize object of unregistered class");const o=n.serialize?n.serialize(e,t):{};if(!n.serialize){for(const n in e){if(!e.hasOwnProperty(n))continue;if(xr[r].omit.indexOf(n)>=0)continue;const i=e[n];o[n]=xr[r].shallow.indexOf(n)>=0?i:Cr(i,t)}e instanceof Error&&(o.message=e.message)}if(o.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==r&&(o.$name=r),o}throw new Error("can't serialize object of type "+typeof e)}function kr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||Er(e)||S(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(kr);if("object"==typeof e){const t=e.$name||"Object";if(!xr[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:n}=xr[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(e);const r=Object.create(n.prototype);for(const n of Object.keys(e)){if("$name"===n)continue;const o=e[n];r[n]=xr[t].shallow.indexOf(n)>=0?o:kr(o)}return r}throw new Error("can't deserialize object of type "+typeof e)}class Ar{constructor(){this.first=!0}update(e,t){const n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}const Tr={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function Ir(e){for(const t of e)if(Mr(t.charCodeAt(0)))return!0;return!1}function Pr(e){for(const t of e)if(!Or(t.charCodeAt(0)))return!1;return!0}function Or(e){return!(Tr.Arabic(e)||Tr["Arabic Supplement"](e)||Tr["Arabic Extended-A"](e)||Tr["Arabic Presentation Forms-A"](e)||Tr["Arabic Presentation Forms-B"](e))}function Mr(e){return!(746!==e&&747!==e&&(e<4352||!(Tr["Bopomofo Extended"](e)||Tr.Bopomofo(e)||Tr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Tr["CJK Compatibility Ideographs"](e)||Tr["CJK Compatibility"](e)||Tr["CJK Radicals Supplement"](e)||Tr["CJK Strokes"](e)||!(!Tr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Tr["CJK Unified Ideographs Extension A"](e)||Tr["CJK Unified Ideographs"](e)||Tr["Enclosed CJK Letters and Months"](e)||Tr["Hangul Compatibility Jamo"](e)||Tr["Hangul Jamo Extended-A"](e)||Tr["Hangul Jamo Extended-B"](e)||Tr["Hangul Jamo"](e)||Tr["Hangul Syllables"](e)||Tr.Hiragana(e)||Tr["Ideographic Description Characters"](e)||Tr.Kanbun(e)||Tr["Kangxi Radicals"](e)||Tr["Katakana Phonetic Extensions"](e)||Tr.Katakana(e)&&12540!==e||!(!Tr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Tr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Tr["Unified Canadian Aboriginal Syllabics"](e)||Tr["Unified Canadian Aboriginal Syllabics Extended"](e)||Tr["Vertical Forms"](e)||Tr["Yijing Hexagram Symbols"](e)||Tr["Yi Syllables"](e)||Tr["Yi Radicals"](e))))}function Nr(e){return!(Mr(e)||function(e){return!!(Tr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Tr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Tr["Letterlike Symbols"](e)||Tr["Number Forms"](e)||Tr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Tr["Control Pictures"](e)&&9251!==e||Tr["Optical Character Recognition"](e)||Tr["Enclosed Alphanumerics"](e)||Tr["Geometric Shapes"](e)||Tr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Tr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Tr["CJK Symbols and Punctuation"](e)||Tr.Katakana(e)||Tr["Private Use Area"](e)||Tr["CJK Compatibility Forms"](e)||Tr["Small Form Variants"](e)||Tr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Lr(e){return e>=1424&&e<=2303||Tr["Arabic Presentation Forms-A"](e)||Tr["Arabic Presentation Forms-B"](e)}function Rr(e,t){return!(!t&&Lr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Tr.Khmer(e))}function Dr(e){for(const t of e)if(Lr(t.charCodeAt(0)))return!0;return!1}const zr="deferred",Fr="loading",Ur="loaded";let jr=null,Br="unavailable",Vr=null;const Gr=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Br="error"),jr&&jr(e)};function qr(){Hr.fire(new Q("pluginStateChange",{pluginStatus:Br,pluginURL:Vr}))}const Hr=new te,Wr=function(){return Br},Kr=function(){if(Br!==zr||!Vr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Br=Fr,qr(),Vr&&H({url:Vr},(e=>{e?Gr(e):(Br=Ur,qr())}))},$r={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Br===Ur||null!=$r.applyArabicShaping,isLoading:()=>Br===Fr,setState(e){Br=e.pluginStatus,Vr=e.pluginURL},isParsed:()=>null!=$r.applyArabicShaping&&null!=$r.processBidirectionalText&&null!=$r.processStyledBidirectionalText,getPluginURL:()=>Vr};class Zr{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ar,this.transition={})}isSupportedScript(e){return function(e,t){for(const n of e)if(!Rr(n.charCodeAt(0),t))return!1;return!0}(e,$r.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}class Yr{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(xn(e))return new Dn(e,t);if(On(e)){const n=Rn(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value}{let n=e;return"string"==typeof e&&"color"===t.type&&(n=Me.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class Jr{constructor(e){this.property=e,this.value=new Yr(e,void 0)}transitioned(e,t){return new Qr(this.property,this.value,t,s({},e.transition,this.transition),e.now)}untransitioned(){return new Qr(this.property,this.value,null,{},0)}}class Xr{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return f(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Jr(this._values[e].property)),this._values[e].value=new Yr(this._values[e].property,null===t?void 0:f(t))}getTransition(e){return f(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new Jr(this._values[e].property)),this._values[e].transition=f(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const r=this.getTransition(t);void 0!==r&&(e[`${t}-transition`]=r)}return e}transitioned(e,t){const n=new eo(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].transitioned(e,t._values[r]);return n}untransitioned(){const e=new eo(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Qr{constructor(e,t,n,r,o){this.property=e,this.value=t,this.begin=o+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const r=e.now||0,o=this.value.possiblyEvaluate(e,t,n),i=this.prior;if(i){if(r>this.end)return this.prior=null,o;if(this.value.isDataDriven())return this.prior=null,o;if(r<this.begin)return i.possiblyEvaluate(e,t,n);{const a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(e,t,n),o,function(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}}return o}}class eo{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const r=new ro(this._properties);for(const o of Object.keys(this._values))r._values[o]=this._values[o].possiblyEvaluate(e,t,n);return r}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class to{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return f(this._values[e].value)}setValue(e,t){this._values[e]=new Yr(this._values[e].property,null===t?void 0:f(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const r=new ro(this._properties);for(const o of Object.keys(this._values))r._values[o]=this._values[o].possiblyEvaluate(e,t,n);return r}}class no{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}class ro{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class oo{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,n){const r=Ct[this.specification.type];return r?r(e,t,n):e}}class io{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,r){return new no(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new no(this,{kind:"constant",value:void 0},e.parameters);const r=Ct[this.specification.type];return r?new no(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,r,o,i){return"constant"===e.kind?e.value:e.evaluate(t,n,r,o,i)}}class ao extends io{possiblyEvaluate(e,t,n,r){if(void 0===e.value)return new no(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const o=e.expression.evaluate(t,null,{},n,r),i="resolvedImage"===e.property.specification.type&&"string"!=typeof o?o.name:o,a=this._calculate(i,i,i,t);return new no(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new no(this,{kind:"constant",value:n},t)}return new no(this,e.expression,t)}evaluate(e,t,n,r,o,i){if("source"===e.kind){const a=e.evaluate(t,n,r,o,i);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class so{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){const o=e.expression.evaluate(t,null,{},n,r);return this._calculate(o,o,o,t)}return this._calculate(e.expression.evaluate(new Zr(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Zr(Math.floor(t.zoom),t)),e.expression.evaluate(new Zr(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class lo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}interpolate(){return!1}}class co{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const n=e[t];n.specification.overridable&&this.overridableProperties.push(t);const r=this.defaultPropertyValues[t]=new Yr(n,void 0),o=this.defaultTransitionablePropertyValues[t]=new Jr(n);this.defaultTransitioningPropertyValues[t]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}}}Sr("DataDrivenProperty",io),Sr("DataConstantProperty",oo),Sr("CrossFadedDataDrivenProperty",ao),Sr("CrossFadedProperty",so),Sr("ColorRampProperty",lo);const uo="-transition";class fo extends te{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new to(t.layout)),t.paint)){this._transitionablePaint=new Xr(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ro(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,n={}){null!=t&&this._validate(br,`layers.${this.id}.layout.${e}`,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return e.endsWith(uo)?this._transitionablePaint.getTransition(e.slice(0,-uo.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(yr,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(e.endsWith(uo))return this._transitionablePaint.setTransition(e.slice(0,-uo.length),t||void 0),!1;{const n=this._transitionablePaint._values[e],r="cross-faded-data-driven"===n.property.specification["property-type"],o=n.value.isDataDriven(),i=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||o||r||this._handleOverridablePaintPropertyUpdate(e,i,a)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),d(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,n,r,o={}){return(!o||!1!==o.validate)&&_r(this,e.call(gr,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof no&&yn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const po={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ho{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class mo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function go(e,t=1){let n=0,r=0;return{members:e.map((e=>{const o=po[e.type].BYTES_PER_ELEMENT,i=n=vo(n,Math.max(t,o)),a=e.components||1;return r=Math.max(r,o),n+=o*a,{name:e.name,type:e.type,components:a,offset:i}})),size:vo(n,Math.max(r,t)),alignment:t}}function vo(e,t){return Math.ceil(e/t)*t}class yo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}yo.prototype.bytesPerElement=4,Sr("StructArrayLayout2i4",yo);class bo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r)}emplace(e,t,n,r,o){const i=4*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,this.int16[i+3]=o,e}}bo.prototype.bytesPerElement=8,Sr("StructArrayLayout4i8",bo);class _o extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,o,i)}emplace(e,t,n,r,o,i,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,e}}_o.prototype.bytesPerElement=12,Sr("StructArrayLayout2i4i12",_o);class wo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,o,i)}emplace(e,t,n,r,o,i,a){const s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=o,this.uint8[l+6]=i,this.uint8[l+7]=a,e}}wo.prototype.bytesPerElement=8,Sr("StructArrayLayout2i4ub8",wo);class xo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}xo.prototype.bytesPerElement=8,Sr("StructArrayLayout2f8",xo);class So extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i,a,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,o,i,a,s,l,c)}emplace(e,t,n,r,o,i,a,s,l,c,u){const d=10*e;return this.uint16[d+0]=t,this.uint16[d+1]=n,this.uint16[d+2]=r,this.uint16[d+3]=o,this.uint16[d+4]=i,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=l,this.uint16[d+8]=c,this.uint16[d+9]=u,e}}So.prototype.bytesPerElement=20,Sr("StructArrayLayout10ui20",So);class Eo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i,a,s,l,c,u,d){const f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,o,i,a,s,l,c,u,d)}emplace(e,t,n,r,o,i,a,s,l,c,u,d,f){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=o,this.uint16[p+4]=i,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=d,this.int16[p+11]=f,e}}Eo.prototype.bytesPerElement=24,Sr("StructArrayLayout4i4ui4i24",Eo);class Co extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const o=3*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,e}}Co.prototype.bytesPerElement=12,Sr("StructArrayLayout3f12",Co);class ko extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}ko.prototype.bytesPerElement=4,Sr("StructArrayLayout1ul4",ko);class Ao extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i,a,s,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,o,i,a,s,l)}emplace(e,t,n,r,o,i,a,s,l,c){const u=10*e,d=5*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=o,this.int16[u+4]=i,this.int16[u+5]=a,this.uint32[d+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=c,e}}Ao.prototype.bytesPerElement=20,Sr("StructArrayLayout6i1ul2ui20",Ao);class To extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,o,i)}emplace(e,t,n,r,o,i,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,e}}To.prototype.bytesPerElement=12,Sr("StructArrayLayout2i2i2i12",To);class Io extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r,o)}emplace(e,t,n,r,o,i){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=o,this.int16[s+7]=i,e}}Io.prototype.bytesPerElement=16,Sr("StructArrayLayout2f1f2i16",Io);class Po extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r)}emplace(e,t,n,r,o){const i=12*e,a=3*e;return this.uint8[i+0]=t,this.uint8[i+1]=n,this.float32[a+1]=r,this.float32[a+2]=o,e}}Po.prototype.bytesPerElement=12,Sr("StructArrayLayout2ub2f12",Po);class Oo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const o=3*e;return this.uint16[o+0]=t,this.uint16[o+1]=n,this.uint16[o+2]=r,e}}Oo.prototype.bytesPerElement=6,Sr("StructArrayLayout3ui6",Oo);class Mo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g){const v=this.length;return this.resize(v+1),this.emplace(v,e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g)}emplace(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v){const y=24*e,b=12*e,_=48*e;return this.int16[y+0]=t,this.int16[y+1]=n,this.uint16[y+2]=r,this.uint16[y+3]=o,this.uint32[b+2]=i,this.uint32[b+3]=a,this.uint32[b+4]=s,this.uint16[y+10]=l,this.uint16[y+11]=c,this.uint16[y+12]=u,this.float32[b+7]=d,this.float32[b+8]=f,this.uint8[_+36]=p,this.uint8[_+37]=h,this.uint8[_+38]=m,this.uint32[b+10]=g,this.int16[y+22]=v,e}}Mo.prototype.bytesPerElement=48,Sr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Mo);class No extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A){const T=this.length;return this.resize(T+1),this.emplace(T,e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A)}emplace(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g,v,y,b,_,w,x,S,E,C,k,A,T){const I=34*e,P=17*e;return this.int16[I+0]=t,this.int16[I+1]=n,this.int16[I+2]=r,this.int16[I+3]=o,this.int16[I+4]=i,this.int16[I+5]=a,this.int16[I+6]=s,this.int16[I+7]=l,this.uint16[I+8]=c,this.uint16[I+9]=u,this.uint16[I+10]=d,this.uint16[I+11]=f,this.uint16[I+12]=p,this.uint16[I+13]=h,this.uint16[I+14]=m,this.uint16[I+15]=g,this.uint16[I+16]=v,this.uint16[I+17]=y,this.uint16[I+18]=b,this.uint16[I+19]=_,this.uint16[I+20]=w,this.uint16[I+21]=x,this.uint16[I+22]=S,this.uint32[P+12]=E,this.float32[P+13]=C,this.float32[P+14]=k,this.float32[P+15]=A,this.float32[P+16]=T,e}}No.prototype.bytesPerElement=68,Sr("StructArrayLayout8i15ui1ul4f68",No);class Lo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Lo.prototype.bytesPerElement=4,Sr("StructArrayLayout1f4",Lo);class Ro extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const o=3*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,e}}Ro.prototype.bytesPerElement=6,Sr("StructArrayLayout3i6",Ro);class Do extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const o=4*e;return this.uint32[2*e+0]=t,this.uint16[o+2]=n,this.uint16[o+3]=r,e}}Do.prototype.bytesPerElement=8,Sr("StructArrayLayout1ul2ui8",Do);class zo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}zo.prototype.bytesPerElement=4,Sr("StructArrayLayout2ui4",zo);class Fo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Fo.prototype.bytesPerElement=2,Sr("StructArrayLayout1ui2",Fo);class Uo extends mo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r)}emplace(e,t,n,r,o){const i=4*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,this.float32[i+3]=o,e}}Uo.prototype.bytesPerElement=16,Sr("StructArrayLayout4f16",Uo);class jo extends ho{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new C(this.anchorPointX,this.anchorPointY)}}jo.prototype.size=20;class Bo extends Ao{get(e){return new jo(this,e)}}Sr("CollisionBoxArray",Bo);class Vo extends ho{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Vo.prototype.size=48;class Go extends Mo{get(e){return new Vo(this,e)}}Sr("PlacedSymbolArray",Go);class qo extends ho{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}qo.prototype.size=68;class Ho extends No{get(e){return new qo(this,e)}}Sr("SymbolInstanceArray",Ho);class Wo extends Lo{getoffsetX(e){return this.float32[1*e+0]}}Sr("GlyphOffsetArray",Wo);class Ko extends Ro{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Sr("SymbolLineVertexArray",Ko);class $o extends ho{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}$o.prototype.size=8;class Zo extends Do{get(e){return new $o(this,e)}}Sr("FeatureIndexArray",Zo);class Yo extends yo{}class Jo extends yo{}class Xo extends _o{}class Qo extends wo{}class ei extends xo{}class ti extends So{}class ni extends Eo{}class ri extends Co{}class oi extends ko{}class ii extends To{}class ai extends Po{}class si extends Oo{}class li extends zo{}const ci=go([{name:"a_pos",components:2,type:"Int16"}],4),{members:ui}=ci;class di{constructor(e=[]){this.segments=e}prepareSegment(e,t,n,r){let o=this.segments[this.segments.length-1];return e>di.MAX_VERTEX_ARRAY_LENGTH&&h(`Max vertices per segment is ${di.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!o||o.vertexLength+e>di.MAX_VERTEX_ARRAY_LENGTH||o.sortKey!==r)&&(o={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(o.sortKey=r),this.segments.push(o)),o}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,r){return new di([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])}}function fi(e,t){return 256*(e=i(Math.floor(e),0,255))+i(Math.floor(t),0,255)}di.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Sr("SegmentVector",di);const pi=go([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var hi={exports:{}},mi=function(e,t){var n,r,o,i,a,s,l,c;for(r=e.length-(n=3&e.length),o=t,a=3432918353,s=461845907,c=0;c<r;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,o=27492+(65535&(i=5*(65535&(o=(o^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:o^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0},gi=function(e,t){for(var n,r=e.length,o=t^r,i=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(n>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++i;switch(r){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0};hi.exports=mi,hi.exports.murmur3=mi,hi.exports.murmur2=gi;var vi=hi.exports;class yi{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,r){this.ids.push(bi(e)),this.positions.push(t,n,r)}getPositions(e){const t=bi(e);let n=0,r=this.ids.length-1;for(;n<r;){const e=n+r>>1;this.ids[e]>=t?r=e:n=e+1}const o=[];for(;this.ids[n]===t;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o}static serialize(e,t){const n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return _i(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}static deserialize(e){const t=new yi;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function bi(e){const t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:vi(String(e))}function _i(e,t,n,r){for(;n<r;){const o=e[n+r>>1];let i=n-1,a=r+1;for(;;){do{i++}while(e[i]<o);do{a--}while(e[a]>o);if(i>=a)break;wi(e,i,a),wi(t,3*i,3*a),wi(t,3*i+1,3*a+1),wi(t,3*i+2,3*a+2)}a-n<r-a?(_i(e,t,n,a),n=a+1):(_i(e,t,a+1,r),r=a)}}function wi(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}Sr("FeaturePositionMap",yi);class xi{constructor(e,t){this.gl=e.gl,this.location=t}}class Si extends xi{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class Ei extends xi{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Ci extends xi{constructor(e,t){super(e,t),this.current=Me.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const ki=new Float32Array(16);function Ai(e){return[fi(255*e.r,255*e.g),fi(255*e.b,255*e.a)]}class Ti{constructor(e,t,n){this.value=e,this.uniformNames=t.map((e=>`u_${e}`)),this.type=n}setUniform(e,t,n){e.set(n.constantOr(this.value))}getBinding(e,t,n){return"color"===this.type?new Ci(e,t):new Si(e,t)}}class Ii{constructor(e,t){this.uniformNames=t.map((e=>`u_${e}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,n,r){const o="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;o&&e.set(o)}getBinding(e,t,n){return"u_pattern"===n.substr(0,9)?new Ei(e,t):new Si(e,t)}}class Pi{constructor(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new r}populatePaintArray(e,t,n,r,o){const i=this.paintVertexArray.length,a=this.expression.evaluate(new Zr(0),t,{},r,[],o);this.paintVertexArray.resize(e),this._setPaintValue(i,e,a)}updatePaintArray(e,t,n,r){const o=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,o)}_setPaintValue(e,t,n){if("color"===this.type){const r=Ai(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Oi{constructor(e,t,n,r,o,i){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=n,this.useIntegerZoom=r,this.zoom=o,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new i}populatePaintArray(e,t,n,r,o){const i=this.expression.evaluate(new Zr(this.zoom),t,{},r,[],o),a=this.expression.evaluate(new Zr(this.zoom+1),t,{},r,[],o),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,i,a)}updatePaintArray(e,t,n,r){const o=this.expression.evaluate({zoom:this.zoom},n,r),i=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,o,i)}_setPaintValue(e,t,n,r){if("color"===this.type){const o=Ai(n),i=Ai(r);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,o[0],o[1],i[0],i[1])}else{for(let o=e;o<t;o++)this.paintVertexArray.emplace(o,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=i(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)}getBinding(e,t,n){return new Si(e,t)}}class Mi{constructor(e,t,n,r,o,i){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=i,this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}populatePaintArray(e,t,n){const r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,r,o){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],o)}_setPaintValues(e,t,n,r){if(!r||!n)return;const{min:o,mid:i,max:a}=n,s=r[o],l=r[i],c=r[a];if(s&&l&&c)for(let n=e;n<t;n++)this.zoomInPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],l.pixelRatio,c.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,pi.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,pi.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ni{constructor(e,t,n){this.binders={},this._buffers=[];const r=[];for(const o in e.paint._values){if(!n(o))continue;const i=e.paint.get(o);if(!(i instanceof no&&yn(i.property.specification)))continue;const a=Ri(o,e.type),s=i.value,l=i.property.specification.type,c=i.property.useIntegerZoom,u=i.property.specification["property-type"],d="cross-faded"===u||"cross-faded-data-driven"===u;if("constant"===s.kind)this.binders[o]=d?new Ii(s.value,a):new Ti(s.value,a,l),r.push(`/u_${o}`);else if("source"===s.kind||d){const n=Di(o,l,"source");this.binders[o]=d?new Mi(s,l,c,t,n,e.id):new Pi(s,a,l,n),r.push(`/a_${o}`)}else{const e=Di(o,l,"composite");this.binders[o]=new Oi(s,a,l,c,t,e),r.push(`/z_${o}`)}}this.cacheKey=r.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Pi||t instanceof Oi?t.maxValue:0}populatePaintArrays(e,t,n,r,o){for(const i in this.binders){const a=this.binders[i];(a instanceof Pi||a instanceof Oi||a instanceof Mi)&&a.populatePaintArray(e,t,n,r,o)}}setConstantPatternPositions(e,t){for(const n in this.binders){const r=this.binders[n];r instanceof Ii&&r.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,n,r,o){let i=!1;for(const a in e){const s=t.getPositions(a);for(const t of s){const s=n.feature(t.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof Pi||l instanceof Oi||l instanceof Mi)&&!0===l.expression.isStateDependent){const c=r.paint.get(n);l.expression=c.value,l.updatePaintArray(t.start,t.end,s,e[a],o),i=!0}}}}return i}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Ti||n instanceof Ii)&&e.push(...n.uniformNames.map((e=>`#define HAS_UNIFORM_${e}`)))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Pi||n instanceof Oi)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name);else if(n instanceof Mi)for(let t=0;t<pi.members.length;t++)e.push(pi.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Ti||n instanceof Ii||n instanceof Oi)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const n=[];for(const r in this.binders){const o=this.binders[r];if(o instanceof Ti||o instanceof Ii||o instanceof Oi)for(const i of o.uniformNames)if(t[i]){const a=o.getBinding(e,t[i],i);n.push({name:i,property:r,binding:a})}}return n}setUniforms(e,t,n,r){for(const{name:e,property:o,binding:i}of t)this.binders[o].setUniform(i,r,n.get(o),e)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const n=this.binders[t];if(e&&n instanceof Mi){const t=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(n instanceof Pi||n instanceof Oi)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof Pi||n instanceof Oi||n instanceof Mi)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Pi||t instanceof Oi||t instanceof Mi)&&t.destroy()}}}class Li{constructor(e,t,n=(()=>!0)){this.programConfigurations={};for(const r of e)this.programConfigurations[r.id]=new Ni(r,t,n);this.needsUpload=!1,this._featureMap=new yi,this._bufferOffset=0}populatePaintArrays(e,t,n,r,o,i){for(const n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t,r,o,i);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,r){for(const o of n)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function Ri(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(`${t}-`,"").replace(/-/g,"_")]}function Di(e,t,n){const r={color:{source:xo,composite:Uo},number:{source:Lo,composite:xo}},o=function(e){return{"line-pattern":{source:ti,composite:ti},"fill-pattern":{source:ti,composite:ti},"fill-extrusion-pattern":{source:ti,composite:ti}}[e]}(e);return o&&o[n]||r[t][n]}Sr("ConstantBinder",Ti),Sr("CrossFadedConstantBinder",Ii),Sr("SourceExpressionBinder",Pi),Sr("CrossFadedCompositeBinder",Mi),Sr("CompositeExpressionBinder",Oi),Sr("ProgramConfiguration",Ni,{omit:["_buffers"]}),Sr("ProgramConfigurationSet",Li);var zi=8192;const Fi=Math.pow(2,14)-1,Ui=-Fi-1;function ji(e){const t=zi/e.extent,n=e.loadGeometry();for(let e=0;e<n.length;e++){const r=n[e];for(let e=0;e<r.length;e++){const n=r[e],o=Math.round(n.x*t),a=Math.round(n.y*t);n.x=i(o,Ui,Fi),n.y=i(a,Ui,Fi),(o<n.x||o>n.x+1||a<n.y||a>n.y+1)&&h("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function Bi(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?ji(e):[]}}function Vi(e,t,n,r,o){e.emplaceBack(2*t+(r+1)/2,2*n+(o+1)/2)}class Gi{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Yo,this.indexArray=new si,this.segments=new di,this.programConfigurations=new Li(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){const r=this.layers[0],o=[];let i=null,a=!1;"circle"===r.type&&(i=r.layout.get("circle-sort-key"),a=!i.isConstant());for(const{feature:t,id:r,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Bi(t,e);if(!this.layers[0]._featureFilter.filter(new Zr(this.zoom),c,n))continue;const u=a?i.evaluate(c,{},n):void 0,d={id:r,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:ji(t),patterns:{},sortKey:u};o.push(d)}a&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of o){const{geometry:o,index:i,sourceLayerIndex:a}=r,s=e[i].feature;this.addFeature(r,o,i,n),t.featureIndex.insert(s,o,i,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ui),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r){for(const n of t)for(const t of n){const n=t.x,r=t.y;if(n<0||n>=zi||r<0||r>=zi)continue;const o=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),i=o.vertexLength;Vi(this.layoutVertexArray,n,r,-1,-1),Vi(this.layoutVertexArray,n,r,1,-1),Vi(this.layoutVertexArray,n,r,1,1),Vi(this.layoutVertexArray,n,r,-1,1),this.indexArray.emplaceBack(i,i+1,i+2),this.indexArray.emplaceBack(i,i+3,i+2),o.vertexLength+=4,o.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)}}function qi(e,t){for(let n=0;n<e.length;n++)if(Qi(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Qi(e,t[n]))return!0;return!!$i(e,t)}function Hi(e,t,n){return!!Qi(e,t)||!!Yi(t,e,n)}function Wi(e,t){if(1===e.length)return Xi(t,e[0]);for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++)if(Qi(e,r[t]))return!0}for(let n=0;n<e.length;n++)if(Xi(t,e[n]))return!0;for(let n=0;n<t.length;n++)if($i(e,t[n]))return!0;return!1}function Ki(e,t,n){if(e.length>1){if($i(e,t))return!0;for(let r=0;r<t.length;r++)if(Yi(t[r],e,n))return!0}for(let r=0;r<e.length;r++)if(Yi(e[r],t,n))return!0;return!1}function $i(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const r=e[n],o=e[n+1];for(let e=0;e<t.length-1;e++)if(Zi(r,o,t[e],t[e+1]))return!0}return!1}function Zi(e,t,n,r){return m(e,n,r)!==m(t,n,r)&&m(e,t,n)!==m(e,t,r)}function Yi(e,t,n){const r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(let n=1;n<t.length;n++)if(Ji(e,t[n-1],t[n])<r)return!0;return!1}function Ji(e,t,n){const r=t.distSqr(n);if(0===r)return e.distSqr(t);const o=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(o<0?t:o>1?n:n.sub(t)._mult(o)._add(t))}function Xi(e,t){let n,r,o,i=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)r=n[e],o=n[a],r.y>t.y!=o.y>t.y&&t.x<(o.x-r.x)*(t.y-r.y)/(o.y-r.y)+r.x&&(i=!i)}return i}function Qi(e,t){let n=!1;for(let r=0,o=e.length-1;r<e.length;o=r++){const i=e[r],a=e[o];i.y>t.y!=a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(n=!n)}return n}function ea(e,t,n){const r=n[0],o=n[2];if(e.x<r.x&&t.x<r.x||e.x>o.x&&t.x>o.x||e.y<r.y&&t.y<r.y||e.y>o.y&&t.y>o.y)return!1;const i=m(e,t,n[0]);return i!==m(e,t,n[1])||i!==m(e,t,n[2])||i!==m(e,t,n[3])}function ta(e,t,n){const r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function na(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function ra(e,t,n,r,o){if(!t[0]&&!t[1])return e;const i=C.convert(t)._mult(o);"viewport"===n&&i._rotate(-r);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(i));return a}Sr("CircleBucket",Gi,{omit:["layers"]});const oa=new co({"circle-sort-key":new io(ne.layout_circle["circle-sort-key"])});var ia={paint:new co({"circle-radius":new io(ne.paint_circle["circle-radius"]),"circle-color":new io(ne.paint_circle["circle-color"]),"circle-blur":new io(ne.paint_circle["circle-blur"]),"circle-opacity":new io(ne.paint_circle["circle-opacity"]),"circle-translate":new oo(ne.paint_circle["circle-translate"]),"circle-translate-anchor":new oo(ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new oo(ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new oo(ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new io(ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new io(ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new io(ne.paint_circle["circle-stroke-opacity"])}),layout:oa},aa="undefined"!=typeof Float32Array?Float32Array:Array;function sa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function la(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],p=t[10],h=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=n[0],_=n[1],w=n[2],x=n[3];return e[0]=b*r+_*s+w*d+x*m,e[1]=b*o+_*l+w*f+x*g,e[2]=b*i+_*c+w*p+x*v,e[3]=b*a+_*u+w*h+x*y,e[4]=(b=n[4])*r+(_=n[5])*s+(w=n[6])*d+(x=n[7])*m,e[5]=b*o+_*l+w*f+x*g,e[6]=b*i+_*c+w*p+x*v,e[7]=b*a+_*u+w*h+x*y,e[8]=(b=n[8])*r+(_=n[9])*s+(w=n[10])*d+(x=n[11])*m,e[9]=b*o+_*l+w*f+x*g,e[10]=b*i+_*c+w*p+x*v,e[11]=b*a+_*u+w*h+x*y,e[12]=(b=n[12])*r+(_=n[13])*s+(w=n[14])*d+(x=n[15])*m,e[13]=b*o+_*l+w*f+x*g,e[14]=b*i+_*c+w*p+x*v,e[15]=b*a+_*u+w*h+x*y,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ca,ua=la;function da(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3];return e[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,e[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,e[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,e[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,e}function fa(e,t){const n=da([],[e.x,e.y,0,1],t);return new C(n[0]/n[3],n[1]/n[3])}ca=new aa(4),aa!=Float32Array&&(ca[0]=0,ca[1]=0,ca[2]=0,ca[3]=0);class pa extends Gi{}Sr("HeatmapBucket",pa,{omit:["layers"]});var ha={paint:new co({"heatmap-radius":new io(ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new io(ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new oo(ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new lo(ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new oo(ne.paint_heatmap["heatmap-opacity"])})};function ma(e,{width:t,height:n},r,o){if(o){if(o instanceof Uint8ClampedArray)o=new Uint8Array(o.buffer);else if(o.length!==t*n*r)throw new RangeError(`mismatched image size. expected: ${o.length} but got: ${t*n*r}`)}else o=new Uint8Array(t*n*r);return e.width=t,e.height=n,e.data=o,e}function ga(e,{width:t,height:n},r){if(t===e.width&&n===e.height)return;const o=ma({},{width:t,height:n},r);va(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,n)},r),e.width=t,e.height=n,e.data=o.data}function va(e,t,n,r,o,i){if(0===o.width||0===o.height)return t;if(o.width>e.width||o.height>e.height||n.x>e.width-o.width||n.y>e.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>t.width||o.height>t.height||r.x>t.width-o.width||r.y>t.height-o.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<o.height;l++){const c=((n.y+l)*e.width+n.x)*i,u=((r.y+l)*t.width+r.x)*i;for(let e=0;e<o.width*i;e++)s[u+e]=a[c+e]}return t}class ya{constructor(e,t){ma(this,e,1,t)}resize(e){ga(this,e,1)}clone(){return new ya({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,o){va(e,t,n,r,o,1)}}class ba{constructor(e,t){ma(this,e,4,t)}resize(e){ga(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new ba({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,o){va(e,t,n,r,o,4)}}function _a(e){const t={},n=e.resolution||256,r=e.clips?e.clips.length:1,o=e.image||new ba({width:n,height:r}),i=(n,r,i)=>{t[e.evaluationKey]=i;const a=e.expression.evaluate(t);o.data[n+r+0]=Math.floor(255*a.r/a.a),o.data[n+r+1]=Math.floor(255*a.g/a.a),o.data[n+r+2]=Math.floor(255*a.b/a.a),o.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,o=0;t<r;++t,o+=4*n)for(let r=0,a=0;r<n;r++,a+=4){const s=r/(n-1),{start:l,end:c}=e.clips[t];i(o,a,l*(1-s)+c*s)}else for(let e=0,t=0;e<n;e++,t+=4)i(0,t,e/(n-1));return o}Sr("AlphaImage",ya),Sr("RGBAImage",ba);var wa={paint:new co({"hillshade-illumination-direction":new oo(ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new oo(ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new oo(ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new oo(ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new oo(ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new oo(ne.paint_hillshade["hillshade-accent-color"])})};const xa=go([{name:"a_pos",components:2,type:"Int16"}],4),{members:Sa}=xa;var Ea={exports:{}};function Ca(e,t,n){n=n||2;var r,o,i,a,s,l,c,u=t&&t.length,d=u?t[0]*n:e.length,f=ka(e,0,d,n,!0),p=[];if(!f||f.next===f.prev)return p;if(u&&(f=function(e,t,n,r){var o,i,a,s=[];for(o=0,i=t.length;o<i;o++)(a=ka(e,t[o]*r,o<i-1?t[o+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(za(a));for(s.sort(Na),o=0;o<s.length;o++)n=Aa(n=La(s[o],n),n.next);return n}(e,t,f,n)),e.length>80*n){r=i=e[0],o=a=e[1];for(var h=n;h<d;h+=n)(s=e[h])<r&&(r=s),(l=e[h+1])<o&&(o=l),s>i&&(i=s),l>a&&(a=l);c=0!==(c=Math.max(i-r,a-o))?1/c:0}return Ta(f,p,n,r,o,c),p}function ka(e,t,n,r,o){var i,a;if(o===Ya(e,t,n,r)>0)for(i=t;i<n;i+=r)a=Ka(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=Ka(i,e[i],e[i+1],a);return a&&Ba(a,a.next)&&($a(a),a=a.next),a}function Aa(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Ba(r,r.next)&&0!==ja(r.prev,r,r.next))r=r.next;else{if($a(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Ta(e,t,n,r,o,i,a){if(e){!a&&i&&function(e,t,n,r){var o=e;do{null===o.z&&(o.z=Da(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,a,s,l,c=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,c*=2}while(a>1)}(o)}(e,r,o,i);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?Pa(e,r,o,i):Ia(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),$a(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Ta(e=Oa(Aa(e),t,n),t,n,r,o,i,2):2===a&&Ma(e,t,n,r,o,i):Ta(Aa(e),t,n,r,o,i,1);break}}}function Ia(e){var t=e.prev,n=e,r=e.next;if(ja(t,n,r)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(Fa(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)&&ja(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function Pa(e,t,n,r){var o=e.prev,i=e,a=e.next;if(ja(o,i,a)>=0)return!1;for(var s=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,l=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,c=Da(o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,t,n,r),u=Da(s,l,t,n,r),d=e.prevZ,f=e.nextZ;d&&d.z>=c&&f&&f.z<=u;){if(d!==e.prev&&d!==e.next&&Fa(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&ja(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,f!==e.prev&&f!==e.next&&Fa(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&ja(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;d&&d.z>=c;){if(d!==e.prev&&d!==e.next&&Fa(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&ja(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=u;){if(f!==e.prev&&f!==e.next&&Fa(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&ja(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Oa(e,t,n){var r=e;do{var o=r.prev,i=r.next.next;!Ba(o,i)&&Va(o,r,r.next,i)&&Ha(o,i)&&Ha(i,o)&&(t.push(o.i/n),t.push(r.i/n),t.push(i.i/n),$a(r),$a(r.next),r=e=i),r=r.next}while(r!==e);return Aa(r)}function Ma(e,t,n,r,o,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ua(a,s)){var l=Wa(a,s);return a=Aa(a,a.next),l=Aa(l,l.next),Ta(a,t,n,r,o,i),void Ta(l,t,n,r,o,i)}s=s.next}a=a.next}while(a!==e)}function Na(e,t){return e.x-t.x}function La(e,t){var n=function(e,t){var n,r=t,o=e.x,i=e.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a){if(a=s,s===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(o===a)return n;var l,c=n,u=n.x,d=n.y,f=1/0;r=n;do{o>=r.x&&r.x>=u&&o!==r.x&&Fa(i<d?o:a,i,u,d,i<d?a:o,i,r.x,r.y)&&(l=Math.abs(i-r.y)/(o-r.x),Ha(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&Ra(n,r)))&&(n=r,f=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var r=Wa(n,e),o=Aa(n,n.next);return Aa(r,r.next),t===n?o:t}function Ra(e,t){return ja(e.prev,e,t.prev)<0&&ja(t.next,e,e.next)<0}function Da(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function za(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Fa(e,t,n,r,o,i,a,s){return(o-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(i-s)-(o-a)*(r-s)>=0}function Ua(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Va(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Ha(e,t)&&Ha(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(ja(e.prev,e,t.prev)||ja(e,t.prev,t))||Ba(e,t)&&ja(e.prev,e,e.next)>0&&ja(t.prev,t,t.next)>0)}function ja(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ba(e,t){return e.x===t.x&&e.y===t.y}function Va(e,t,n,r){var o=qa(ja(e,t,n)),i=qa(ja(e,t,r)),a=qa(ja(n,r,e)),s=qa(ja(n,r,t));return o!==i&&a!==s||!(0!==o||!Ga(e,n,t))||!(0!==i||!Ga(e,r,t))||!(0!==a||!Ga(n,e,r))||!(0!==s||!Ga(n,t,r))}function Ga(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function qa(e){return e>0?1:e<0?-1:0}function Ha(e,t){return ja(e.prev,e,e.next)<0?ja(e,t,e.next)>=0&&ja(e,e.prev,t)>=0:ja(e,t,e.prev)<0||ja(e,e.next,t)<0}function Wa(e,t){var n=new Za(e.i,e.x,e.y),r=new Za(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function Ka(e,t,n,r){var o=new Za(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function $a(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Za(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ya(e,t,n,r){for(var o=0,i=t,a=n-r;i<n;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}Ea.exports=Ca,Ea.exports.default=Ca,Ca.deviation=function(e,t,n,r){var o=t&&t.length,i=Math.abs(Ya(e,0,o?t[0]*n:e.length,n));if(o)for(var a=0,s=t.length;a<s;a++)i-=Math.abs(Ya(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<r.length;a+=3){var c=r[a]*n,u=r[a+1]*n,d=r[a+2]*n;l+=Math.abs((e[c]-e[d])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[d+1]-e[c+1]))}return 0===i&&0===l?0:Math.abs((l-i)/i)},Ca.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&n.holes.push(r+=e[o-1].length)}return n};var Ja=Ea.exports;function Xa(e,t,n,r,o){Qa(e,t,n||0,r||e.length-1,o||ts)}function Qa(e,t,n,r,o){for(;r>n;){if(r-n>600){var i=r-n+1,a=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(a-i/2<0?-1:1);Qa(e,t,Math.max(n,Math.floor(t-a*l/i+c)),Math.min(r,Math.floor(t+(i-a)*l/i+c)),o)}var u=e[t],d=n,f=r;for(es(e,n,t),o(e[r],u)>0&&es(e,n,r);d<f;){for(es(e,d,f),d++,f--;o(e[d],u)<0;)d++;for(;o(e[f],u)>0;)f--}0===o(e[n],u)?es(e,n,f):es(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function es(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ts(e,t){return e<t?-1:e>t?1:0}function ns(e,t){const n=e.length;if(n<=1)return[e];const r=[];let o,i;for(let t=0;t<n;t++){const n=g(e[t]);0!==n&&(e[t].area=Math.abs(n),void 0===i&&(i=n<0),i===n<0?(o&&r.push(o),o=[e[t]]):o.push(e[t]))}if(o&&r.push(o),t>1)for(let e=0;e<r.length;e++)r[e].length<=t||(Xa(r[e],t,1,r[e].length-1,rs),r[e]=r[e].slice(0,t));return r}function rs(e,t){return t.area-e.area}function os(e,t,n){const r=n.patternDependencies;let o=!1;for(const n of t){const t=n.paint.get(`${e}-pattern`);t.isConstant()||(o=!0);const i=t.constantOr(null);i&&(o=!0,r[i.to]=!0,r[i.from]=!0)}return o}function is(e,t,n,r,o){const i=o.patternDependencies;for(const a of t){const t=a.paint.get(`${e}-pattern`).value;if("constant"!==t.kind){let e=t.evaluate({zoom:r-1},n,{},o.availableImages),s=t.evaluate({zoom:r},n,{},o.availableImages),l=t.evaluate({zoom:r+1},n,{},o.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,i[e]=!0,i[s]=!0,i[l]=!0,n.patterns[a.id]={min:e,mid:s,max:l}}}return n}class as{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Jo,this.indexArray=new si,this.indexArray2=new li,this.programConfigurations=new Li(e.layers,e.zoom),this.segments=new di,this.segments2=new di,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=os("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),o=!r.isConstant(),i=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Bi(a,e);if(!this.layers[0]._featureFilter.filter(new Zr(this.zoom),u,n))continue;const d=o?r.evaluate(u,{},n,t.availableImages):void 0,f={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:ji(a),patterns:{},sortKey:d};i.push(f)}o&&i.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of i){const{geometry:o,index:i,sourceLayerIndex:a}=r;if(this.hasPattern){const e=is("fill",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,o,i,n,{});t.featureIndex.insert(e[i].feature,o,i,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Sa),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,r,o){for(const e of ns(t,500)){let t=0;for(const n of e)t+=n.length;const n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),r=n.vertexLength,o=[],i=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&i.push(o.length/2);const n=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),r=n.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(r+t.length-1,r),o.push(t[0].x),o.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(r+e-1,r+e),o.push(t[e].x),o.push(t[e].y);n.vertexLength+=t.length,n.primitiveLength+=t.length}const a=Ja(o,i);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(r+a[e],r+a[e+1],r+a[e+2]);n.vertexLength+=t,n.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,o,r)}}Sr("FillBucket",as,{omit:["layers","patternFeatures"]});const ss=new co({"fill-sort-key":new io(ne.layout_fill["fill-sort-key"])});var ls={paint:new co({"fill-antialias":new oo(ne.paint_fill["fill-antialias"]),"fill-opacity":new io(ne.paint_fill["fill-opacity"]),"fill-color":new io(ne.paint_fill["fill-color"]),"fill-outline-color":new io(ne.paint_fill["fill-outline-color"]),"fill-translate":new oo(ne.paint_fill["fill-translate"]),"fill-translate-anchor":new oo(ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new ao(ne.paint_fill["fill-pattern"])}),layout:ss};const cs=go([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),{members:us}=cs;var ds={},fs=C,ps=hs;function hs(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(ms,this,t)}function ms(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],o=t._values[e.readVarint()];t.properties[r]=o}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function gs(e){for(var t,n,r=0,o=0,i=e.length,a=i-1;o<i;a=o++)r+=((n=e[a]).x-(t=e[o]).x)*(t.y+n.y);return r}hs.types=["Unknown","Point","LineString","Polygon"],hs.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,o=0,i=0,a=0,s=[];e.pos<n;){if(o<=0){var l=e.readVarint();r=7&l,o=l>>3}if(o--,1===r||2===r)i+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new fs(i,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},hs.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,o=0,i=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)(o+=e.readSVarint())<a&&(a=o),o>s&&(s=o),(i+=e.readSVarint())<l&&(l=i),i>c&&(c=i);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,c]},hs.prototype.toGeoJSON=function(e,t,n){var r,o,i=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=hs.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/i-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/i)*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<l.length;r++)d[r]=l[r][0];u(l=d);break;case 2:for(r=0;r<l.length;r++)u(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,o=[],i=0;i<t;i++){var a=gs(e[i]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&o.push(n),n=[e[i]]):n.push(e[i]))}return n&&o.push(n),o}(l),r=0;r<l.length;r++)for(o=0;o<l[r].length;o++)u(l[r][o])}1===l.length?l=l[0]:c="Multi"+c;var f={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(f.id=this.id),f};var vs=ps,ys=bs;function bs(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(_s,this,t),this.length=this._features.length}function _s(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}bs.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new vs(this._pbf,t,this.extent,this._keys,this._values)};var ws=ys;function xs(e,t,n){if(3===e){var r=new ws(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}ds.VectorTile=function(e,t){this.layers=e.readFields(xs,{},t)},ds.VectorTileFeature=ps,ds.VectorTileLayer=ys;const Ss=ds.VectorTileFeature.types,Es=Math.pow(2,13);function Cs(e,t,n,r,o,i,a,s){e.emplaceBack(t,n,2*Math.floor(r*Es)+a,o*Es*2,i*Es*2,Math.round(s))}class ks{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Xo,this.indexArray=new si,this.programConfigurations=new Li(e.layers,e.zoom),this.segments=new di,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.features=[],this.hasPattern=os("fill-extrusion",this.layers,t);for(const{feature:r,id:o,index:i,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,s=Bi(r,e);if(!this.layers[0]._featureFilter.filter(new Zr(this.zoom),s,n))continue;const l={id:o,sourceLayerIndex:a,index:i,geometry:e?s.geometry:ji(r),properties:r.properties,type:r.type,patterns:{}};this.hasPattern?this.features.push(is("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,i,n,{}),t.featureIndex.insert(r,l.geometry,i,a,this.index,!0)}}addFeatures(e,t,n){for(const e of this.features){const{geometry:r}=e;this.addFeature(e,r,e.index,t,n)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,us),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r,o){for(const n of ns(t,500)){let t=0;for(const e of n)t+=e.length;let r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const e of n){if(0===e.length)continue;if(Ts(e))continue;let t=0;for(let n=0;n<e.length;n++){const o=e[n];if(n>=1){const i=e[n-1];if(!As(o,i)){r.vertexLength+4>di.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=o.sub(i)._perp()._unit(),n=i.dist(o);t+n>32768&&(t=0),Cs(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,0,t),Cs(this.layoutVertexArray,o.x,o.y,e.x,e.y,0,1,t),t+=n,Cs(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,0,t),Cs(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,1,t);const a=r.vertexLength;this.indexArray.emplaceBack(a,a+2,a+1),this.indexArray.emplaceBack(a+1,a+2,a+3),r.vertexLength+=4,r.primitiveLength+=2}}}}if(r.vertexLength+t>di.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==Ss[e.type])continue;const o=[],i=[],a=r.vertexLength;for(const e of n)if(0!==e.length){e!==n[0]&&i.push(o.length/2);for(let t=0;t<e.length;t++){const n=e[t];Cs(this.layoutVertexArray,n.x,n.y,0,0,1,1,0),o.push(n.x),o.push(n.y)}}const s=Ja(o,i);for(let e=0;e<s.length;e+=3)this.indexArray.emplaceBack(a+s[e],a+s[e+2],a+s[e+1]);r.primitiveLength+=s.length/3,r.vertexLength+=t}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,o,r)}}function As(e,t){return e.x===t.x&&(e.x<0||e.x>zi)||e.y===t.y&&(e.y<0||e.y>zi)}function Ts(e){return e.every((e=>e.x<0))||e.every((e=>e.x>zi))||e.every((e=>e.y<0))||e.every((e=>e.y>zi))}Sr("FillExtrusionBucket",ks,{omit:["layers","features"]});var Is={paint:new co({"fill-extrusion-opacity":new oo(ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new io(ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new oo(ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new oo(ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ao(ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new io(ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new io(ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new oo(ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Ps(e,t){return e.x*t.x+e.y*t.y}function Os(e,t){if(1===e.length){let n=0;const r=t[n++];let o;for(;!o||r.equals(o);)if(o=t[n++],!o)return 1/0;for(;n<t.length;n++){const i=t[n],a=e[0],s=o.sub(r),l=i.sub(r),c=a.sub(r),u=Ps(s,s),d=Ps(s,l),f=Ps(l,l),p=Ps(c,s),h=Ps(c,l),m=u*f-d*d,g=(f*p-d*h)/m,v=(u*h-d*p)/m,y=r.z*(1-g-v)+o.z*g+i.z*v;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}const Ms=go([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Ns}=Ms,Ls=go([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Rs}=Ls,Ds=ds.VectorTileFeature.types,zs=Math.cos(Math.PI/180*37.5),Fs=Math.pow(2,14)/.5;class Us{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new Qo,this.layoutVertexArray2=new ei,this.indexArray=new si,this.programConfigurations=new Li(e.layers,e.zoom),this.segments=new di,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=os("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),o=!r.isConstant(),i=[];for(const{feature:t,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Bi(t,e);if(!this.layers[0]._featureFilter.filter(new Zr(this.zoom),c,n))continue;const u=o?r.evaluate(c,{},n):void 0,d={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:ji(t),patterns:{},sortKey:u};i.push(d)}o&&i.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of i){const{geometry:o,index:i,sourceLayerIndex:a}=r;if(this.hasPattern){const e=is("line",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,o,i,n,{});t.featureIndex.insert(e[i].feature,o,i,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Rs)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ns),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,r,o){const i=this.layers[0].layout,a=i.get("line-join").evaluate(e,{}),s=i.get("line-cap"),l=i.get("line-miter-limit"),c=i.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const n of t)this.addLine(n,e,a,s,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,o,r)}addLine(e,t,n,r,o,i){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Ds[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(o=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let d,f,p,h,m;this.e1=this.e2=-1,a&&(d=e[s-2],m=e[l].sub(d)._unit()._perp());for(let t=l;t<s;t++){if(p=t===s-1?a?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;m&&(h=m),d&&(f=d),d=e[t],m=p?p.sub(d)._unit()._perp():h,h=h||m;let g=h.add(m);0===g.x&&0===g.y||g._unit();const v=h.x*m.x+h.y*m.y,y=g.x*m.x+g.y*m.y,b=0!==y?1/y:1/0,_=2*Math.sqrt(2-2*y),w=y<zs&&f&&p,x=h.x*m.y-h.y*m.x>0;if(w&&t>l){const e=d.dist(f);if(e>2*c){const t=d.sub(d.sub(f)._mult(c/e)._round());this.updateDistance(f,t),this.addCurrentVertex(t,h,0,0,u),f=t}}const S=f&&p;let E=S?n:a?"butt":r;if(S&&"round"===E&&(b<i?E="miter":b<=2&&(E="fakeround")),"miter"===E&&b>o&&(E="bevel"),"bevel"===E&&(b>2&&(E="flipbevel"),b<o&&(E="miter")),f&&this.updateDistance(f,d),"miter"===E)g._mult(b),this.addCurrentVertex(d,g,0,0,u);else if("flipbevel"===E){if(b>100)g=m.mult(-1);else{const e=b*h.add(m).mag()/h.sub(m).mag();g._perp()._mult(e*(x?-1:1))}this.addCurrentVertex(d,g,0,0,u),this.addCurrentVertex(d,g.mult(-1),0,0,u)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(b*b-1),t=x?e:0,n=x?0:e;if(f&&this.addCurrentVertex(d,h,t,n,u),"fakeround"===E){const e=Math.round(180*_/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+v*(v*(3.55645-1.43519*v)-3.2452))*e*e+(.848013+v*(.215638*v-1.06021)))}const r=m.sub(h)._mult(n)._add(h)._unit()._mult(x?-1:1);this.addHalfVertex(d,r.x,r.y,!1,x,0,u)}}p&&this.addCurrentVertex(d,m,-t,-n,u)}else if("butt"===E)this.addCurrentVertex(d,g,0,0,u);else if("square"===E){const e=f?1:-1;this.addCurrentVertex(d,g,e,e,u)}else"round"===E&&(f&&(this.addCurrentVertex(d,h,0,0,u),this.addCurrentVertex(d,h,1,1,u,!0)),p&&(this.addCurrentVertex(d,m,-1,-1,u,!0),this.addCurrentVertex(d,m,0,0,u)));if(w&&t<s-1){const e=d.dist(p);if(e>2*c){const t=d.add(p.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,m,0,0,u),d=t}}}}addCurrentVertex(e,t,n,r,o,i=!1){const a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,i,!1,n,o),this.addHalfVertex(e,a,s,i,!0,-r,o),this.distance>Fs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,o,i))}addHalfVertex({x:e,y:t},n,r,o,i,a,s){const l=.5*(this.lineClips?this.scaledDistance*(Fs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(o?1:0),(t<<1)+(i?1:0),Math.round(63*n)+128,Math.round(63*r)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const c=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,c),s.primitiveLength++),i?this.e2=c:this.e1=c}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Sr("LineBucket",Us,{omit:["layers","patternFeatures"]});const js=new co({"line-cap":new oo(ne.layout_line["line-cap"]),"line-join":new io(ne.layout_line["line-join"]),"line-miter-limit":new oo(ne.layout_line["line-miter-limit"]),"line-round-limit":new oo(ne.layout_line["line-round-limit"]),"line-sort-key":new io(ne.layout_line["line-sort-key"])});var Bs={paint:new co({"line-opacity":new io(ne.paint_line["line-opacity"]),"line-color":new io(ne.paint_line["line-color"]),"line-translate":new oo(ne.paint_line["line-translate"]),"line-translate-anchor":new oo(ne.paint_line["line-translate-anchor"]),"line-width":new io(ne.paint_line["line-width"]),"line-gap-width":new io(ne.paint_line["line-gap-width"]),"line-offset":new io(ne.paint_line["line-offset"]),"line-blur":new io(ne.paint_line["line-blur"]),"line-dasharray":new so(ne.paint_line["line-dasharray"]),"line-pattern":new ao(ne.paint_line["line-pattern"]),"line-gradient":new lo(ne.paint_line["line-gradient"])}),layout:js};const Vs=new class extends io{possiblyEvaluate(e,t){return t=new Zr(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,r){return t=s({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,r)}}(Bs.paint.properties["line-width"].specification);function Gs(e,t){return t>0?t+2*e:e}Vs.useIntegerZoom=!0;const qs=go([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Hs=go([{name:"a_projected_pos",components:3,type:"Float32"}],4);go([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Ws=go([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);go([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ks=go([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),$s=go([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Zs(e,t,n){return e.sections.forEach((e=>{e.text=function(e,t,n){const r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),$r.applyArabicShaping&&(e=$r.applyArabicShaping(e)),e}(e.text,t,n)})),e}go([{name:"triangle",components:3,type:"Uint16"}]),go([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),go([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),go([{type:"Float32",name:"offsetX"}]),go([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Ys={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Js=24,Xs=tl,Qs=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=f,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},el=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m};function tl(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}tl.Varint=0,tl.Fixed64=1,tl.Bytes=2,tl.Fixed32=5;var nl,rl=4294967296,ol=1/rl,il="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function al(e){return e.type===tl.Bytes?e.readVarint()+e.pos:e.pos+1}function sl(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function ll(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var o=n.pos-1;o>=e;o--)n.buf[o+r]=n.buf[o]}function cl(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function ul(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function dl(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function fl(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function pl(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function hl(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function ml(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function gl(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function vl(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function yl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function bl(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function _l(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function wl(e,t,n){1===e&&n.readMessage(xl,t)}function xl(e,t,n){if(3===e){const{id:e,bitmap:r,width:o,height:i,left:a,top:s,advance:l}=n.readMessage(Sl,{});t.push({id:e,bitmap:new ya({width:o+6,height:i+6},r),metrics:{width:o,height:i,left:a,top:s,advance:l}})}}function Sl(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function El(e){let t=0,n=0;for(const r of e)t+=r.w*r.h,n=Math.max(n,r.w);e.sort(((e,t)=>t.h-e.h));const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let o=0,i=0;for(const t of e)for(let e=r.length-1;e>=0;e--){const n=r[e];if(!(t.w>n.w||t.h>n.h)){if(t.x=n.x,t.y=n.y,i=Math.max(i,t.y+t.h),o=Math.max(o,t.x+t.w),t.w===n.w&&t.h===n.h){const t=r.pop();e<r.length&&(r[e]=t)}else t.h===n.h?(n.x+=t.w,n.w-=t.w):t.w===n.w?(n.y+=t.h,n.h-=t.h):(r.push({x:n.x+t.w,y:n.y,w:n.w-t.w,h:t.h}),n.y+=t.h,n.h-=t.h);break}}return{w:o,h:i,fill:t/(o*i)||0}}tl.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),o=r>>3,i=this.pos;this.type=7&r,e(o,t,this),this.pos===i&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=yl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=_l(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=yl(this.buf,this.pos)+yl(this.buf,this.pos+4)*rl;return this.pos+=8,e},readSFixed64:function(){var e=yl(this.buf,this.pos)+_l(this.buf,this.pos+4)*rl;return this.pos+=8,e},readFloat:function(){var e=Qs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Qs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,o,i=n.buf;if(r=(112&(o=i[n.pos++]))>>4,o<128)return sl(e,r,t);if(r|=(127&(o=i[n.pos++]))<<3,o<128)return sl(e,r,t);if(r|=(127&(o=i[n.pos++]))<<10,o<128)return sl(e,r,t);if(r|=(127&(o=i[n.pos++]))<<17,o<128)return sl(e,r,t);if(r|=(127&(o=i[n.pos++]))<<24,o<128)return sl(e,r,t);if(r|=(1&(o=i[n.pos++]))<<31,o<128)return sl(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&il?function(e,t,n){return il.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",o=t;o<n;){var i,a,s,l=e[o],c=null,u=l>239?4:l>223?3:l>191?2:1;if(o+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(i=e[o+1]))&&(c=(31&l)<<6|63&i)<=127&&(c=null):3===u?(a=e[o+2],128==(192&(i=e[o+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&i)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[o+2],s=e[o+3],128==(192&(i=e[o+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,r+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),r+=String.fromCharCode(c),o+=u}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==tl.Bytes)return e.push(this.readVarint(t));var n=al(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==tl.Bytes)return e.push(this.readSVarint());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==tl.Bytes)return e.push(this.readBoolean());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==tl.Bytes)return e.push(this.readFloat());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==tl.Bytes)return e.push(this.readDouble());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==tl.Bytes)return e.push(this.readFixed32());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==tl.Bytes)return e.push(this.readSFixed32());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==tl.Bytes)return e.push(this.readFixed64());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==tl.Bytes)return e.push(this.readSFixed64());var t=al(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===tl.Varint)for(;this.buf[this.pos++]>127;);else if(t===tl.Bytes)this.pos=this.readVarint()+this.pos;else if(t===tl.Fixed32)this.pos+=4;else{if(t!==tl.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),bl(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),bl(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),bl(this.buf,-1&e,this.pos),bl(this.buf,Math.floor(e*ol),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),bl(this.buf,-1&e,this.pos),bl(this.buf,Math.floor(e*ol),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,o,i=0;i<t.length;i++){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){r>56319||i+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):o=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,o=r;continue}r=o-55296<<10|r-56320|65536,o=null}else o&&(e[n++]=239,e[n++]=191,e[n++]=189,o=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&ll(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),el(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),el(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&ll(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,tl.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,cl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,ul,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,pl,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,dl,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,fl,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,hl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,ml,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,gl,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,vl,t)},writeBytesField:function(e,t){this.writeTag(e,tl.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,tl.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,tl.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,tl.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,tl.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,tl.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,tl.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,tl.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,tl.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,tl.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class Cl{constructor(e,{pixelRatio:t,version:n,stretchX:r,stretchY:o,content:i}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=r,this.stretchY=o,this.content=i,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class kl{constructor(e,t){const n={},r={};this.haveRenderCallbacks=[];const o=[];this.addImages(e,n,o),this.addImages(t,r,o);const{w:i,h:a}=El(o),s=new ba({width:i||1,height:a||1});for(const t in e){const r=e[t],o=n[t].paddedRect;ba.copy(r.data,s,{x:0,y:0},{x:o.x+1,y:o.y+1},r.data)}for(const e in t){const n=t[e],o=r[e].paddedRect,i=o.x+1,a=o.y+1,l=n.data.width,c=n.data.height;ba.copy(n.data,s,{x:0,y:0},{x:i,y:a},n.data),ba.copy(n.data,s,{x:0,y:c-1},{x:i,y:a-1},{width:l,height:1}),ba.copy(n.data,s,{x:0,y:0},{x:i,y:a+c},{width:l,height:1}),ba.copy(n.data,s,{x:l-1,y:0},{x:i-1,y:a},{width:1,height:c}),ba.copy(n.data,s,{x:0,y:0},{x:i+l,y:a},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=r}addImages(e,t,n){for(const r in e){const o=e[r],i={x:0,y:0,w:o.data.width+2,h:o.data.height+2};n.push(i),t[r]=new Cl(i,o),o.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[r,o]=e.tl;n.update(t.data,void 0,{x:r,y:o})}}Sr("ImagePosition",Cl),Sr("ImageAtlas",kl),e.WritingMode=void 0,(nl=e.WritingMode||(e.WritingMode={}))[nl.none=0]="none",nl[nl.horizontal=1]="horizontal",nl[nl.vertical=2]="vertical",nl[nl.horizontalOnly=3]="horizontalOnly";const Al=-17;class Tl{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new Tl;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new Tl;return t.imageName=e,t}}class Il{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new Il;for(let r=0;r<e.sections.length;r++){const o=e.sections[r];o.image?n.addImageSection(o):n.addTextSection(o,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n+1)||null,o=e.charCodeAt(n-1)||null;t+=r&&Nr(r)&&!Ys[e[n+1]]||o&&Nr(o)&&!Ys[e[n-1]]||!Ys[e[n]]?e[n]:Ys[e[n]]}return t}(this.text)}trim(){let e=0;for(let t=0;t<this.text.length&&Ol[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&Ol[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new Il;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Tl.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void h("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Tl.forImage(t)),this.sectionIndex.push(this.sections.length-1)):h("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Pl(t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,g){const v=Il.fromFeature(t,i);let y;f===e.WritingMode.vertical&&v.verticalizePunctuation();const{processBidirectionalText:b,processStyledBidirectionalText:_}=$r;if(b&&1===v.sections.length){y=[];const e=b(v.toString(),Fl(v,u,a,n,o,h,m));for(const t of e){const e=new Il;e.text=t,e.sections=v.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);y.push(e)}}else if(_){y=[];const e=_(v.text,v.sectionIndex,Fl(v,u,a,n,o,h,m));for(const t of e){const e=new Il;e.text=t[0],e.sectionIndex=t[1],e.sections=v.sections,y.push(e)}}else y=function(e,t){const n=[],r=e.text;let o=0;for(const r of t)n.push(e.substring(o,r)),o=r;return o<r.length&&n.push(e.substring(o,r.length)),n}(v,Fl(v,u,a,n,o,h,m));const w=[],x={positionedLines:w,text:v.toString(),top:d[1],bottom:d[1],left:d[0],right:d[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(t,n,r,o,i,a,s,l,c,u,d,f){let p=0,h=Al,m=0,g=0;const v="right"===l?1:"left"===l?0:.5;let y=0;for(const s of i){s.trim();const i=s.getMaxScale(),l=(i-1)*Js,_={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=_;const w=_.positionedGlyphs;let x=0;if(!s.length()){h+=a,++y;continue}for(let a=0;a<s.length();a++){const m=s.getSection(a),g=s.getSectionIndex(a),v=s.getCharCode(a);let y=0,_=null,S=null,E=null,C=Js;const k=!(c===e.WritingMode.horizontal||!d&&!Mr(v)||d&&(Ol[v]||(b=v,Tr.Arabic(b)||Tr["Arabic Supplement"](b)||Tr["Arabic Extended-A"](b)||Tr["Arabic Presentation Forms-A"](b)||Tr["Arabic Presentation Forms-B"](b))));if(m.imageName){const e=o[m.imageName];if(!e)continue;E=m.imageName,t.iconsInText=t.iconsInText||!0,S=e.paddedRect;const n=e.displaySize;m.scale=m.scale*Js/f,_={width:n[0],height:n[1],left:1,top:-3,advance:k?n[1]:n[0]},y=l+(Js-n[1]*m.scale),C=_.advance;const r=k?n[0]*m.scale-Js*i:n[1]*m.scale-Js*i;r>0&&r>x&&(x=r)}else{const e=r[m.fontStack],t=e&&e[v];if(t&&t.rect)S=t.rect,_=t.metrics;else{const e=n[m.fontStack],t=e&&e[v];if(!t)continue;_=t.metrics}y=(i-m.scale)*Js}k?(t.verticalizable=!0,w.push({glyph:v,imageName:E,x:p,y:h+y,vertical:k,scale:m.scale,fontStack:m.fontStack,sectionIndex:g,metrics:_,rect:S}),p+=C*m.scale+u):(w.push({glyph:v,imageName:E,x:p,y:h+y,vertical:k,scale:m.scale,fontStack:m.fontStack,sectionIndex:g,metrics:_,rect:S}),p+=_.advance*m.scale+u)}0!==w.length&&(m=Math.max(p-u,m),jl(w,0,w.length-1,v,x)),p=0;const S=a*i+x;_.lineOffset=Math.max(x,l),h+=S,g=Math.max(S,g),++y}var b;const _=h-Al,{horizontalAlign:w,verticalAlign:x}=Ul(s);(function(e,t,n,r,o,i,a,s,l){const c=(t-n)*o;let u=0;u=i!==a?-s*r-Al:(-r*l+.5)*a;for(const t of e)for(const e of t.positionedGlyphs)e.x+=c,e.y+=u})(t.positionedLines,v,w,x,m,g,a,_,i.length),t.top+=-x*_,t.bottom=t.top+_,t.left+=-w*m,t.right=t.left+m}(x,n,r,o,y,s,l,c,f,u,p,g),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(w)&&x}const Ol={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Ml={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Nl(e,t,n,r,o,i){if(t.imageName){const e=r[t.imageName];return e?e.displaySize[0]*t.scale*Js/i+o:0}{const r=n[t.fontStack],i=r&&r[e];return i?i.metrics.advance*t.scale+o:0}}function Ll(e,t,n,r){const o=Math.pow(e-t,2);return r?e<t?o/2:2*o:o+Math.abs(n)*n}function Rl(e,t,n){let r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Dl(e,t,n,r,o,i){let a=null,s=Ll(t,n,o,i);for(const e of r){const r=Ll(t-e.x,n,o,i)+e.badness;r<=s&&(a=e,s=r)}return{index:e,x:t,priorBreak:a,badness:s}}function zl(e){return e?zl(e.priorBreak).concat(e.index):[]}function Fl(e,t,n,r,o,i,a){if("point"!==i)return[];if(!e)return[];const s=[],l=function(e,t,n,r,o,i){let a=0;for(let n=0;n<e.length();n++){const s=e.getSection(n);a+=Nl(e.getCharCode(n),s,r,o,t,i)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,o,a),c=e.text.indexOf("​")>=0;let u=0;for(let n=0;n<e.length();n++){const i=e.getSection(n),f=e.getCharCode(n);if(Ol[f]||(u+=Nl(f,i,r,o,t,a)),n<e.length()-1){const t=!((d=f)<11904||!(Tr["Bopomofo Extended"](d)||Tr.Bopomofo(d)||Tr["CJK Compatibility Forms"](d)||Tr["CJK Compatibility Ideographs"](d)||Tr["CJK Compatibility"](d)||Tr["CJK Radicals Supplement"](d)||Tr["CJK Strokes"](d)||Tr["CJK Symbols and Punctuation"](d)||Tr["CJK Unified Ideographs Extension A"](d)||Tr["CJK Unified Ideographs"](d)||Tr["Enclosed CJK Letters and Months"](d)||Tr["Halfwidth and Fullwidth Forms"](d)||Tr.Hiragana(d)||Tr["Ideographic Description Characters"](d)||Tr["Kangxi Radicals"](d)||Tr["Katakana Phonetic Extensions"](d)||Tr.Katakana(d)||Tr["Vertical Forms"](d)||Tr["Yi Radicals"](d)||Tr["Yi Syllables"](d)));(Ml[f]||t||i.imageName)&&s.push(Dl(n+1,u,l,s,Rl(f,e.getCharCode(n+1),t&&c),!1))}}var d;return zl(Dl(e.length(),u,l,s,0,!0))}function Ul(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function jl(e,t,n,r,o){if(!r&&!o)return;const i=e[n],a=(e[n].x+i.metrics.advance*i.scale)*r;for(let r=t;r<=n;r++)e[r].x-=a,e[r].y+=o}function Bl(e,t,n){const{horizontalAlign:r,verticalAlign:o}=Ul(n),i=t[0]-e.displaySize[0]*r,a=t[1]-e.displaySize[1]*o;return{image:e,top:a,bottom:a+e.displaySize[1],left:i,right:i+e.displaySize[0]}}function Vl(e,t,n,r,o,i){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*i,c=t.right*i;let u,d,f,p;"width"===n||"both"===n?(p=o[0]+l-r[3],d=o[0]+c+r[1]):(p=o[0]+(l+c-a.displaySize[0])/2,d=p+a.displaySize[0]);const h=t.top*i,m=t.bottom*i;return"height"===n||"both"===n?(u=o[1]+h-r[0],f=o[1]+m+r[2]):(u=o[1]+(h+m-a.displaySize[1])/2,f=u+a.displaySize[1]),{image:a,top:u,right:d,bottom:f,left:p,collisionPadding:s}}const Gl=128;function ql(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Zr(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:r}=n;let o=0;for(;o<t.length&&t[o]<=e;)o++;o=Math.max(0,o-1);let i=o;for(;i<t.length&&t[i]<e+1;)i++;i=Math.min(t.length-1,i);const a=t[o],s=t[i];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:r}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Zr(a)),maxSize:n.evaluate(new Zr(s)),interpolationType:r}}}class Hl extends C{constructor(e,t,n,r){super(e,t),this.angle=n,void 0!==r&&(this.segment=r)}clone(){return new Hl(this.x,this.y,this.angle,this.segment)}}function Wl(e,t,n,r,o){if(void 0===t.segment)return!0;let i=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(i),i=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let i=e[a-1].angleTo(t)-t.angleTo(n);for(i=Math.abs((i+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:i}),c+=i;s-l[0].distance>r;)c-=l.shift().angleDelta;if(c>o)return!1;a++,s+=t.dist(n)}return!0}function Kl(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function $l(e,t,n){return e?.6*t*n:0}function Zl(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Yl(e,t,n,r,o,i){const a=$l(n,o,i),s=Zl(n,r)*i;let l=0;const c=Kl(e)/2;for(let n=0;n<e.length-1;n++){const r=e[n],o=e[n+1],i=r.dist(o);if(l+i>c){const u=(c-l)/i,d=Et(r.x,o.x,u),f=Et(r.y,o.y,u),p=new Hl(d,f,o.angleTo(r),n);return p._round(),!a||Wl(e,p,s,a,t)?p:void 0}l+=i}}function Jl(e,t,n,r,o,i,a,s,l){const c=$l(r,i,a),u=Zl(r,o),d=u*a,f=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-d<t/4&&(t=d+t/4),Xl(e,f?t/2*s%t:(u/2+2*i)*a*s%t,t,c,n,d,f,!1,l)}function Xl(e,t,n,r,o,i,a,s,l){const c=i/2,u=Kl(e);let d=0,f=t-n,p=[];for(let t=0;t<e.length-1;t++){const a=e[t],s=e[t+1],h=a.dist(s),m=s.angleTo(a);for(;f+n<d+h;){f+=n;const g=(f-d)/h,v=Et(a.x,s.x,g),y=Et(a.y,s.y,g);if(v>=0&&v<l&&y>=0&&y<l&&f-c>=0&&f+c<=u){const n=new Hl(v,y,m,t);n._round(),r&&!Wl(e,n,i,r,o)||p.push(n)}}d+=h}return s||p.length||a||(p=Xl(e,d/2,n,r,o,i,a,!0,l)),p}function Ql(e,t,n,r,o){const i=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new C(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new C(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new C(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new C(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=r&&c.x>=r||(a.x>=r?a=new C(r,a.y+(r-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=r&&(c=new C(r,a.y+(r-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=o&&c.y>=o||(a.y>=o?a=new C(a.x+(o-a.y)/(c.y-a.y)*(c.x-a.x),o)._round():c.y>=o&&(c=new C(a.x+(o-a.y)/(c.y-a.y)*(c.x-a.x),o)._round()),l&&a.equals(l[l.length-1])||(l=[a],i.push(l)),l.push(c)))))}}return i}function ec(e,t,n,r){const o=[],i=e.image,a=i.pixelRatio,s=i.paddedRect.w-2,l=i.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,d=i.stretchX||[[0,s]],f=i.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],h=d.reduce(p,0),m=f.reduce(p,0),g=s-h,v=l-m;let y=0,b=h,_=0,w=m,x=0,S=g,E=0,k=v;if(i.content&&r){const e=i.content;y=tc(d,0,e[0]),_=tc(f,0,e[1]),b=tc(d,e[0],e[2]),w=tc(f,e[1],e[3]),x=e[0]-y,E=e[1]-_,S=e[2]-e[0]-b,k=e[3]-e[1]-w}const A=(r,o,s,l)=>{const d=rc(r.stretch-y,b,c,e.left),f=oc(r.fixed-x,S,r.stretch,h),p=rc(o.stretch-_,w,u,e.top),g=oc(o.fixed-E,k,o.stretch,m),v=rc(s.stretch-y,b,c,e.left),A=oc(s.fixed-x,S,s.stretch,h),T=rc(l.stretch-_,w,u,e.top),I=oc(l.fixed-E,k,l.stretch,m),P=new C(d,p),O=new C(v,p),M=new C(v,T),N=new C(d,T),L=new C(f/a,g/a),R=new C(A/a,I/a),D=t*Math.PI/180;if(D){const e=Math.sin(D),t=Math.cos(D),n=[t,-e,e,t];P._matMult(n),O._matMult(n),N._matMult(n),M._matMult(n)}const z=r.stretch+r.fixed,F=o.stretch+o.fixed;return{tl:P,tr:O,bl:N,br:M,tex:{x:i.paddedRect.x+1+z,y:i.paddedRect.y+1+F,w:s.stretch+s.fixed-z,h:l.stretch+l.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:R,minFontScaleX:S/a/c,minFontScaleY:k/a/u,isSDF:n}};if(r&&(i.stretchX||i.stretchY)){const e=nc(d,g,h),t=nc(f,v,m);for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1];for(let e=0;e<t.length-1;e++)o.push(A(r,t[e],i,t[e+1]))}}else o.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return o}function tc(e,t,n){let r=0;for(const o of e)r+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]));return r}function nc(e,t,n){const r=[{fixed:-1,stretch:0}];for(const[t,n]of e){const e=r[r.length-1];r.push({fixed:t-e.stretch,stretch:e.stretch}),r.push({fixed:t-e.stretch,stretch:e.stretch+(n-t)})}return r.push({fixed:t+1,stretch:n}),r}function rc(e,t,n,r){return e/t*n+r}function oc(e,t,n,r){return e-t*n/r}Sr("Anchor",Hl);class ic{constructor(e,t,n,r,o,i,a,s,l,c){if(this.boxStartIndex=e.length,l){let e=i.top,t=i.bottom;const n=i.collisionPadding;n&&(e-=n[1],t+=n[3]);let r=t-e;r>0&&(r=Math.max(10,r),this.circleDiameter=r)}else{let l=i.top*a-s,u=i.bottom*a+s,d=i.left*a-s,f=i.right*a+s;const p=i.collisionPadding;if(p&&(d-=p[0]*a,l-=p[1]*a,f+=p[2]*a,u+=p[3]*a),c){const e=new C(d,l),t=new C(f,l),n=new C(d,u),r=new C(f,u),o=c*Math.PI/180;e._rotate(o),t._rotate(o),n._rotate(o),r._rotate(o),d=Math.min(e.x,t.x,n.x,r.x),f=Math.max(e.x,t.x,n.x,r.x),l=Math.min(e.y,t.y,n.y,r.y),u=Math.max(e.y,t.y,n.y,r.y)}e.emplaceBack(t.x,t.y,d,l,f,u,n,r,o)}this.boxEndIndex=e.length}}class ac{constructor(e=[],t=sc){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(n(r,i)>=0)break;t[e]=i,e=o}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,o=t[e];for(;e<r;){let r=1+(e<<1),i=t[r];const a=r+1;if(a<this.length&&n(t[a],i)<0&&(r=a,i=t[a]),n(i,o)>=0)break;t[e]=i,e=r}t[e]=o}}function sc(e,t){return e<t?-1:e>t?1:0}function lc(e,t=1,n=!1){let r=1/0,o=1/0,i=-1/0,a=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<r)&&(r=t.x),(!e||t.y<o)&&(o=t.y),(!e||t.x>i)&&(i=t.x),(!e||t.y>a)&&(a=t.y)}const l=Math.min(i-r,a-o);let c=l/2;const u=new ac([],cc);if(0===l)return new C(r,o);for(let t=r;t<i;t+=l)for(let n=o;n<a;n+=l)u.push(new uc(t+c,n+c,c,e));let d=function(e){let t=0,n=0,r=0;const o=e[0];for(let e=0,i=o.length,a=i-1;e<i;a=e++){const i=o[e],s=o[a],l=i.x*s.y-s.x*i.y;n+=(i.x+s.x)*l,r+=(i.y+s.y)*l,t+=3*l}return new uc(n/t,r/t,0,e)}(e),f=u.length;for(;u.length;){const r=u.pop();(r.d>d.d||!d.d)&&(d=r,n&&console.log("found best %d after %d probes",Math.round(1e4*r.d)/1e4,f)),r.max-d.d<=t||(c=r.h/2,u.push(new uc(r.p.x-c,r.p.y-c,c,e)),u.push(new uc(r.p.x+c,r.p.y-c,c,e)),u.push(new uc(r.p.x-c,r.p.y+c,c,e)),u.push(new uc(r.p.x+c,r.p.y+c,c,e)),f+=4)}return n&&(console.log(`num probes: ${f}`),console.log(`best distance: ${d.d}`)),d.p}function cc(e,t){return t.max-e.max}function uc(e,t,n,r){this.p=new C(e,t),this.h=n,this.d=function(e,t){let n=!1,r=1/0;for(let o=0;o<t.length;o++){const i=t[o];for(let t=0,o=i.length,a=o-1;t<o;a=t++){const o=i[t],s=i[a];o.y>e.y!=s.y>e.y&&e.x<(s.x-o.x)*(e.y-o.y)/(s.y-o.y)+o.x&&(n=!n),r=Math.min(r,Ji(e,o,s))}}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}const dc=Number.POSITIVE_INFINITY;function fc(e,t){return t[1]!==dc?function(e,t,n){let r=0,o=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":o=n-7;break;case"bottom-right":case"bottom-left":case"bottom":o=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,o]}(e,t[0],t[1]):function(e,t){let n=0,r=0;t<0&&(t=0);const o=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=o-7;break;case"bottom-right":case"bottom-left":r=7-o;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-o;break;case"top-left":case"bottom-left":n=o;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function pc(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function hc(t,n,r,o,i,a,s,l,c,u,d){let f=a.textMaxSize.evaluate(n,{});void 0===f&&(f=s);const p=t.layers[0].layout,m=p.get("icon-offset").evaluate(n,{},d),g=vc(r.horizontal),v=s/24,y=t.tilePixelRatio*v,b=t.tilePixelRatio*f/24,_=t.tilePixelRatio*l,w=t.tilePixelRatio*p.get("symbol-spacing"),x=p.get("text-padding")*t.tilePixelRatio,S=p.get("icon-padding")*t.tilePixelRatio,E=p.get("text-max-angle")/180*Math.PI,C="viewport"!==p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),k="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),A=p.get("symbol-placement"),T=w/2,I=p.get("icon-text-fit");let P;o&&"none"!==I&&(t.allowVerticalPlacement&&r.vertical&&(P=Vl(o,r.vertical,I,p.get("icon-text-fit-padding"),m,v)),g&&(o=Vl(o,g,I,p.get("icon-text-fit-padding"),m,v)));const O=(l,f)=>{f.x<0||f.x>=zi||f.y<0||f.y>=zi||function(t,n,r,o,i,a,s,l,c,u,d,f,p,m,g,v,y,b,_,w,x,S,E,C,k){const A=t.addToLineVertexArray(n,r);let T,I,P,O,M=0,N=0,L=0,R=0,D=-1,z=-1;const F={};let U=vi(""),j=0,B=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[j,B]=l.layout.get("text-offset").evaluate(x,{},C).map((e=>e*Js)):(j=l.layout.get("text-radial-offset").evaluate(x,{},C)*Js,B=dc),t.allowVerticalPlacement&&o.vertical){const e=l.layout.get("text-rotate").evaluate(x,{},C)+90;P=new ic(c,n,u,d,f,o.vertical,p,m,g,e),s&&(O=new ic(c,n,u,d,f,s,y,b,g,e))}if(i){const r=l.layout.get("icon-rotate").evaluate(x,{}),o="none"!==l.layout.get("icon-text-fit"),a=ec(i,r,E,o),p=s?ec(s,r,E,o):void 0;I=new ic(c,n,u,d,f,i,y,b,!1,r),M=4*a.length;const m=t.iconSizeData;let g=null;"source"===m.kind?(g=[Gl*l.layout.get("icon-size").evaluate(x,{})],g[0]>mc&&h(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===m.kind&&(g=[Gl*S.compositeIconSizes[0].evaluate(x,{},C),Gl*S.compositeIconSizes[1].evaluate(x,{},C)],(g[0]>mc||g[1]>mc)&&h(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),t.addSymbols(t.icon,a,g,w,_,x,e.WritingMode.none,n,A.lineStartIndex,A.lineLength,-1,C),D=t.icon.placedSymbolArray.length-1,p&&(N=4*p.length,t.addSymbols(t.icon,p,g,w,_,x,e.WritingMode.vertical,n,A.lineStartIndex,A.lineLength,-1,C),z=t.icon.placedSymbolArray.length-1)}const V=Object.keys(o.horizontal);for(const r of V){const i=o.horizontal[r];if(!T){U=vi(i.text);const e=l.layout.get("text-rotate").evaluate(x,{},C);T=new ic(c,n,u,d,f,i,p,m,g,e)}const s=1===i.positionedLines.length;if(L+=gc(t,n,i,a,l,g,x,v,A,o.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,s?V:[r],F,D,S,C),s)break}o.vertical&&(R+=gc(t,n,o.vertical,a,l,g,x,v,A,e.WritingMode.vertical,["vertical"],F,z,S,C));const G=T?T.boxStartIndex:t.collisionBoxArray.length,q=T?T.boxEndIndex:t.collisionBoxArray.length,H=P?P.boxStartIndex:t.collisionBoxArray.length,W=P?P.boxEndIndex:t.collisionBoxArray.length,K=I?I.boxStartIndex:t.collisionBoxArray.length,$=I?I.boxEndIndex:t.collisionBoxArray.length,Z=O?O.boxStartIndex:t.collisionBoxArray.length,Y=O?O.boxEndIndex:t.collisionBoxArray.length;let J=-1;const X=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;J=X(T,J),J=X(P,J),J=X(I,J),J=X(O,J);const Q=J>-1?1:0;Q&&(J*=k/Js),t.glyphOffsetArray.length>=kc.MAX_GLYPHS&&h("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,x.sortKey),t.symbolInstances.emplaceBack(n.x,n.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,D,z,U,G,q,H,W,K,$,Z,Y,u,L,R,M,N,Q,0,p,j,B,J)}(t,f,l,r,o,i,P,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,y,x,C,c,_,S,k,m,n,a,u,d,s)};if("line"===A)for(const e of Ql(n.geometry,0,0,zi,zi)){const n=Jl(e,w,E,r.vertical||g,o,24,b,t.overscaling,zi);for(const r of n)g&&yc(t,g.text,T,r)||O(e,r)}else if("line-center"===A){for(const e of n.geometry)if(e.length>1){const t=Yl(e,E,r.vertical||g,o,24,b);t&&O(e,t)}}else if("Polygon"===n.type)for(const e of ns(n.geometry,0)){const t=lc(e,16);O(e[0],new Hl(t.x,t.y,0))}else if("LineString"===n.type)for(const e of n.geometry)O(e,new Hl(e[0].x,e[0].y,0));else if("Point"===n.type)for(const e of n.geometry)for(const t of e)O([t],new Hl(t.x,t.y,0))}const mc=32640;function gc(e,t,n,r,o,i,a,s,l,c,u,d,f,p,m){const g=function(e,t,n,r,o,i,a,s){const l=r.layout.get("text-rotate").evaluate(i,{})*Math.PI/180,c=[];for(const e of t.positionedLines)for(const r of e.positionedGlyphs){if(!r.rect)continue;const i=r.rect||{};let u=4,d=!0,f=1,p=0;const h=(o||s)&&r.vertical,m=r.metrics.advance*r.scale/2;if(s&&t.verticalizable){const t=(r.scale-1)*Js,n=(Js-r.metrics.width*r.scale)/2;p=e.lineOffset/2-(r.imageName?-n:t)}if(r.imageName){const e=a[r.imageName];d=e.sdf,f=e.pixelRatio,u=1/f}const g=o?[r.x+m,r.y]:[0,0];let v=o?[0,0]:[r.x+m+n[0],r.y+n[1]-p],y=[0,0];h&&(y=v,v=[0,0]);const b=(r.metrics.left-u)*r.scale-m+v[0],_=(-r.metrics.top-u)*r.scale+v[1],w=b+i.w*r.scale/f,x=_+i.h*r.scale/f,S=new C(b,_),E=new C(w,_),k=new C(b,x),A=new C(w,x);if(h){const e=new C(-m,m-Al),t=-Math.PI/2,n=12-m,o=new C(22-n,-(r.imageName?n:0)),i=new C(...y);S._rotateAround(t,e)._add(o)._add(i),E._rotateAround(t,e)._add(o)._add(i),k._rotateAround(t,e)._add(o)._add(i),A._rotateAround(t,e)._add(o)._add(i)}if(l){const e=Math.sin(l),t=Math.cos(l),n=[t,-e,e,t];S._matMult(n),E._matMult(n),k._matMult(n),A._matMult(n)}const T=new C(0,0),I=new C(0,0);c.push({tl:S,tr:E,bl:k,br:A,tex:i,writingMode:t.writingMode,glyphOffset:g,sectionIndex:r.sectionIndex,isSDF:d,pixelOffsetTL:T,pixelOffsetBR:I,minFontScaleX:0,minFontScaleY:0})}return c}(0,n,s,o,i,a,r,e.allowVerticalPlacement),v=e.textSizeData;let y=null;"source"===v.kind?(y=[Gl*o.layout.get("text-size").evaluate(a,{})],y[0]>mc&&h(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===v.kind&&(y=[Gl*p.compositeTextSizes[0].evaluate(a,{},m),Gl*p.compositeTextSizes[1].evaluate(a,{},m)],(y[0]>mc||y[1]>mc)&&h(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),e.addSymbols(e.text,g,y,s,i,a,c,t,l.lineStartIndex,l.lineLength,f,m);for(const t of u)d[t]=e.text.placedSymbolArray.length-1;return 4*g.length}function vc(e){for(const t in e)return e[t];return null}function yc(e,t,n,r){const o=e.compareText;if(t in o){const e=o[t];for(let t=e.length-1;t>=0;t--)if(r.dist(e[t])<n)return!0}else o[t]=[];return o[t].push(r),!1}const bc=ds.VectorTileFeature.types,_c=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wc(e,t,n,r,o,i,a,s,l,c,u,d,f){const p=s?Math.min(mc,Math.round(s[0])):0,h=s?Math.min(mc,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*o),i,a,(p<<1)+(l?1:0),h,16*c,16*u,256*d,256*f)}function xc(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function Sc(e){for(const t of e.sections)if(Dr(t.text))return!0;return!1}class Ec{constructor(e){this.layoutVertexArray=new ni,this.indexArray=new si,this.programConfigurations=e,this.segments=new di,this.dynamicLayoutVertexArray=new ri,this.opacityVertexArray=new oi,this.placedSymbolArray=new Go}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,qs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Hs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,_c,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Sr("SymbolBuffers",Ec);class Cc{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new di,this.collisionVertexArray=new ai}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Ws.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Sr("CollisionBuffers",Cc);class kc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sa([]),this.placementViewportMatrix=sa([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ql(this.zoom,n["text-size"]),this.iconSizeData=ql(this.zoom,n["icon-size"]);const r=this.layers[0].layout,o=r.get("symbol-sort-key"),i=r.get("symbol-z-order");this.canOverlap="never"!==Oc(r,"text-overlap","text-allow-overlap")||"never"!==Oc(r,"icon-overlap","icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&!o.isConstant(),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((t=>e.WritingMode[t]))),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=t.sourceID}createArrays(){this.text=new Ec(new Li(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new Ec(new Li(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new Wo,this.lineVertexArray=new Ko,this.symbolInstances=new Ho}calculateGlyphDependencies(e,t,n,r,o){for(let i=0;i<e.length;i++)if(t[e.charCodeAt(i)]=!0,(n||r)&&o){const n=Ys[e.charAt(i)];n&&(t[n.charCodeAt(0)]=!0)}}populate(t,n,r){const o=this.layers[0],i=o.layout,a=i.get("text-font"),s=i.get("text-field"),l=i.get("icon-image"),c=("constant"!==s.value.kind||s.value.value instanceof Re&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),u="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,d=i.get("symbol-sort-key");if(this.features=[],!c&&!u)return;const f=n.iconDependencies,p=n.glyphDependencies,h=n.availableImages,m=new Zr(this.zoom);for(const{feature:n,id:s,index:l,sourceLayerIndex:g}of t){const t=o._featureFilter.needGeometry,v=Bi(n,t);if(!o._featureFilter.filter(m,v,r))continue;let y,b;if(t||(v.geometry=ji(n)),c){const e=o.getValueAndResolveTokens("text-field",v,r,h),t=Re.factory(e);Sc(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Wr()||this.hasRTLText&&$r.isParsed())&&(y=Zs(t,o,v))}if(u){const e=o.getValueAndResolveTokens("icon-image",v,r,h);b=e instanceof De?e:De.fromString(e)}if(!y&&!b)continue;const _=this.sortFeaturesByKey?d.evaluate(v,{},r):void 0;if(this.features.push({id:s,text:y,icon:b,index:l,sourceLayerIndex:g,geometry:v.geometry,properties:n.properties,type:bc[n.type],sortKey:_}),b&&(f[b.name]=!0),y){const t=a.evaluate(v,{},r).join(","),n="viewport"!==i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.WritingMode.vertical)>=0;for(const e of y.sections)if(e.image)f[e.image.name]=!0;else{const r=Ir(y.toString()),o=e.fontStack||t,i=p[o]=p[o]||{};this.calculateGlyphDependencies(e.text,i,n,this.allowVerticalPlacement,r)}}}"line"===i.get("symbol-placement")&&(this.features=function(e){const t={},n={},r=[];let o=0;function i(t){r.push(e[t]),o++}function a(e,t,o){const i=n[e];return delete n[e],n[t]=i,r[i].geometry[0].pop(),r[i].geometry[0]=r[i].geometry[0].concat(o[0]),i}function s(e,n,o){const i=t[n];return delete t[n],t[e]=i,r[i].geometry[0].shift(),r[i].geometry[0]=o[0].concat(r[i].geometry[0]),i}function l(e,t,n){const r=n?t[0][t[0].length-1]:t[0][0];return`${e}:${r.x}:${r.y}`}for(let c=0;c<e.length;c++){const u=e[c],d=u.geometry,f=u.text?u.text.toString():null;if(!f){i(c);continue}const p=l(f,d),h=l(f,d,!0);if(p in n&&h in t&&n[p]!==t[h]){const e=s(p,h,d),o=a(p,h,r[e].geometry);delete t[p],delete n[h],n[l(f,r[o].geometry,!0)]=o,r[e].geometry=null}else p in n?a(p,h,d):h in t?s(p,h,d):(i(c),t[p]=o-1,n[h]=o-1)}return r.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment){let n=e.dist(t[e.segment+1]),r=e.dist(t[e.segment]);const o={};for(let r=e.segment+1;r<t.length;r++)o[r]={x:t[r].x,y:t[r].y,tileUnitDistanceFromAnchor:n},r<t.length-1&&(n+=t[r+1].dist(t[r]));for(let n=e.segment||0;n>=0;n--)o[n]={x:t[n].x,y:t[n].y,tileUnitDistanceFromAnchor:r},n>0&&(r+=t[n-1].dist(t[n]));for(let e=0;e<t.length;e++){const t=o[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(t,n,r,o,i,a,s,l,c,u,d,f){const p=t.indexArray,h=t.layoutVertexArray,m=t.segments.prepareSegment(4*n.length,h,p,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,v=m.vertexLength,y=this.allowVerticalPlacement&&s===e.WritingMode.vertical?Math.PI/2:0,b=a.text&&a.text.sections;for(let e=0;e<n.length;e++){const{tl:o,tr:i,bl:s,br:c,tex:u,pixelOffsetTL:d,pixelOffsetBR:g,minFontScaleX:v,minFontScaleY:_,glyphOffset:w,isSDF:x,sectionIndex:S}=n[e],E=m.vertexLength,C=w[1];wc(h,l.x,l.y,o.x,C+o.y,u.x,u.y,r,x,d.x,d.y,v,_),wc(h,l.x,l.y,i.x,C+i.y,u.x+u.w,u.y,r,x,g.x,d.y,v,_),wc(h,l.x,l.y,s.x,C+s.y,u.x,u.y+u.h,r,x,d.x,g.y,v,_),wc(h,l.x,l.y,c.x,C+c.y,u.x+u.w,u.y+u.h,r,x,g.x,g.y,v,_),xc(t.dynamicLayoutVertexArray,l,y),p.emplaceBack(E,E+1,E+2),p.emplaceBack(E+1,E+2,E+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(w[0]),e!==n.length-1&&S===n[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(h.length,a,a.index,{},f,b&&b[S])}t.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,v,c,u,l.segment,r?r[0]:0,r?r[1]:0,o[0],o[1],s,0,!1,0,d)}_addCollisionDebugVertex(e,t,n,r,o,i){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,o,Math.round(i.x),Math.round(i.y))}addCollisionDebugVertices(e,t,n,r,o,i,a){const s=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=s.vertexLength,c=o.layoutVertexArray,u=o.collisionVertexArray,d=a.anchorX,f=a.anchorY;this._addCollisionDebugVertex(c,u,i,d,f,new C(e,t)),this._addCollisionDebugVertex(c,u,i,d,f,new C(n,t)),this._addCollisionDebugVertex(c,u,i,d,f,new C(n,r)),this._addCollisionDebugVertex(c,u,i,d,f,new C(e,r)),s.vertexLength+=4;const p=o.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),s.primitiveLength+=4}addDebugCollisionBoxes(e,t,n,r){for(let o=e;o<t;o++){const e=this.collisionBoxArray.get(o);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,r?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,n)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Cc(ii,Ks.members,li),this.iconCollisionBox=new Cc(ii,Ks.members,li);for(let e=0;e<this.symbolInstances.length;e++){const t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,n,r,o,i,a,s,l){const c={};for(let r=t;r<n;r++){const t=e.get(r);c.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.textFeatureIndex=t.featureIndex;break}for(let t=r;t<o;t++){const n=e.get(t);c.verticalTextBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},c.verticalTextFeatureIndex=n.featureIndex;break}for(let t=i;t<a;t++){const n=e.get(t);c.iconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},c.iconFeatureIndex=n.featureIndex;break}for(let t=s;t<l;t++){const n=e.get(t);c.verticalIconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},c.verticalIconFeatureIndex=n.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs;for(let t=n.vertexStartIndex;t<r;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),r=[],o=[],i=[];for(let e=0;e<this.symbolInstances.length;++e){i.push(e);const a=this.symbolInstances.get(e);r.push(0|Math.round(t*a.anchorX+n*a.anchorY)),o.push(a.featureIndex)}return i.sort(((e,t)=>r[e]-r[t]||o[t]-o[e])),i}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach(((e,t,n)=>{e>=0&&n.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)})),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Sr("SymbolBucket",kc,{omit:["layers","collisionBoxArray","features","compareText"]}),kc.MAX_GLYPHS=65535,kc.addDynamicAttributes=xc;const Ac=new co({"symbol-placement":new oo(ne.layout_symbol["symbol-placement"]),"symbol-spacing":new oo(ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new oo(ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new io(ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new oo(ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new oo(ne.layout_symbol["icon-allow-overlap"]),"icon-overlap":new oo(ne.layout_symbol["icon-overlap"]),"icon-ignore-placement":new oo(ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new oo(ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new oo(ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new io(ne.layout_symbol["icon-size"]),"icon-text-fit":new oo(ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new oo(ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new io(ne.layout_symbol["icon-image"]),"icon-rotate":new io(ne.layout_symbol["icon-rotate"]),"icon-padding":new oo(ne.layout_symbol["icon-padding"]),"icon-keep-upright":new oo(ne.layout_symbol["icon-keep-upright"]),"icon-offset":new io(ne.layout_symbol["icon-offset"]),"icon-anchor":new io(ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new oo(ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new oo(ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new oo(ne.layout_symbol["text-rotation-alignment"]),"text-field":new io(ne.layout_symbol["text-field"]),"text-font":new io(ne.layout_symbol["text-font"]),"text-size":new io(ne.layout_symbol["text-size"]),"text-max-width":new io(ne.layout_symbol["text-max-width"]),"text-line-height":new oo(ne.layout_symbol["text-line-height"]),"text-letter-spacing":new io(ne.layout_symbol["text-letter-spacing"]),"text-justify":new io(ne.layout_symbol["text-justify"]),"text-radial-offset":new io(ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new oo(ne.layout_symbol["text-variable-anchor"]),"text-anchor":new io(ne.layout_symbol["text-anchor"]),"text-max-angle":new oo(ne.layout_symbol["text-max-angle"]),"text-writing-mode":new oo(ne.layout_symbol["text-writing-mode"]),"text-rotate":new io(ne.layout_symbol["text-rotate"]),"text-padding":new oo(ne.layout_symbol["text-padding"]),"text-keep-upright":new oo(ne.layout_symbol["text-keep-upright"]),"text-transform":new io(ne.layout_symbol["text-transform"]),"text-offset":new io(ne.layout_symbol["text-offset"]),"text-allow-overlap":new oo(ne.layout_symbol["text-allow-overlap"]),"text-overlap":new oo(ne.layout_symbol["text-overlap"]),"text-ignore-placement":new oo(ne.layout_symbol["text-ignore-placement"]),"text-optional":new oo(ne.layout_symbol["text-optional"])});var Tc={paint:new co({"icon-opacity":new io(ne.paint_symbol["icon-opacity"]),"icon-color":new io(ne.paint_symbol["icon-color"]),"icon-halo-color":new io(ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new io(ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new io(ne.paint_symbol["icon-halo-blur"]),"icon-translate":new oo(ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new oo(ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new io(ne.paint_symbol["text-opacity"]),"text-color":new io(ne.paint_symbol["text-color"],{runtimeType:he,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new io(ne.paint_symbol["text-halo-color"]),"text-halo-width":new io(ne.paint_symbol["text-halo-width"]),"text-halo-blur":new io(ne.paint_symbol["text-halo-blur"]),"text-translate":new oo(ne.paint_symbol["text-translate"]),"text-translate-anchor":new oo(ne.paint_symbol["text-translate-anchor"])}),layout:Ac};class Ic{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:ue,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Sr("FormatSectionOverride",Ic,{omit:["defaultValue"]});class Pc extends fo{constructor(e){super(e,Tc)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const n of e)t.indexOf(n)<0&&t.push(n);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,r){const o=this.layout.get(e).evaluate(t,{},n,r),i=this._unevaluatedLayout._values[e];return i.isDataDriven()||On(i.value)||!o?o:function(e,t){return t.replace(/{([^{}]+)}/g,((t,n)=>n in e?String(e[n]):""))}(t.properties,o)}createBucket(e){return new kc(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Tc.paint.overridableProperties){if(!Pc.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new Ic(t),r=new Pn(n,t.property.specification);let o=null;o="constant"===t.value.kind||"source"===t.value.kind?new Nn("source",r):new Ln("composite",r,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new no(t.property,o,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&Pc.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),r=Tc.paint.properties[t];let o=!1;const i=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(o=!0)};if("constant"===n.value.kind&&n.value.value instanceof Re)i(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{o||(t instanceof Be&&Ue(t.value)===ye?i(t.value.sections):t instanceof He?i(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return o}}function Oc(e,t,n){let r="never";const o=e.get(t);return o?r=o:e.get(n)&&(r="always"),r}var Mc={paint:new co({"background-color":new oo(ne.paint_background["background-color"]),"background-pattern":new so(ne.paint_background["background-pattern"]),"background-opacity":new oo(ne.paint_background["background-opacity"])})},Nc={paint:new co({"raster-opacity":new oo(ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new oo(ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new oo(ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new oo(ne.paint_raster["raster-brightness-max"]),"raster-saturation":new oo(ne.paint_raster["raster-saturation"]),"raster-contrast":new oo(ne.paint_raster["raster-contrast"]),"raster-resampling":new oo(ne.paint_raster["raster-resampling"]),"raster-fade-duration":new oo(ne.paint_raster["raster-fade-duration"])})};class Lc extends fo{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}}const Rc={circle:class extends fo{constructor(e){super(e,ia)}createBucket(e){return new Gi(e)}queryRadius(e){const t=e;return ta("circle-radius",this,t)+ta("circle-stroke-width",this,t)+na(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,r,o,i,a,s){const l=ra(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,a),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),u="map"===this.paint.get("circle-pitch-alignment"),d=u?l:function(e,t){return e.map((e=>fa(e,t)))}(l,s),f=u?c*a:c;for(const e of r)for(const t of e){const e=u?t:fa(t,s);let n=f;const r=da([],[t.x,t.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?n*=r[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(n*=i.cameraToCenterDistance/r[3]),Hi(d,e,n))return!0}return!1}},heatmap:class extends fo{constructor(e){super(e,ha),this._updateColorRamp()}createBucket(e){return new pa(e)}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=_a({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},hillshade:class extends fo{constructor(e){super(e,wa)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},fill:class extends fo{constructor(e){super(e,ls)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new as(e)}queryRadius(){return na(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,r,o,i,a){return Wi(ra(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,a),r)}isTileClipped(){return!0}},"fill-extrusion":class extends fo{constructor(e){super(e,Is)}createBucket(e){return new ks(e)}queryRadius(){return na(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(e,t,n,r,o,i,a,s){const l=ra(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i.angle,a),c=this.paint.get("fill-extrusion-height").evaluate(t,n),u=this.paint.get("fill-extrusion-base").evaluate(t,n),d=function(e,t,n,r){const o=[];for(const n of e){const e=[n.x,n.y,0,1];da(e,e,t),o.push(new C(e[0]/e[3],e[1]/e[3]))}return o}(l,s),f=function(e,t,n,r){const o=[],i=[],a=r[8]*t,s=r[9]*t,l=r[10]*t,c=r[11]*t,u=r[8]*n,d=r[9]*n,f=r[10]*n,p=r[11]*n;for(const t of e){const e=[],n=[];for(const o of t){const t=o.x,i=o.y,h=r[0]*t+r[4]*i+r[12],m=r[1]*t+r[5]*i+r[13],g=r[2]*t+r[6]*i+r[14],v=r[3]*t+r[7]*i+r[15],y=g+l,b=v+c,_=h+u,w=m+d,x=g+f,S=v+p,E=new C((h+a)/b,(m+s)/b);E.z=y/b,e.push(E);const k=new C(_/S,w/S);k.z=x/S,n.push(k)}o.push(e),i.push(n)}return[o,i]}(r,u,c,s);return function(e,t,n){let r=1/0;Wi(n,t)&&(r=Os(n,t[0]));for(let o=0;o<t.length;o++){const i=t[o],a=e[o];for(let e=0;e<i.length-1;e++){const t=i[e],o=[t,i[e+1],a[e+1],a[e],t];qi(n,o)&&(r=Math.min(r,Os(n,o)))}}return r!==1/0&&r}(f[0],f[1],d)}},line:class extends fo{constructor(e){super(e,Bs),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof St,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Vs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Us(e)}queryRadius(e){const t=e,n=Gs(ta("line-width",this,t),ta("line-gap-width",this,t)),r=ta("line-offset",this,t);return n/2+Math.abs(r)+na(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,r,o,i,a){const s=ra(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),i.angle,a),l=a/2*Gs(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(r=function(e,t){const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=[];for(let e=0;e<o.length;e++){const n=o[e-1],r=o[e],a=o[e+1],s=0===e?new C(0,0):r.sub(n)._unit()._perp(),l=e===o.length-1?new C(0,0):a.sub(r)._unit()._perp(),c=s._add(l)._unit(),u=c.x*l.x+c.y*l.y;0!==u&&c._mult(1/u),i.push(c._mult(t)._add(r))}n.push(i)}return n}(r,c*a)),function(e,t,n){for(let r=0;r<t.length;r++){const o=t[r];if(e.length>=3)for(let t=0;t<o.length;t++)if(Qi(e,o[t]))return!0;if(Ki(e,o,n))return!0}return!1}(s,r,l)}isTileClipped(){return!0}},symbol:Pc,background:class extends fo{constructor(e){super(e,Mc)}},raster:class extends fo{constructor(e){super(e,Nc)}}};class Dc{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const zc=6371008.8;class Fc{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Fc(a(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,r=e.lat*t,o=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return zc*Math.acos(Math.min(o,1))}toBounds(e=0){const t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Uc(new Fc(this.lng-n,this.lat-t),new Fc(this.lng+n,this.lat+t))}static convert(e){if(e instanceof Fc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Fc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Fc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Uc{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Fc?new Fc(e.lng,e.lat):Fc.convert(e),this}setSouthWest(e){return this._sw=e instanceof Fc?new Fc(e.lng,e.lat):Fc.convert(e),this}extend(e){const t=this._sw,n=this._ne;let r,o;if(e instanceof Fc)r=e,o=e;else{if(!(e instanceof Uc))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Uc.convert(e)):this.extend(Fc.convert(e)):this;if(r=e._sw,o=e._ne,!r||!o)return this}return t||n?(t.lng=Math.min(r.lng,t.lng),t.lat=Math.min(r.lat,t.lat),n.lng=Math.max(o.lng,n.lng),n.lat=Math.max(o.lat,n.lat)):(this._sw=new Fc(r.lng,r.lat),this._ne=new Fc(o.lng,o.lat)),this}getCenter(){return new Fc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Fc(this.getWest(),this.getNorth())}getSouthEast(){return new Fc(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=Fc.convert(e);let r=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&r}static convert(e){return e instanceof Uc?e:e?new Uc(e):e}}const jc=2*Math.PI*zc;function Bc(e){return jc*Math.cos(e*Math.PI/180)}function Vc(e){return(180+e)/360}function Gc(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function qc(e,t){return e/Bc(t)}function Hc(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class Wc{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=Fc.convert(e);return new Wc(Vc(n.lng),Gc(n.lat),qc(t,n.lat))}toLngLat(){return new Fc(360*this.x-180,Hc(this.y))}toAltitude(){return this.z*Bc(Hc(this.y))}meterInMercatorCoordinateUnits(){return 1/jc*(e=Hc(this.y),1/Math.cos(e*Math.PI/180));var e}}function Kc(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}class $c{constructor(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Jc(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,n){const r=(i=this.y,a=this.z,s=Kc(256*(o=this.x),256*(i=Math.pow(2,a)-i-1),a),l=Kc(256*(o+1),256*(i+1),a),s[0]+","+s[1]+","+l[0]+","+l[1]);var o,i,a,s,l;const c=function(e,t,n){let r,o="";for(let i=e;i>0;i--)r=1<<i-1,o+=(t&r?1:0)+(n&r?2:0);return o}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,c).replace(/{bbox-epsg-3857}/g,r)}getTilePoint(e){const t=Math.pow(2,this.z);return new C((e.x*t-this.x)*zi,(e.y*t-this.y)*zi)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Zc{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Jc(e,t.z,t.z,t.x,t.y)}}class Yc{constructor(e,t,n,r,o){this.overscaledZ=e,this.wrap=t,this.canonical=new $c(n,+r,+o),this.key=Jc(t,e,n,r,o)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new Yc(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Yc(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){const n=this.canonical.z-e;return e>this.canonical.z?Jc(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Jc(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new Yc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new Yc(t,this.wrap,t,n,r),new Yc(t,this.wrap,t,n+1,r),new Yc(t,this.wrap,t,n,r+1),new Yc(t,this.wrap,t,n+1,r+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Yc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Yc(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Zc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new Wc(e.x-this.wrap,e.y))}}function Jc(e,t,n,r,o){(e*=2)<0&&(e=-1*e-1);const i=1<<n;return(i*i*e+i*o+r).toString(36)+n.toString(36)+t.toString(36)}Sr("CanonicalTileID",$c),Sr("OverscaledTileID",Yc,{omit:["posMatrix"]});class Xc{constructor(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return void h(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(let e=0;e<r;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(r,e)]=this.data[this._idx(r-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,r)]=this.data[this._idx(e,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]}get(e,t){const n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}getUnpackVector(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,n){return(256*e*256+256*t+n)/10-1e4}_unpackTerrarium(e,t,n){return 256*e+t+n/256-32768}getPixels(){return new ba({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let r=t*this.dim,o=t*this.dim+this.dim,i=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=o-1;break;case 1:o=r+1}switch(n){case-1:i=a-1;break;case 1:a=i+1}const s=-t*this.dim,l=-n*this.dim;for(let t=i;t<a;t++)for(let n=r;n<o;n++)this.data[this._idx(n,t)]=e.data[this._idx(n+s,t+l)]}}Sr("DEMData",Xc);class Qc{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}class eu{constructor(e,t,n,r,o){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=o}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class tu{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new wr(zi,16,0),this.grid3D=new wr(zi,16,0),this.featureIndexArray=new Zo,this.promoteId=t}insert(e,t,n,r,o,i){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,o);const s=i?this.grid3D:this.grid;for(let e=0;e<t.length;e++){const n=t[e],r=[1/0,1/0,-1/0,-1/0];for(let e=0;e<n.length;e++){const t=n[e];r[0]=Math.min(r[0],t.x),r[1]=Math.min(r[1],t.y),r[2]=Math.max(r[2],t.x),r[3]=Math.max(r[3],t.y)}r[0]<zi&&r[1]<zi&&r[2]>=0&&r[3]>=0&&s.insert(a,r[0],r[1],r[2],r[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ds.VectorTile(new Xs(this.rawTileData)).layers,this.sourceLayerCoder=new Qc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,n,r){this.loadVTLayers();const o=e.params||{},i=zi/e.tileSize/e.scale,a=Wn(o.filter),s=e.queryGeometry,l=e.queryPadding*i,c=ru(s),u=this.grid.query(c.minX-l,c.minY-l,c.maxX+l,c.maxY+l),d=ru(e.cameraQueryGeometry),f=this.grid3D.query(d.minX-l,d.minY-l,d.maxX+l,d.maxY+l,((t,n,r,o)=>function(e,t,n,r,o){for(const i of e)if(t<=i.x&&n<=i.y&&r>=i.x&&o>=i.y)return!0;const i=[new C(t,n),new C(t,o),new C(r,o),new C(r,n)];if(e.length>2)for(const t of i)if(Qi(e,t))return!0;for(let t=0;t<e.length-1;t++)if(ea(e[t],e[t+1],i))return!0;return!1}(e.cameraQueryGeometry,t-l,n-l,r+l,o+l)));for(const e of f)u.push(e);u.sort(ou);const p={};let h;for(let l=0;l<u.length;l++){const c=u[l];if(c===h)continue;h=c;const d=this.featureIndexArray.get(c);let f=null;this.loadMatchingFeature(p,d.bucketIndex,d.sourceLayerIndex,d.featureIndex,a,o.layers,o.availableImages,t,n,r,((t,n,r)=>(f||(f=ji(t)),n.queryIntersectsFeature(s,t,r,f,this.z,e.transform,i,e.pixelPosMatrix))))}return p}loadMatchingFeature(e,t,n,r,o,i,a,l,c,u,d){const f=this.bucketLayerIDs[t];if(i&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(i,f))return;const p=this.sourceLayerCoder.decode(n),h=this.vtLayers[p].feature(r);if(o.needGeometry){const e=Bi(h,!0);if(!o.filter(new Zr(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!o.filter(new Zr(this.tileID.overscaledZ),h))return;const m=this.getId(h,p);for(let t=0;t<f.length;t++){const n=f[t];if(i&&i.indexOf(n)<0)continue;const o=l[n];if(!o)continue;let p={};m&&u&&(p=u.getState(o.sourceLayer||"_geojsonTileLayer",m));const g=s({},c[n]);g.paint=nu(g.paint,o.paint,h,p,a),g.layout=nu(g.layout,o.layout,h,p,a);const v=!d||d(h,o,p);if(!v)continue;const y=new eu(h,this.z,this.x,this.y,m);y.layer=g;let b=e[n];void 0===b&&(b=e[n]=[]),b.push({featureIndex:r,feature:y,intersectionZ:v})}}lookupSymbolFeatures(e,t,n,r,o,i,a,s){const l={};this.loadVTLayers();const c=Wn(o);for(const o of e)this.loadMatchingFeature(l,n,r,o,c,i,a,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;return this.promoteId&&(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof n&&(n=Number(n))),n}}function nu(e,t,n,r,o){return u(e,((e,i)=>{const a=t instanceof ro?t.get(i):null;return a&&a.evaluate?a.evaluate(n,r,o):a}))}function ru(e){let t=1/0,n=1/0,r=-1/0,o=-1/0;for(const i of e)t=Math.min(t,i.x),n=Math.min(n,i.y),r=Math.max(r,i.x),o=Math.max(o,i.y);return{minX:t,minY:n,maxX:r,maxY:o}}function ou(e,t){return t-e}var iu;Sr("FeatureIndex",tu,{omit:["rawTileData","sourceLayerCoder"]}),e.PerformanceMarkers=void 0,(iu=e.PerformanceMarkers||(e.PerformanceMarkers={})).create="create",iu.load="load",iu.fullLoad="fullLoad";let au=null,su=[];const lu=1e3/30,cu={mark(e){performance.mark(e)},frame(e){const t=e;null!=au&&su.push(t-au),au=t},clearMetrics(){au=null,su=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const t in e.PerformanceMarkers)performance.clearMarks(e.PerformanceMarkers[t])},getPerformanceMetrics(){performance.measure("loadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.load),performance.measure("fullLoadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.fullLoad);const t=performance.getEntriesByName("loadTime")[0].duration,n=performance.getEntriesByName("fullLoadTime")[0].duration,r=su.length,o=1/(su.reduce(((e,t)=>e+t),0)/r/1e3),i=su.filter((e=>e>lu)).reduce(((e,t)=>e+(t-lu)/lu),0);return{loadTime:t,fullLoadTime:n,fps:o,percentDroppedFrames:i/(r+i)*100}}};e.AJAXError=B,e.ARRAY_TYPE=aa,e.Actor=class{constructor(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},c(["receive","process"],this),this.invoker=new Dc(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=v()?e:window}send(e,t,n,r,o=!1){const i=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[i]=n);const a=x(this.globalScope)?void 0:[];return this.target.postMessage({id:i,type:e,hasCallback:!!n,targetMapId:r,mustQueue:o,sourceMapId:this.mapId,data:Cr(t,a)},a),{cancel:()=>{n&&delete this.callbacks[i],this.target.postMessage({id:i,type:"<cancel>",targetMapId:r,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e()}else v()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)}process(){if(!this.taskQueue.length)return;const e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(kr(t.error)):n(null,kr(t.data)))}else{let n=!1;const r=x(this.globalScope)?void 0:[],o=t.hasCallback?(t,o)=>{n=!0,delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?Cr(t):null,data:Cr(o,r)},r)}:e=>{n=!0};let i=null;const a=kr(t.data);if(this.parent[t.type])i=this.parent[t.type](t.sourceMapId,a,o);else if(this.parent.getWorkerSource){const e=t.type.split(".");i=this.parent.getWorkerSource(t.sourceMapId,e[0],a.source)[e[1]](a,o)}else o(new Error(`Could not find function ${t.type}`));!n&&i&&i.cancel&&(this.cancelCallbacks[e]=i.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.AlphaImage=ya,e.CanonicalTileID=$c,e.CollisionBoxArray=Bo,e.CollisionCircleLayoutArray=class extends Io{},e.Color=Me,e.DEMData=Xc,e.DataConstantProperty=oo,e.DictionaryCoder=Qc,e.EXTENT=zi,e.ErrorEvent=ee,e.EvaluationParameters=Zr,e.Event=Q,e.Evented=te,e.FeatureIndex=tu,e.FillBucket=as,e.FillExtrusionBucket=ks,e.GeoJSONFeature=eu,e.ImageAtlas=kl,e.ImagePosition=Cl,e.LineBucket=Us,e.LineStripIndexArray=class extends Fo{},e.LngLat=Fc,e.LngLatBounds=Uc,e.MercatorCoordinate=Wc,e.ONE_EM=Js,e.OverscaledTileID=Yc,e.PerformanceUtils=cu,e.PosArray=class extends yo{},e.Properties=co,e.QuadTriangleArray=class extends Oo{},e.RGBAImage=ba,e.RasterBoundsArray=class extends bo{},e.RequestPerformance=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.ResourceType=j,e.SegmentVector=di,e.SymbolBucket=kc,e.Transitionable=Xr,e.TriangleIndexArray=si,e.Uniform1f=Si,e.Uniform1i=class extends xi{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.Uniform2f=class extends xi{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.Uniform3f=class extends xi{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.Uniform4f=Ei,e.UniformColor=Ci,e.UniformMatrix4f=class extends xi{constructor(e,t){super(e,t),this.current=ki}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.UnwrappedTileID=Zc,e.ValidationError=re,e.ZoomHistory=Ar,e.addDynamicAttributes=xc,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);let r=e.length;const o=new Array(e.length);let i=null;e.forEach(((e,a)=>{t(e,((e,t)=>{e&&(i=e),o[a]=t,0==--r&&n(i,o)}))}))},e.bezier=r,e.bindAll=c,e.cacheEntryPossiblyAdded=function(e){N++,N>O&&(e.getActor().send("enforceCacheSizeLimit",P),N=0)},e.clamp=i,e.clearTileCache=function(e){const t=caches.delete(T);e&&t.catch(e).then((()=>e()))},e.clipLine=Ql,e.clone=function(e){var t=new aa(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=f,e.collisionCircleLayout=$s,e.config=A,e.create=function(){var e=new aa(16);return aa!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.createExpression=Mn,e.createFilter=Wn,e.createLayout=go,e.createStyleLayer=function(e){return"custom"===e.type?new Lc(e):new Rc[e.type](e)},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=o,e.emitValidationErrors=_r,e.enforceCacheSizeLimit=function(e){M(),I&&I.then((t=>{t.keys().then((n=>{for(let r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.evaluateSizeForFeature=function(e,{uSize:t,uSizeT:n},{lowerSize:r,upperSize:o}){return"source"===e.kind?r/Gl:"composite"===e.kind?Et(r/Gl,o/Gl,n):t},e.evaluateSizeForZoom=function(e,t){let n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){const{interpolationType:o,minZoom:a,maxZoom:s}=e,l=o?i(Gt.interpolationFactor(o,t,a,s),0,1):0;"camera"===e.kind?r=Et(e.minSize,e.maxSize,l):n=l}return{uSizeT:n,uSize:r}},e.evaluateVariableOffset=fc,e.evented=Hr,e.exported=E,e.exported$1=L,e.extend=s,e.filterObject=d,e.getAnchorAlignment=Ul,e.getAnchorJustification=pc,e.getArrayBuffer=H,e.getImage=Y,e.getJSON=function(e,t){return q(s(e,{type:"json"}),t)},e.getOverlapMode=Oc,e.getRTLTextPluginStatus=Wr,e.getReferrer=V,e.getVideo=function(e,t){const n=window.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let t=0;t<e.length;t++){const r=window.document.createElement("source");W(e[t])||(n.crossOrigin="Anonymous"),r.src=e[t],n.appendChild(r)}return{cancel:()=>{}}},e.identity=sa,e.invert=function(e,t){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],p=t[11],h=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*l-o*a,_=n*c-i*a,w=r*l-o*s,x=r*c-i*s,S=o*c-i*l,E=u*m-d*h,C=u*g-f*h,k=u*v-p*h,A=d*g-f*m,T=d*v-p*m,I=f*v-p*g,P=y*I-b*T+_*A+w*k-x*C+S*E;return P?(e[0]=(s*I-l*T+c*A)*(P=1/P),e[1]=(o*T-r*I-i*A)*P,e[2]=(m*S-g*x+v*w)*P,e[3]=(f*x-d*S-p*w)*P,e[4]=(l*k-a*I-c*C)*P,e[5]=(n*I-o*k+i*C)*P,e[6]=(g*_-h*S-v*b)*P,e[7]=(u*S-f*_+p*b)*P,e[8]=(a*T-s*k+c*E)*P,e[9]=(r*k-n*T-i*E)*P,e[10]=(h*x-m*_+v*y)*P,e[11]=(d*_-u*x-p*y)*P,e[12]=(s*C-a*A-l*E)*P,e[13]=(n*A-r*C+o*E)*P,e[14]=(m*b-h*w-g*y)*P,e[15]=(u*w-d*b+f*y)*P,e):null},e.isImageBitmap=S,e.isSafari=x,e.keysDifference=function(e,t){const n=[];for(const r in e)r in t||n.push(r);return n},e.lazyLoadRTLTextPlugin=function(){$r.isLoading()||$r.isLoaded()||"deferred"!==Wr()||Kr()},e.makeRequest=q,e.mapObject=u,e.mercatorXfromLng=Vc,e.mercatorYfromLat=Gc,e.mercatorZfromAltitude=qc,e.mul=ua,e.multiply=la,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.number=Et,e.ortho=function(e,t,n,r,o,i,a){var s=1/(t-n),l=1/(r-o),c=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(o+r)*l,e[14]=(a+i)*c,e[15]=1,e},e.parseCacheControl=y,e.parseGlyphPBF=function(e){return new Xs(e).readFields(wl,[])},e.pbf=Xs,e.performSymbolLayout=function(t,n,r,o,i,a,s){t.createArrays(),t.tilePixelRatio=zi/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const l=t.layers[0].layout,c=t.layers[0]._unevaluatedLayout._values,u={layoutIconSize:c["icon-size"].possiblyEvaluate(new Zr(t.zoom+1),s),layoutTextSize:c["text-size"].possiblyEvaluate(new Zr(t.zoom+1),s),textMaxSize:c["text-size"].possiblyEvaluate(new Zr(18))};if("composite"===t.textSizeData.kind){const{minZoom:e,maxZoom:n}=t.textSizeData;u.compositeTextSizes=[c["text-size"].possiblyEvaluate(new Zr(e),s),c["text-size"].possiblyEvaluate(new Zr(n),s)]}if("composite"===t.iconSizeData.kind){const{minZoom:e,maxZoom:n}=t.iconSizeData;u.compositeIconSizes=[c["icon-size"].possiblyEvaluate(new Zr(e),s),c["icon-size"].possiblyEvaluate(new Zr(n),s)]}const d=l.get("text-line-height")*Js,f="viewport"!==l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),p=l.get("text-keep-upright"),m=l.get("text-size");for(const a of t.features){const c=l.get("text-font").evaluate(a,{},s).join(","),g=m.evaluate(a,{},s),v=u.layoutTextSize.evaluate(a,{},s),y=u.layoutIconSize.evaluate(a,{},s),b={horizontal:{},vertical:void 0},_=a.text;let w,x=[0,0];if(_){const o=_.toString(),u=l.get("text-letter-spacing").evaluate(a,{},s)*Js,h=Pr(o)?u:0,m=l.get("text-anchor").evaluate(a,{},s),y=l.get("text-variable-anchor");if(!y){const e=l.get("text-radial-offset").evaluate(a,{},s);x=e?fc(m,[e*Js,dc]):l.get("text-offset").evaluate(a,{},s).map((e=>e*Js))}let w=f?"center":l.get("text-justify").evaluate(a,{},s);const S=l.get("symbol-placement"),E="point"===S?l.get("text-max-width").evaluate(a,{},s)*Js:0,C=()=>{t.allowVerticalPlacement&&Ir(o)&&(b.vertical=Pl(_,n,r,i,c,E,d,m,"left",h,x,e.WritingMode.vertical,!0,S,v,g))};if(!f&&y){const t="auto"===w?y.map((e=>pc(e))):[w];let o=!1;for(let a=0;a<t.length;a++){const s=t[a];if(!b.horizontal[s])if(o)b.horizontal[s]=b.horizontal[0];else{const t=Pl(_,n,r,i,c,E,d,"center",s,h,x,e.WritingMode.horizontal,!1,S,v,g);t&&(b.horizontal[s]=t,o=1===t.positionedLines.length)}}C()}else{"auto"===w&&(w=pc(m));const t=Pl(_,n,r,i,c,E,d,m,w,h,x,e.WritingMode.horizontal,!1,S,v,g);t&&(b.horizontal[w]=t),C(),Ir(o)&&f&&p&&(b.vertical=Pl(_,n,r,i,c,E,d,m,w,h,x,e.WritingMode.vertical,!1,S,v,g))}}let S=!1;if(a.icon&&a.icon.name){const e=o[a.icon.name];e&&(w=Bl(i[a.icon.name],l.get("icon-offset").evaluate(a,{},s),l.get("icon-anchor").evaluate(a,{},s)),S=!!e.sdf,void 0===t.sdfIcons?t.sdfIcons=S:t.sdfIcons!==S&&h("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.pixelRatio||0!==l.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}const E=vc(b.horizontal)||b.vertical;t.iconsInText=!!E&&E.iconsInText,(E||w)&&hc(t,a,b,w,o,u,v,y,x,S,s)}a&&t.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,o){var i,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(e[10]=(o+r)*(i=1/(r-o)),e[14]=2*o*r*i):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){const n={};for(let r=0;r<t.length;r++){const o=t[r];o in e&&(n[o]=e[o])}return n},e.plugin=$r,e.pointGeometry=C,e.polygonIntersectsPolygon=qi,e.potpack=El,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Sr,e.registerForPluginStateChange=function(e){return e({pluginStatus:Br,pluginURL:Vr}),Hr.on("pluginStateChange",e),e},e.renderColorRamp=_a,e.rotateX=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+c*r,e[5]=a*o+u*r,e[6]=s*o+d*r,e[7]=l*o+f*r,e[8]=c*o-i*r,e[9]=u*o-a*r,e[10]=d*o-s*r,e[11]=f*o-l*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),o=Math.cos(n),i=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+c*r,e[1]=a*o+u*r,e[2]=s*o+d*r,e[3]=l*o+f*r,e[4]=c*o-i*r,e[5]=u*o-a*r,e[6]=d*o-s*r,e[7]=f*o-l*r,e},e.scale=function(e,t,n){var r=n[0],o=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.setCacheLimits=function(e,t){P=e,O=t},e.setRTLTextPlugin=function(e,t,n=!1){if(Br===zr||Br===Fr||Br===Ur)throw new Error("setRTLTextPlugin cannot be called multiple times.");Vr=E.resolveURL(e),Br=zr,jr=t,qr(),n||Kr()},e.spec=ne,e.sphericalToCartesian=function([e,t,n]){return t+=90,t*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(t)*Math.sin(n),y:e*Math.sin(t)*Math.sin(n),z:e*Math.cos(n)}},e.toEvaluationFeature=Bi,e.transformMat4=da,e.translate=function(e,t,n){var r,o,i,a,s,l,c,u,d,f,p,h,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],p=t[10],h=t[11],e[0]=r=t[0],e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=p,e[11]=h,e[12]=r*m+s*g+d*v+t[12],e[13]=o*m+l*g+f*v+t[13],e[14]=i*m+c*g+p*v+t[14],e[15]=a*m+u*g+h*v+t[15]),e},e.triggerPluginCompletionEvent=Gr,e.unicodeBlockLookup=Tr,e.uniqueId=function(){return l++},e.validateCustomStyleLayer=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateLight=vr,e.validateStyle=gr,e.vectorTile=ds,e.warnOnce=h,e.wrap=a})),r(0,(function(e){function t(e){const n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){let n="[";for(const r of e)n+=`${t(r)},`;return`${n}]`}const r=Object.keys(e).sort();let o="{";for(let n=0;n<r.length;n++)o+=`${JSON.stringify(r[n])}:${t(e[r[n]])},`;return`${o}}`}function n(n){let r="";for(const o of e.refProperties)r+=`/${t(n[o])}`;return r}class r{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,r){for(const n of t){this._layerConfigs[n.id]=n;const t=this._layers[n.id]=e.createStyleLayer(n);t._featureFilter=e.createFilter(t.filter),this.keyCache[n.id]&&delete this.keyCache[n.id]}for(const e of r)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const o=function(e,t){const r={};for(let o=0;o<e.length;o++){const i=t&&t[e[o].id]||n(e[o]);t&&(t[e[o].id]=i);let a=r[i];a||(a=r[i]=[]),a.push(e[o])}const o=[];for(const e in r)o.push(r[e]);return o}(Object.values(this._layerConfigs),this.keyCache);for(const e of o){const t=e.map((e=>this._layers[e.id])),n=t[0];if("none"===n.visibility)continue;const r=n.source||"";let o=this.familiesBySource[r];o||(o=this.familiesBySource[r]={});const i=n.sourceLayer||"_geojsonTileLayer";let a=o[i];a||(a=o[i]=[]),a.push(t)}}}class o{constructor(t){const n={},r=[];for(const e in t){const o=t[e],i=n[e]={};for(const e in o){const t=o[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};r.push(n),i[e]={rect:n,metrics:t.metrics}}}const{w:o,h:i}=e.potpack(r),a=new e.AlphaImage({width:o||1,height:i||1});for(const r in t){const o=t[r];for(const t in o){const i=o[+t];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const s=n[r][t].rect;e.AlphaImage.copy(i.bitmap,a,{x:0,y:0},{x:s.x+1,y:s.y+1},i.bitmap)}}this.image=a,this.positions=n}}e.register("GlyphAtlas",o);class i{constructor(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId}parse(t,n,r,i,s){this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;const l=new e.DictionaryCoder(Object.keys(t.layers).sort()),c=new e.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];const u={},d={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},f=n.familiesBySource[this.source];for(const n in f){const o=t.layers[n];if(!o)continue;1===o.version&&e.warnOnce(`Vector tile source "${this.source}" layer "${n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const i=l.encode(n),s=[];for(let e=0;e<o.length;e++){const t=o.feature(e),r=c.getId(t,n);s.push({feature:t,id:r,index:e,sourceLayerIndex:i})}for(const e of f[n]){const t=e[0];t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(a(e,this.zoom,r),(u[t.id]=t.createBucket({index:c.bucketLayerIDs.length,layers:e,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:i,sourceID:this.source})).populate(s,d,this.tileID.canonical),c.bucketLayerIDs.push(e.map((e=>e.id))))}}let p,h,m,g;const v=e.mapObject(d.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(v).length?i.send("getGlyphs",{uid:this.uid,stacks:v},((e,t)=>{p||(p=e,h=t,_.call(this))})):h={};const y=Object.keys(d.iconDependencies);y.length?i.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{p||(p=e,m=t,_.call(this))})):m={};const b=Object.keys(d.patternDependencies);function _(){if(p)return s(p);if(h&&m&&g){const t=new o(h),n=new e.ImageAtlas(m,g);for(const o in u){const i=u[o];i instanceof e.SymbolBucket?(a(i.layers,this.zoom,r),e.performSymbolLayout(i,h,t.positions,m,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):i.hasPattern&&(i instanceof e.LineBucket||i instanceof e.FillBucket||i instanceof e.FillExtrusionBucket)&&(a(i.layers,this.zoom,r),i.addFeatures(d,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:Object.values(u).filter((e=>!e.isEmpty())),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?m:null,glyphPositions:this.returnDependencies?t.positions:null})}}b.length?i.send("getImages",{icons:b,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{p||(p=e,g=t,_.call(this))})):g={},_.call(this)}}function a(t,n,r){const o=new e.EvaluationParameters(n);for(const e of t)e.recalculate(o,r)}function s(t,n){const r=e.getArrayBuffer(t.request,((t,r,o,i)=>{t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:o,expires:i})}));return()=>{r.cancel(),n()}}class l{constructor(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}}loadTile(t,n){const r=t.uid;this.loading||(this.loading={});const o=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),a=this.loading[r]=new i(t);a.abort=this.loadVectorData(t,((t,i)=>{if(delete this.loading[r],t||!i)return a.status="done",this.loaded[r]=a,n(t);const s=i.rawData,l={};i.expires&&(l.expires=i.expires),i.cacheControl&&(l.cacheControl=i.cacheControl);const c={};if(o){const e=o.finish();e&&(c.resourceTiming=JSON.parse(JSON.stringify(e)))}a.vectorTile=i.vectorTile,a.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,r)=>{if(t||!r)return n(t);n(null,e.extend({rawTileData:s.slice(0)},r,l,c))})),this.loaded=this.loaded||{},this.loaded[r]=a}))}reloadTile(e,t){const n=this.loaded,r=e.uid,o=this;if(n&&n[r]){const i=n[r];i.showCollisionBoxes=e.showCollisionBoxes;const a=(e,n)=>{const r=i.reloadCallback;r&&(delete i.reloadCallback,i.parse(i.vectorTile,o.layerIndex,this.availableImages,o.actor,r)),t(e,n)};"parsing"===i.status?i.reloadCallback=a:"done"===i.status&&(i.vectorTile?i.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()}removeTile(e,t){const n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}class c{constructor(){this.loaded={}}loadTile(t,n){const{uid:r,encoding:o,rawImageData:i}=t,a=e.isImageBitmap(i)?this.getImageData(i):i,s=new e.DEMData(r,a,o);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)}getImageData(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);const n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)}removeTile(e){const t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}var u=function e(t,n){var r,o=t&&t.type;if("FeatureCollection"===o)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===o)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===o)e(t.geometry,n);else if("Polygon"===o)d(t.coordinates,n);else if("MultiPolygon"===o)for(r=0;r<t.coordinates.length;r++)d(t.coordinates[r],n);return t};function d(e,t){if(0!==e.length){f(e[0],t);for(var n=1;n<e.length;n++)f(e[n],!t)}}function f(e,t){for(var n=0,r=0,o=0,i=e.length,a=i-1;o<i;a=o++){var s=(e[o][0]-e[a][0])*(e[a][1]+e[o][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}const p=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class h{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.pointGeometry(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const r=[];for(const t of n)r.push(new e.pointGeometry(t[0],t[1]));t.push(r)}return t}}toGeoJSON(e,t,n){return p.call(this,e,t,n)}}class m{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new h(this._features[e])}}var g={exports:{}},v=e.pointGeometry,y=e.vectorTile.VectorTileFeature,b=_;function _(e,t){this.options=t||{},this.features=e,this.length=e.length}function w(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}_.prototype.feature=function(e){return new w(this.features[e],this.options.extent)},w.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],o=0;o<n.length;o++)r.push(new v(n[o][0],n[o][1]));this.geometry.push(r)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,o=-1/0,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),o=Math.max(o,l.y)}return[t,r,n,o]},w.prototype.toGeoJSON=y.prototype.toGeoJSON;var x=e.pbf,S=b;function E(e){var t=new x;return function(e,t){for(var n in e.layers)t.writeMessage(3,C,e.layers[n])}(e,t),t.finish()}function C(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,k,r);var o=r.keys;for(n=0;n<o.length;n++)t.writeStringField(3,o[n]);var i=r.values;for(n=0;n<i.length;n++)t.writeMessage(4,O,i[n])}function k(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,A,e),t.writeVarintField(3,n.type),t.writeMessage(4,P,n)}function A(e,t){var n=e.feature,r=e.keys,o=e.values,i=e.keycache,a=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=i[s];if(null!==l){void 0===c&&(r.push(s),i[s]=c=r.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var d=u+":"+l,f=a[d];void 0===f&&(o.push(l),a[d]=f=o.length-1),t.writeVarint(f)}}}function T(e,t){return(t<<3)+(7&e)}function I(e){return e<<1^e>>31}function P(e,t){for(var n=e.loadGeometry(),r=e.type,o=0,i=0,a=n.length,s=0;s<a;s++){var l=n[s],c=1;1===r&&(c=l.length),t.writeVarint(T(1,c));for(var u=3===r?l.length-1:l.length,d=0;d<u;d++){1===d&&1!==r&&t.writeVarint(T(2,u-1));var f=l[d].x-o,p=l[d].y-i;t.writeVarint(I(f)),t.writeVarint(I(p)),o+=f,i+=p}3===r&&t.writeVarint(T(7,1))}}function O(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}g.exports=E,g.exports.fromVectorTileJs=E,g.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new S(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return E({layers:n})},g.exports.GeoJSONWrapper=S;var M=g.exports;function N(e,t,n,r,o,i){if(o-r<=n)return;const a=r+o>>1;L(e,t,a,r,o,i%2),N(e,t,n,r,a-1,i+1),N(e,t,n,a+1,o,i+1)}function L(e,t,n,r,o,i){for(;o>r;){if(o-r>600){const a=o-r+1,s=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);L(e,t,n,Math.max(r,Math.floor(n-s*c/a+u)),Math.min(o,Math.floor(n+(a-s)*c/a+u)),i)}const a=t[2*n+i];let s=r,l=o;for(R(e,t,r,n),t[2*o+i]>a&&R(e,t,r,o);s<l;){for(R(e,t,s,l),s++,l--;t[2*s+i]<a;)s++;for(;t[2*l+i]>a;)l--}t[2*r+i]===a?R(e,t,r,l):(l++,R(e,t,l,o)),l<=n&&(r=l+1),n<=l&&(o=l-1)}}function R(e,t,n,r){D(e,n,r),D(t,2*n,2*r),D(t,2*n+1,2*r+1)}function D(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function z(e,t,n,r){const o=e-n,i=t-r;return o*o+i*i}const F=e=>e[0],U=e=>e[1];class j{constructor(e,t=F,n=U,r=64,o=Float64Array){this.nodeSize=r,this.points=e;const i=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(e.length),s=this.coords=new o(2*e.length);for(let r=0;r<e.length;r++)a[r]=r,s[2*r]=t(e[r]),s[2*r+1]=n(e[r]);N(a,s,r,0,a.length-1,0)}range(e,t,n,r){return function(e,t,n,r,o,i,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const d=s.pop(),f=s.pop(),p=s.pop();if(f-p<=a){for(let a=p;a<=f;a++)c=t[2*a],u=t[2*a+1],c>=n&&c<=o&&u>=r&&u<=i&&l.push(e[a]);continue}const h=Math.floor((p+f)/2);c=t[2*h],u=t[2*h+1],c>=n&&c<=o&&u>=r&&u<=i&&l.push(e[h]);const m=(d+1)%2;(0===d?n<=c:r<=u)&&(s.push(p),s.push(h-1),s.push(m)),(0===d?o>=c:i>=u)&&(s.push(h+1),s.push(f),s.push(m))}return l}(this.ids,this.coords,e,t,n,r,this.nodeSize)}within(e,t,n){return function(e,t,n,r,o,i){const a=[0,e.length-1,0],s=[],l=o*o;for(;a.length;){const c=a.pop(),u=a.pop(),d=a.pop();if(u-d<=i){for(let o=d;o<=u;o++)z(t[2*o],t[2*o+1],n,r)<=l&&s.push(e[o]);continue}const f=Math.floor((d+u)/2),p=t[2*f],h=t[2*f+1];z(p,h,n,r)<=l&&s.push(e[f]);const m=(c+1)%2;(0===c?n-o<=p:r-o<=h)&&(a.push(d),a.push(f-1),a.push(m)),(0===c?n+o>=p:r+o>=h)&&(a.push(f+1),a.push(u),a.push(m))}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}const B={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},V=Math.fround||(G=new Float32Array(1),e=>(G[0]=+e,G[0]));var G;class q{constructor(e){this.options=X(Object.create(B),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:n,maxZoom:r,nodeSize:o}=this.options;t&&console.time("total time");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(W(e[t],t));this.trees[r+1]=new j(a,Q,ee,o,Float32Array),t&&console.timeEnd(i);for(let e=r;e>=n;e--){const n=+Date.now();a=this._cluster(a,e),this.trees[e]=new j(a,Q,ee,o,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let o=180===e[2]?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,o=180;else if(n>o){const e=this.getClusters([n,r,180,i],t),a=this.getClusters([-180,r,o,i],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(Z(n),Y(i),Z(o),Y(r)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?K(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(r);const i=o.points[t];if(!i)throw new Error(r);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=o.within(i.x,i.y,a),l=[];for(const t of s){const n=o.points[t];n.parentId===e&&l.push(n.numPoints?K(n):this.points[n.index])}if(0===l.length)throw new Error(r);return l}getLeaves(e,t,n){const r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:i,radius:a}=this.options,s=a/i,l=(n-s)/o,c=(n+1+s)/o,u={features:[]};return this._addTileFeatures(r.range((t-s)/o,l,(t+1+s)/o,c),r.points,t,n,o,u),0===t&&this._addTileFeatures(r.range(1-s/o,l,1,c),r.points,o,n,o,u),t===o-1&&this._addTileFeatures(r.range(0,l,s/o,c),r.points,-1,n,o,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,o){const i=this.getChildren(t);for(const t of i){const i=t.properties;if(i&&i.cluster?o+i.point_count<=r?o+=i.point_count:o=this._appendLeaves(e,i.cluster_id,n,r,o):o<r?o++:e.push(t),e.length===n)break}return o}_addTileFeatures(e,t,n,r,o,i){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=$(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=Z(t.geometry.coordinates[0]),u=Y(t.geometry.coordinates[1])}const d={type:1,geometry:[[Math.round(this.options.extent*(c*o-n)),Math.round(this.options.extent*(u*o-r))]],tags:l};let f;s?f=e.id:this.options.generateId?f=e.index:this.points[e.index].id&&(f=this.points[e.index].id),void 0!==f&&(d.id=f),i.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,t){const n=[],{radius:r,extent:o,reduce:i,minPoints:a}=this.options,s=r/(o*Math.pow(2,t));for(let r=0;r<e.length;r++){const o=e[r];if(o.zoom<=t)continue;o.zoom=t;const l=this.trees[t+1],c=l.within(o.x,o.y,s),u=o.numPoints||1;let d=u;for(const e of c){const n=l.points[e];n.zoom>t&&(d+=n.numPoints||1)}if(d>u&&d>=a){let e=o.x*u,a=o.y*u,s=i&&u>1?this._map(o,!0):null;const f=(r<<5)+(t+1)+this.points.length;for(const n of c){const r=l.points[n];if(r.zoom<=t)continue;r.zoom=t;const c=r.numPoints||1;e+=r.x*c,a+=r.y*c,r.parentId=f,i&&(s||(s=this._map(o,!0)),i(s,this._map(r)))}o.parentId=f,n.push(H(e/d,a/d,f,d,s))}else if(n.push(o),d>1)for(const e of c){const r=l.points[e];r.zoom<=t||(r.zoom=t,n.push(r))}}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?X({},e.properties):e.properties;const n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?X({},r):r}}function H(e,t,n,r,o){return{x:V(e),y:V(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:o}}function W(e,t){const[n,r]=e.geometry.coordinates;return{x:V(Z(n)),y:V(Y(r)),zoom:1/0,index:t,parentId:-1}}function K(e){return{type:"Feature",id:e.id,properties:$(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),J(e.y)]}};var t}function $(e){const t=e.numPoints,n=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+"k":t;return X(X({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function Z(e){return e/360+.5}function Y(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function J(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function X(e,t){for(const n in t)e[n]=t[n];return e}function Q(e){return e.x}function ee(e){return e.y}function te(e,t,n,r){for(var o,i=r,a=n-t>>1,s=n-t,l=e[t],c=e[t+1],u=e[n],d=e[n+1],f=t+3;f<n;f+=3){var p=ne(e[f],e[f+1],l,c,u,d);if(p>i)o=f,i=p;else if(p===i){var h=Math.abs(f-a);h<s&&(o=f,s=h)}}i>r&&(o-t>3&&te(e,t,o,r),e[o+2]=i,n-o>3&&te(e,o,n,r))}function ne(e,t,n,r,o,i){var a=o-n,s=i-r;if(0!==a||0!==s){var l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=o,r=i):l>0&&(n+=a*l,r+=s*l)}return(a=e-n)*a+(s=t-r)*s}function re(e,t,n,r){var o={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)oe(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)oe(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var o=0;o<t[r].length;o++)oe(e,t[r][o])}(o),o}function oe(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function ie(e,t,n,r){if(t.geometry){var o=t.geometry.coordinates,i=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===i)ae(o,s);else if("MultiPoint"===i)for(var c=0;c<o.length;c++)ae(o[c],s);else if("LineString"===i)se(o,s,a,!1);else if("MultiLineString"===i){if(n.lineMetrics){for(c=0;c<o.length;c++)se(o[c],s=[],a,!1),e.push(re(l,"LineString",s,t.properties));return}le(o,s,a,!1)}else if("Polygon"===i)le(o,s,a,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(c=0;c<t.geometry.geometries.length;c++)ie(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<o.length;c++){var u=[];le(o[c],u,a,!0),s.push(u)}}e.push(re(l,i,s,t.properties))}}function ae(e,t){t.push(ce(e[0])),t.push(ue(e[1])),t.push(0)}function se(e,t,n,r){for(var o,i,a=0,s=0;s<e.length;s++){var l=ce(e[s][0]),c=ue(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=r?(o*c-l*i)/2:Math.sqrt(Math.pow(l-o,2)+Math.pow(c-i,2))),o=l,i=c}var u=t.length-3;t[2]=1,te(t,0,u,n),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function le(e,t,n,r){for(var o=0;o<e.length;o++){var i=[];se(e[o],i,n,r),t.push(i)}}function ce(e){return e/360+.5}function ue(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function de(e,t,n,r,o,i,a,s){if(r/=t,i>=(n/=t)&&a<r)return e;if(a<n||i>=r)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],d=u.geometry,f=u.type,p=0===o?u.minX:u.minY,h=0===o?u.maxX:u.maxY;if(p>=n&&h<r)l.push(u);else if(!(h<n||p>=r)){var m=[];if("Point"===f||"MultiPoint"===f)fe(d,m,n,r,o);else if("LineString"===f)pe(d,m,n,r,o,!1,s.lineMetrics);else if("MultiLineString"===f)me(d,m,n,r,o,!1);else if("Polygon"===f)me(d,m,n,r,o,!0);else if("MultiPolygon"===f)for(var g=0;g<d.length;g++){var v=[];me(d[g],v,n,r,o,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===f){for(g=0;g<m.length;g++)l.push(re(u.id,f,m[g],u.tags));continue}"LineString"!==f&&"MultiLineString"!==f||(1===m.length?(f="LineString",m=m[0]):f="MultiLineString"),"Point"!==f&&"MultiPoint"!==f||(f=3===m.length?"Point":"MultiPoint"),l.push(re(u.id,f,m,u.tags))}}}return l.length?l:null}function fe(e,t,n,r,o){for(var i=0;i<e.length;i+=3){var a=e[i+o];a>=n&&a<=r&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function pe(e,t,n,r,o,i,a){for(var s,l,c=he(e),u=0===o?ve:ye,d=e.start,f=0;f<e.length-3;f+=3){var p=e[f],h=e[f+1],m=e[f+2],g=e[f+3],v=e[f+4],y=0===o?p:h,b=0===o?g:v,_=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(h-v,2))),y<n?b>n&&(l=u(c,p,h,g,v,n),a&&(c.start=d+s*l)):y>r?b<r&&(l=u(c,p,h,g,v,r),a&&(c.start=d+s*l)):ge(c,p,h,m),b<n&&y>=n&&(l=u(c,p,h,g,v,n),_=!0),b>r&&y<=r&&(l=u(c,p,h,g,v,r),_=!0),!i&&_&&(a&&(c.end=d+s*l),t.push(c),c=he(e)),a&&(d+=s)}var w=e.length-3;p=e[w],h=e[w+1],m=e[w+2],(y=0===o?p:h)>=n&&y<=r&&ge(c,p,h,m),w=c.length-3,i&&w>=3&&(c[w]!==c[0]||c[w+1]!==c[1])&&ge(c,c[0],c[1],c[2]),c.length&&t.push(c)}function he(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function me(e,t,n,r,o,i){for(var a=0;a<e.length;a++)pe(e[a],t,n,r,o,i,!1)}function ge(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ve(e,t,n,r,o,i){var a=(i-t)/(r-t);return e.push(i),e.push(n+(o-n)*a),e.push(1),a}function ye(e,t,n,r,o,i){var a=(i-n)/(o-n);return e.push(t+(r-t)*a),e.push(i),e.push(1),a}function be(e,t){for(var n=[],r=0;r<e.length;r++){var o,i=e[r],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=_e(i.geometry,t);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<i.geometry.length;s++)o.push(_e(i.geometry[s],t))}else if("MultiPolygon"===a)for(o=[],s=0;s<i.geometry.length;s++){for(var l=[],c=0;c<i.geometry[s].length;c++)l.push(_e(i.geometry[s][c],t));o.push(l)}n.push(re(i.id,a,o,i.tags))}return n}function _e(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function we(e,t){if(e.transformed)return e;var n,r,o,i=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(r=0;r<c.length;r+=2)l.geometry.push(xe(c[r],c[r+1],t,i,a,s));else for(r=0;r<c.length;r++){var d=[];for(o=0;o<c[r].length;o+=2)d.push(xe(c[r][o],c[r][o+1],t,i,a,s));l.geometry.push(d)}}return e.transformed=!0,e}function xe(e,t,n,r,o,i){return[Math.round(n*(e*r-o)),Math.round(n*(t*r-i))]}function Se(e,t,n,r,o){for(var i=t===o.maxZoom?0:o.tolerance/((1<<t)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ee(a,e[s],i,o);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,d=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),d>a.maxY&&(a.maxY=d)}return a}function Ee(e,t,n,r){var o=t.geometry,i=t.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)Ce(a,o,e,n,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<o.length;s++)Ce(a,o[s],e,n,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var l=0;l<o.length;l++){var c=o[l];for(s=0;s<c.length;s++)Ce(a,c[s],e,n,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===i&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=o.start/o.size,u.mapbox_clip_end=o.end/o.size}var f={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:u};null!==t.id&&(f.id=t.id),e.features.push(f)}}function Ce(e,t,n,r,o,i){var a=r*r;if(r>0&&t.size<(o?a:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;o&&function(e,t){for(var n=0,r=0,o=e.length,i=o-2;r<o;i=r,r+=2)n+=(e[r]-e[i])*(e[r+1]+e[i+1]);if(n>0===t)for(r=0,o=e.length;r<o/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[o-2-r],e[r+1]=e[o-1-r],e[o-2-r]=a,e[o-1-r]=s}}(s,i),e.push(s)}}function ke(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)ie(n,e.features[r],t,r);else ie(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=function(e,t){var n=t.buffer/t.extent,r=e,o=de(e,1,-1-n,n,0,-1,2,t),i=de(e,1,1-n,2+n,0,-1,2,t);return(o||i)&&(r=de(e,1,-n,1+n,0,-1,2,t)||[],o&&(r=be(o,1).concat(r)),i&&(r=r.concat(be(i,-1)))),r}(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ae(e,t,n){return 32*((1<<e)*n+t)+e}function Te(e,t){const n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);const o=new m(r.features);let i=M(o);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:o,rawData:i.buffer})}ke.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ke.prototype.splitTile=function(e,t,n,r,o,i,a){for(var s=[e,t,n,r],l=this.options,c=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=Ae(t,n,r),f=this.tiles[d];if(!f&&(c>1&&console.time("creation"),f=this.tiles[d]=Se(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(f.source=e,o){if(t===l.maxZoom||t===o)continue;var h=1<<o-t;if(n!==Math.floor(i/h)||r!==Math.floor(a/h))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,v,y,b,_,w=.5*l.buffer/l.extent,x=.5-w,S=.5+w,E=1+w;m=g=v=y=null,b=de(e,u,n-w,n+S,0,f.minX,f.maxX,l),_=de(e,u,n+x,n+E,0,f.minX,f.maxX,l),e=null,b&&(m=de(b,u,r-w,r+S,1,f.minY,f.maxY,l),g=de(b,u,r+x,r+E,1,f.minY,f.maxY,l),b=null),_&&(v=de(_,u,r-w,r+S,1,f.minY,f.maxY,l),y=de(_,u,r+x,r+E,1,f.minY,f.maxY,l),_=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(g||[],t+1,2*n,2*r+1),s.push(v||[],t+1,2*n+1,2*r),s.push(y||[],t+1,2*n+1,2*r+1)}}},ke.prototype.getTile=function(e,t,n){var r=this.options,o=r.extent,i=r.debug;if(e<0||e>24)return null;var a=1<<e,s=Ae(e,t=(t%a+a)%a,n);if(this.tiles[s])return we(this.tiles[s],o);i>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,d=n;!l&&c>0;)c--,u=Math.floor(u/2),d=Math.floor(d/2),l=this.tiles[Ae(c,u,d)];return l&&l.source?(i>1&&console.log("found parent tile z%d-%d-%d",c,u,d),i>1&&console.time("drilling down"),this.splitTile(l.source,c,u,d,e,t,n),i>1&&console.timeEnd("drilling down"),this.tiles[s]?we(this.tiles[s],o):null):null};class Ie extends l{constructor(e,t,n,r){super(e,t,n,Te),r&&(this.loadGeoJSON=r)}loadData(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())}_loadData(){if(!this._pendingCallback||!this._pendingLoadDataParams)return;const t=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;const r=!!(n&&n.request&&n.request.collectResourceTiming)&&new e.RequestPerformance(n.request);this.loadGeoJSON(n,((o,i)=>{if(o||!i)return t(o);if("object"!=typeof i)return t(new Error(`Input data given to '${n.source}' is not a valid GeoJSON object.`));{u(i,!0);try{if(n.filter){const t=e.createExpression(n.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(", "));const r=i.features.filter((e=>t.value.evaluate({zoom:0},e)));i={type:"FeatureCollection",features:r}}this._geoJSONIndex=n.cluster?new q(function({superclusterOptions:t,clusterProperties:n}){if(!n||!t)return t;const r={},o={},i={accumulated:null,zoom:0},a={properties:null},s=Object.keys(n);for(const t of s){const[i,a]=n[t],s=e.createExpression(a),l=e.createExpression("string"==typeof i?[i,["accumulated"],["get",t]]:i);r[t]=s.value,o[t]=l.value}return t.map=e=>{a.properties=e;const t={};for(const e of s)t[e]=r[e].evaluate(i,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of s)i.accumulated=e[t],e[t]=o[t].evaluate(i,a)},t}(n)).load(i.features):function(e,t){return new ke(e,t)}(i,n.geojsonVtOptions)}catch(o){return t(o)}this.loaded={};const a={};if(r){const e=r.finish();e&&(a.resourceTiming={},a.resourceTiming[n.source]=JSON.parse(JSON.stringify(e)))}t(null,a)}}))}coalesce(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}removeSource(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class Pe{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:Ie},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}setReferrer(e,t){this.referrer=t}setImages(e,t,n){this.availableImages[e]=t;for(const n in this.workerSources[e]){const r=this.workerSources[e][n];for(const e in r)r[e].availableImages=t}n()}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)}loadDEMTile(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)}reloadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeDEMTile(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,r){try{e.plugin.setState(n);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const n=e.plugin.isParsed();r(n?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),n)}}catch(e){r(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t}getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const r={send:(t,n,r)=>{this.actor.send(t,n,r,e)}};this.workerSources[e][t][n]=new this.workerSourceTypes[t](r,this.getLayerIndex(e),this.getAvailableImages(e))}return this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new c),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,n){e.enforceCacheSizeLimit(n)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Pe(self)),Pe})),r(0,(function(e){var t=n;function n(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,r=function(e){var t=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e);if(!r)return!1;try{t=r.createShader(r.VERTEX_SHADER)}catch(e){return!1}return!(!t||r.isContextLost())&&(r.shaderSource(t,"void main() {}"),r.compileShader(t),!0===r.getShaderParameter(t,r.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function o(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!o(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!o(e[n],t[n]))return!1;return!0}return e===t}n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class i{static testProp(e){if(!i.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in i.docStyle)return e[t];return e[0]}static create(e,t,n){const r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){i.docStyle&&i.selectProp&&(i.userSelect=i.docStyle[i.selectProp],i.docStyle[i.selectProp]="none")}static enableDrag(){i.docStyle&&i.selectProp&&(i.docStyle[i.selectProp]=i.userSelect)}static setTransform(e,t){e.style[i.transformProp]=t}static addEventListener(e,t,n,r={}){e.addEventListener(t,n,"passive"in r?r:r.capture)}static removeEventListener(e,t,n,r={}){e.removeEventListener(t,n,"passive"in r?r:r.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",i.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",i.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",i.suppressClickInternal,!0)}),0)}static mousePos(t,n){const r=t.getBoundingClientRect();return new e.pointGeometry(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)}static touchPos(t,n){const r=t.getBoundingClientRect(),o=[];for(let i=0;i<n.length;i++)o.push(new e.pointGeometry(n[i].clientX-r.left-t.clientLeft,n[i].clientY-r.top-t.clientTop));return o}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}i.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,i.selectProp=i.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),i.transformProp=i.testProp(["transform","WebkitTransform"]);class a{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeSpriteURL(e,t,n){const r=function(e){const t=e.match(s);if(!t)throw new Error(`Unable to parse URL "${e}"`);return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}(e);return r.path+=`${t}${n}`,function(e){const t=e.params.length?`?${e.params.join("&")}`:"";return`${e.protocol}://${e.authority}${e.path}${t}`}(r)}setTransformRequest(e){this._transformRequestFn=e}}const s=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function l(t){var n=new e.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}var c,u=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};c=new e.ARRAY_TYPE(3),e.ARRAY_TYPE!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0);var d=function(e){var t=e[0],n=e[1];return t*t+n*n};!function(){var t=new e.ARRAY_TYPE(2);e.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0)}();class f{constructor(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)}update(t,n,r){const{width:o,height:i}=t,a=!(this.size&&this.size[0]===o&&this.size[1]===i||r),{context:s}=this,{gl:l}=s;if(this.useMipmap=Boolean(n&&n.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!n||!1!==n.premultiply)),a)this.size=[o,i],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,o,i,0,this.format,l.UNSIGNED_BYTE,t.data);else{const{x:n,y:a}=r||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texSubImage2D(l.TEXTURE_2D,0,n,a,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,n,a,o,i,l.RGBA,l.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(e,t,n){const{context:r}=this,{gl:o}=r;o.bindTexture(o.TEXTURE_2D,this.texture),n!==o.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=o.LINEAR),e!==this.filter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,t),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function p(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class h extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),r=!1),r}_validateStretch(e,t){if(!e)return!0;let n=0;for(const r of e){if(r[0]<n||r[1]<r[0]||t<r[1])return!1;n=r[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const r={};for(const n of t){this.images[n]||this.fire(new e.Event("styleimagemissing",{id:n}));const t=this.images[n];t?r[n]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${n}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,r)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{const n={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new e.ImagePosition(n,r);this.patterns[t]={bin:n,position:o}}return this._updatePatternAtlas(),this.patterns[t].position}bind(e){const t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new f(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:r}=e.potpack(t),o=this.atlasImage;o.resize({width:n||1,height:r||1});for(const t in this.patterns){const{bin:n}=this.patterns[t],r=n.x+1,i=n.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,o,{x:0,y:0},{x:r,y:i},{width:s,height:l}),e.RGBAImage.copy(a,o,{x:0,y:l-1},{x:r,y:i-1},{width:s,height:1}),e.RGBAImage.copy(a,o,{x:0,y:0},{x:r,y:i+l},{width:s,height:1}),e.RGBAImage.copy(a,o,{x:s-1,y:0},{x:r-1,y:i},{width:1,height:l}),e.RGBAImage.copy(a,o,{x:0,y:0},{x:r+s,y:i},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];p(e)&&this.updateImage(t,e)}}}const m=1e20;function g(e,t,n,r,o,i,a,s,l){for(let c=t;c<t+r;c++)v(e,n*i+c,i,o,a,s,l);for(let c=n;c<n+o;c++)v(e,c*i+t,1,r,a,s,l)}function v(e,t,n,r,o,i,a){i[0]=0,a[0]=-m,a[1]=m,o[0]=e[t];for(let s=1,l=0,c=0;s<r;s++){o[s]=e[t+s*n];const r=s*s;do{const e=i[l];c=(o[s]-o[e]+r-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,i[l]=s,a[l]=c,a[l+1]=m}for(let s=0,l=0;s<r;s++){for(;a[l+1]<s;)l++;const r=i[l],c=s-r;e[t+s*n]=o[r]+c*c}}class y{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(t,n){const r=[];for(const e in t)for(const n of t[e])r.push({stack:e,id:n});e.asyncAll(r,(({stack:e,id:t},n)=>{let r=this.entries[e];r||(r=this.entries[e]={glyphs:{},requests:{},ranges:{}});let o=r.glyphs[t];if(void 0!==o)return void n(null,{stack:e,id:t,glyph:o});if(o=this._tinySDF(r,e,t),o)return r.glyphs[t]=o,void n(null,{stack:e,id:t,glyph:o});const i=Math.floor(t/256);if(256*i>65535)return void n(new Error("glyphs > 65535 not supported"));if(r.ranges[i])return void n(null,{stack:e,id:t,glyph:o});let a=r.requests[i];a||(a=r.requests[i]=[],y.loadGlyphRange(e,i,this.url,this.requestManager,((e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t[+e]);r.ranges[i]=!0}for(const n of a)n(e,t);delete r.requests[i]}))),a.push(((r,o)=>{r?n(r):o&&n(null,{stack:e,id:t,glyph:o[t]||null})}))}),((e,t)=>{if(e)n(e);else if(t){const e={};for(const{stack:n,id:r,glyph:o}of t)(e[n]||(e[n]={}))[r]=o&&{id:o.id,bitmap:o.bitmap.clone(),metrics:o.metrics};n(null,e)}}))}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&(e.unicodeBlockLookup["CJK Unified Ideographs"](t)||e.unicodeBlockLookup["Hangul Syllables"](t)||e.unicodeBlockLookup.Hiragana(t)||e.unicodeBlockLookup.Katakana(t))}_tinySDF(t,n,r){const o=this.localIdeographFontFamily;if(!o)return;if(!this._doesCharSupportLocalGlyph(r))return;let i=t.tinySDF;if(!i){let e="400";/bold/i.test(n)?e="900":/medium/i.test(n)?e="500":/light/i.test(n)&&(e="200"),i=t.tinySDF=new y.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:o,fontWeight:e})}const a=i.draw(String.fromCharCode(r));return{id:r,bitmap:new e.AlphaImage({width:a.width||30,height:a.height||30},a.data),metrics:{width:a.glyphWidth||24,height:a.glyphHeight||24,left:a.glyphLeft||0,top:a.glyphTop-27||-8,advance:a.glyphAdvance||24}}}}y.loadGlyphRange=function(t,n,r,o,i){const a=256*n,s=a+255,l=o.transformRequest(r.replace("{fontstack}",t).replace("{range}",`${a}-${s}`),e.ResourceType.Glyphs);e.getArrayBuffer(l,((t,n)=>{if(t)i(t);else if(n){const t={};for(const r of e.parseGlyphPBF(n))t[r.id]=r;i(null,t)}}))},y.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:n=8,cutoff:r=.25,fontFamily:o="sans-serif",fontWeight:i="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=r,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${i} ${e}px ${o}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:r,actualBoundingBoxLeft:o,actualBoundingBoxRight:i}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.min(this.size-this.buffer,Math.ceil(i-o)),l=Math.min(this.size-this.buffer,a+Math.ceil(r)),c=s+2*this.buffer,u=l+2*this.buffer,d=Math.max(c*u,0),f=new Uint8ClampedArray(d),p={data:f,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:h,buffer:v,gridInner:y,gridOuter:b}=this;h.clearRect(v,v,s,l),h.fillText(e,v,v+a);const _=h.getImageData(v,v,s,l);b.fill(m,0,d),y.fill(0,0,d);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const n=_.data[4*(e*s+t)+3]/255;if(0===n)continue;const r=(e+v)*c+t+v;if(1===n)b[r]=0,y[r]=m;else{const e=.5-n;b[r]=e>0?e*e:0,y[r]=e<0?e*e:0}}g(b,0,0,c,u,c,this.f,this.v,this.z),g(y,v,v,s,l,c,this.f,this.v,this.z);for(let e=0;e<d;e++){const t=Math.sqrt(b[e])-Math.sqrt(y[e]);f[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))}interpolate(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),_="-transition";class w extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,n={}){if(!this._validate(e.validateLight,t,n))for(const e in t){const n=t[e];e.endsWith(_)?this._transitionable.setTransition(e.slice(0,-_.length),n):this._transitionable.setValue(e,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class x{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}getDashRanges(e,t,n){const r=[];let o=e.length%2==1?-e[e.length-1]*n:0,i=e[0]*n,a=!0;r.push({left:o,right:i,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];o=s*n,s+=l,i=s*n,r.push({left:o,right:i,isDash:a,zeroLength:0===l})}return r}addRoundDash(e,t,n){const r=t/2;for(let t=-n;t<=n;t++){const o=this.width*(this.nextRow+n+t);let i=0,a=e[i];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++i]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let d;const f=t/n*(r+1);if(a.isDash){const e=r-Math.abs(f);d=Math.sqrt(u*u+e*e)}else d=r-Math.sqrt(u*u+f*f);this.data[o+s]=Math.max(0,Math.min(255,d+128))}}}addRegularDash(e){for(let t=e.length-1;t>=0;--t){const n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}const t=e[0],n=e[e.length-1];t.isDash===n.isDash&&(t.left=n.left-this.width,n.right=t.right+this.width);const r=this.width*this.nextRow;let o=0,i=e[o];for(let t=0;t<this.width;t++){t/i.right>1&&(i=e[++o]);const n=Math.abs(t-i.left),a=Math.abs(t-i.right),s=Math.min(n,a);this.data[r+t]=Math.max(0,Math.min(255,(i.isDash?s:-s)+128))}}addDash(t,n){const r=n?7:0,o=2*r+1;if(this.nextRow+o>this.height)return e.warnOnce("LineAtlas out of space"),null;let i=0;for(let e=0;e<t.length;e++)i+=t[e];if(0!==i){const e=this.width/i,o=this.getDashRanges(t,this.width,e);n?this.addRoundDash(o,e,r):this.addRegularDash(o)}const a={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:i};return this.nextRow+=o,this.dirty=!0,a}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}class S{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const r=this.workerPool.acquire(this.id);for(let e=0;e<r.length;e++){const t=new S.Actor(r[e],n,this.id);t.name=`Worker ${e}`,this.actors.push(t)}}broadcast(t,n,r){e.asyncAll(this.actors,((e,r)=>{e.send(t,n,r)}),r=r||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function E(t,n,r){const o=function(n,o){if(n)return r(n);if(o){const n=e.pick(e.extend(o,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(n.vectorLayers=o.vector_layers,n.vectorLayerIds=n.vectorLayers.map((e=>e.id))),r(null,n)}};return t.url?e.getJSON(n.transformRequest(t.url,e.ResourceType.Source),o):e.exported.frame((()=>o(null,t)))}S.Actor=e.Actor;class C{constructor(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),o=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),i=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<i&&t.y>=o&&t.y<a}}class k extends e.Evented{constructor(t,n,r,o){if(super(),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new C(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),o={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function i(r,o){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(o&&o.resourceTiming&&(t.resourceTiming=o.resourceTiming),this.map._refreshExpiredTiles&&o&&t.setExpiryData(o),t.loadVectorData(o,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",o,i.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",o,i.bind(this)))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class A extends e.Evented{constructor(t,n,r,o){super(),this.id=t,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new C(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((r,o,i)=>{if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(i);const r=this.map.painter.context,a=r.gl;t.texture=this.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new f(r,o,a.RGBA,{useMipmap:!0}),t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),n(null)}}))}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let T;class I extends A{constructor(t,n,r,o){super(t,n,r,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function o(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,i){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;const n=e.isImageBitmap(i)&&(null==T&&(T="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),T)?i:e.exported.getImageData(i,1),r={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:n,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",r,o.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)}_getNeighboringTiles(t){const n=t.canonical,r=Math.pow(2,n.z),o=(n.x-1+r)%r,i=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,i,n.z,o,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,i,n.z,o,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,i,n.z,o,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}class P extends e.Evented{constructor(t,n,r,o){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=r.getActor(),this.setEventedParent(o),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const i=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*i,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*i,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(n.clusterRadius||50)*i,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData("content"),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}_updateWorkerData(t){const n=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this._pendingLoads++,this.fire(new e.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,n,((r,o)=>{if(this._pendingLoads--,this._removed||o&&o.abandoned)return;let i=null;if(o&&o.resourceTiming&&o.resourceTiming[this.id]&&(i=o.resourceTiming[this.id].slice(0)),this.actor.send(`${this.type}.coalesce`,{source:n.source},null),r)return void this.fire(new e.ErrorEvent(r));const a={dataType:"source",sourceDataType:t};this._collectResourceTiming&&i&&i.length>0&&e.extend(a,{resourceTiming:i}),this.fire(new e.Event("data",a))}))}loaded(){return 0===this._pendingLoads}loadTile(e,t){const n=e.actor?"reloadTile":"loadTile";e.actor=this.actor;const r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(n,r,((r,o)=>(delete e.request,e.unloadVectorData(),e.aborted?t(null):r?t(r):(e.loadVectorData(o,this.map.painter,"reloadTile"===n),t(null)))))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var O=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class M extends e.Evented{constructor(e,t,n,r){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=t}load(t,n){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((r,o)=>{this._loaded=!0,r?this.fire(new e.ErrorEvent(r)):o&&(this.image=o,t&&(this.coordinates=t),n&&n(),this._finishLoading())}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}setCoordinates(t){this.coordinates=t;const n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){let n=1/0,r=1/0,o=-1/0,i=-1/0;for(const e of t)n=Math.min(n,e.x),r=Math.min(r,e.y),o=Math.max(o,e.x),i=Math.max(i,e.y);const a=Math.max(o-n,i-r),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((n+o)/2*l),Math.floor((r+i)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z;const r=n.map((e=>this.tileID.getTilePoint(e)._round()));return this._boundsArray=new e.RasterBoundsArray,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new f(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class N extends M{constructor(e,t,n,r){super(e,t,n,r),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const n of t.urls)this.urls.push(this.map._requestManager.transformRequest(n,e.ResourceType.Source).url);e.getVideo(this.urls,((t,n)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(this.video=n,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new f(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class L extends M{constructor(t,n,r,o){super(t,n,r,o),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,r=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new f(n,this.canvas,r.RGBA,{premultiply:!0});for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const R={vector:k,raster:A,"raster-dem":I,geojson:P,video:N,image:M,canvas:L};function D(t,n){const r=e.create();return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function z(e,t,n,r,o,i){const a=function(e,t,n){if(e)for(const r of e){const e=t[r];if(e&&e.source===n&&"fill-extrusion"===e.type)return!0}else for(const e in t){const r=t[e];if(r.source===n&&"fill-extrusion"===r.type)return!0}return!1}(o&&o.layers,t,e.id),s=i.maxPitchScaleFactor(),l=e.tilesIn(r,s,a);l.sort(F);const c=[];for(const r of l)c.push({wrappedTileID:r.tileID.wrapped().key,queryResults:r.tile.queryRenderedFeatures(t,n,e._state,r.queryGeometry,r.cameraQueryGeometry,r.scale,o,i,s,D(e.transform,r.tileID))});const u=function(e){const t={},n={};for(const r of e){const e=r.queryResults,o=r.wrappedTileID,i=n[o]=n[o]||{};for(const n in e){const r=e[n],o=i[n]=i[n]||{},a=t[n]=t[n]||[];for(const e of r)o[e.featureIndex]||(o[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const t in u)u[t].forEach((t=>{const n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return u}function F(e,t){const n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}class U{constructor(t,n){this.tileID=t,this.uid=e.uniqueId(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const n=t+this.timeAdded;n<e.exported.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}loadVectorData(t,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const r of e){const e=r.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){r.layers=e,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)n[t.id]=r}}return n}(t.buckets,n.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.SymbolBucket){if(this.hasSymbolBuckets=!0,!r)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.SymbolBucket&&n.hasRTLText){this.hasRTLText=!0,e.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(e).queryRadius(t))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.CollisionBoxArray}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const n=this.buckets[t];n.uploadPending()&&n.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new f(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new f(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,r,o,i,a,s,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:o,scale:i,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:a,queryPadding:this.queryPadding*l},e,t,n):{}}querySourceFeatures(t,n){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const o=r.loadVTLayers(),i=n?n.sourceLayer:"",a=o._geojsonTileLayer||o[i];if(!a)return;const s=e.createFilter(n&&n.filter),{z:l,x:c,y:u}=this.tileID.canonical,d={z:l,x:c,y:u};for(let n=0;n<a.length;n++){const o=a.feature(n);if(s.needGeometry){const t=e.toEvaluationFeature(o,!0);if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),o))continue;const f=r.getId(o,i),p=new e.GeoJSONFeature(o,l,c,u,f);p.tile=d,t.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const n=this.expirationTime;if(t.cacheControl){const n=e.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(n)if(this.expirationTime<n)t=!0;else{const r=this.expirationTime-n;r?this.expirationTime=e+Math.max(r,3e4):t=!0}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const n=this.latestFeatureIndex.loadVTLayers();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const o=this.buckets[r],i=o.layers[0].sourceLayer||"_geojsonTileLayer",a=n[i],s=e[i];if(!a||!s||0===Object.keys(s).length)continue;o.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=e.exported.now()+t}setDependencies(e,t){const n={};for(const e of t)n[e]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}}class j{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const o={value:t,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((()=>{this.remove(e,o)}),n)),this.data[r].push(o),this.order.push(r),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),o=this.data[n][r];return this.data[n].splice(r,1),o.timeout&&clearTimeout(o.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(o.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const r of this.data[n])e(r.value)||t.push(r);for(const e of t)this.remove(e.value.tileID,e)}}class B{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,n,r){const o=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][o]=this.stateChanges[t][o]||{},e.extend(this.stateChanges[t][o],r),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==o&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][o]){this.deletedStates[t][o]={};for(const e in this.state[t][o])r[e]||(this.deletedStates[t][o][e]=null)}else for(const e in r)this.deletedStates[t]&&this.deletedStates[t][o]&&null===this.deletedStates[t][o][e]&&delete this.deletedStates[t][o][e]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}getState(t,n){const r=String(n),o=e.extend({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const e=this.deletedStates[t][n];if(null===e)return{};for(const t in e)delete o[t]}return o}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(t,n){const r={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const n={};for(const r in this.stateChanges[t])this.state[t][r]||(this.state[t][r]={}),e.extend(this.state[t][r],this.stateChanges[t][r]),n[r]=this.state[t][r];r[t]=n}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const n={};if(null===this.deletedStates[t])for(const e in this.state[t])n[e]={},this.state[t][e]={};else for(const e in this.deletedStates[t]){if(null===this.deletedStates[t][e])this.state[t][e]={};else for(const n of Object.keys(this.deletedStates[t][e]))delete this.state[t][e][n];n[e]=this.state[t][e]}r[t]=r[t]||{},e.extend(r[t],n)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const e in t)t[e].setFeatureState(r,n)}}class V extends e.Evented{constructor(t,n,r){super(),this.id=t,this.dispatcher=r,this.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))})),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=function(t,n,r,o){const i=new R[n.type](t,n,r,o);if(i.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${i.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],i),i}(t,n,r,this),this._tiles={},this._cache=new j(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new B}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(t){this._source.abortTile&&this._source.abortTile(t,(()=>{})),this._source.fire(new e.Event("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(G).map((e=>e.key))}getRenderableIds(t){const n=[];for(const e in this._tiles)this._isIdRenderable(e,t)&&n.push(this._tiles[e]);return t?n.sort(((t,n)=>{const r=t.tileID,o=n.tileID,i=new e.pointGeometry(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),a=new e.pointGeometry(o.canonical.x,o.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-o.overscaledZ||a.y-i.y||a.x-i.x})).map((e=>e.tileID.key)):n.map((e=>e.tileID)).sort(G).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(t,n,r,o){if(o)return t.state="errored",void(404!==o.status?this._source.fire(new e.ErrorEvent(o,{tile:t})):this.update(this.transform));t.timeAdded=e.exported.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))}_backfillDEM(e){const t=this.getRenderableIds();for(let r=0;r<t.length;r++){const o=t[r];if(e.neighboringTiles&&e.neighboringTiles[o]){const t=this.getTileByID(o);n(e,t),n(t,e)}}function n(e,t){e.needsHillshadePrepare=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const r=t.tileID.canonical.y-e.tileID.canonical.y,o=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+o)?n+=o:1===Math.abs(n-o)&&(n-=o)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,r){for(const o in this._tiles){let i=this._tiles[o];if(r[o]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>n)continue;let a=i.tileID;for(;i&&i.tileID.overscaledZ>t+1;){const e=i.tileID.scaledTo(i.tileID.overscaledZ-1);i=this._tiles[e.key],i&&i.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){r[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),r=this._getLoadedTile(t);if(r)return r}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(o)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),e[r.tileID.key]=r}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(e,this._tiles[e])}}update(t){if(this.transform=t,!this._sourceLoaded||this._paused)return;let n;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(n=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter((e=>this._source.hasTile(e))))):n=[];const r=t.coveringZoomLevel(this._source),o=Math.max(r-V.maxOverzooming,this._source.minzoom),i=Math.max(r+V.maxUnderzooming,this._source.minzoom),a=this._updateRetainedTiles(n,r);if(q(this._source.type)){const t={},n={},s=Object.keys(a);for(const r of s){const i=a[r],s=this._tiles[r];if(!s||s.fadeEndTime&&s.fadeEndTime<=e.exported.now())continue;const l=this.findLoadedParent(i,o);l&&(this._addTile(l.tileID),t[l.tileID.key]=l.tileID),n[r]=i}this._retainLoadedChildren(n,r,i,a);for(const e in t)a[e]||(this._coveredTiles[e]=!0,a[e]=t[e])}for(const e in a)this._tiles[e].clearFadeHold();const s=e.keysDifference(this._tiles,a);for(const e of s){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){const n={},r={},o=Math.max(t-V.maxOverzooming,this._source.minzoom),i=Math.max(t+V.maxUnderzooming,this._source.minzoom),a={};for(const r of e){const e=this._addTile(r);n[r.key]=r,e.hasData()||t<this._source.maxzoom&&(a[r.key]=r)}this._retainLoadedChildren(a,t,i,n);for(const i of e){let e=this._tiles[i.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){const e=i.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){n[e.key]=e;continue}}else{const e=i.children(this._source.maxzoom);if(n[e[0].key]&&n[e[1].key]&&n[e[2].key]&&n[e[3].key])continue}let a=e.wasRequested();for(let t=i.overscaledZ-1;t>=o;--t){const o=i.scaledTo(t);if(r[o.key])break;if(r[o.key]=!0,e=this.getTile(o),!e&&a&&(e=this._addTile(o)),e&&(n[o.key]=o,a=e.wasRequested(),e.hasData()))break}}return n}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,r=this._tiles[e].tileID;for(;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);const e=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;r=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(t){let n=this._tiles[t.key];if(n)return n;n=this._cache.getAndRemove(t),n&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));const r=n;return n||(n=new U(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(t,n,r){const o=[],i=this.transform;if(!i)return o;const a=r?i.getCameraQueryGeometry(t):t,s=t.map((e=>i.pointCoordinate(e))),l=a.map((e=>i.pointCoordinate(e))),c=this.getIds();let u=1/0,d=1/0,f=-1/0,p=-1/0;for(const e of l)u=Math.min(u,e.x),d=Math.min(d,e.y),f=Math.max(f,e.x),p=Math.max(p,e.y);for(let t=0;t<c.length;t++){const r=this._tiles[c[t]];if(r.holdingForFade())continue;const a=r.tileID,h=Math.pow(2,i.zoom-r.tileID.overscaledZ),m=n*r.queryPadding*e.EXTENT/r.tileSize/h,g=[a.getTilePoint(new e.MercatorCoordinate(u,d)),a.getTilePoint(new e.MercatorCoordinate(f,p))];if(g[0].x-m<e.EXTENT&&g[0].y-m<e.EXTENT&&g[1].x+m>=0&&g[1].y+m>=0){const e=s.map((e=>a.getTilePoint(e))),t=l.map((e=>a.getTilePoint(e)));o.push({tile:r,tileID:a,queryGeometry:e,cameraQueryGeometry:t,scale:h})}}return o}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const e of t)e.posMatrix=this.transform.calculatePosMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(q(this._source.type))for(const t in this._tiles){const n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.exported.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const r=this._tiles[e];r&&r.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((n=>!n.hasDependency(e,t)))}}function G(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function q(e){return"raster"===e||"image"===e||"video"===e}V.maxOverzooming=10,V.maxUnderzooming=3;const H="mapboxgl_preloaded_worker_pool";class W{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<W.workerCount;)this.workers.push(new Worker(_o.workerUrl));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[H]}numActive(){return Object.keys(this.active).length}}const K=Math.floor(e.exported.hardwareConcurrency/2);let $;function Z(){return $||($=new W),$}function Y(t,n){const r={};for(const e in t)"ref"!==e&&(r[e]=t[e]);return e.refProperties.forEach((e=>{e in n&&(r[e]=n[e])})),r}function J(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Y(e[n],t[e[n].ref]));return e}W.workerCount=Math.max(Math.min(K,6),1);const X={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Q(e,t,n){n.push({command:X.addSource,args:[e,t[e]]})}function ee(e,t,n){t.push({command:X.removeSource,args:[e]}),n[e]=!0}function te(e,t,n,r){ee(e,n,r),Q(e,t,n)}function ne(e,t,n){let r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&"data"!==r&&!o(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&"data"!==r&&!o(e[n][r],t[n][r]))return!1;return!0}function re(e,t,n,r,i,a){let s;for(s in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,s)&&(o(e[s],t[s])||n.push({command:a,args:[r,s,t[s],i]}));for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&!Object.prototype.hasOwnProperty.call(e,s)&&(o(e[s],t[s])||n.push({command:a,args:[r,s,t[s],i]}))}function oe(e){return e.id}function ie(e,t){return e[t.id]=t,e}class ae{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let n=1,r=this._distances[n];const o=t*this.paddedLength+this.padding;for(;r<o&&n<this._distances.length;)r=this._distances[++n];const i=n-1,a=this._distances[i],s=r-a,l=s>0?(o-a)/s:0;return this.points[i].mult(1-l).add(this.points[n].mult(l))}}function se(e,t){let n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}class le{constructor(e,t,n){const r=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,r,o){this._forEachCell(t,n,r,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)}insertCircle(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}_insertBoxCell(e,t,n,r,o,i){this.boxCells[o].push(i)}_insertCircleCell(e,t,n,r,o,i){this.circleCells[o].push(i)}_query(e,t,n,r,o,i,a){if(n<0||e>this.width||r<0||t>this.height)return[];const s=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(o)return[{key:null,x1:e,y1:t,x2:n,y2:r}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],r=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-r,y1:n-r,x2:t+r,y2:n+r})}}else this._forEachCell(e,t,n,r,this._queryCell,s,{hitTest:o,overlapMode:i,seenUids:{box:{},circle:{}}},a);return s}query(e,t,n,r){return this._query(e,t,n,r,!1,null)}hitTest(e,t,n,r,o,i){return this._query(e,t,n,r,!0,o,i).length>0}hitTestCircle(e,t,n,r,o){const i=e-n,a=e+n,s=t-n,l=t+n;if(a<0||i>this.width||l<0||s>this.height)return!1;const c=[];return this._forEachCell(i,s,a,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},o),c.length>0}_queryCell(e,t,n,r,o,i,a,s){const{seenUids:l,hitTest:c,overlapMode:u}=a,d=this.boxCells[o];if(null!==d){const o=this.bboxes;for(const a of d)if(!l.box[a]){l.box[a]=!0;const d=4*a,f=this.boxKeys[a];if(e<=o[d+2]&&t<=o[d+3]&&n>=o[d+0]&&r>=o[d+1]&&(!s||s(f))&&(!c||!se(u,f.overlapMode))&&(i.push({key:f,x1:o[d],y1:o[d+1],x2:o[d+2],y2:o[d+3]}),c))return!0}}const f=this.circleCells[o];if(null!==f){const o=this.circles;for(const a of f)if(!l.circle[a]){l.circle[a]=!0;const d=3*a,f=this.circleKeys[a];if(this._circleAndRectCollide(o[d],o[d+1],o[d+2],e,t,n,r)&&(!s||s(f))&&(!c||!se(u,f.overlapMode))){const e=o[d],t=o[d+1],n=o[d+2];if(i.push({key:f,x1:e-n,y1:t-n,x2:e+n,y2:t+n}),c)return!0}}}return!1}_queryCellCircle(e,t,n,r,o,i,a,s){const{circle:l,seenUids:c,overlapMode:u}=a,d=this.boxCells[o];if(null!==d){const e=this.bboxes;for(const t of d)if(!c.box[t]){c.box[t]=!0;const n=4*t,r=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(r))&&!se(u,r.overlapMode))return i.push(!0),!0}}const f=this.circleCells[o];if(null!==f){const e=this.circles;for(const t of f)if(!c.circle[t]){c.circle[t]=!0;const n=3*t,r=this.circleKeys[t];if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(r))&&!se(u,r.overlapMode))return i.push(!0),!0}}}_forEachCell(e,t,n,r,o,i,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r);for(let f=l;f<=u;f++)for(let l=c;l<=d;l++)if(o.call(this,e,t,n,r,this.xCellCount*l+f,i,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,r,o,i){const a=r-e,s=o-t,l=n+i;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,r,o,i,a){const s=(i-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;const c=(a-o)/2,u=Math.abs(t-(o+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const d=l-s,f=u-c;return d*d+f*f<=n*n}}function ce(t,n,r,o,i){const a=e.create();return n?(e.scale(a,a,[1/i,1/i,1]),r||e.rotateZ(a,a,o.angle)):e.multiply(a,o.labelPlaneMatrix,t),a}function ue(t,n,r,o,i){if(n){const n=e.clone(t);return e.scale(n,n,[i,i,1]),r||e.rotateZ(n,n,-o.angle),n}return o.glCoordMatrix}function de(t,n){const r=[t.x,t.y,0,1];xe(r,r,n);const o=r[3];return{point:new e.pointGeometry(r[0]/o,r[1]/o),signedDistanceFromCamera:o}}function fe(e,t){return.5+e/t*.5}function pe(e,t){const n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function he(t,n,r,o,i,a,s,l,c){const u=o?t.textSizeData:t.iconSizeData,d=e.evaluateSizeForZoom(u,r.transform.zoom),f=[256/r.width*2+1,256/r.height*2+1],p=o?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;p.clear();const h=t.lineVertexArray,m=o?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=r.transform.width/r.transform.height;let v=!1;for(let o=0;o<m.length;o++){const y=m.get(o);if(y.hidden||y.writingMode===e.WritingMode.vertical&&!v){we(y.numGlyphs,p);continue}v=!1;const b=[y.anchorX,y.anchorY,0,1];if(e.transformMat4(b,b,n),!pe(b,f)){we(y.numGlyphs,p);continue}const _=fe(r.transform.cameraToCenterDistance,b[3]),w=e.evaluateSizeForFeature(u,d,y),x=s?w/_:w*_,S=new e.pointGeometry(y.anchorX,y.anchorY),E=de(S,i).point,C={},k=ve(y,x,!1,l,n,i,a,t.glyphOffsetArray,h,p,E,S,C,g,c);v=k.useVertical,(k.notEnoughRoom||v||k.needsFlipping&&ve(y,x,!0,l,n,i,a,t.glyphOffsetArray,h,p,E,S,C,g,c).notEnoughRoom)&&we(y.numGlyphs,p)}o?t.text.dynamicLayoutVertexBuffer.updateData(p):t.icon.dynamicLayoutVertexBuffer.updateData(p)}function me(e,t,n,r,o,i,a,s,l,c,u,d){const f=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,h=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),g=t.getoffsetX(f-1),v=be(e*m,n,r,o,i,a,s.segment,p,h,l,c,u,d);if(!v)return null;const y=be(e*g,n,r,o,i,a,s.segment,p,h,l,c,u,d);return y?{first:v,last:y}:null}function ge(t,n,r,o){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*o?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function ve(t,n,r,o,i,a,s,l,c,u,d,f,p,h,m){const g=n/24,v=t.lineOffsetX*g,y=t.lineOffsetY*g;let b;if(t.numGlyphs>1){const e=t.glyphStartIndex+t.numGlyphs,n=t.lineStartIndex,i=t.lineStartIndex+t.lineLength,u=me(g,l,v,y,r,d,f,t,c,a,p,m);if(!u)return{notEnoughRoom:!0};const _=de(u.first.point,s).point,w=de(u.last.point,s).point;if(o&&!r){const e=ge(t.writingMode,_,w,h);if(e)return e}b=[u.first];for(let o=t.glyphStartIndex+1;o<e-1;o++)b.push(be(g*l.getoffsetX(o),v,y,r,d,f,t.segment,n,i,c,a,p,m));b.push(u.last)}else{if(o&&!r){const n=de(f,i).point,r=t.lineStartIndex+t.segment+1,o=new e.pointGeometry(c.getx(r),c.gety(r)),a=de(o,i),s=a.signedDistanceFromCamera>0?a.point:ye(f,o,n,1,i),l=ge(t.writingMode,n,s,h);if(l)return l}const n=be(g*l.getoffsetX(t.glyphStartIndex),v,y,r,d,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,p,m);if(!n)return{notEnoughRoom:!0};b=[n]}for(const t of b)e.addDynamicAttributes(u,t.point,t.angle);return{}}function ye(e,t,n,r,o){const i=de(e.add(e.sub(t)._unit()),o).point,a=n.sub(i);return n.add(a._mult(r/a.mag()))}function be(t,n,r,o,i,a,s,l,c,u,d,f,p){const h=o?t-n:t+n;let m=h>0?1:-1,g=0;o&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);let v=m>0?l+s:l+s+1,y=i,b=i,_=0,w=0;const x=Math.abs(h),S=[];for(;_+w<=x;){if(v+=m,v<l||v>=c)return null;if(b=y,S.push(y),y=f[v],void 0===y){const t=new e.pointGeometry(u.getx(v),u.gety(v)),n=de(t,d);if(n.signedDistanceFromCamera>0)y=f[v]=n.point;else{const n=v-m;y=ye(0===_?a:new e.pointGeometry(u.getx(n),u.gety(n)),t,b,x-_+1,d)}}_+=w,w=b.dist(y)}const E=(x-_)/w,C=y.sub(b),k=C.mult(E)._add(b);k._add(C._unit()._perp()._mult(r*m));const A=g+Math.atan2(y.y-b.y,y.x-b.x);return S.push(k),{point:k,angle:p?A:0,path:S}}const _e=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function we(e,t){for(let n=0;n<e;n++){const e=t.length;t.resize(e+4),t.float32.set(_e,3*e)}}function xe(e,t,n){const r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e[3]=n[3]*r+n[7]*o+n[15],e}const Se=100;class Ee{constructor(e,t=new le(e.width+200,e.height+200,25),n=new le(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Se,this.screenBottomBoundary=e.height+Se,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200}placeCollisionBox(e,t,n,r,o){const i=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),a=n*i.perspectiveRatio,s=e.x1*a+i.point.x,l=e.y1*a+i.point.y,c=e.x2*a+i.point.x,u=e.y2*a+i.point.y;return!this.isInsideGrid(s,l,c,u)||"always"!==t&&this.grid.hitTest(s,l,c,u,t,o)?{box:[],offscreen:!1}:{box:[s,l,c,u],offscreen:this.isOffscreen(s,l,c,u)}}placeCollisionCircles(t,n,r,o,i,a,s,l,c,u,d,f,p){const h=[],m=new e.pointGeometry(n.anchorX,n.anchorY),g=de(m,a),v=fe(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),y=(u?i/v:i*v)/e.ONE_EM,b=de(m,s).point,_=me(y,o,n.lineOffsetX*y,n.lineOffsetY*y,!1,b,m,n,r,s,{},!1);let w=!1,x=!1,S=!0;if(_){const n=.5*f*v+p,r=new e.pointGeometry(-100,-100),o=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),i=new ae,a=_.first,s=_.last;let u=[];for(let e=a.path.length-1;e>=1;e--)u.push(a.path[e]);for(let e=1;e<s.path.length;e++)u.push(s.path[e]);const m=2.5*n;if(l){const e=u.map((e=>de(e,l)));u=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point))}let g=[];if(u.length>0){const t=u[0].clone(),n=u[0].clone();for(let e=1;e<u.length;e++)t.x=Math.min(t.x,u[e].x),t.y=Math.min(t.y,u[e].y),n.x=Math.max(n.x,u[e].x),n.y=Math.max(n.y,u[e].y);g=t.x>=r.x&&n.x<=o.x&&t.y>=r.y&&n.y<=o.y?[u]:n.x<r.x||t.x>o.x||n.y<r.y||t.y>o.y?[]:e.clipLine([u],r.x,r.y,o.x,o.y)}for(const e of g){i.reset(e,.25*n);let r=0;r=i.length<=.5*n?1:Math.ceil(i.paddedLength/m)+1;for(let e=0;e<r;e++){const o=e/Math.max(r-1,1),a=i.lerp(o),s=a.x+Se,l=a.y+Se;h.push(s,l,n,0);const u=s-n,f=l-n,p=s+n,m=l+n;if(S=S&&this.isOffscreen(u,f,p,m),x=x||this.isInsideGrid(u,f,p,m),"always"!==t&&this.grid.hitTestCircle(s,l,n,t,d)&&(w=!0,!c))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!c&&w||!x?[]:h,offscreen:S,collisionDetected:w}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let r=1/0,o=1/0,i=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+Se,s.y+Se);r=Math.min(r,t.x),o=Math.min(o,t.y),i=Math.max(i,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(r,o,i,a).concat(this.ignoredGrid.query(r,o,i,a)),l={},c={};for(const t of s){const r=t.key;if(void 0===l[r.bucketInstanceId]&&(l[r.bucketInstanceId]={}),l[r.bucketInstanceId][r.featureIndex])continue;const o=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(n,o)&&(l[r.bucketInstanceId][r.featureIndex]=!0,void 0===c[r.bucketInstanceId]&&(c[r.bucketInstanceId]=[]),c[r.bucketInstanceId].push(r.featureIndex))}return c}insertCollisionBox(e,t,n,r,o,i){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:o,collisionGroupID:i,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,r,o,i){const a=n?this.ignoredGrid:this.grid,s={bucketInstanceId:r,featureIndex:o,collisionGroupID:i,overlapMode:t};for(let t=0;t<e.length;t+=4)a.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,n,r){const o=[n,r,0,1];return xe(o,o,t),{point:new e.pointGeometry((o[0]/o[3]+1)/2*this.transform.width+Se,(-o[1]/o[3]+1)/2*this.transform.height+Se),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}}isOffscreen(e,t,n,r){return n<Se||e>=this.screenRightBoundary||r<Se||t>this.screenBottomBoundary}isInsideGrid(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function Ce(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}class ke{constructor(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class Ae{constructor(e,t,n,r,o){this.text=new ke(e?e.text:null,t,n,o),this.icon=new ke(e?e.icon:null,t,r,o)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Te{constructor(e,t,n){this.text=e,this.icon=t,this.skipFade=n}}class Ie{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Pe{constructor(e,t,n,r,o){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=o}}class Oe{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Me(t,n,r,o,i){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*n,c=-(s-.5)*r,u=e.evaluateVariableOffset(t,o);return new e.pointGeometry(l+u[0]*i,c+u[1]*i)}function Ne(t,n,r,o,i,a){const{x1:s,x2:l,y1:c,y2:u,anchorPointX:d,anchorPointY:f}=t,p=new e.pointGeometry(n,r);return o&&p._rotate(i?a:-a),{x1:s+p.x,y1:c+p.y,x2:l+p.x,y2:u+p.y,anchorPointX:d,anchorPointY:f}}class Le{constructor(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new Ee(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Oe(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,r,o){const i=r.getBucket(n),a=r.latestFeatureIndex;if(!i||!a||n.id!==i.layerIds[0])return;const s=r.collisionBoxArray,l=i.layers[0].layout,c=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),u=r.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),h=Ce(r,1,this.transform.zoom),m=ce(d,f,p,this.transform,h);let g=null;if(f){const t=ue(d,f,p,this.transform,h);g=e.multiply([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[i.bucketInstanceId]=new Pe(i.bucketInstanceId,a,i.sourceLayerIndex,i.index,r.tileID);const v={bucket:i,layout:l,posMatrix:d,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:c,textPixelRatio:u,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(i.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(i.sourceID)};if(o)for(const e of i.sortKeyRanges){const{sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:o}=e;t.push({sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:o,parameters:v})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:i.symbolInstances.length,parameters:v})}attemptAnchorPlacement(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h){const m=[d.textOffset0,d.textOffset1],g=Me(e,n,r,m,o),v=this.collisionIndex.placeCollisionBox(Ne(t,g.x,g.y,i,a,this.transform.angle),u,s,l,c.predicate);if((!h||0!==this.collisionIndex.placeCollisionBox(Ne(h,g.x,g.y,i,a,this.transform.angle),u,s,l,c.predicate).box.length)&&v.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(t=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:m,width:n,height:r,anchor:e,textBoxScale:o,prevAnchor:t},this.markUsedJustification(f,e,d,p),f.allowVerticalPlacement&&(this.markUsedOrientation(f,p,d),this.placedOrientations[d.crossTileID]=p),{shift:g,placedGlyphBoxes:v}}}placeLayerBucketPart(t,n,r){const{bucket:o,layout:i,posMatrix:a,textLabelPlaneMatrix:s,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:u,collisionBoxArray:d,partiallyEvaluatedTextSize:f,collisionGroup:p}=t.parameters,h=i.get("text-optional"),m=i.get("icon-optional"),g=e.getOverlapMode(i,"text-overlap","text-allow-overlap"),v="always"===g,y=e.getOverlapMode(i,"icon-overlap","icon-allow-overlap"),b="always"===y,_="map"===i.get("text-rotation-alignment"),w="map"===i.get("text-pitch-alignment"),x="none"!==i.get("icon-text-fit"),S="viewport-y"===i.get("symbol-z-order"),E=v&&(b||!o.hasIconData()||m),C=b&&(v||!o.hasTextData()||h);!o.collisionArrays&&d&&o.deserializeCollisionBoxes(d);const k=(t,d)=>{if(n[t.crossTileID])return;if(u)return void(this.placements[t.crossTileID]=new Te(!1,!1,!1));let b=!1,S=!1,k=!0,A=null,T={box:null,offscreen:null},I={box:null,offscreen:null},P=null,O=null,M=null,N=0,L=0,R=0;d.textFeatureIndex?N=d.textFeatureIndex:t.useRuntimeCollisionCircles&&(N=t.featureIndex),d.verticalTextFeatureIndex&&(L=d.verticalTextFeatureIndex);const D=d.textBox;if(D){const n=n=>{let r=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,r=e,this.markUsedOrientation(o,r,t))}return r},r=(n,r)=>{if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&d.verticalTextBox){for(const t of o.writingModes)if(t===e.WritingMode.vertical?(T=r(),I=T):T=n(),T&&T.box&&T.box.length)break}else T=n()};if(i.get("text-variable-anchor")){let s=i.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];s.indexOf(e.anchor)>0&&(s=s.filter((t=>t!==e.anchor)),s.unshift(e.anchor))}const l=(e,n,r)=>{const i=e.x2-e.x1,l=e.y2-e.y1,u=t.textBoxScale,d=x&&"never"===y?n:null;let f={box:[],offscreen:!1};const h="never"!==g?2*s.length:s.length;for(let n=0;n<h;++n){const h=this.attemptAnchorPlacement(s[n%s.length],e,i,l,u,_,w,c,a,p,n>=s.length?g:"never",t,o,r,d);if(h&&(f=h.placedGlyphBoxes,f&&f.box&&f.box.length)){b=!0,A=h.shift;break}}return f};r((()=>l(D,d.iconBox,e.WritingMode.horizontal)),(()=>{const n=d.verticalTextBox;return o.allowVerticalPlacement&&!(T&&T.box&&T.box.length)&&t.numVerticalGlyphVertices>0&&n?l(n,d.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),T&&(b=T.box,k=T.offscreen);const u=n(T&&T.box);if(!b&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(o,e.anchor,t,u))}}else{const i=(e,n)=>{const r=this.collisionIndex.placeCollisionBox(e,g,c,a,p.predicate);return r&&r.box&&r.box.length&&(this.markUsedOrientation(o,n,t),this.placedOrientations[t.crossTileID]=n),r};r((()=>i(D,e.WritingMode.horizontal)),(()=>{const n=d.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?i(n,e.WritingMode.vertical):{box:null,offscreen:null}})),n(T&&T.box&&T.box.length)}}if(P=T,b=P&&P.box&&P.box.length>0,k=P&&P.offscreen,t.useRuntimeCollisionCircles){const n=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),c=e.evaluateSizeForFeature(o.textSizeData,f,n),u=i.get("text-padding");O=this.collisionIndex.placeCollisionCircles(g,n,o.lineVertexArray,o.glyphOffsetArray,c,a,s,l,r,w,p.predicate,t.collisionCircleDiameter,u),b=v||O.circles.length>0&&!O.collisionDetected,k=k&&O.offscreen}if(d.iconFeatureIndex&&(R=d.iconFeatureIndex),d.iconBox){const e=e=>{const t=x&&A?Ne(e,A.x,A.y,_,w,this.transform.angle):e;return this.collisionIndex.placeCollisionBox(t,y,c,a,p.predicate)};I&&I.box&&I.box.length&&d.verticalIconBox?(M=e(d.verticalIconBox),S=M.box.length>0):(M=e(d.iconBox),S=M.box.length>0),k=k&&M.offscreen}const z=h||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,F=m||0===t.numIconVertices;if(z||F?F?z||(S=S&&b):b=S&&b:S=b=S&&b,b&&P&&P.box&&this.collisionIndex.insertCollisionBox(P.box,g,i.get("text-ignore-placement"),o.bucketInstanceId,I&&I.box&&L?L:N,p.ID),S&&M&&this.collisionIndex.insertCollisionBox(M.box,y,i.get("icon-ignore-placement"),o.bucketInstanceId,R,p.ID),O&&(b&&this.collisionIndex.insertCollisionCircles(O.circles,g,i.get("text-ignore-placement"),o.bucketInstanceId,N,p.ID),r)){const e=o.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Ie);for(let e=0;e<O.circles.length;e+=4)t.circles.push(O.circles[e+0]),t.circles.push(O.circles[e+1]),t.circles.push(O.circles[e+2]),t.circles.push(O.collisionDetected?1:0)}this.placements[t.crossTileID]=new Te(b||E,S||C,k||o.justReloaded),n[t.crossTileID]=!0};if(S){const e=o.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];k(o.symbolInstances.get(n),o.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)k(o.symbolInstances.get(e),o.collisionArrays[e]);if(r&&o.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[o.bucketInstanceId];e.invert(t.invProjMatrix,a),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(t,n,r,o){let i;i=o===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];const a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=i>=0&&e!==i?0:r.crossTileID)}markUsedOrientation(t,n,r){const o=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,i=n===e.WritingMode.vertical?n:0,a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=o;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=i)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const r=t?t.symbolFadeChange(e):1,o=t?t.opacities:{},i=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],i=o[e];i?(this.opacities[e]=new Ae(i,r,t.text,t.icon),n=n||t.text!==i.text.placed||t.icon!==i.icon.placed):(this.opacities[e]=new Ae(null,r,t.text,t.icon,t.skipFade),n=n||t.text||t.icon)}for(const e in o){const t=o[e];if(!this.opacities[e]){const o=new Ae(t,r,!1,!1);o.isHidden()||(this.opacities[e]=o,n=n||t.text.placed||t.icon.placed)}}for(const e in i)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=i[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const r of t){const t=r.getBucket(e);t&&r.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,r.collisionBoxArray)}}updateBucketOpacities(t,n,r){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const o=t.layers[0].layout,i=new Ae(null,0,!1,!1,!0),a=o.get("text-allow-overlap"),s=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),u="map"===o.get("text-pitch-alignment"),d="none"!==o.get("icon-text-fit"),f=new Ae(null,0,a&&(s||!t.hasIconData()||o.get("icon-optional")),s&&(a||!t.hasTextData()||o.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);const p=(e,t,n)=>{for(let r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)};for(let r=0;r<t.symbolInstances.length;r++){const o=t.symbolInstances.get(r),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:s,crossTileID:h}=o;let m=this.opacities[h];n[h]?m=i:m||(m=f,this.opacities[h]=m),n[h]=!0;const g=o.numIconVertices>0,v=this.placedOrientations[o.crossTileID],y=v===e.WritingMode.vertical,b=v===e.WritingMode.horizontal||v===e.WritingMode.horizontalOnly;if(a>0||s>0){const e=Ge(m.text);p(t.text,a,y?qe:e),p(t.text,s,b?qe:e);const n=m.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=n||y?1:0)})),o.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=n||b?1:0);const r=this.variableOffsets[o.crossTileID];r&&this.markUsedJustification(t,r.anchor,o,v);const i=this.placedOrientations[o.crossTileID];i&&(this.markUsedJustification(t,"left",o,i),this.markUsedOrientation(t,i,o))}if(g){const e=Ge(m.icon),n=!(d&&o.verticalPlacedIconSymbolIndex&&y);o.placedIconSymbolIndex>=0&&(p(t.icon,o.numIconVertices,n?e:qe),t.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=m.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,o.numVerticalIconVertices,n?qe:e),t.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[r];if(n){let r=new e.pointGeometry(0,0);if(n.textBox||n.verticalTextBox){let e=!0;if(l){const t=this.variableOffsets[h];t?(r=Me(t.anchor,t.width,t.height,t.textOffset,t.textBoxScale),c&&r._rotate(u?this.transform.angle:-this.transform.angle)):e=!1}n.textBox&&Re(t.textCollisionBox.collisionVertexArray,m.text.placed,!e||y,r.x,r.y),n.verticalTextBox&&Re(t.textCollisionBox.collisionVertexArray,m.text.placed,!e||b,r.x,r.y)}const o=Boolean(!b&&n.verticalIconBox);n.iconBox&&Re(t.iconCollisionBox.collisionVertexArray,m.icon.placed,o,d?r.x:0,d?r.y:0),n.verticalIconBox&&Re(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!o,d?r.x:0,d?r.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function Re(e,t,n,r,o){e.emplaceBack(t?1:0,n?1:0,r||0,o||0),e.emplaceBack(t?1:0,n?1:0,r||0,o||0),e.emplaceBack(t?1:0,n?1:0,r||0,o||0),e.emplaceBack(t?1:0,n?1:0,r||0,o||0)}const De=Math.pow(2,25),ze=Math.pow(2,24),Fe=Math.pow(2,17),Ue=Math.pow(2,16),je=Math.pow(2,9),Be=Math.pow(2,8),Ve=Math.pow(2,1);function Ge(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*De+t*ze+n*Fe+t*Ue+n*je+t*Be+n*Ve+t}const qe=0;class He{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,r,o){const i=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(i,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,o())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,i.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<i.length;)if(t.placeLayerBucketPart(i[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,o())return!0;return!1}}class We{constructor(e,t,n,r,o,i,a){this.placement=new Le(e,o,i,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1}isDone(){return this._done}continuePlacement(t,n,r){const o=e.exported.now(),i=()=>{const t=e.exported.now()-o;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],o=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=o)&&(!e.maxzoom||e.maxzoom>o)){if(this._inProgressLayer||(this._inProgressLayer=new He(e)),this._inProgressLayer.continuePlacement(r[e.source],this.placement,this._showCollisionBoxes,e,i))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Ke=512/e.EXTENT/2;class $e{constructor(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let n=0;n<t.length;n++){const r=t.get(n),o=r.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,e)})}}getScaledCoordinates(t,n){const r=Ke/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}}findMatches(e,t,n){const r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let o=0;o<e.length;o++){const i=e.get(o);if(i.crossTileID)continue;const a=this.indexedSymbolInstances[i.key];if(!a)continue;const s=this.getScaledCoordinates(i,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=r&&Math.abs(e.coord.y-s.y)<=r&&!n[e.crossTileID]){n[e.crossTileID]=!0,i.crossTileID=e.crossTileID;break}}}}class Ze{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Ye{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const n=this.indexes[e],r={};for(const e in n){const o=n[e];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),r[o.tileID.key]=o}this.indexes[e]=r}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const r=this.usedCrossTileIDs[e.overscaledZ];for(const n in this.indexes){const o=this.indexes[n];if(Number(n)>e.overscaledZ)for(const n in o){const i=o[n];i.tileID.isChildOf(e)&&i.findMatches(t.symbolInstances,e,r)}else{const i=o[e.scaledTo(Number(n)).key];i&&i.findMatches(t.symbolInstances,e,r)}}for(let e=0;e<t.symbolInstances.length;e++){const o=t.symbolInstances.get(e);o.crossTileID||(o.crossTileID=n.generate(),r[o.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new $e(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n in t.indexedSymbolInstances)for(const r of t.indexedSymbolInstances[n])delete this.usedCrossTileIDs[e][r.crossTileID]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const r=this.indexes[n];for(const o in r)e[r[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[o]),delete r[o],t=!0)}return t}}class Je{constructor(){this.layerIndexes={},this.crossTileIDs=new Ze,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Ye);let o=!1;const i={};r.handleWrapJump(n);for(const n of t){const t=n.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(n.tileID,t,this.crossTileIDs)&&(o=!0),i[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(i)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const Xe=(t,n)=>e.emitValidationErrors(t,n&&n.filter((e=>"source.canvas"!==e.identifier))),Qe=e.pick(X,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),et=e.pick(X,["setCenter","setZoom","setBearing","setPitch"]),tt=function(){const t={},n=e.spec.$version;for(const r in e.spec.$root){const o=e.spec.$root[r];if(o.required){let e=null;e="version"===r?n:"array"===o.type?[]:{},null!=e&&(t[r]=e)}}return t}();class nt extends e.Evented{constructor(t,n={}){super(),this.map=t,this.dispatcher=new S(Z(),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new y(t._requestManager,n.localIdeographFontFamily),this.lineAtlas=new x(256,512),this.crossTileSymbolIndex=new Je,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const r=this;this._rtlTextPluginCallback=nt.registerForPluginStateChange((t=>{r.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,n)=>{if(e.triggerPluginCompletionEvent(t),n&&n.every((e=>e)))for(const e in r.sourceCaches)r.sourceCaches[e].reload()}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.sourceCaches[e.sourceId];if(!t)return;const n=t.getSource();if(n&&n.vectorLayerIds)for(const e in this._layers){const t=this._layers[e];t.source===n.id&&this._validateLayer(t)}}))}loadURL(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const r="boolean"!=typeof n.validate||n.validate,o=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,((t,n)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):n&&this._load(n,r)}))}loadJSON(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==n.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(tt,!1)}_load(t,n){if(n&&Xe(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=t;for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);const r=J(this.stylesheet.layers);this._order=r.map((e=>e.id)),this._layers={},this._serializedLayers={};for(let t of r)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}_loadSprite(t){this._spriteRequest=function(t,n,r,o){let i,a,s;const l=r>1?"@2x":"";let c=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,l,".json"),e.ResourceType.SpriteJSON),((e,t)=>{c=null,s||(s=e,i=t,d())})),u=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,l,".png"),e.ResourceType.SpriteImage),((e,t)=>{u=null,s||(s=e,a=t,d())}));function d(){if(s)o(s);else if(i&&a){const t=e.exported.getImageData(a),n={};for(const r in i){const{width:o,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:d,stretchY:f,content:p}=i[r],h=new e.RGBAImage({width:o,height:a});e.RGBAImage.copy(t,h,{x:s,y:l},{x:0,y:0},{width:o,height:a}),n[r]={data:h,pixelRatio:u,sdf:c,stretchX:d,stretchY:f,content:p}}o(null,n)}}return{cancel(){c&&(c.cancel(),c=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,this.map.getPixelRatio(),((t,n)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(n)for(const e in n)this.imageManager.addImage(e,n[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const n=this.sourceCaches[t.source];if(!n)return;const r=t.sourceLayer;if(!r)return;const o=n.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${r}" does not exist on source "${o.id}" as specified by style layer "${t.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}const r={};for(const e in this.sourceCaches){const t=this.sourceCaches[e];r[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)&&n.source&&(this.sourceCaches[n.source].used=!0)}for(const t in r){const n=this.sourceCaches[t];r[t]!==n.used&&n.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(t){if(this._checkLoaded(),Xe(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=J(t.layers);const n=function(e,t){if(!e)return[{command:X.setStyle,args:[t]}];let n=[];try{if(!o(e.version,t.version))return[{command:X.setStyle,args:[t]}];o(e.center,t.center)||n.push({command:X.setCenter,args:[t.center]}),o(e.zoom,t.zoom)||n.push({command:X.setZoom,args:[t.zoom]}),o(e.bearing,t.bearing)||n.push({command:X.setBearing,args:[t.bearing]}),o(e.pitch,t.pitch)||n.push({command:X.setPitch,args:[t.pitch]}),o(e.sprite,t.sprite)||n.push({command:X.setSprite,args:[t.sprite]}),o(e.glyphs,t.glyphs)||n.push({command:X.setGlyphs,args:[t.glyphs]}),o(e.transition,t.transition)||n.push({command:X.setTransition,args:[t.transition]}),o(e.light,t.light)||n.push({command:X.setLight,args:[t.light]});const r={},i=[];!function(e,t,n,r){let i;for(i in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)||ee(i,n,r));for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?o(e[i],t[i])||("geojson"===e[i].type&&"geojson"===t[i].type&&ne(e,t,i)?n.push({command:X.setGeoJSONSourceData,args:[i,t[i].data]}):te(i,t,n,r)):Q(i,t,n))}(e.sources,t.sources,i,r);const a=[];e.layers&&e.layers.forEach((e=>{r[e.source]?n.push({command:X.removeLayer,args:[e.id]}):a.push(e)})),n=n.concat(i),function(e,t,n){t=t||[];const r=(e=e||[]).map(oe),i=t.map(oe),a=e.reduce(ie,{}),s=t.reduce(ie,{}),l=r.slice(),c=Object.create(null);let u,d,f,p,h,m,g;for(u=0,d=0;u<r.length;u++)f=r[u],Object.prototype.hasOwnProperty.call(s,f)?d++:(n.push({command:X.removeLayer,args:[f]}),l.splice(l.indexOf(f,d),1));for(u=0,d=0;u<i.length;u++)f=i[i.length-1-u],l[l.length-1-u]!==f&&(Object.prototype.hasOwnProperty.call(a,f)?(n.push({command:X.removeLayer,args:[f]}),l.splice(l.lastIndexOf(f,l.length-d),1)):d++,m=l[l.length-u],n.push({command:X.addLayer,args:[s[f],m]}),l.splice(l.length-u,0,f),c[f]=!0);for(u=0;u<i.length;u++)if(f=i[u],p=a[f],h=s[f],!c[f]&&!o(p,h))if(o(p.source,h.source)&&o(p["source-layer"],h["source-layer"])&&o(p.type,h.type)){for(g in re(p.layout,h.layout,n,f,null,X.setLayoutProperty),re(p.paint,h.paint,n,f,null,X.setPaintProperty),o(p.filter,h.filter)||n.push({command:X.setFilter,args:[f,h.filter]}),o(p.minzoom,h.minzoom)&&o(p.maxzoom,h.maxzoom)||n.push({command:X.setLayerZoomRange,args:[f,h.minzoom,h.maxzoom]}),p)Object.prototype.hasOwnProperty.call(p,g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?re(p[g],h[g],n,f,g.slice(6),X.setPaintProperty):o(p[g],h[g])||n.push({command:X.setLayerProperty,args:[f,g,h[g]]}));for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&!Object.prototype.hasOwnProperty.call(p,g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?re(p[g],h[g],n,f,g.slice(6),X.setPaintProperty):o(p[g],h[g])||n.push({command:X.setLayerProperty,args:[f,g,h[g]]}))}else n.push({command:X.removeLayer,args:[f]}),m=l[l.lastIndexOf(f)+1],n.push({command:X.addLayer,args:[h,m]})}(a,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:X.setStyle,args:[t]}]}return n}(this.serialize(),t).filter((e=>!(e.command in et)));if(0===n.length)return!1;const r=n.filter((e=>!(e.command in Qe)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(", ")}.`);return n.forEach((e=>{"setTransition"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=t,!0}addImage(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" already exists.`)));this.imageManager.addImage(t,n),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" does not exist.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,n,r={}){if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error(`Source "${t}" already exists.`);if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,`sources.${t}`,n,null,r))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const o=this.sourceCaches[t]=new V(t,n,this.dispatcher);o.style=this,o.setEventedParent(this,(()=>({isSourceLoaded:this.loaded(),source:o.serialize(),sourceId:t}))),o.onAdd(this.map),this._changed=!0}removeSource(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(const n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${n}" is using it.`)));const n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(t,n,r={}){this._checkLoaded();const o=t.id;if(this.getLayer(o))return void this.fire(new e.ErrorEvent(new Error(`Layer "${o}" already exists on this map.`)));let i;if("custom"===t.type){if(Xe(this,e.validateCustomStyleLayer(t)))return;i=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(o,t.source),t=e.clone$1(t),t=e.extend(t,{source:o})),this._validate(e.validateStyle.layer,`layers.${o}`,t,{arrayIndex:-1},r))return;i=e.createStyleLayer(t),this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}}),this._serializedLayers[i.id]=i.serialize()}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error(`Cannot add layer "${o}" before non-existing layer "${n}".`)));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i,this._removedLayers[o]&&i.source&&"custom"!==i.type){const e=this._removedLayers[o];delete this._removedLayers[o],e.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===n)return;const r=this._order.indexOf(t);this._order.splice(r,1);const o=n?this._order.indexOf(n):this._order.length;n&&-1===o?this.fire(new e.ErrorEvent(new Error(`Cannot move layer "${t}" before non-existing layer "${n}".`))):(this._order.splice(o,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.ErrorEvent(new Error(`Cannot remove non-existing layer "${t}".`)));n.setEventedParent(null);const r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}setLayerZoomRange(t,n,r){this._checkLoaded();const o=this.getLayer(t);o?o.minzoom===n&&o.maxzoom===r||(null!=n&&(o.minzoom=n),null!=r&&(o.maxzoom=r),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))}setFilter(t,n,r={}){this._checkLoaded();const i=this.getLayer(t);if(i){if(!o(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(e.validateStyle.filter,`layers.${i.id}.filter`,n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i)))}else this.fire(new e.ErrorEvent(new Error(`Cannot filter non-existing layer "${t}".`)))}getFilter(t){return e.clone$1(this.getLayer(t).filter)}setLayoutProperty(t,n,r,i={}){this._checkLoaded();const a=this.getLayer(t);a?o(a.getLayoutProperty(n),r)||(a.setLayoutProperty(n,r,i),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getLayoutProperty(t,n){const r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error(`Cannot get style of non-existing layer "${t}".`)))}setPaintProperty(t,n,r,i={}){this._checkLoaded();const a=this.getLayer(t);a?o(a.getPaintProperty(n),r)||(a.setPaintProperty(n,r,i)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const r=t.source,o=t.sourceLayer,i=this.sourceCaches[r];if(void 0===i)return void this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)));const a=i.getSource().type;"geojson"===a&&o?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||o?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.setFeatureState(o,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,n){this._checkLoaded();const r=t.source,o=this.sourceCaches[r];if(void 0===o)return void this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)));const i=o.getSource().type,a="vector"===i?t.sourceLayer:void 0;"vector"!==i||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):o.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(t){this._checkLoaded();const n=t.source,r=t.sourceLayer,o=this.sourceCaches[n];if(void 0!==o)return"vector"!==o.getSource().type||r?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.getFeatureState(r,t.id)):void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(e=>e.serialize())),layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},r=[];for(let o=this._order.length-1;o>=0;o--){const i=this._order[o];if(t(i)){n[i]=o;for(const t of e){const e=t[i];if(e)for(const t of e)r.push(t)}}}r.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const o=[];for(let i=this._order.length-1;i>=0;i--){const a=this._order[i];if(t(a))for(let e=r.length-1;e>=0;e--){const t=r[e].feature;if(n[t.layer.id]<i)break;o.push(t),r.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)o.push(t.feature)}}return o}queryRenderedFeatures(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);const o={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];o[n.source]=!0}}const i=[];n.availableImages=this._availableImages;for(const e in this.sourceCaches)n.layers&&!o[e]||i.push(z(this.sourceCaches[e],this._layers,this._serializedLayers,t,n,r));return this.placement&&i.push(function(e,t,n,r,o,i,a){const s={},l=i.queryRenderedSymbols(r),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(F);for(const n of c){const r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,o.filter,o.layers,o.availableImages,e);for(const e in r){const t=s[e]=s[e]||[],o=r[e];o.sort(((e,t)=>{const r=n.featureSortOrder;if(r){const n=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-n}return t.featureIndex-e.featureIndex}));for(const e of o)t.push(e)}}for(const t in s)s[t].forEach((r=>{const o=r.feature,i=n[e[t].source].getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=i}));return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(i)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);const r=this.sourceCaches[t];return r?function(e,t){const n=e.getRenderableIds().map((t=>e.getTileByID(t))),r=[],o={};for(let e=0;e<n.length;e++){const i=n[e],a=i.tileID.canonical.key;o[a]||(o[a]=!0,i.querySourceFeatures(r,t))}return r}(r,n):[]}addSourceType(e,t,n){return nt.getSourceType(e)?n(new Error(`A source type called "${e}" already exists.`)):(nt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(t,n={}){this._checkLoaded();const r=this.light.getLight();let i=!1;for(const e in t)if(!o(t[e],r[e])){i=!0;break}if(!i)return;const a={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}_validate(t,n,r,o,i={}){return(!i||!1!==i.validate)&&Xe(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.spec},o)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){const t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(t,n,r,o,i=!1){let a=!1,s=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this.sourceCaches[n.source];l[n.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const r=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng);a=a||r}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((i=i||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new We(t,this._order,i,n,r,o,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(t,n,r){return e.makeRequest(n,r)}}nt.getSourceType=function(e){return R[e]},nt.setSourceType=function(e,t){R[e]=t},nt.registerForPluginStateChange=e.registerForPluginStateChange;var rt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),ot={prelude:it("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),background:it("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:it("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:it("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:it("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:it("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:it("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:it("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:it("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:it("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fill:it("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:it("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:it("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:it("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:it("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:it("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:it("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),lineGradient:it("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),linePattern:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:it("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:it("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:it("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),symbolSDF:it("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:it("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}")};function it(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),i=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=i?i.concat(o):o,s={};return{fragmentSource:e=e.replace(n,((e,t,n,r,o)=>(s[o]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nvarying ${n} ${r} ${o};\n#else\nuniform ${n} ${r} u_${o};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${o}\n    ${n} ${r} ${o} = u_${o};\n#endif\n`))),vertexSource:t=t.replace(n,((e,t,n,r,o)=>{const i="float"===r?"vec2":"vec4",a=o.match(/color/)?"color":i;return s[o]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${i} a_${o};\nvarying ${n} ${r} ${o};\n#else\nuniform ${n} ${r} u_${o};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = a_${o};\n#else\n    ${n} ${r} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = unpack_mix_${a}(a_${o}, u_${o}_t);\n#else\n    ${n} ${r} ${o} = u_${o};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${i} a_${o};\n#else\nuniform ${n} ${r} u_${o};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${r} ${o} = a_${o};\n#else\n    ${n} ${r} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${r} ${o} = unpack_mix_${a}(a_${o}, u_${o}_t);\n#else\n    ${n} ${r} ${o} = u_${o};\n#endif\n`})),staticAttributes:r,staticUniforms:a}}class at{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,n,r,o,i,a,s){this.context=e;let l=this.boundPaintVertexBuffers.length!==r.length;for(let e=0;!l&&e<r.length;e++)this.boundPaintVertexBuffers[e]!==r[e]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!l&&this.boundIndexBuffer===o&&this.boundVertexOffset===i&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind()):this.freshBind(t,n,r,o,i,a,s)}freshBind(e,t,n,r,o,i,a){let s;const l=e.numAttributes,c=this.context,u=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=c.currentNumAttributes||0;for(let e=l;e<s;e++)u.disableVertexAttribArray(e)}t.enableAttributes(u,e);for(const t of n)t.enableAttributes(u,e);i&&i.enableAttributes(u,e),a&&a.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,o);for(const t of n)t.bind(),t.setVertexAttribPointers(u,e,o);i&&(i.bind(),i.setVertexAttribPointers(u,e,o)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,e,o)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function st(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const r=e[n].split(" ");t.push(r.pop())}return t}class lt{constructor(e,t,n,r,o,i){const a=e.gl;this.program=a.createProgram();const s=st(n.staticAttributes),l=r?r.getBinderAttributes():[],c=s.concat(l),u=n.staticUniforms?st(n.staticUniforms):[],d=r?r.getBinderUniforms():[],f=u.concat(d),p=[];for(const e of f)p.indexOf(e)<0&&p.push(e);const h=r?r.defines():[];i&&h.push("#define OVERDRAW_INSPECTOR;");const m=h.concat(ot.prelude.fragmentSource,n.fragmentSource).join("\n"),g=h.concat(ot.prelude.vertexSource,n.vertexSource).join("\n"),v=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(v,m),a.compileShader(v),a.attachShader(this.program,v);const y=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())return void(this.failedToCreate=!0);a.shaderSource(y,g),a.compileShader(y),a.attachShader(this.program,y),this.attributes={};const b={};this.numAttributes=c.length;for(let e=0;e<this.numAttributes;e++)c[e]&&(a.bindAttribLocation(this.program,e,c[e]),this.attributes[c[e]]=e);a.linkProgram(this.program),a.deleteShader(y),a.deleteShader(v);for(let e=0;e<p.length;e++){const t=p[e];if(t&&!b[t]){const e=a.getUniformLocation(this.program,t);e&&(b[t]=e)}}this.fixedUniforms=o(e,b),this.binderUniforms=r?r.getUniforms(e,b):[]}draw(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m){const g=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(o),e.setCullFace(i);for(const e in this.fixedUniforms)this.fixedUniforms[e].set(a[e]);p&&p.setUniforms(e,this.binderUniforms,d,{zoom:f});const v={[g.LINES]:2,[g.TRIANGLES]:3,[g.LINE_STRIP]:1}[t];for(const n of u.get()){const r=n.vaos||(n.vaos={});(r[s]||(r[s]=new at)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,n.vertexOffset,h,m),g.drawElements(t,n.primitiveLength*v,g.UNSIGNED_SHORT,n.primitiveOffset*v*2)}}}function ct(e,t,n){const r=1/Ce(n,1,t.transform.tileZoom),o=Math.pow(2,n.tileID.overscaledZ),i=n.tileSize*Math.pow(2,t.transform.tileZoom)/o,a=i*(n.tileID.canonical.x+n.tileID.wrap*o),s=i*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const ut=(t,n,r,o)=>{const i=n.style.light,a=i.properties.get("position"),s=[a.x,a.y,a.z],l=function(){var t=new e.ARRAY_TYPE(9);return e.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();"viewport"===i.properties.get("anchor")&&function(e,t){var n=Math.sin(t),r=Math.cos(t);e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(l,-n.transform.angle),function(e,t,n){var r=t[0],o=t[1],i=t[2];e[0]=r*n[0]+o*n[3]+i*n[6],e[1]=r*n[1]+o*n[4]+i*n[7],e[2]=r*n[2]+o*n[5]+i*n[8]}(s,s,l);const c=i.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:i.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+r,u_opacity:o}},dt=(t,n,r,o,i,a,s)=>e.extend(ut(t,n,r,o),ct(a,n,s),{u_height_factor:-Math.pow(2,i.overscaledZ)/s.tileSize/8}),ft=e=>({u_matrix:e}),pt=(t,n,r,o)=>e.extend(ft(t),ct(r,n,o)),ht=(e,t)=>({u_matrix:e,u_world:t}),mt=(t,n,r,o,i)=>e.extend(pt(t,n,r,o),{u_world:i}),gt=(e,t,n,r)=>{const o=e.transform;let i,a;if("map"===r.paint.get("circle-pitch-alignment")){const e=Ce(n,1,o.zoom);i=!0,a=[e,e]}else i=!1,a=o.pixelsToGLUnits;return{u_camera_to_center_distance:o.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+i,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:a}},vt=(e,t,n)=>{const r=Ce(n,1,t.zoom),o=Math.pow(2,t.zoom-n.tileID.overscaledZ),i=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*o),t.pixelsToGLUnits[1]/(r*o)],u_overscale_factor:i}},yt=(e,t,n=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}),bt=e=>({u_matrix:e}),_t=(e,t,n,r)=>({u_matrix:e,u_extrude_scale:Ce(t,1,n),u_intensity:r});function wt(t,n){const r=Math.pow(2,n.canonical.z),o=n.canonical.y;return[new e.MercatorCoordinate(0,o/r).toLngLat().lat,new e.MercatorCoordinate(0,(o+1)/r).toLngLat().lat]}const xt=(e,t,n)=>{const r=e.transform;return{u_matrix:At(e,t,n),u_ratio:1/Ce(t,1,r.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},St=(t,n,r,o)=>e.extend(xt(t,n,r),{u_image:0,u_image_height:o}),Et=(e,t,n,r)=>{const o=e.transform,i=kt(t,o);return{u_matrix:At(e,t,n),u_texsize:t.imageAtlasTexture.size,u_ratio:1/Ce(t,1,o.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[i,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Ct=(t,n,r,o,i)=>{const a=t.lineAtlas,s=kt(n,t.transform),l="round"===r.layout.get("line-cap"),c=a.getDash(o.from,l),u=a.getDash(o.to,l),d=c.width*i.fromScale,f=u.width*i.toScale;return e.extend(xt(t,n,r),{u_patternscale_a:[s/d,-c.height/2],u_patternscale_b:[s/f,-u.height/2],u_sdfgamma:a.width/(256*Math.min(d,f)*t.pixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:u.y,u_mix:i.t})};function kt(e,t){return 1/Ce(e,1,t.tileZoom)}function At(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const Tt=(e,t,n,r,o)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(a=o.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(i=o.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:It(o.paint.get("raster-hue-rotate"))};var i,a};function It(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const Pt=(e,t,n,r,o,i,a,s,l,c)=>{const u=o.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:c,u_texture:0}},Ot=(t,n,r,o,i,a,s,l,c,u,d)=>{const f=i.transform;return e.extend(Pt(t,n,r,o,i,a,s,l,c,u),{u_gamma_scale:o?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_device_pixel_ratio:i.pixelRatio,u_is_halo:+d})},Mt=(t,n,r,o,i,a,s,l,c,u)=>e.extend(Ot(t,n,r,o,i,a,s,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1}),Nt=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),Lt=(t,n,r,o,i,a)=>e.extend(function(e,t,n,r){const o=n.imageManager.getPattern(e.from.toString()),i=n.imageManager.getPattern(e.to.toString()),{width:a,height:s}=n.imageManager.getPixelSize(),l=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,u=c*(r.tileID.canonical.x+r.tileID.wrap*l),d=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/Ce(r,1,n.transform.tileZoom),u_pixel_coord_upper:[u>>16,d>>16],u_pixel_coord_lower:[65535&u,65535&d]}}(o,a,r,i),{u_matrix:t,u_opacity:n}),Rt={fillExtrusion:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}),fillExtrusionPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}),fill:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),fillPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),fillOutline:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}),fillOutlinePattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),circle:(t,n)=>({u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),collisionBox:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}),collisionCircle:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}),debug:(t,n)=>({u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}),clippingMask:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),heatmap:(t,n)=>({u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),heatmapTexture:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}),hillshade:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}),hillshadePrepare:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}),line:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}),lineGradient:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}),linePattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),lineSDF:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}),raster:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}),symbolIcon:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}),symbolSDF:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}),symbolTextAndIcon:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}),background:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}),backgroundPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)})};class Dt{constructor(e,t,n){this.context=e;const r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const zt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ft{constructor(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;const o=e.gl;this.buffer=o.createBuffer(),e.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}setVertexAttribPointers(e,t,n){for(let r=0;r<this.attributes.length;r++){const o=this.attributes[r],i=t.attributes[o.name];void 0!==i&&e.vertexAttribPointer(i,o.components,e[zt[o.type]],!1,this.itemSize,o.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ut{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class jt extends Ut{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Bt extends Ut{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Vt extends Ut{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Gt extends Ut{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class qt extends Ut{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Ht extends Ut{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Wt extends Ut{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class Kt extends Ut{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class $t extends Ut{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Zt extends Ut{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Yt extends Ut{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class Jt extends Ut{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Xt extends Ut{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class Qt extends Ut{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class en extends Ut{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class tn extends Ut{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class nn extends Ut{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class rn extends Ut{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class on extends Ut{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class an extends Ut{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class sn extends Ut{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class ln extends Ut{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class cn extends Ut{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class un extends Ut{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class dn extends Ut{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class fn extends Ut{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class pn extends Ut{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class hn extends Ut{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class mn extends Ut{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class gn extends Ut{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class vn extends Ut{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class yn extends Ut{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class bn extends yn{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class _n extends yn{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class wn{constructor(e,t,n,r){this.context=e,this.width=t,this.height=n;const o=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new bn(e,o),r&&(this.depthAttachment=new _n(e,o))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class xn{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}xn.Replace=[1,0],xn.disabled=new xn(xn.Replace,e.Color.transparent,[!1,!1,!1,!1]),xn.unblended=new xn(xn.Replace,e.Color.transparent,[!0,!0,!0,!0]),xn.alphaBlended=new xn([1,771],e.Color.transparent,[!0,!0,!0,!0]);class Sn{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new jt(this),this.clearDepth=new Bt(this),this.clearStencil=new Vt(this),this.colorMask=new Gt(this),this.depthMask=new qt(this),this.stencilMask=new Ht(this),this.stencilFunc=new Wt(this),this.stencilOp=new Kt(this),this.stencilTest=new $t(this),this.depthRange=new Zt(this),this.depthTest=new Yt(this),this.depthFunc=new Jt(this),this.blend=new Xt(this),this.blendFunc=new Qt(this),this.blendColor=new en(this),this.blendEquation=new tn(this),this.cullFace=new nn(this),this.cullFaceSide=new rn(this),this.frontFace=new on(this),this.program=new an(this),this.activeTexture=new sn(this),this.viewport=new ln(this),this.bindFramebuffer=new cn(this),this.bindRenderbuffer=new un(this),this.bindTexture=new dn(this),this.bindVertexBuffer=new fn(this),this.bindElementBuffer=new pn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new hn(this),this.pixelStoreUnpack=new mn(this),this.pixelStoreUnpackPremultiplyAlpha=new gn(this),this.pixelStoreUnpackFlipY=new vn(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new Dt(this,e,t)}createVertexBuffer(e,t,n){return new Ft(this,e,t,n)}createRenderbuffer(e,t,n){const r=this.gl,o=r.createRenderbuffer();return this.bindRenderbuffer.set(o),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),o}createFramebuffer(e,t,n){return new wn(this,e,t,n)}clear({color:e,depth:t}){const n=this.gl;let r=0;e&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),n.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){o(e.blendFunction,xn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class En{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}En.ReadOnly=!1,En.ReadWrite=!0,En.disabled=new En(519,En.ReadOnly,[0,1]);const Cn=7680;class kn{constructor(e,t,n,r,o,i){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=o,this.pass=i}}kn.disabled=new kn({func:519,mask:0},0,0,Cn,Cn,Cn);class An{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}let Tn;function In(t,n,r,o,i,a,s){const l=t.context,c=l.gl,u=t.useProgram("collisionBox"),d=[];let f=0,p=0;for(let h=0;h<o.length;h++){const m=o[h],g=n.getTile(m),v=g.getBucket(r);if(!v)continue;let y=m.posMatrix;0===i[0]&&0===i[1]||(y=t.translatePosMatrix(m.posMatrix,g,i,a));const b=s?v.textCollisionBox:v.iconCollisionBox,_=v.collisionCircleArray;if(_.length>0){const n=e.create(),r=y;e.mul(n,v.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(n,n,v.placementViewportMatrix),d.push({circleArray:_,circleOffset:p,transform:r,invTransform:n}),f+=_.length/4,p=f}b&&u.draw(l,c.LINES,En.disabled,kn.disabled,t.colorModeForRenderPass(),An.disabled,vt(y,t.transform,g),r.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,null,b.collisionVertexBuffer)}if(!s||!d.length)return;const h=t.useProgram("collisionCircle"),m=new e.CollisionCircleLayoutArray;m.resize(4*f),m._trim();let g=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,r=e.circleArray[n+0],o=e.circleArray[n+1],i=e.circleArray[n+2],a=e.circleArray[n+3];m.emplace(g++,r,o,i,a,0),m.emplace(g++,r,o,i,a,1),m.emplace(g++,r,o,i,a,2),m.emplace(g++,r,o,i,a,3)}(!Tn||Tn.length<2*f)&&(Tn=function(t){const n=2*t,r=new e.QuadTriangleArray;r.resize(n),r._trim();for(let e=0;e<n;e++){const t=6*e;r.uint16[t+0]=4*e+0,r.uint16[t+1]=4*e+1,r.uint16[t+2]=4*e+2,r.uint16[t+3]=4*e+2,r.uint16[t+4]=4*e+3,r.uint16[t+5]=4*e+0}return r}(f));const v=l.createIndexBuffer(Tn,!0),y=l.createVertexBuffer(m,e.collisionCircleLayout.members,!0);for(const n of d){const o={u_matrix:n.transform,u_inv_matrix:n.invTransform,u_camera_to_center_distance:(b=t.transform).cameraToCenterDistance,u_viewport_size:[b.width,b.height]};h.draw(l,c.TRIANGLES,En.disabled,kn.disabled,t.colorModeForRenderPass(),An.disabled,o,r.id,y,v,e.SegmentVector.simpleSegment(0,2*n.circleOffset,n.circleArray.length,n.circleArray.length/2),null,t.transform.zoom,null,null,null)}var b;y.destroy(),v.destroy()}An.disabled=new An(!1,1029,2305),An.backCCW=new An(!0,1029,2305);const Pn=e.identity(new Float32Array(16));function On(t,n,r,o,i,a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),c=-(s-.5)*n,u=-(l-.5)*r,d=e.evaluateVariableOffset(t,o);return new e.pointGeometry((c/i+d[0])*a,(u/i+d[1])*a)}function Mn(t,n,r,o,i,a,s,l,c,u){const d=t.text.placedSymbolArray,f=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,h={};f.clear();for(let p=0;p<d.length;p++){const m=d.get(p),g=t.allowVerticalPlacement&&!m.placedOrientation,v=m.hidden||!m.crossTileID||g?null:o[m.crossTileID];if(v){const o=new e.pointGeometry(m.anchorX,m.anchorY),d=de(o,r?s:a),p=fe(i.cameraToCenterDistance,d.signedDistanceFromCamera);let g=e.evaluateSizeForFeature(t.textSizeData,c,m)*p/e.ONE_EM;r&&(g*=t.tilePixelRatio/l);const{width:y,height:b,anchor:_,textOffset:w,textBoxScale:x}=v,S=On(_,y,b,w,x,g),E=r?de(o.add(S),a).point:d.point.add(n?S.rotate(-i.angle):S),C=t.allowVerticalPlacement&&m.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<m.numGlyphs;t++)e.addDynamicAttributes(f,E,C);u&&m.associatedIconIndex>=0&&(h[m.associatedIconIndex]={shiftedAnchor:E,angle:C})}else we(m.numGlyphs,f)}if(u){p.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const r=n.get(t);if(r.hidden)we(r.numGlyphs,p);else{const n=h[t];if(n)for(let t=0;t<r.numGlyphs;t++)e.addDynamicAttributes(p,n.shiftedAnchor,n.angle);else we(r.numGlyphs,p)}}t.icon.dynamicLayoutVertexBuffer.updateData(p)}t.text.dynamicLayoutVertexBuffer.updateData(f)}function Nn(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Ln(t,n,r,o,i,a,s,l,c,u,d,f){const p=t.context,h=p.gl,m=t.transform,g="map"===l,v="map"===c,y="viewport"!==l&&"point"!==r.layout.get("symbol-placement"),b=g&&!v&&!y,_=!r.layout.get("symbol-sort-key").isConstant();let w=!1;const x=t.depthModeForSublayer(0,En.ReadOnly),S=r.layout.get("text-variable-anchor"),E=[];for(const l of o){const o=n.getTile(l),c=o.getBucket(r);if(!c)continue;const d=i?c.text:c.icon;if(!d||!d.segments.get().length)continue;const f=d.programConfigurations.get(r.id),p=i||c.sdfIcons,x=i?c.textSizeData:c.iconSizeData,C=v||0!==m.pitch,k=t.useProgram(Nn(p,i,c),f),A=e.evaluateSizeForZoom(x,m.zoom);let T,I,P,O,M=[0,0],N=null;if(i){if(I=o.glyphAtlasTexture,P=h.LINEAR,T=o.glyphAtlasTexture.size,c.iconsInText){M=o.imageAtlasTexture.size,N=o.imageAtlasTexture;const e="composite"===x.kind||"camera"===x.kind;O=C||t.options.rotating||t.options.zooming||e?h.LINEAR:h.NEAREST}}else{const e=1!==r.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;I=o.imageAtlasTexture,P=p||t.options.rotating||t.options.zooming||e||C?h.LINEAR:h.NEAREST,T=o.imageAtlasTexture.size}const L=Ce(o,1,t.transform.zoom),R=ce(l.posMatrix,v,g,t.transform,L),D=ue(l.posMatrix,v,g,t.transform,L),z=S&&c.hasTextData(),F="none"!==r.layout.get("icon-text-fit")&&z&&c.hasIconData();if(y){const e="map"===r.layout.get("text-rotation-alignment");he(c,l.posMatrix,t,i,R,D,v,u,e)}const U=t.translatePosMatrix(l.posMatrix,o,a,s),j=y||i&&S||F?Pn:R,B=t.translatePosMatrix(D,o,a,s,!0),V=p&&0!==r.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1);let G;G=p?c.iconsInText?Mt(x.kind,A,b,v,t,U,j,B,T,M):Ot(x.kind,A,b,v,t,U,j,B,i,T,!0):Pt(x.kind,A,b,v,t,U,j,B,i,T);const q={program:k,buffers:d,uniformValues:G,atlasTexture:I,atlasTextureIcon:N,atlasInterpolation:P,atlasInterpolationIcon:O,isSDF:p,hasHalo:V};if(_&&c.canOverlap){w=!0;const t=d.segments.get();for(const n of t)E.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:q})}else E.push({segments:d.segments,sortKey:0,state:q})}w&&E.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of E){const n=e.state;if(p.activeTexture.set(h.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,h.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(h.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,h.CLAMP_TO_EDGE)),n.isSDF){const o=n.uniformValues;n.hasHalo&&(o.u_is_halo=1,Rn(n.buffers,e.segments,r,t,n.program,x,d,f,o)),o.u_is_halo=0}Rn(n.buffers,e.segments,r,t,n.program,x,d,f,n.uniformValues)}}function Rn(e,t,n,r,o,i,a,s,l){const c=r.context;o.draw(c,c.gl.TRIANGLES,i,a,s,An.disabled,l,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Dn(e,t,n,r,o,i,a){const s=e.context.gl,l=n.paint.get("fill-pattern"),c=l&&l.constantOr(1),u=n.getCrossfadeParameters();let d,f,p,h,m;a?(f=c&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=s.LINES):(f=c?"fillPattern":"fill",d=s.TRIANGLES);for(const g of r){const r=t.getTile(g);if(c&&!r.patternsLoaded())continue;const v=r.getBucket(n);if(!v)continue;const y=v.programConfigurations.get(n.id),b=e.useProgram(f,y);c&&(e.context.activeTexture.set(s.TEXTURE0),r.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),y.updatePaintBuffers(u));const _=l.constantOr(null);if(_&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[_.to.toString()],n=e.patternPositions[_.from.toString()];t&&n&&y.setConstantPatternPositions(t,n)}const w=e.translatePosMatrix(g.posMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){h=v.indexBuffer2,m=v.segments2;const t=[s.drawingBufferWidth,s.drawingBufferHeight];p="fillOutlinePattern"===f&&c?mt(w,e,u,r,t):ht(w,t)}else h=v.indexBuffer,m=v.segments,p=c?pt(w,e,u,r):ft(w);b.draw(e.context,d,o,e.stencilModeForClipping(g),i,An.disabled,p,n.id,v.layoutVertexBuffer,h,m,n.paint,e.transform.zoom,y)}}function zn(e,t,n,r,o,i,a){const s=e.context,l=s.gl,c=n.paint.get("fill-extrusion-pattern"),u=c.constantOr(1),d=n.getCrossfadeParameters(),f=n.paint.get("fill-extrusion-opacity");for(const p of r){const r=t.getTile(p),h=r.getBucket(n);if(!h)continue;const m=h.programConfigurations.get(n.id),g=e.useProgram(u?"fillExtrusionPattern":"fillExtrusion",m);u&&(e.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),m.updatePaintBuffers(d));const v=c.constantOr(null);if(v&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[v.to.toString()],n=e.patternPositions[v.from.toString()];t&&n&&m.setConstantPatternPositions(t,n)}const y=e.translatePosMatrix(p.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),b=n.paint.get("fill-extrusion-vertical-gradient"),_=u?dt(y,e,b,f,p,d,r):ut(y,e,b,f);g.draw(s,s.gl.TRIANGLES,o,i,a,An.backCCW,_,n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,n.paint,e.transform.zoom,m)}}function Fn(e,t,n,r,o,i){const a=e.context,s=a.gl,l=t.fbo;if(!l)return;const c=e.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());const u=((e,t,n)=>{const r=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),i=n.paint.get("hillshade-accent-color");let a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=e.transform.angle);const s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:wt(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:o,u_accent:i}})(e,t,n);c.draw(a,s.TRIANGLES,r,o,i,An.disabled,u,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function Un(t,n,r,o,i,a){const s=t.context,l=s.gl,c=n.dem;if(c&&c.data){const u=c.dim,d=c.stride,p=c.getPixels();if(s.activeTexture.set(l.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(d),n.demTexture){const e=n.demTexture;e.update(p,{premultiply:!1}),e.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new f(s,p,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);s.activeTexture.set(l.TEXTURE0);let h=n.fbo;if(!h){const e=new f(s,{width:u,height:u,data:null},l.RGBA);e.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=n.fbo=s.createFramebuffer(u,u,!0),h.colorAttachment.set(e.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,o,i,a,An.disabled,((t,n)=>{const r=n.stride,o=e.create();return e.ortho(o,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(o,o,[0,-e.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}})(n.tileID,c),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function jn(t,n,r,o,i){const a=o.paint.get("raster-fade-duration");if(a>0){const o=e.exported.now(),s=(o-t.timeAdded)/a,l=n?(o-n.timeAdded)/a:-1,c=r.getSource(),u=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),f=d&&t.refreshedUponExpiration?1:e.clamp(d?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}const Bn=new e.Color(1,0,0,1),Vn=new e.Color(0,1,0,1),Gn=new e.Color(0,0,1,1),qn=new e.Color(1,0,1,1),Hn=new e.Color(0,1,1,1);function Wn(e,t,n,r){$n(e,0,t+n/2,e.transform.width,n,r)}function Kn(e,t,n,r){$n(e,t-n/2,0,n,e.transform.height,r)}function $n(e,t,n,r,o,i){const a=e.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,n*e.pixelRatio,r*e.pixelRatio,o*e.pixelRatio),a.clear({color:i}),s.disable(s.SCISSOR_TEST)}function Zn(t,n,r){const o=t.context,i=o.gl,a=r.posMatrix,s=t.useProgram("debug"),l=En.disabled,c=kn.disabled,u=t.colorModeForRenderPass(),d="$debug";o.activeTexture.set(i.TEXTURE0),t.emptyTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE),s.draw(o,i.LINE_STRIP,l,c,u,An.disabled,yt(a,e.Color.red),d,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);const f=n.getTileByID(r.key).latestRawTileData,p=Math.floor((f&&f.byteLength||0)/1024),h=n.getTile(r).tileSize,m=512/Math.min(h,512)*(r.overscaledZ/t.transform.zoom)*.5;let g=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(g+=` => ${r.overscaledZ}`),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,r=e.context.gl,o=e.debugOverlayCanvas.getContext("2d");o.clearRect(0,0,n.width,n.height),o.shadowColor="white",o.shadowBlur=2,o.lineWidth=1.5,o.strokeStyle="white",o.textBaseline="top",o.font="bold 36px Open Sans, sans-serif",o.fillText(t,5,5),o.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,`${g} ${p}kb`),s.draw(o,i.TRIANGLES,l,c,xn.alphaBlended,An.disabled,yt(a,e.Color.transparent,m),d,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}const Yn={symbol:function(t,n,r,o,i){if("translucent"!==t.renderPass)return;const a=kn.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,o,i,a,s){const l=n.transform,c="map"===i,u="map"===a;for(const i of t){const t=o.getTile(i),a=t.getBucket(r);if(!a||!a.text||!a.text.segments.get().length)continue;const d=e.evaluateSizeForZoom(a.textSizeData,l.zoom),f=Ce(t,1,n.transform.zoom),p=ce(i.posMatrix,u,c,n.transform,f),h="none"!==r.layout.get("icon-text-fit")&&a.hasIconData();if(d){const e=Math.pow(2,l.zoom-t.tileID.overscaledZ);Mn(a,c,u,s,l,p,i.posMatrix,e,d,h)}}}(o,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),i),0!==r.paint.get("icon-opacity").constantOr(1)&&Ln(t,n,r,o,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&Ln(t,n,r,o,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(In(t,n,r,o,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),In(t,n,r,o,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))},circle:function(t,n,r,o){if("translucent"!==t.renderPass)return;const i=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=!r.layout.get("circle-sort-key").isConstant();if(0===i.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,d=t.depthModeForSublayer(0,En.ReadOnly),f=kn.disabled,p=t.colorModeForRenderPass(),h=[];for(let i=0;i<o.length;i++){const a=o[i],s=n.getTile(a),c=s.getBucket(r);if(!c)continue;const u=c.programConfigurations.get(r.id),d={programConfiguration:u,program:t.useProgram("circle",u),layoutVertexBuffer:c.layoutVertexBuffer,indexBuffer:c.indexBuffer,uniformValues:gt(t,a,s,r)};if(l){const t=c.segments.get();for(const n of t)h.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:d})}else h.push({segments:c.segments,sortKey:0,state:d})}l&&h.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of h){const{programConfiguration:n,program:o,layoutVertexBuffer:i,indexBuffer:a,uniformValues:s}=e.state;o.draw(c,u.TRIANGLES,d,f,p,An.disabled,s,r.id,i,a,e.segments,r.paint,t.transform.zoom,n)}},heatmap:function(t,n,r,o){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const i=t.context,a=i.gl,s=kn.disabled,l=new xn([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){const r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let o=n.heatmapFbo;if(o)r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),e.bindFramebuffer.set(o.framebuffer);else{const i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),o=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){const o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,t.width/4,t.height/4,0,o.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,i,o)}}(i,t,r),i.clear({color:e.Color.transparent});for(let e=0;e<o.length;e++){const c=o[e];if(n.hasRenderableParent(c))continue;const u=n.getTile(c),d=u.getBucket(r);if(!d)continue;const f=d.programConfigurations.get(r.id),p=t.useProgram("heatmap",f),{zoom:h}=t.transform;p.draw(i,a.TRIANGLES,En.disabled,s,l,An.disabled,_t(c.posMatrix,u,h,r.paint.get("heatmap-intensity")),r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,t.transform.zoom,f)}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const r=t.context,o=r.gl,i=n.heatmapFbo;if(!i)return;r.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),r.activeTexture.set(o.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new f(r,n.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,o.TRIANGLES,En.disabled,kn.disabled,t.colorModeForRenderPass(),An.disabled,((t,n,r,o)=>{const i=e.create();e.ortho(i,0,t.width,t.height,0,0,1);const a=t.context.gl;return{u_matrix:i,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}})(t,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,r))},line:function(t,n,r,o){if("translucent"!==t.renderPass)return;const i=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0===i.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,En.ReadOnly),l=t.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),u=r.paint.get("line-pattern"),d=u.constantOr(1),p=r.paint.get("line-gradient"),h=r.getCrossfadeParameters(),m=d?"linePattern":c?"lineSDF":p?"lineGradient":"line",g=t.context,v=g.gl;let y=!0;for(const i of o){const o=n.getTile(i);if(d&&!o.patternsLoaded())continue;const a=o.getBucket(r);if(!a)continue;const b=a.programConfigurations.get(r.id),_=t.context.program.get(),w=t.useProgram(m,b),x=y||w.program!==_,S=u.constantOr(null);if(S&&o.imageAtlas){const e=o.imageAtlas,t=e.patternPositions[S.to.toString()],n=e.patternPositions[S.from.toString()];t&&n&&b.setConstantPatternPositions(t,n)}const E=d?Et(t,o,r,h):c?Ct(t,o,r,c,h):p?St(t,o,r,a.lineClipsArray.length):xt(t,o,r);if(d)g.activeTexture.set(v.TEXTURE0),o.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),b.updatePaintBuffers(h);else if(c&&(x||t.lineAtlas.dirty))g.activeTexture.set(v.TEXTURE0),t.lineAtlas.bind(g);else if(p){const o=a.gradients[r.id];let s=o.texture;if(r.gradientVersion!==o.version){let l=256;if(r.stepInterpolant){const r=n.getSource().maxzoom,o=i.canonical.z===r?Math.ceil(1<<t.transform.maxZoom-i.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*o),256,g.maxTextureSize)}o.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:o.gradient||void 0,clips:a.lineClipsArray}),o.texture?o.texture.update(o.gradient):o.texture=new f(g,o.gradient,v.RGBA),o.version=r.gradientVersion,s=o.texture}g.activeTexture.set(v.TEXTURE0),s.bind(r.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}w.draw(g,v.TRIANGLES,s,t.stencilModeForClipping(i),l,An.disabled,E,r.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,r.paint,t.transform.zoom,b,a.layoutVertexBuffer2),y=!1}},fill:function(t,n,r,o){const i=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===i.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const e=t.depthModeForSublayer(1,"opaque"===t.renderPass?En.ReadWrite:En.ReadOnly);Dn(t,n,r,o,e,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){const e=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,En.ReadOnly);Dn(t,n,r,o,e,s,!0)}},"fill-extrusion":function(e,t,n,r){const o=n.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===e.renderPass){const i=new En(e.context.gl.LEQUAL,En.ReadWrite,e.depthRangeFor3D);if(1!==o||n.paint.get("fill-extrusion-pattern").constantOr(1))zn(e,t,n,r,i,kn.disabled,xn.disabled),zn(e,t,n,r,i,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const o=e.colorModeForRenderPass();zn(e,t,n,r,i,kn.disabled,o)}}},hillshade:function(e,t,n,r){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const o=e.context,i=e.depthModeForSublayer(0,En.ReadOnly),a=e.colorModeForRenderPass(),[s,l]="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r];for(const r of l){const o=t.getTile(r);o.needsHillshadePrepare&&"offscreen"===e.renderPass?Un(e,o,n,i,kn.disabled,a):"translucent"===e.renderPass&&Fn(e,o,n,i,s[r.overscaledZ],a)}o.viewport.set([0,0,e.width,e.height])},raster:function(e,t,n,r){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const o=e.context,i=o.gl,a=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),[c,u]=a instanceof M?[{},r]:e.stencilConfigForOverlap(r),d=u[u.length-1].overscaledZ,f=!e.options.moving;for(const r of u){const u=e.depthModeForSublayer(r.overscaledZ-d,1===n.paint.get("raster-opacity")?En.ReadWrite:En.ReadOnly,i.LESS),p=t.getTile(r),h=e.transform.calculatePosMatrix(r.toUnwrapped(),f);p.registerFadeDuration(n.paint.get("raster-fade-duration"));const m=t.findLoadedParent(r,0),g=jn(p,m,t,n,e.transform);let v,y;const b="nearest"===n.paint.get("raster-resampling")?i.NEAREST:i.LINEAR;o.activeTexture.set(i.TEXTURE0),p.texture.bind(b,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(i.TEXTURE1),m?(m.texture.bind(b,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),v=Math.pow(2,m.tileID.overscaledZ-p.tileID.overscaledZ),y=[p.tileID.canonical.x*v%1,p.tileID.canonical.y*v%1]):p.texture.bind(b,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST);const _=Tt(h,y||[0,0],v||1,g,n);a instanceof M?s.draw(o,i.TRIANGLES,u,kn.disabled,l,An.disabled,_,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(o,i.TRIANGLES,u,c[r.overscaledZ],l,An.disabled,_,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){const r=n.paint.get("background-color"),o=n.paint.get("background-opacity");if(0===o)return;const i=e.context,a=i.gl,s=e.transform,l=s.tileSize,c=n.paint.get("background-pattern");if(e.isPatternMissing(c))return;const u=!c&&1===r.a&&1===o&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==u)return;const d=kn.disabled,f=e.depthModeForSublayer(0,"opaque"===u?En.ReadWrite:En.ReadOnly),p=e.colorModeForRenderPass(),h=e.useProgram(c?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});c&&(i.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));const g=n.getCrossfadeParameters();for(const t of m){const s=e.transform.calculatePosMatrix(t.toUnwrapped()),u=c?Lt(s,o,e,c,{tileID:t,tileSize:l},g):Nt(s,o,r);h.draw(i,a.TRIANGLES,f,d,p,An.disabled,u,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}},debug:function(e,t,n){for(let r=0;r<n.length;r++)Zn(e,t,n[r])},custom:function(e,t,n){const r=e.context,o=n.implementation;if("offscreen"===e.renderPass){const t=o.prerender;t&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),t.call(o,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(kn.disabled);const t="3d"===o.renderingMode?new En(e.context.gl.LEQUAL,En.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,En.ReadOnly);r.setDepthMode(t),o.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}};class Jn{constructor(e,t){this.context=new Sn(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=V.maxUnderzooming+V.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Je,this.gpuTimers={}}resize(e,t,n){if(this.width=e*n,this.height=t*n,this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style._order)this.style._layers[e].resize()}setup(){const t=this.context,n=new e.PosArray;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,rt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const r=new e.PosArray;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,rt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const o=new e.RasterBoundsArray;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(o,O.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const i=new e.PosArray;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,rt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.LineStripIndexArray;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);const s=new e.TriangleIndexArray;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new f(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);const l=this.context.gl;this.stencilClearMode=new kn({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,En.disabled,this.stencilClearMode,xn.disabled,An.disabled,bt(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source;const n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(xn.disabled),n.setDepthMode(En.disabled);const o=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const e of t){const t=this._tileClippingMaskIDs[e.key]=this.nextStencilID++;o.draw(n,r.TRIANGLES,En.disabled,new kn({func:r.ALWAYS,mask:0},t,255,r.KEEP,r.KEEP,r.REPLACE),xn.disabled,An.disabled,bt(e.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new kn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new kn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,n=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=n[n.length-1].overscaledZ,o=n[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const e={};for(let n=0;n<o;n++)e[n+r]=new kn({func:t.GEQUAL,mask:255},n+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=o,[e,n]}return[{[r]:kn.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new xn([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?xn.unblended:xn.alphaBlended}depthModeForSublayer(e,t,n){if(!this.opaquePassEnabledForLayer())return En.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new En(n||this.context.gl.LEQUAL,t,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const r=this.style._order,o=this.style.sourceCaches;for(const e in o){const t=o[e];t.used&&t.prepare(this.context)}const i={},a={},s={};for(const e in o){const t=o[e];i[e]=t.getVisibleCoordinates(),a[e]=i[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<r.length;e++)if(this.style._layers[r[e]].is3D()){this.opaquePassCutoff=e;break}this.renderPass="offscreen";for(const e of r){const t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const n=a[t.source];("custom"===t.type||n.length)&&this.renderLayer(this,o[t.source],t,n)}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[r[this.currentLayer]],t=o[e.source],n=i[e.source];this._renderTileClippingMasks(e,n),this.renderLayer(this,t,e,n)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){const e=this.style._layers[r[this.currentLayer]],t=o[e.source],n=("symbol"===e.type?s:a)[e.source];this._renderTileClippingMasks(e,i[e.source]),this.renderLayer(this,t,e,n)}if(this.options.showTileBoundaries){let e,t;Object.values(this.style._layers).forEach((n=>{n.source&&!n.isHidden(this.transform.zoom)&&(n.source!==(t&&t.id)&&(t=this.style.sourceCaches[n.source]),(!e||e.getSource().maxzoom<t.getSource().maxzoom)&&(e=t))})),e&&Yn.debug(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Wn(e,e.transform.height-(t.top||0),3,Bn),Wn(e,t.bottom||0,3,Vn),Kn(e,t.left||0,3,Gn),Kn(e,e.transform.width-(t.right||0),3,qn);const n=e.transform.centerPoint;!function(e,t,n,r){$n(e,t-1,n-10,2,20,r),$n(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,Hn)}(this),this.context.setDefault()}renderLayer(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,this.gpuTimingStart(n),Yn[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}queryGpuTimers(e){const t={};for(const n in e){const r=e[n],o=this.context.extTimerQuery,i=o.getQueryObjectEXT(r.query,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(r.query),t[n]=i}return t}translatePosMatrix(t,n,r,o,i){if(!r[0]&&!r[1])return t;const a=i?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);r=[r[0]*t-r[1]*e,r[0]*e+r[1]*t]}const s=[i?r[0]:Ce(n,r[0],this.transform.zoom),i?r[1]:Ce(n,r[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}useProgram(e,t){this.cache=this.cache||{};const n=`${e}${t?t.cacheKey:""}${this._showOverdrawInspector?"/overdraw":""}`;return this.cache[n]||(this.cache[n]=new lt(this.context,e,ot[e],t,Rt[e],this._showOverdrawInspector)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new f(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class Xn{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(t,n,r){const o=Math.pow(2,r),i=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((n=>e.transformMat4([],n,t))).map((t=>e.scale$1([],t,1/t[3]/n*o))),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=function(e,t){var n=t[0],r=t[1],o=t[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}([],function(e,t,n){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1],l=n[2];return e[0]=o*l-i*s,e[1]=i*a-r*l,e[2]=r*s-o*a,e}([],u([],i[e[0]],i[e[1]]),u([],i[e[2]],i[e[1]]))),n=-((r=t)[0]*(o=i[e[1]])[0]+r[1]*o[1]+r[2]*o[2]);var r,o;return t.concat(n)}));return new Xn(i,a)}}class Qn{constructor(e,t){this.min=e,this.max=t,this.center=function(e,t,n){return e[0]=.5*t[0],e[1]=.5*t[1],e[2]=.5*t[2],e}([],function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}([],this.min,this.max))}quadrant(e){const t=[e%2==0,e<2],n=l(this.min),r=l(this.max);for(let e=0;e<t.length;e++)n[e]=t[e]?this.min[e]:this.center[e],r[e]=t[e]?this.center[e]:this.max[e];return r[2]=this.max[2],new Qn(n,r)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersects(t){const n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]];let r=!0;for(let o=0;o<t.planes.length;o++){const i=t.planes[o];let a=0;for(let t=0;t<n.length;t++)e.dot(i,n[t])>=0&&a++;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(let e=0;e<3;e++){let n=Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let o=0;o<t.points.length;o++){const i=t.points[o][e]-this.min[e];n=Math.min(n,i),r=Math.max(r,i)}if(r<0||n>this.max[e]-this.min[e])return 0}return 1}}class er{constructor(e=0,t=0,n=0,r=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r}interpolate(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this}getCenter(t,n){const r=e.clamp((this.left+t-this.right)/2,0,t),o=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(r,o)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new er(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class tr{constructor(t,n,r,o,i){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===i||!!i,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==o?60:o,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new er,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const e=new tr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=function(){var t=new e.ARRAY_TYPE(4);return e.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}(),function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+i*s,e[1]=o*l+a*s,e[2]=r*-s+i*l,e[3]=o*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies){const r=this.pointCoordinate(new e.pointGeometry(0,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(r.x,o.x,i.x,a.x)),l=Math.floor(Math.max(r.x,o.x,i.x,a.x)),c=1;for(let r=s-c;r<=l+c;r++)0!==r&&n.push(new e.UnwrappedTileID(r,t))}return n}coveringTiles(t){let n=this.coveringZoomLevel(t);const r=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);const o=e.MercatorCoordinate.fromLngLat(this.center),i=Math.pow(2,n),a=[i*o.x,i*o.y,0],s=Xn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n);let l=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(l=n);const c=e=>({aabb:new Qn([e*i,0,0],[(e+1)*i,i,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),u=[],f=[],p=n,h=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(let e=1;e<=3;e++)u.push(c(-e)),u.push(c(e));for(u.push(c(0));u.length>0;){const t=u.pop(),n=t.x,r=t.y;let o=t.fullyVisible;if(!o){const e=t.aabb.intersects(s);if(0===e)continue;o=2===e}const i=t.aabb.distanceX(a),c=t.aabb.distanceY(a),m=Math.max(Math.abs(i),Math.abs(c)),g=3+(1<<p-t.zoom)-2;if(t.zoom===p||m>g&&t.zoom>=l)f.push({tileID:new e.OverscaledTileID(t.zoom===p?h:t.zoom,t.wrap,t.zoom,n,r),distanceSq:d([a[0]-.5-n,a[1]-.5-r])});else for(let e=0;e<4;e++){const i=(n<<1)+e%2,a=(r<<1)+(e>>1);u.push({aabb:t.aabb.quadrant(e),zoom:t.zoom+1,x:i,y:a,wrap:t.wrap,fullyVisible:o})}}return f.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.pointGeometry(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)}unproject(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(t,n){const r=this.pointCoordinate(n),o=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(t),a=new e.MercatorCoordinate(i.x-(r.x-o.x),i.y-(r.y-o.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e){return this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}locationCoordinate(t){return e.MercatorCoordinate.fromLngLat(t)}coordinateLocation(e){return e.toLngLat()}pointCoordinate(t){const n=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(r,r,this.pixelMatrixInverse);const o=n[3],i=r[3],a=n[1]/o,s=r[1]/i,l=n[2]/o,c=r[2]/i,u=l===c?0:(0-l)/(c-l);return new e.MercatorCoordinate(e.number(n[0]/o,r[0]/i,u)/this.worldSize,e.number(a,s,u)/this.worldSize)}coordinatePoint(t){const n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.pointGeometry(n[0]/n[3],n[1]/n[3])}getBounds(){return(new e.LngLatBounds).extend(this.pointLocation(new e.pointGeometry(0,0))).extend(this.pointLocation(new e.pointGeometry(this.width,0))).extend(this.pointLocation(new e.pointGeometry(this.width,this.height))).extend(this.pointLocation(new e.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(t,n=!1){const r=t.key,o=n?this._alignedPosMatrixCache:this._posMatrixCache;if(o[r])return o[r];const i=t.canonical,a=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,i.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),o[r]=new Float32Array(l),o[r]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let t,n,r,o,i=-90,a=90,s=-180,l=180;const c=this.size,u=this._unmodified;if(this.latRange){const n=this.latRange;i=e.mercatorYfromLat(n[1])*this.worldSize,a=e.mercatorYfromLat(n[0])*this.worldSize,t=a-i<c.y?c.y/(a-i):0}if(this.lngRange){const t=this.lngRange;s=e.mercatorXfromLng(t[0])*this.worldSize,l=e.mercatorXfromLng(t[1])*this.worldSize,n=l-s<c.x?c.x/(l-s):0}const d=this.point,f=Math.max(n||0,t||0);if(f)return this.center=this.unproject(new e.pointGeometry(n?(l+s)/2:d.x,t?(a+i)/2:d.y)),this.zoom+=this.scaleZoom(f),this._unmodified=u,void(this._constraining=!1);if(this.latRange){const e=d.y,t=c.y/2;e-t<i&&(o=i+t),e+t>a&&(o=a-t)}if(this.lngRange){const e=d.x,t=c.x/2;e-t<s&&(r=s+t),e+t>l&&(r=l-t)}void 0===r&&void 0===o||(this.center=this.unproject(new e.pointGeometry(void 0!==r?r:d.x,void 0!==o?o:d.y))),this._unmodified=u,this._constraining=!1}_calcMatrices(){if(!this.height)return;const t=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const n=Math.PI/2+this._pitch,r=this._fov*(.5+t.y/this.height),o=Math.sin(r)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-n-r,.01,Math.PI-.01)),i=this.point,a=i.x,s=i.y,l=1.01*(Math.cos(Math.PI/2-this._pitch)*o+this.cameraToCenterDistance),c=this.height/50;let u=new Float64Array(16);e.perspective(u,this._fov,this.width/this.height,c,l),u[8]=2*-t.x/this.width,u[9]=2*t.y/this.height,e.scale(u,u,[1,-1,1]),e.translate(u,u,[0,0,-this.cameraToCenterDistance]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle),e.translate(u,u,[-a,-s,0]),this.mercatorMatrix=e.scale([],u,[this.worldSize,this.worldSize,this.worldSize]),e.scale(u,u,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize]),this.projMatrix=u,this.invProjMatrix=e.invert([],this.projMatrix);const d=this.width%2/2,f=this.height%2/2,p=Math.cos(this.angle),h=Math.sin(this.angle),m=a-Math.round(a)+p*d+h*f,g=s-Math.round(s)+p*f+h*d,v=new Float64Array(u);if(e.translate(v,v,[m>.5?m-1:m,g>.5?g-1:g,0]),this.alignedProjMatrix=v,u=e.create(),e.scale(u,u,[this.width/2,-this.height/2,1]),e.translate(u,u,[1,-1,0]),this.labelPlaneMatrix=u,u=e.create(),e.scale(u,u,[1,-1,1]),e.translate(u,u,[-1,-1,0]),e.scale(u,u,[2/this.width,2/this.height,1]),this.glCoordMatrix=u,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),u=e.invert(new Float64Array(16),this.pixelMatrix),!u)throw new Error("failed to invert matrix");this.pixelMatrixInverse=u,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const t=this.pointCoordinate(new e.pointGeometry(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}getCameraQueryGeometry(t){const n=this.getCameraPoint();if(1===t.length)return[t[0],n];{let r=n.x,o=n.y,i=n.x,a=n.y;for(const e of t)r=Math.min(r,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x),a=Math.max(a,e.y);return[new e.pointGeometry(r,o),new e.pointGeometry(i,o),new e.pointGeometry(i,a),new e.pointGeometry(r,a),new e.pointGeometry(r,o)]}}}class nr{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(e,t){let n=!1,r=null;const o=()=>{r=null,n&&(e(),r=setTimeout(o,300),n=!1)};return()=>(n=!0,r||o(),r)}(this._updateHashUnthrottled.bind(this))}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),i=Math.round(t.lng*o)/o,a=Math.round(t.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=e?`/${i}/${a}/${n}`:`${n}/${a}/${i}`,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+=`/${Math.round(l)}`),this._hashName){const e=this._hashName;let t=!1;const n=window.location.hash.slice(1).split("&").map((n=>{const r=n.split("=")[0];return r===e?(t=!0,`${r}=${c}`):n})).filter((e=>e));return t||n.push(`${e}=${c}`),`#${n.join("&")}`}return`#${c}`}_getCurrentHash(){const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const e=this._getCurrentHash();if(e.length>=3&&!e.some((e=>isNaN(e)))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(e){}}}const rr={linearity:.3,easing:e.bezier(0,0,.3,1)},or=e.extend({deceleration:2500,maxSpeed:1400},rr),ir=e.extend({deceleration:20,maxSpeed:1400},rr),ar=e.extend({deceleration:1e3,maxSpeed:360},rr),sr=e.extend({deceleration:1e3,maxSpeed:90},rr);class lr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.exported.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const r=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,o={};if(n.pan.mag()){const i=ur(n.pan.mag(),r,e.extend({},or,t||{}));o.offset=n.pan.mult(i.amount/n.pan.mag()),o.center=this._map.transform.center,cr(o,i)}if(n.zoom){const e=ur(n.zoom,r,ir);o.zoom=this._map.transform.zoom+e.amount,cr(o,e)}if(n.bearing){const t=ur(n.bearing,r,ar);o.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),cr(o,t)}if(n.pitch){const e=ur(n.pitch,r,sr);o.pitch=this._map.transform.pitch+e.amount,cr(o,e)}if(o.zoom||o.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;o.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),e.extend(o,{noMoveStart:!0})}}function cr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function ur(t,n,r){const{maxSpeed:o,linearity:i,deceleration:a}=r,s=e.clamp(t*i/(n/1e3),-o,o),l=Math.abs(s)/(a*i);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}class dr extends e.Event{constructor(t,n,r,o={}){const a=i.mousePos(n.getCanvasContainer(),r),s=n.unproject(a);super(t,e.extend({point:a,lngLat:s,originalEvent:r},o)),this._defaultPrevented=!1,this.target=n}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class fr extends e.Event{constructor(t,n,r){const o="touchend"===t?r.changedTouches:r.touches,a=i.touchPos(n.getCanvasContainer(),o),s=a.map((e=>n.unproject(e))),l=a.reduce(((e,t,n,r)=>e.add(t.div(r.length))),new e.pointGeometry(0,0));super(t,{points:a,point:l,lngLats:s,lngLat:n.unproject(l),originalEvent:r}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class pr extends e.Event{constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class hr{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new pr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new dr(e.type,this._map,e))}mouseup(e){this._map.fire(new dr(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new dr(e.type,this._map,e))}dblclick(e){return this._firePreventable(new dr(e.type,this._map,e))}mouseover(e){this._map.fire(new dr(e.type,this._map,e))}mouseout(e){this._map.fire(new dr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new fr(e.type,this._map,e))}touchmove(e){this._map.fire(new fr(e.type,this._map,e))}touchend(e){this._map.fire(new fr(e.type,this._map,e))}touchcancel(e){this._map.fire(new fr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class mr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(e){this._map.fire(new dr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new dr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new dr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class gr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(i.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=n,this._box||(this._box=i.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const o=Math.min(r.x,n.x),a=Math.max(r.x,n.x),s=Math.min(r.y,n.y),l=Math.max(r.y,n.y);i.setTransform(this._box,`translate(${o}px,${s}px)`),this._box.style.width=a-o+"px",this._box.style.height=l-s+"px"}mouseupWindow(t,n){if(!this._active)return;if(0!==t.button)return;const r=this._startPos,o=n;if(this.reset(),i.suppressClick(),r.x!==o.x||r.y!==o.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(r,o,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",t)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(i.remove(this._box),this._box=null),i.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}function vr(e,t){const n={};for(let r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}class yr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){const n=new e.pointGeometry(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=vr(r,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const r=vr(n,t);for(const e in this.touches){const t=this.touches[e],n=r[e];(!n||n.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class br{constructor(e){this.singleTap=new yr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const r=this.singleTap.touchend(e,t,n);if(r){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(r)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class _r{constructor(){this._zoomIn=new br({numTouches:1,numTaps:2}),this._zoomOut=new br({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const r=this._zoomIn.touchend(e,t,n),o=this._zoomOut.touchend(e,t,n);return r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}):o?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(o)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const wr={0:1,2:2};class xr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=i.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){const n=wr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&i.mouseButton(e)===this._eventButton&&(this._moved&&i.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Sr extends xr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class Er extends xr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class Cr extends xr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class kr{constructor(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,r){r.length>0&&(this._active=!0);const o=vr(r,n),i=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in o){const t=o[e],n=this._touches[e];n&&(i._add(t),a._add(t.sub(n)),s++,o[e]=t)}if(this._touches=o,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:i.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ar{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();const[r,o]=this._firstTwoTouches,i=Tr(n,t,r),a=Tr(n,t,o);if(!i||!a)return;const s=this._aroundCenter?null:i.add(a).div(2);return this._move([i,a],s,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[r,o]=this._firstTwoTouches,a=Tr(n,t,r),s=Tr(n,t,o);a&&s||(this._active&&i.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Tr(e,t,n){for(let r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Ir(e,t){return Math.log(e/t)/Math.LN2}class Pr extends Ar{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Ir(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ir(this._distance,n),pinchAround:t}}}function Or(e,t){return 180*e.angleWith(t)/Math.PI}class Mr extends Ar{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Or(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=Or(e,this._startVector);return Math.abs(n)<t}}function Nr(e){return Math.abs(e.y)>Math.abs(e.x)}class Lr extends Ar{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(e){this._lastPoints=e,Nr(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){const r=e[0].sub(this._lastPoints[0]),o=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,o,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+o.y)/2*-.5}}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const r=e.mag()>=2,o=t.mag()>=2;if(!r&&!o)return;if(!r||!o)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const i=e.y>0==t.y>0;return Nr(e)&&Nr(t)&&i}}const Rr={panStep:100,bearingStep:15,pitchStep:10};class Dr{constructor(){const e=Rr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,r=0,o=0,i=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),i=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),i=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:zr,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+r*this._pitchStep,offset:[-o*this._panStep,-i*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function zr(e){return e*(2-e)}const Fr=4.000244140625;class Ur{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(!this.isEnabled())return;let n=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const r=e.exported.now(),o=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%Fr==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(o*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=i.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Fr?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const r="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:t.zoom,r=this._startZoom,o=this._easing;let i,a=!1;if("wheel"===this._type&&r&&o){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),s=o(t);i=e.number(r,n,s),t<1?this._frameId||(this._frameId=!0):a=!0}else i=n,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:i-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.ease;if(this._prevEase){const t=this._prevEase,r=(e.exported.now()-t.start)/t.duration,o=t.easing(r+.01)-t.easing(r),i=.27/Math.sqrt(o*o+1e-4)*.01,a=Math.sqrt(.0729-i*i);n=e.bezier(i,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}reset(){this._active=!1}}class jr{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Br{constructor(){this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vr{constructor(){this._tap=new br({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const r=t[0],o=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:o/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class qr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Hr{constructor(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Wr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Kr extends e.Event{}function $r(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Zr{constructor(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new lr(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);const r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[window,"blur",void 0]];for(const[e,t,n]of this._listeners)i.addEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[e,t,n]of this._listeners)i.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new hr(t,e));const r=t.boxZoom=new gr(t,e);this._add("boxZoom",r);const o=new _r,i=new Br;t.doubleClickZoom=new jr(i,o),this._add("tapZoom",o),this._add("clickZoom",i);const a=new Vr;this._add("tapDragZoom",a);const s=t.touchPitch=new Lr;this._add("touchPitch",s);const l=new Er(e),c=new Cr(e);t.dragRotate=new qr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new Sr(e),d=new kr(e);t.dragPan=new Gr(n,u,d),this._add("mousePan",u),this._add("touchPan",d,["touchZoom","touchRotate"]);const f=new Mr,p=new Pr;t.touchZoomRotate=new Hr(n,p,f,a),this._add("touchRotate",f,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]);const h=t.scrollZoom=new Ur(t,this);this._add("scrollZoom",h,["mousePan"]);const m=t.keyboard=new Dr;this._add("keyboard",m),this._add("blockableMapEvent",new mr(t));for(const n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[n]&&t[n].enable(e[n])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Wr(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,n){for(const r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`)}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const n="renderFrame"===e.type?void 0:e,r={needsRenderFrame:!1},o={},a={},s=e.touches,l=s?this._getMapTouches(s):void 0,c=l?i.touchPos(this._el,l):i.mousePos(this._el,e);for(const{handlerName:i,handler:s,allowed:u}of this._handlers){if(!s.isEnabled())continue;let d;this._blockedByActive(a,u,i)?s.reset():s[t||e.type]&&(d=s[t||e.type](e,c,l),this.mergeHandlerResult(r,o,d,i,n),d&&d.needsRenderFrame&&this._triggerRenderFrame()),(d||s.isActive())&&(a[i]=s)}const u={};for(const e in this._previousActiveHandlers)a[e]||(u[e]=n);this._previousActiveHandlers=a,(Object.keys(u).length||$r(r))&&(this._changes.push([r,o,u]),this._triggerRenderFrame()),(Object.keys(a).length||$r(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:d}=r;d&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],d(this._map))}mergeHandlerResult(t,n,r,o,i){if(!r)return;e.extend(t,r);const a={handlerName:o,originalEvent:r.originalEvent||i};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},r={};for(const[o,i,a]of this._changes)o.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(o.panDelta)),o.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+o.zoomDelta),o.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+o.bearingDelta),o.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+o.pitchDelta),void 0!==o.around&&(t.around=o.around),void 0!==o.pinchAround&&(t.pinchAround=o.pinchAround),o.noInertia&&(t.noInertia=o.noInertia),e.extend(n,i),e.extend(r,a);this._updateMapTransform(t,n,r),this._changes=[]}_updateMapTransform(e,t,n){const r=this._map,o=r.transform;if(!$r(e))return this._fireEvents(t,n,!0);let{panDelta:i,zoomDelta:a,bearingDelta:s,pitchDelta:l,around:c,pinchAround:u}=e;void 0!==u&&(c=u),r._stop(!0),c=c||r.transform.centerPoint;const d=o.pointLocation(i?c.sub(i):c);s&&(o.bearing+=s),l&&(o.pitch+=l),a&&(o.zoom+=a),o.setLocationAtPoint(d,c),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}_fireEvents(t,n,r){const o=Wr(this._eventsInProgress),i=Wr(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a[`${e}start`]=n),this._eventsInProgress[e]=t[e]}!o&&i&&this._fireEvent("movestart",i.originalEvent);for(const e in a)this._fireEvent(e,a[e]);i&&this._fireEvent("move",i.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:r}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||r,s[`${e}end`]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=Wr(this._eventsInProgress);if(r&&(o||i)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(n(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new Kr("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Yr={extend:(t,...n)=>e.extend(t,...n),run(e){e()},logToElement(e,t=!1,n="log"){const r=window.document.getElementById(n);r&&(t&&(r.innerHTML=""),r.innerHTML+=`<br>${e}`)}};class Jr extends e.Evented{constructor(t,n){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,r){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)}panTo(t,n,r){return this.easeTo(e.extend({center:t},n),r)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)}resetNorth(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,n){t=e.LngLatBounds.convert(t);const r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)}_cameraForBoxAndBearing(t,n,r,o){const i={top:0,bottom:0,right:0,left:0};if("number"==typeof(o=e.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){const e=o.padding;o.padding={top:e,bottom:e,right:e,left:e}}o.padding=e.extend(i,o.padding);const a=this.transform,s=a.padding,l=a.project(e.LngLat.convert(t)),c=a.project(e.LngLat.convert(n)),u=l.rotate(-r*Math.PI/180),d=c.rotate(-r*Math.PI/180),f=new e.pointGeometry(Math.max(u.x,d.x),Math.max(u.y,d.y)),p=new e.pointGeometry(Math.min(u.x,d.x),Math.min(u.y,d.y)),h=f.sub(p),m=(a.width-(s.left+s.right+o.padding.left+o.padding.right))/h.x,g=(a.height-(s.top+s.bottom+o.padding.top+o.padding.bottom))/h.y;if(g<0||m<0)return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const v=Math.min(a.scaleZoom(a.scale*Math.min(m,g)),o.maxZoom),y=e.pointGeometry.convert(o.offset),b=new e.pointGeometry((o.padding.left-o.padding.right)/2,(o.padding.top-o.padding.bottom)/2).rotate(r*Math.PI/180),_=y.add(b).mult(a.scale/a.zoomScale(v));return{center:a.unproject(l.add(c).div(2).sub(_)),zoom:v,bearing:r}}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}fitScreenCoordinates(t,n,r,o,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(n)),r,o),o,i)}_fitInternal(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}jumpTo(t,n){this.stop();const r=this.transform;let o=!1,i=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(o=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(i=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),o&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),i&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const r=this.transform,o=this.getZoom(),i=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:o,c="bearing"in t?this._normalizeBearing(t.bearing,i):i,u="pitch"in t?+t.pitch:a,d="padding"in t?t.padding:r.padding,f=e.pointGeometry.convert(t.offset);let p=r.centerPoint.add(f);const h=r.pointLocation(p),m=e.LngLat.convert(t.center||h);this._normalizeCenter(m);const g=r.project(h),v=r.project(m).sub(g),y=r.zoomScale(l-o);let b,_;t.around&&(b=e.LngLat.convert(t.around),_=r.locationPoint(b));const w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==o,this._rotating=this._rotating||i!==c,this._pitching=this._pitching||u!==a,this._padding=!r.isPaddingEqual(d),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,w),this._ease((t=>{if(this._zooming&&(r.zoom=e.number(o,l,t)),this._rotating&&(r.bearing=e.number(i,c,t)),this._pitching&&(r.pitch=e.number(a,u,t)),this._padding&&(r.interpolatePadding(s,d,t),p=r.centerPoint.add(f)),b)r.setLocationAtPoint(b,_);else{const e=r.zoomScale(r.zoom-o),n=l>o?Math.min(2,y):Math.max(.5,y),i=Math.pow(n,1-t),a=r.unproject(g.add(v.mult(t*i)).mult(e));r.setLocationAtPoint(r.renderWorldCopies?a.wrap():a,p)}this._fireMoveEvents(n)}),(e=>{this._afterEase(n,e)}),t),this}_prepareEase(t,n,r={}){this._moving=!0,n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const r=this._zooming,o=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),o&&this.fire(new e.Event("rotateend",t)),i&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,n){if(!t.essential&&e.exported.prefersReducedMotion){const r=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const r=this.transform,o=this.getZoom(),i=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,r.minZoom,r.maxZoom):o,c="bearing"in t?this._normalizeBearing(t.bearing,i):i,u="pitch"in t?+t.pitch:a,d="padding"in t?t.padding:r.padding,f=r.zoomScale(l-o),p=e.pointGeometry.convert(t.offset);let h=r.centerPoint.add(p);const m=r.pointLocation(h),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const v=r.project(m),y=r.project(g).sub(v);let b=t.curve;const _=Math.max(r.width,r.height),w=_/f,x=y.mag();if("minZoom"in t){const n=e.clamp(Math.min(t.minZoom,o,l),r.minZoom,r.maxZoom),i=_/r.zoomScale(n-o);b=Math.sqrt(i/x*2)}const S=b*b;function E(e){const t=(w*w-_*_+(e?-1:1)*S*S*x*x)/(2*(e?w:_)*S*x);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function k(e){return(Math.exp(e)+Math.exp(-e))/2}const A=E(0);let T=function(e){return k(A)/k(A+b*e)},I=function(e){return _*((k(A)*(C(t=A+b*e)/k(t))-C(A))/S)/x;var t},P=(E(1)-A)/b;if(Math.abs(x)<1e-6||!isFinite(P)){if(Math.abs(_-w)<1e-6)return this.easeTo(t,n);const e=w<_?-1:1;P=Math.abs(Math.log(w/_))/b,I=function(){return 0},T=function(t){return Math.exp(e*b*t)}}return t.duration="duration"in t?+t.duration:1e3*P/("screenSpeed"in t?+t.screenSpeed/b:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=i!==c,this._pitching=u!==a,this._padding=!r.isPaddingEqual(d),this._prepareEase(n,!1),this._ease((t=>{const f=t*P,m=1/T(f);r.zoom=1===t?l:o+r.scaleZoom(m),this._rotating&&(r.bearing=e.number(i,c,t)),this._pitching&&(r.pitch=e.number(a,u,t)),this._padding&&(r.interpolatePadding(s,d,t),h=r.centerPoint.add(p));const b=1===t?g:r.unproject(v.add(y.mult(I(f))).mult(m));r.setLocationAtPoint(r.renderWorldCopies?b.wrap():b,h),this._fireMoveEvents(n)}),(()=>this._afterEase(n)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,n){t=e.wrap(t,-180,180);const r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}class Xr{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=i.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=i.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=i.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){i.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString(`AttributionControl.${t}`);e.title=n,e.setAttribute("aria-label",n)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style.sourceCaches;for(const n in t){const r=t[n];if(r.used){const t=r.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e=e.filter((e=>String(e).trim())),e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,n)=>{for(let r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class Qr{constructor(t={}){this.options=t,e.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=i.create("div","maplibregl-ctrl mapboxgl-ctrl");const t=i.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){i.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact","mapboxgl-compact"):t.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class eo{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const t of n)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const to={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},no={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},ro={showCompass:!0,showZoom:!0,visualizePitch:!1};class oo{constructor(t,n,r=!1){this._clickTolerance=10,this.element=n,this.mouseRotate=new Er({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,r&&(this.mousePitch=new Cr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),i.addEventListener(n,"mousedown",this.mousedown),i.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),i.addEventListener(n,"touchmove",this.touchmove),i.addEventListener(n,"touchend",this.touchend),i.addEventListener(n,"touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),i.disableDrag()}move(e,t){const n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){const r=this.mousePitch.mousemoveWindow(e,t);r&&r.pitchDelta&&n.setPitch(n.getPitch()+r.pitchDelta)}}off(){const e=this.element;i.removeEventListener(e,"mousedown",this.mousedown),i.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),i.removeEventListener(e,"touchmove",this.touchmove),i.removeEventListener(e,"touchend",this.touchend),i.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){i.enableDrag(),i.removeEventListener(window,"mousemove",this.mousemove),i.removeEventListener(window,"mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),i.mousePos(this.element,t)),i.addEventListener(window,"mousemove",this.mousemove),i.addEventListener(window,"mouseup",this.mouseup)}mousemove(e){this.move(e,i.mousePos(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=i.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=i.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function io(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){const o=new e.LngLat(t.lng-360,t.lat),i=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(o).distSqr(n)<a?t=o:r.locationPoint(i).distSqr(n)<a&&(t=i)}for(;Math.abs(t.lng-r.center.lng)>180;){const e=r.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=r.width&&e.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}const ao={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function so(e,t,n){const r=e.classList;for(const e in ao)r.remove(`maplibregl-${n}-anchor-${e}`,`mapboxgl-${n}-anchor-${e}`);r.add(`maplibregl-${n}-anchor-${t}`,`mapboxgl-${n}-anchor-${t}`)}class lo extends e.Evented{constructor(t,n){if(super(),(t instanceof HTMLElement||n)&&(t=e.extend({element:t},n)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=i.create("div"),this._element.setAttribute("aria-label","Map marker");const n=i.createNS("http://www.w3.org/2000/svg","svg"),r=41,o=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${r}px`),n.setAttributeNS(null,"width",`${o}px`),n.setAttributeNS(null,"viewBox",`0 0 ${o} ${r}`);const a=i.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");const s=i.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=i.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of c){const t=i.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t)}const u=i.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const d=i.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(d);const f=i.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"opacity","0.25"),f.setAttributeNS(null,"fill","#000000");const p=i.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),f.appendChild(p);const h=i.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"transform","translate(6.0, 7.0)"),h.setAttributeNS(null,"fill","#FFFFFF");const m=i.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=i.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const v=i.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#FFFFFF"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(v),s.appendChild(l),s.appendChild(u),s.appendChild(f),s.appendChild(h),s.appendChild(m),n.appendChild(s),n.setAttributeNS(null,"height",r*this._scale+"px"),n.setAttributeNS(null,"width",o*this._scale+"px"),this._element.appendChild(n),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()})),so(this._element,this._anchor,"marker"),this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),i.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}_update(e){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=io(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(t=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),i.setTransform(this._element,`${ao[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${n} ${t}`)}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const co={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let uo,fo=0,po=!1;const ho={maxWidth:100,unit:"metric"};function mo(e,t,n){const r=n&&n.maxWidth||100,o=e._container.clientHeight/2,i=e.unproject([0,o]),a=e.unproject([r,o]),s=i.distanceTo(a);if(n&&"imperial"===n.unit){const n=3.2808*s;n>5280?go(t,r,n/5280,e._getUIString("ScaleControl.Miles")):go(t,r,n,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?go(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?go(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):go(t,r,s,e._getUIString("ScaleControl.Meters"))}function go(e,t,n,r){const o=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(o/n)+"px",e.innerHTML=`${o}&nbsp;${r}`}const vo={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},yo=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function bo(t){if(t){if("number"==typeof t){const n=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new e.pointGeometry(0,0),top:new e.pointGeometry(0,t),"top-left":new e.pointGeometry(n,n),"top-right":new e.pointGeometry(-n,n),bottom:new e.pointGeometry(0,-t),"bottom-left":new e.pointGeometry(n,-n),"bottom-right":new e.pointGeometry(-n,-n),left:new e.pointGeometry(t,0),right:new e.pointGeometry(-t,0)}}if(t instanceof e.pointGeometry||Array.isArray(t)){const n=e.pointGeometry.convert(t);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:e.pointGeometry.convert(t.center||[0,0]),top:e.pointGeometry.convert(t.top||[0,0]),"top-left":e.pointGeometry.convert(t["top-left"]||[0,0]),"top-right":e.pointGeometry.convert(t["top-right"]||[0,0]),bottom:e.pointGeometry.convert(t.bottom||[0,0]),"bottom-left":e.pointGeometry.convert(t["bottom-left"]||[0,0]),"bottom-right":e.pointGeometry.convert(t["bottom-right"]||[0,0]),left:e.pointGeometry.convert(t.left||[0,0]),right:e.pointGeometry.convert(t.right||[0,0])}}return bo(new e.pointGeometry(0,0))}const _o={supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Jr{constructor(t){var n;if(e.PerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},no,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new tr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),{bearingSnap:t.bearingSnap}),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new eo,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},to,t.locale),this._clickTolerance=t.clickTolerance,this._pixelRatio=null!==(n=t.pixelRatio)&&void 0!==n?n:devicePixelRatio,this._requestManager=new a(t.transformRequest),"string"==typeof t.container){if(this._container=document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),"undefined"!=typeof window&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Zr(this,t),this._hash=t.hash&&new nr("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Xr({customAttribution:t.customAttribution})),t.maplibreLogo&&this.addControl(new Qr,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t))})),this.on("dataabort",(t=>{this.fire(new e.Event("sourcedataabort",t))}))}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const r=t.onAdd(this);this._controls.push(t);const o=this._controlPositions[n];return-1!==n.indexOf("bottom")?o.insertBefore(r,o.firstChild):o.appendChild(r),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}resize(t){const n=this._containerDimensions(),r=n[0],o=n[1];this._resizeCanvas(r,o,this.getPixelRatio()),this.transform.resize(r,o),this.painter.resize(r,o,this.getPixelRatio());const i=!this._moving;return i&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),i&&this.fire(new e.Event("moveend",t)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){const[t,n]=this._containerDimensions();this._pixelRatio=e,this._resizeCanvas(t,n,e),this.painter.resize(t,n,e)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(t){return this.transform.locationPoint(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let r=!1;const o=o=>{const i=this.getLayer(t)?this.queryRenderedFeatures(o.point,{layers:[t]}):[];i.length?r||(r=!0,n.call(this,new dr(e,this,o.originalEvent,{features:i}))):r=!1};return{layer:t,listener:n,delegates:{mousemove:o,mouseout:()=>{r=!1}}}}if("mouseleave"===e||"mouseout"===e){let r=!1;const o=o=>{(this.getLayer(t)?this.queryRenderedFeatures(o.point,{layers:[t]}):[]).length?r=!0:r&&(r=!1,n.call(this,new dr(e,this,o.originalEvent)))},i=t=>{r&&(r=!1,n.call(this,new dr(e,this,t.originalEvent)))};return{layer:t,listener:n,delegates:{mousemove:o,mouseout:i}}}{const r=e=>{const r=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layer:t,listener:n,delegates:{[e]:r}}}}on(e,t,n){if(void 0===n)return super.on(e,t);const r=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r);for(const e in r.delegates)this.on(e,r.delegates[e]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);const r=this._createDelegatedListener(e,t,n);for(const e in r.delegates)this.once(e,r.delegates[e]);return this}off(e,t,n){return void 0===n?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(r=>{const o=this._delegatedListeners[e];for(let e=0;e<o.length;e++){const r=o[e];if(r.layer===t&&r.listener===n){for(const e in r.delegates)this.off(e,r.delegates[e]);return o.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,n){if(!this.style)return[];let r;if(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.pointGeometry||"number"==typeof t[0])r=[e.pointGeometry.convert(t)];else{const n=e.pointGeometry.convert(t[0]),o=e.pointGeometry.convert(t[1]);r=[n,new e.pointGeometry(o.x,n.y),o,new e.pointGeometry(n.x,o.y),n]}return this.style.queryRenderedFeatures(r,n,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new nt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new nt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const r=this._requestManager.transformRequest(t,e.ResourceType.Style);e.getJSON(r,((t,r)=>{t?this.fire(new e.ErrorEvent(t)):r&&this._updateDiff(r,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce(`Unable to perform style diff: ${r.message||r.error||r}.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){const n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`)))}areTilesLoaded(){const e=this.style&&this.style.sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n,{pixelRatio:r=1,sdf:o=!1,stretchX:i,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),n instanceof HTMLImageElement||e.isImageBitmap(n)){const{width:l,height:c,data:u}=e.exported.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:r,stretchX:i,stretchY:a,content:s,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:l,height:c,data:u}=n,d=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u)),pixelRatio:r,stretchX:i,stretchY:a,content:s,sdf:o,version:0,userImage:d}),d.onAdd&&d.onAdd(this,t)}}}updateImage(t,n){const r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const o=n instanceof HTMLImageElement||e.isImageBitmap(n)?e.exported.getImageData(n):n,{width:i,height:a,data:s}=o;if(void 0===i||void 0===a)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(i!==r.data.width||a!==r.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const l=!(n instanceof HTMLImageElement||e.isImageBitmap(n));r.data.replace(s,l),this.style.updateImage(t,r)}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,r={}){return this.style.setPaintProperty(e,t,n,r),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,r={}){return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map","mapboxgl-map");const t=this._canvasContainer=i.create("div","maplibregl-canvas-container mapboxgl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=i.create("canvas","maplibregl-canvas mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const n=this._containerDimensions();this._resizeCanvas(n[0],n[1],this.getPixelRatio());const r=this._controlContainer=i.create("div","maplibregl-control-container mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{o[e]=i.create("div",`maplibregl-ctrl-${e} mapboxgl-ctrl-${e}`,r)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,t,n){this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`}_setupPainter(){const n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new Jn(r,this.transform),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(t){let n,r=0;const o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),r=e.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._removed)return;let i=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,n=e.exported.now();this.style.zoomHistory.update(t,n);const r=new e.EvaluationParameters(t,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=r.crossFadingFactor();1===o&&o===this._crossFadingFactor||(i=!0,this._crossFadingFactor=o),this.style.update(r)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.load),this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||i)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const t=e.exported.now()-r;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout((()=>{const r=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:r}))}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const n=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:n}))}),50)}const a=this._sourcesDirty||this._styleDirty||this._placementDirty;return a||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||a||(this._fullyLoaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),i.remove(this._canvasContainer),i.remove(this._controlContainer),this._container.classList.remove("maplibregl-map","mapboxgl-map"),e.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=e.exported.frame((t=>{e.PerformanceUtils.frame(t),this._frame=null,this._render(t)})))}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}_setCacheLimits(t,n){e.setCacheLimits(t,n)}},NavigationControl:class{constructor(t){this.options=e.extend({},ro,t),this._container=i.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),i.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),i.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})})),this._compassIcon=i.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}_rotateCompassArrow(){const e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=e}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new oo(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){i.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const n=i.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){const n=this._map._getUIString(`NavigationControl.${t}`);e.title=n,e.setAttribute("aria-label",n)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({},co,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(e){var t;return this._map=e,this._container=i.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),t=this._setupUI,void 0!==uo?t(uo):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((e=>{uo="denied"!==e.state,t(uo)})):(uo=!!window.navigator.geolocation,t(uo)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),i.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,fo=0,po=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,o=this._map.getBearing(),i=e.extend({bearing:o},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),i,{geolocateSource:!0})}_updateMarker(t){if(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),o=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=`${o}px`,this._circleElement.style.height=`${o}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&po)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=i.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),i.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=i.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new lo(this._dotElement),this._circleElement=i.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new lo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":fo--,po=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),fo++,fo>1?(e={maximumAge:6e5,timeout:0},po=!0):(e=this.options.positionOptions,po=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Xr,LogoControl:Qr,ScaleControl:class{constructor(t){this.options=e.extend({},ho,t),e.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){mo(this._map,this._container,this.options)}onAdd(e){return this._map=e,this._container=i.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){i.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(e){this.options.unit=e,mo(this._map,this._container,this.options)}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=i.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){i.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=i.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);i.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(vo),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&i.remove(this._content),this._container&&(i.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),n=document.createElement("body");let r;for(n.innerHTML=e;r=n.firstChild,r;)t.appendChild(r);return this.setDOMContent(t)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=i.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=i.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(e){this._update(e.point)}_onMouseMove(e){this._update(e.point)}_onDrag(e){this._update(e.point)}_update(e){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=i.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=i.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((e=>this._container.classList.add(e))),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=io(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!e)return;const t=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);let n=this.options.anchor;const r=bo(this.options.offset);if(!n){const e=this._container.offsetWidth,o=this._container.offsetHeight;let i;i=t.y+r.bottom.y<o?["top"]:t.y>this._map.transform.height-o?["bottom"]:[],t.x<e/2?i.push("left"):t.x>this._map.transform.width-e/2&&i.push("right"),n=0===i.length?"bottom":i.join("-")}const o=t.add(r[n]).round();i.setTransform(this._container,`${ao[n]} translate(${o.x}px,${o.y}px)`),so(this._container,n,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(yo);e&&e.focus()}_onClose(){this.remove()}},Marker:lo,Style:nt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,AJAXError:e.AJAXError,config:e.config,CanvasSource:L,GeoJSONSource:P,ImageSource:M,RasterDEMTileSource:I,RasterTileSource:A,VectorTileSource:k,VideoSource:N,prewarm:function(){Z().acquire(H)},clearPrewarmedResources:function(){const e=$;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(H),$=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get workerCount(){return W.workerCount},set workerCount(e){W.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",addProtocol(t,n){e.config.REGISTERED_PROTOCOLS[t]=n},removeProtocol(t){delete e.config.REGISTERED_PROTOCOLS[t]}};return Yr.extend(_o,{isSafari:e.isSafari,getPerformanceMetrics:e.PerformanceUtils.getPerformanceMetrics}),_o})),n}()},87462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},1449:(e,t,n)=>{"use strict";n.d(t,{DL:()=>c,Ht:()=>f,Tu:()=>l,lF:()=>u,vi:()=>d,xm:()=>a,yu:()=>s,zL:()=>i});var r=6371008.8,o={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:6967335.223679999};function i(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function a(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(e[0])||!p(e[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:e},t,n)}function s(e,t,n){void 0===n&&(n={});for(var r=0,o=e;r<o.length;r++){var a=o[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:e},t,n)}function l(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:e},t,n)}function c(e,t){void 0===t&&(t="kilometers");var n=o[t];if(!n)throw new Error(t+" units is invalid");return e*n}function u(e,t){void 0===t&&(t="kilometers");var n=o[t];if(!n)throw new Error(t+" units is invalid");return e/n}function d(e){return e%(2*Math.PI)*180/Math.PI}function f(e){return e%360*Math.PI/180}function p(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}},36987:(e,t,n)=>{"use strict";function r(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function o(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function i(e){return"Feature"===e.type?e.geometry:e}n.d(t,{c9:()=>r,r7:()=>o,wA:()=>i}),n(1449)},79800:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{_:()=>w});var o=n(99763);function i(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function a(e){return s(e.source,i(e.source,e.start))}function s(e,t){var n=e.locationOffset.column-1,r=c(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,u=t.column+s,d="".concat(e.name,":").concat(a,":").concat(u,"\n"),f=r.split(/\r\n|[\n\r]/g),p=f[o];if(p.length>120){for(var h=Math.floor(u/80),m=u%80,g=[],v=0;v<p.length;v+=80)g.push(p.slice(v,v+80));return d+l([["".concat(a),g[0]]].concat(g.slice(1,h+1).map((function(e){return["",e]})),[[" ",c(m-1)+"^"],["",g[h+1]]]))}return d+l([["".concat(a-1),f[o-1]],["".concat(a),p],["",c(u-1)+"^"],["".concat(a+1),f[o+1]]])}function l(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],o=e[1];return c(n-(t=r).length)+t+(o?" | "+o:" |")})).join("\n")}function c(e){return Array(e+1).join(" ")}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){var t="function"==typeof Map?new Map:void 0;return g=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return v(e,arguments,_(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)},g(e)}function v(e,t,n){return v=y()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&b(o,n.prototype),o},v.apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(g,e);var t,n,l,c,u=(t=g,n=y(),function(){var e,r=_(t);if(n){var o=_(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h(this,e)});function g(e,t,n,o,a,s,l){var c,p,v,y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(y=u.call(this,e)).name="GraphQLError",y.originalError=null!=s?s:void 0,y.nodes=x(Array.isArray(t)?t:t?[t]:void 0);for(var b=[],_=0,w=null!==(S=y.nodes)&&void 0!==S?S:[];_<w.length;_++){var S,E=w[_].loc;null!=E&&b.push(E)}b=x(b),y.source=null!=n?n:null===(c=b)||void 0===c?void 0:c[0].source,y.positions=null!=o?o:null===(p=b)||void 0===p?void 0:p.map((function(e){return e.start})),y.locations=o&&n?o.map((function(e){return i(n,e)})):null===(v=b)||void 0===v?void 0:v.map((function(e){return i(e.source,e.start)})),y.path=null!=a?a:void 0;var C,k=null==s?void 0:s.extensions;return null==l&&"object"==r(C=k)&&null!==C?y.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},k):y.extensions=null!=l?l:{},Object.defineProperties(m(y),{message:{enumerable:!0},locations:{enumerable:null!=y.locations},path:{enumerable:null!=y.path},extensions:{enumerable:null!=y.extensions&&Object.keys(y.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=s&&s.stack?(Object.defineProperty(m(y),"stack",{value:s.stack,writable:!0,configurable:!0}),h(y)):(Error.captureStackTrace?Error.captureStackTrace(m(y),g):Object.defineProperty(m(y),"stack",{value:Error().stack,writable:!0,configurable:!0}),y)}return l=g,(c=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var o=r[n];o.loc&&(t+="\n\n"+a(o.loc))}else if(e.source&&e.locations)for(var i=0,l=e.locations;i<l.length;i++){var c=l[i];t+="\n\n"+s(e.source,c)}return t}(this)}},{key:o.YF,get:function(){return"Object"}}])&&p(l.prototype,c),g}(g(Error));function x(e){return void 0===e||0===e.length?void 0:e}},99763:(e,t,n)=>{"use strict";n.d(t,{YF:()=>r}),"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var r="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag"}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,a.d(o,i),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".build.js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="sample-web:",a.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+o),s.src=e),n[e]=[t];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b=document.baseURI||self.location.href;var e={179:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunksample_web=self.webpackChunksample_web||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,a(53042)})();